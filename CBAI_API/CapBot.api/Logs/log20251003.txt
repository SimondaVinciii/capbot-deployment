2025-10-03 18:06:31.503 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-10-03 18:06:31.623 +07:00 [INF] User profile is available. Using 'C:\Users\acer\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-10-03 18:06:31.902 +07:00 [DBG] No relationship from 'ReviewerAssignment' to 'User' has been configured by convention because there are multiple properties on one entity type - {'AssignedByUser', 'Reviewer'} that could be matched with the properties on the other entity type - {'ReviewerAssignments'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-10-03 18:06:31.931 +07:00 [DBG] No relationship from 'SubmissionWorkflowLog' to 'WorkflowState' has been configured by convention because there are multiple properties on one entity type - {'FromState', 'ToState'} that could be matched with the properties on the other entity type - {'FromStateLogs', 'ToStateLogs'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-10-03 18:06:31.956 +07:00 [DBG] No relationship from 'User' to 'ReviewerAssignment' has been configured by convention because there are multiple properties on one entity type - {'ReviewerAssignments'} that could be matched with the properties on the other entity type - {'AssignedByUser', 'Reviewer'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-10-03 18:06:31.961 +07:00 [DBG] No relationship from 'WorkflowState' to 'SubmissionWorkflowLog' has been configured by convention because there are multiple properties on one entity type - {'FromStateLogs', 'ToStateLogs'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-10-03 18:06:31.962 +07:00 [DBG] No relationship from 'WorkflowState' to 'WorkflowTransition' has been configured by convention because there are multiple properties on one entity type - {'FromTransitions', 'ToTransitions'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-10-03 18:06:31.965 +07:00 [DBG] No relationship from 'WorkflowTransition' to 'WorkflowState' has been configured by convention because there are multiple properties on one entity type - {'FromState', 'ToState'} that could be matched with the properties on the other entity type - {'FromTransitions', 'ToTransitions'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-10-03 18:06:32.294 +07:00 [DBG] No relationship from 'ReviewerAssignment' to 'User' has been configured by convention because there are multiple properties on one entity type - {'AssignedByUser', 'Reviewer'} that could be matched with the properties on the other entity type - {'ReviewerAssignments'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-10-03 18:06:32.295 +07:00 [DBG] No relationship from 'User' to 'ReviewerAssignment' has been configured by convention because there are multiple properties on one entity type - {'ReviewerAssignments'} that could be matched with the properties on the other entity type - {'AssignedByUser', 'Reviewer'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-10-03 18:06:32.336 +07:00 [DBG] No relationship from 'WorkflowTransition' to 'WorkflowState' has been configured by convention because there are multiple properties on one entity type - {'FromState', 'ToState'} that could be matched with the properties on the other entity type - {'FromTransitions', 'ToTransitions'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-10-03 18:06:32.337 +07:00 [DBG] No relationship from 'WorkflowState' to 'SubmissionWorkflowLog' has been configured by convention because there are multiple properties on one entity type - {'FromStateLogs', 'ToStateLogs'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-10-03 18:06:32.337 +07:00 [DBG] No relationship from 'WorkflowState' to 'WorkflowTransition' has been configured by convention because there are multiple properties on one entity type - {'FromTransitions', 'ToTransitions'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-10-03 18:06:32.340 +07:00 [DBG] No relationship from 'WorkflowState' to 'SubmissionWorkflowLog' has been configured by convention because there are multiple properties on one entity type - {'FromStateLogs', 'ToStateLogs'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-10-03 18:06:32.350 +07:00 [DBG] No relationship from 'SubmissionWorkflowLog' to 'WorkflowState' has been configured by convention because there are multiple properties on one entity type - {'FromState', 'ToState'} that could be matched with the properties on the other entity type - {'FromStateLogs', 'ToStateLogs'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-10-03 18:06:32.351 +07:00 [DBG] No relationship from 'WorkflowState' to 'SubmissionWorkflowLog' has been configured by convention because there are multiple properties on one entity type - {'FromStateLogs', 'ToStateLogs'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-10-03 18:06:32.427 +07:00 [DBG] The index {'LecturerId'} was not created on entity type 'LecturerSkill' as the properties are already covered by the index {'LecturerId', 'SkillTag'}.
2025-10-03 18:06:32.428 +07:00 [DBG] The index {'SemesterId'} was not created on entity type 'Phase' as the properties are already covered by the index {'SemesterId', 'PhaseTypeId'}.
2025-10-03 18:06:32.428 +07:00 [DBG] The index {'AssignmentId'} was not created on entity type 'Review' as the properties are already covered by the index {'AssignmentId', 'Status'}.
2025-10-03 18:06:32.428 +07:00 [DBG] The index {'ReviewId'} was not created on entity type 'ReviewComment' as the properties are already covered by the index {'ReviewId', 'SectionName'}.
2025-10-03 18:06:32.429 +07:00 [DBG] The index {'ReviewId'} was not created on entity type 'ReviewCriteriaScore' as the properties are already covered by the index {'ReviewId', 'CriteriaId'}.
2025-10-03 18:06:32.429 +07:00 [DBG] The index {'ReviewerId'} was not created on entity type 'ReviewerAssignment' as the properties are already covered by the index {'ReviewerId', 'Status'}.
2025-10-03 18:06:32.429 +07:00 [DBG] The index {'SubmissionId'} was not created on entity type 'ReviewerAssignment' as the properties are already covered by the index {'SubmissionId', 'ReviewerId'}.
2025-10-03 18:06:32.429 +07:00 [DBG] The index {'ReviewerId'} was not created on entity type 'ReviewerPerformance' as the properties are already covered by the index {'ReviewerId', 'SemesterId'}.
2025-10-03 18:06:32.429 +07:00 [DBG] The index {'PhaseId'} was not created on entity type 'Submission' as the properties are already covered by the index {'PhaseId', 'Status'}.
2025-10-03 18:06:32.429 +07:00 [DBG] The index {'PhaseId'} was not created on entity type 'Submission' as the properties are already covered by the index {'PhaseId', 'Status', 'SubmittedAt'}.
2025-10-03 18:06:32.430 +07:00 [DBG] The index {'TopicId'} was not created on entity type 'Submission' as the properties are already covered by the index {'TopicId', 'PhaseId', 'SubmissionRound'}.
2025-10-03 18:06:32.430 +07:00 [DBG] The index {'SubmissionId'} was not created on entity type 'SubmissionWorkflowLog' as the properties are already covered by the index {'SubmissionId', 'CreatedAt'}.
2025-10-03 18:06:32.430 +07:00 [DBG] The index {'UserId'} was not created on entity type 'SystemNotification' as the properties are already covered by the index {'UserId', 'IsRead', 'CreatedAt'}.
2025-10-03 18:06:32.430 +07:00 [DBG] The index {'SemesterId'} was not created on entity type 'Topic' as the properties are already covered by the index {'SemesterId', 'IsApproved'}.
2025-10-03 18:06:32.430 +07:00 [DBG] The index {'SupervisorId'} was not created on entity type 'Topic' as the properties are already covered by the index {'SupervisorId', 'SemesterId'}.
2025-10-03 18:06:32.430 +07:00 [DBG] The index {'TopicId'} was not created on entity type 'TopicVersion' as the properties are already covered by the index {'TopicId', 'Status'}.
2025-10-03 18:06:32.431 +07:00 [DBG] The index {'TopicId'} was not created on entity type 'TopicVersion' as the properties are already covered by the index {'TopicId', 'VersionNumber'}.
2025-10-03 18:06:32.431 +07:00 [DBG] The index {'UserId'} was not created on entity type 'UserRole' as the properties are already covered by the index {'UserId', 'RoleId'}.
2025-10-03 18:06:32.431 +07:00 [DBG] The index {'UserId'} was not created on entity type 'UserToken' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2025-10-03 18:06:32.668 +07:00 [WRN] The 'ProficiencyLevels' property 'ProficiencyLevel' on entity type 'LecturerSkill' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'ProficiencyLevels' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-10-03 18:06:32.669 +07:00 [WRN] The 'ReviewRecommendations' property 'Recommendation' on entity type 'Review' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'ReviewRecommendations' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-10-03 18:06:32.669 +07:00 [WRN] The 'ReviewStatus' property 'Status' on entity type 'Review' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'ReviewStatus' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-10-03 18:06:32.670 +07:00 [WRN] The 'CommentTypes' property 'CommentType' on entity type 'ReviewComment' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'CommentTypes' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-10-03 18:06:32.670 +07:00 [WRN] The 'PriorityLevels' property 'Priority' on entity type 'ReviewComment' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'PriorityLevels' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-10-03 18:06:32.670 +07:00 [WRN] The 'AssignmentTypes' property 'AssignmentType' on entity type 'ReviewerAssignment' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'AssignmentTypes' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-10-03 18:06:32.671 +07:00 [WRN] The 'AssignmentStatus' property 'Status' on entity type 'ReviewerAssignment' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'AssignmentStatus' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-10-03 18:06:32.671 +07:00 [WRN] The 'AiCheckStatus' property 'AiCheckStatus' on entity type 'Submission' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'AiCheckStatus' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-10-03 18:06:32.671 +07:00 [WRN] The 'SubmissionStatus' property 'Status' on entity type 'Submission' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'SubmissionStatus' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-10-03 18:06:32.672 +07:00 [WRN] The 'NotificationTypes' property 'Type' on entity type 'SystemNotification' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'NotificationTypes' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-10-03 18:06:32.672 +07:00 [WRN] The 'TopicStatus' property 'Status' on entity type 'TopicVersion' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'TopicStatus' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-10-03 18:06:33.066 +07:00 [DBG] Entity Framework Core 8.0.16 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: MigrationsAssembly=App.DAL 
2025-10-03 18:06:33.249 +07:00 [DBG] Compiling query expression: 
'DbSet<Role>()
    .FirstOrDefault(r => r.NormalizedName == __normalizedName_0)'
2025-10-03 18:06:33.519 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Role>(
    asyncEnumerable: new SingleQueryingEnumerable<Role>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Role.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Role.ConcurrencyStamp (string), 1], [Property: Role.IsAdmin (bool) Required, 2], [Property: Role.Name (string), 3], [Property: Role.NormalizedName (string), 4] }
            SELECT TOP(1) r.Id, r.ConcurrencyStamp, r.IsAdmin, r.Name, r.NormalizedName
            FROM roles AS r
            WHERE r.NormalizedName == @__normalizedName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Role>, 
        App.DAL.Context.MyDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-10-03 18:06:33.566 +07:00 [DBG] Creating DbConnection.
2025-10-03 18:06:33.602 +07:00 [DBG] Created DbConnection. (33ms).
2025-10-03 18:06:33.612 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:06:33.833 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:06:33.837 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 18:06:33.845 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2025-10-03 18:06:33.856 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (18ms).
2025-10-03 18:06:33.867 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-10-03 18:06:33.945 +07:00 [INF] Executed DbCommand (78ms) [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-10-03 18:06:34.003 +07:00 [DBG] Context 'MyDbContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 18:06:34.032 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 18:06:34.039 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 89ms reading results.
2025-10-03 18:06:34.042 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:06:34.048 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (5ms).
2025-10-03 18:06:34.052 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:06:34.053 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:06:34.053 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 18:06:34.053 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:06:34.054 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:06:34.054 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-10-03 18:06:34.063 +07:00 [INF] Executed DbCommand (9ms) [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-10-03 18:06:34.063 +07:00 [DBG] Context 'MyDbContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 18:06:34.064 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 18:06:34.064 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 1ms reading results.
2025-10-03 18:06:34.065 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:06:34.065 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 18:06:34.065 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:06:34.066 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:06:34.066 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 18:06:34.066 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:06:34.066 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:06:34.066 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-10-03 18:06:34.067 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-10-03 18:06:34.067 +07:00 [DBG] Context 'MyDbContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 18:06:34.068 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 18:06:34.068 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-10-03 18:06:34.068 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:06:34.068 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 18:06:34.069 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:06:34.069 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:06:34.069 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 18:06:34.069 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:06:34.070 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:06:34.070 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-10-03 18:06:34.071 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-10-03 18:06:34.072 +07:00 [DBG] Context 'MyDbContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 18:06:34.072 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 18:06:34.072 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-10-03 18:06:34.073 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:06:34.073 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 18:06:34.084 +07:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .SingleOrDefault(u => u.NormalizedEmail == __normalizedEmail_0)'
2025-10-03 18:06:34.100 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.ConcurrencyStamp (string), 2], [Property: User.CreatedAt (DateTime) Required, 3], [Property: User.DeletedAt (DateTime?), 4], [Property: User.Email (string), 5], [Property: User.EmailConfirmed (bool) Required, 6], [Property: User.LastModifiedAt (DateTime) Required, 7], [Property: User.LastModifiedBy (string), 8], [Property: User.LockoutEnabled (bool) Required, 9], [Property: User.LockoutEnd (DateTimeOffset?), 10], [Property: User.NormalizedEmail (string), 11], [Property: User.NormalizedUserName (string), 12], [Property: User.PasswordHash (string), 13], [Property: User.PhoneNumber (string), 14], [Property: User.PhoneNumberConfirmed (bool) Required, 15], [Property: User.SecurityStamp (string), 16], [Property: User.TwoFactorEnabled (bool) Required, 17], [Property: User.UserName (string), 18] }
            SELECT TOP(2) u.Id, u.AccessFailedCount, u.ConcurrencyStamp, u.CreatedAt, u.DeletedAt, u.Email, u.EmailConfirmed, u.LastModifiedAt, u.LastModifiedBy, u.LockoutEnabled, u.LockoutEnd, u.NormalizedEmail, u.NormalizedUserName, u.PasswordHash, u.PhoneNumber, u.PhoneNumberConfirmed, u.SecurityStamp, u.TwoFactorEnabled, u.UserName
            FROM users AS u
            WHERE u.NormalizedEmail == @__normalizedEmail_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        App.DAL.Context.MyDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-10-03 18:06:34.102 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:06:34.102 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:06:34.102 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 18:06:34.102 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:06:34.103 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:06:34.103 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-10-03 18:06:34.111 +07:00 [INF] Executed DbCommand (9ms) [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-10-03 18:06:34.153 +07:00 [DBG] Context 'MyDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 18:06:34.204 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 18:06:34.204 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 92ms reading results.
2025-10-03 18:06:34.204 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:06:34.204 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 18:06:34.208 +07:00 [INF] Admin user 'admin.capbot@gmail.com' already exists
2025-10-03 18:06:34.212 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:06:34.213 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:06:34.213 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 18:06:34.213 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:06:34.213 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:06:34.214 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-10-03 18:06:34.219 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-10-03 18:06:34.219 +07:00 [DBG] Context 'MyDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 18:06:34.220 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 18:06:34.220 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-10-03 18:06:34.220 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:06:34.221 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 18:06:34.221 +07:00 [INF] Sample moderator 'moderator@example.com' already exists
2025-10-03 18:06:34.222 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:06:34.222 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:06:34.223 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 18:06:34.223 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:06:34.223 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:06:34.224 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-10-03 18:06:34.232 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-10-03 18:06:34.232 +07:00 [DBG] Context 'MyDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 18:06:34.233 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 18:06:34.234 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 1ms reading results.
2025-10-03 18:06:34.234 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:06:34.234 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 18:06:34.235 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:06:34.235 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:06:34.236 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 18:06:34.236 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:06:34.236 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:06:34.236 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-10-03 18:06:34.238 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-10-03 18:06:34.238 +07:00 [DBG] Context 'MyDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 18:06:34.239 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 18:06:34.239 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-10-03 18:06:34.240 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:06:34.240 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 18:06:34.240 +07:00 [INF] Data seeding completed successfully
2025-10-03 18:06:34.243 +07:00 [DBG] 'MyDbContext' disposed.
2025-10-03 18:06:34.245 +07:00 [DBG] Disposing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:06:34.247 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-10-03 18:06:34.283 +07:00 [DBG] Registered SignalR Protocol: json, implemented by Microsoft.AspNetCore.SignalR.Protocol.JsonHubProtocol.
2025-10-03 18:06:34.591 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
2025-10-03 18:06:34.777 +07:00 [DBG] Hosting starting
2025-10-03 18:06:34.793 +07:00 [DBG] Reading data from file 'C:\Users\acer\AppData\Local\ASP.NET\DataProtection-Keys\key-30a711c8-7ddc-4a0d-8c07-4439effde9db.xml'.
2025-10-03 18:06:34.796 +07:00 [DBG] Reading data from file 'C:\Users\acer\AppData\Local\ASP.NET\DataProtection-Keys\key-732ee668-a56c-4fc9-b9d2-4188dc372919.xml'.
2025-10-03 18:06:34.798 +07:00 [DBG] Reading data from file 'C:\Users\acer\AppData\Local\ASP.NET\DataProtection-Keys\key-ad0e504d-5eaf-4fbc-adde-d8f26319af02.xml'.
2025-10-03 18:06:34.810 +07:00 [DBG] Found key {30a711c8-7ddc-4a0d-8c07-4439effde9db}.
2025-10-03 18:06:34.816 +07:00 [DBG] Found key {732ee668-a56c-4fc9-b9d2-4188dc372919}.
2025-10-03 18:06:34.816 +07:00 [DBG] Found key {ad0e504d-5eaf-4fbc-adde-d8f26319af02}.
2025-10-03 18:06:34.822 +07:00 [DBG] Considering key {30a711c8-7ddc-4a0d-8c07-4439effde9db} with expiration date 2025-11-11 18:32:26Z as default key.
2025-10-03 18:06:34.826 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-10-03 18:06:34.827 +07:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-10-03 18:06:34.830 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-10-03 18:06:34.831 +07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-10-03 18:06:34.835 +07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-10-03 18:06:34.837 +07:00 [DBG] Using key {30a711c8-7ddc-4a0d-8c07-4439effde9db} as the default key.
2025-10-03 18:06:34.838 +07:00 [DBG] Key ring with default key {30a711c8-7ddc-4a0d-8c07-4439effde9db} was loaded during application startup.
2025-10-03 18:06:34.840 +07:00 [INF] Bắt đầu kiểm tra deadline notifications lúc "2025-10-03T18:06:34.8405947+07:00"
2025-10-03 18:06:34.918 +07:00 [DBG] Entity Framework Core 8.0.16 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: MigrationsAssembly=App.DAL 
2025-10-03 18:06:34.931 +07:00 [DBG] Compiling query expression: 
'DbSet<ReviewerAssignment>()
    .AsNoTracking()
    .Include(ra => ra.Reviewer)
    .Include(ra => ra.Submission)
    .Include(ra => ra.Submission.TopicVersion)
    .Include(ra => ra.Submission.Topic)
    .Where(ra => ra.Deadline.HasValue && ra.Deadline.Value.Date >= __tomorrow_0 && ra.Deadline.Value.Date <= __dayAfterTomorrow_1 && (int)ra.Status == 1 || (int)ra.Status == 2)'
2025-10-03 18:06:34.947 +07:00 [DBG] Including navigation: 'ReviewerAssignment.Reviewer'.
2025-10-03 18:06:34.948 +07:00 [DBG] Including navigation: 'ReviewerAssignment.Submission'.
2025-10-03 18:06:34.950 +07:00 [DBG] Including navigation: 'Submission.TopicVersion'.
2025-10-03 18:06:34.951 +07:00 [DBG] Including navigation: 'Submission.Topic'.
2025-10-03 18:06:35.043 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<ReviewerAssignment>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: ReviewerAssignment.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ReviewerAssignment.AssignedAt (DateTime) Required ValueGenerated.OnAdd, 1], [Property: ReviewerAssignment.AssignedBy (int) Required FK Index, 2], [Property: ReviewerAssignment.AssignmentType (AssignmentTypes) Required ValueGenerated.OnAdd, 3], [Property: ReviewerAssignment.CompletedAt (DateTime?), 4], [Property: ReviewerAssignment.Deadline (DateTime?) Index, 5], [Property: ReviewerAssignment.ReviewerId (int) Required FK Index, 6], [Property: ReviewerAssignment.SkillMatchScore (decimal?), 7], [Property: ReviewerAssignment.StartedAt (DateTime?), 8], [Property: ReviewerAssignment.Status (AssignmentStatus) Required Index ValueGenerated.OnAdd, 9], [Property: ReviewerAssignment.SubmissionId (int) Required FK Index, 10] }
            1 -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 11], [Property: User.AccessFailedCount (int) Required, 12], [Property: User.ConcurrencyStamp (string), 13], [Property: User.CreatedAt (DateTime) Required, 14], [Property: User.DeletedAt (DateTime?), 15], [Property: User.Email (string), 16], [Property: User.EmailConfirmed (bool) Required, 17], [Property: User.LastModifiedAt (DateTime) Required, 18], [Property: User.LastModifiedBy (string), 19], [Property: User.LockoutEnabled (bool) Required, 20], [Property: User.LockoutEnd (DateTimeOffset?), 21], [Property: User.NormalizedEmail (string), 22], [Property: User.NormalizedUserName (string), 23], [Property: User.PasswordHash (string), 24], [Property: User.PhoneNumber (string), 25], [Property: User.PhoneNumberConfirmed (bool) Required, 26], [Property: User.SecurityStamp (string), 27], [Property: User.TwoFactorEnabled (bool) Required, 28], [Property: User.UserName (string), 29] }
            2 -> Dictionary<IProperty, int> { [Property: Submission.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 30], [Property: Submission.AdditionalNotes (string), 31], [Property: Submission.AiCheckDetails (string), 32], [Property: Submission.AiCheckScore (decimal?), 33], [Property: Submission.AiCheckStatus (AiCheckStatus) Required ValueGenerated.OnAdd, 34], [Property: Submission.CreatedAt (DateTime) Required, 35], [Property: Submission.CreatedBy (string), 36], [Property: Submission.DeletedAt (DateTime?), 37], [Property: Submission.DocumentUrl (string) MaxLength(500), 38], [Property: Submission.IsActive (bool) Required, 39], [Property: Submission.LastModifiedAt (DateTime?), 40], [Property: Submission.LastModifiedBy (string), 41], [Property: Submission.PhaseId (int) Required FK Index, 42], [Property: Submission.Status (SubmissionStatus) Required Index ValueGenerated.OnAdd, 43], [Property: Submission.SubmissionRound (int) Required Index ValueGenerated.OnAdd, 44], [Property: Submission.SubmittedAt (DateTime?) Index ValueGenerated.OnAdd, 45], [Property: Submission.SubmittedBy (int) Required FK Index, 46], [Property: Submission.TopicId (int) Required FK Index, 47], [Property: Submission.TopicVersionId (int?) FK Index, 48] }
            3 -> Dictionary<IProperty, int> { [Property: TopicVersion.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 49], [Property: TopicVersion.Content (string), 50], [Property: TopicVersion.Context (string), 51], [Property: TopicVersion.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 52], [Property: TopicVersion.CreatedBy (string), 53], [Property: TopicVersion.DeletedAt (DateTime?), 54], [Property: TopicVersion.Description (string), 55], [Property: TopicVersion.DocumentUrl (string) MaxLength(500), 56], [Property: TopicVersion.EN_Title (string) Required MaxLength(500), 57], [Property: TopicVersion.ExpectedOutcomes (string), 58], [Property: TopicVersion.IsActive (bool) Required, 59], [Property: TopicVersion.LastModifiedAt (DateTime?), 60], [Property: TopicVersion.LastModifiedBy (string), 61], [Property: TopicVersion.Methodology (string), 62], [Property: TopicVersion.Objectives (string), 63], [Property: TopicVersion.PotentialDuplicate (string), 64], [Property: TopicVersion.Problem (string), 65], [Property: TopicVersion.Requirements (string), 66], [Property: TopicVersion.Status (TopicStatus) Required Index ValueGenerated.OnAdd, 67], [Property: TopicVersion.SubmittedAt (DateTime?), 68], [Property: TopicVersion.SubmittedBy (int?) FK Index, 69], [Property: TopicVersion.TopicId (int) Required FK Index, 70], [Property: TopicVersion.VN_title (string), 71], [Property: TopicVersion.VersionNumber (int) Required Index, 72] }
            4 -> Dictionary<IProperty, int> { [Property: Topic.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 73], [Property: Topic.Abbreviation (string), 74], [Property: Topic.CategoryId (int?) FK Index, 75], [Property: Topic.Content (string), 76], [Property: Topic.Context (string), 77], [Property: Topic.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 78], [Property: Topic.CreatedBy (string), 79], [Property: Topic.DeletedAt (DateTime?), 80], [Property: Topic.Description (string), 81], [Property: Topic.EN_Title (string) Required MaxLength(500), 82], [Property: Topic.IsActive (bool) Required, 83], [Property: Topic.IsApproved (bool) Required Index Sentinel:True ValueGenerated.OnAdd, 84], [Property: Topic.IsLegacy (bool) Required Index ValueGenerated.OnAdd, 85], [Property: Topic.LastModifiedAt (DateTime?), 86], [Property: Topic.LastModifiedBy (string), 87], [Property: Topic.MaxStudents (int) Required ValueGenerated.OnAdd, 88], [Property: Topic.Objectives (string), 89], [Property: Topic.PotentialDuplicate (string), 90], [Property: Topic.Problem (string), 91], [Property: Topic.SemesterId (int) Required FK Index, 92], [Property: Topic.SupervisorId (int) Required FK Index, 93], [Property: Topic.VN_title (string), 94] }
        SELECT r.Id, r.AssignedAt, r.AssignedBy, r.AssignmentType, r.CompletedAt, r.Deadline, r.ReviewerId, r.SkillMatchScore, r.StartedAt, r.Status, r.SubmissionId, u.Id, u.AccessFailedCount, u.ConcurrencyStamp, u.CreatedAt, u.DeletedAt, u.Email, u.EmailConfirmed, u.LastModifiedAt, u.LastModifiedBy, u.LockoutEnabled, u.LockoutEnd, u.NormalizedEmail, u.NormalizedUserName, u.PasswordHash, u.PhoneNumber, u.PhoneNumberConfirmed, u.SecurityStamp, u.TwoFactorEnabled, u.UserName, s.Id, s.AdditionalNotes, s.AiCheckDetails, s.AiCheckScore, s.AiCheckStatus, s.CreatedAt, s.CreatedBy, s.DeletedAt, s.DocumentUrl, s.IsActive, s.LastModifiedAt, s.LastModifiedBy, s.PhaseId, s.Status, s.SubmissionRound, s.SubmittedAt, s.SubmittedBy, s.TopicId, s.TopicVersionId, t.Id, t.Content, t.Context, t.CreatedAt, t.CreatedBy, t.DeletedAt, t.Description, t.DocumentUrl, t.EN_Title, t.ExpectedOutcomes, t.IsActive, t.LastModifiedAt, t.LastModifiedBy, t.Methodology, t.Objectives, t.PotentialDuplicate, t.Problem, t.Requirements, t.Status, t.SubmittedAt, t.SubmittedBy, t.TopicId, t.VN_title, t.VersionNumber, t0.Id, t0.Abbreviation, t0.CategoryId, t0.Content, t0.Context, t0.CreatedAt, t0.CreatedBy, t0.DeletedAt, t0.Description, t0.EN_Title, t0.IsActive, t0.IsApproved, t0.IsLegacy, t0.LastModifiedAt, t0.LastModifiedBy, t0.MaxStudents, t0.Objectives, t0.PotentialDuplicate, t0.Problem, t0.SemesterId, t0.SupervisorId, t0.VN_title
        FROM reviewer_assignments AS r
        INNER JOIN users AS u ON r.ReviewerId == u.Id
        INNER JOIN submissions AS s ON r.SubmissionId == s.Id
        LEFT JOIN topic_versions AS t ON s.TopicVersionId == t.Id
        LEFT JOIN topics AS t0 ON s.TopicId == t0.Id
        WHERE ((r.Deadline IS NOT NULL && (CONVERT(date, r.Deadline) >= @__tomorrow_0)) && (CONVERT(date, r.Deadline) <= @__dayAfterTomorrow_1)) && r.Status IN (1, 2)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ReviewerAssignment>, 
    App.DAL.Context.MyDbContext, 
    False, 
    False, 
    True
)'
2025-10-03 18:06:35.063 +07:00 [DBG] Creating DbConnection.
2025-10-03 18:06:35.063 +07:00 [DBG] Created DbConnection. (0ms).
2025-10-03 18:06:35.063 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:06:35.063 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:06:35.064 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 18:06:35.064 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:06:35.064 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:06:35.065 +07:00 [DBG] Executing DbCommand [Parameters=[@__tomorrow_0='?' (DbType = DateTime2), @__dayAfterTomorrow_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[DocumentUrl], [t].[EN_Title], [t].[ExpectedOutcomes], [t].[IsActive], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[Methodology], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[Requirements], [t].[Status], [t].[SubmittedAt], [t].[SubmittedBy], [t].[TopicId], [t].[VN_title], [t].[VersionNumber], [t0].[Id], [t0].[Abbreviation], [t0].[CategoryId], [t0].[Content], [t0].[Context], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[EN_Title], [t0].[IsActive], [t0].[IsApproved], [t0].[IsLegacy], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[MaxStudents], [t0].[Objectives], [t0].[PotentialDuplicate], [t0].[Problem], [t0].[SemesterId], [t0].[SupervisorId], [t0].[VN_title]
FROM [reviewer_assignments] AS [r]
INNER JOIN [users] AS [u] ON [r].[ReviewerId] = [u].[Id]
INNER JOIN [submissions] AS [s] ON [r].[SubmissionId] = [s].[Id]
LEFT JOIN [topic_versions] AS [t] ON [s].[TopicVersionId] = [t].[Id]
LEFT JOIN [topics] AS [t0] ON [s].[TopicId] = [t0].[Id]
WHERE [r].[Deadline] IS NOT NULL AND CONVERT(date, [r].[Deadline]) >= @__tomorrow_0 AND CONVERT(date, [r].[Deadline]) <= @__dayAfterTomorrow_1 AND [r].[Status] IN (1, 2)
2025-10-03 18:06:35.104 +07:00 [INF] Executed DbCommand (40ms) [Parameters=[@__tomorrow_0='?' (DbType = DateTime2), @__dayAfterTomorrow_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[DocumentUrl], [t].[EN_Title], [t].[ExpectedOutcomes], [t].[IsActive], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[Methodology], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[Requirements], [t].[Status], [t].[SubmittedAt], [t].[SubmittedBy], [t].[TopicId], [t].[VN_title], [t].[VersionNumber], [t0].[Id], [t0].[Abbreviation], [t0].[CategoryId], [t0].[Content], [t0].[Context], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[EN_Title], [t0].[IsActive], [t0].[IsApproved], [t0].[IsLegacy], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[MaxStudents], [t0].[Objectives], [t0].[PotentialDuplicate], [t0].[Problem], [t0].[SemesterId], [t0].[SupervisorId], [t0].[VN_title]
FROM [reviewer_assignments] AS [r]
INNER JOIN [users] AS [u] ON [r].[ReviewerId] = [u].[Id]
INNER JOIN [submissions] AS [s] ON [r].[SubmissionId] = [s].[Id]
LEFT JOIN [topic_versions] AS [t] ON [s].[TopicVersionId] = [t].[Id]
LEFT JOIN [topics] AS [t0] ON [s].[TopicId] = [t0].[Id]
WHERE [r].[Deadline] IS NOT NULL AND CONVERT(date, [r].[Deadline]) >= @__tomorrow_0 AND CONVERT(date, [r].[Deadline]) <= @__dayAfterTomorrow_1 AND [r].[Status] IN (1, 2)
2025-10-03 18:06:35.115 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 18:06:35.115 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 10ms reading results.
2025-10-03 18:06:35.115 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:06:35.115 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 18:06:35.117 +07:00 [DBG] Compiling query expression: 
'DbSet<ReviewerAssignment>()
    .AsNoTracking()
    .Include(ra => ra.Reviewer)
    .Include(ra => ra.Submission)
    .Include(ra => ra.Submission.TopicVersion)
    .Include(ra => ra.Submission.Topic)
    .Where(ra => ra.Deadline.HasValue && ra.Deadline.Value.Date < DateTime.Today && (int)ra.Status == 1 || (int)ra.Status == 2)'
2025-10-03 18:06:35.118 +07:00 [DBG] Including navigation: 'ReviewerAssignment.Reviewer'.
2025-10-03 18:06:35.119 +07:00 [DBG] Including navigation: 'ReviewerAssignment.Submission'.
2025-10-03 18:06:35.119 +07:00 [DBG] Including navigation: 'Submission.TopicVersion'.
2025-10-03 18:06:35.120 +07:00 [DBG] Including navigation: 'Submission.Topic'.
2025-10-03 18:06:35.151 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<ReviewerAssignment>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: ReviewerAssignment.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ReviewerAssignment.AssignedAt (DateTime) Required ValueGenerated.OnAdd, 1], [Property: ReviewerAssignment.AssignedBy (int) Required FK Index, 2], [Property: ReviewerAssignment.AssignmentType (AssignmentTypes) Required ValueGenerated.OnAdd, 3], [Property: ReviewerAssignment.CompletedAt (DateTime?), 4], [Property: ReviewerAssignment.Deadline (DateTime?) Index, 5], [Property: ReviewerAssignment.ReviewerId (int) Required FK Index, 6], [Property: ReviewerAssignment.SkillMatchScore (decimal?), 7], [Property: ReviewerAssignment.StartedAt (DateTime?), 8], [Property: ReviewerAssignment.Status (AssignmentStatus) Required Index ValueGenerated.OnAdd, 9], [Property: ReviewerAssignment.SubmissionId (int) Required FK Index, 10] }
            1 -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 11], [Property: User.AccessFailedCount (int) Required, 12], [Property: User.ConcurrencyStamp (string), 13], [Property: User.CreatedAt (DateTime) Required, 14], [Property: User.DeletedAt (DateTime?), 15], [Property: User.Email (string), 16], [Property: User.EmailConfirmed (bool) Required, 17], [Property: User.LastModifiedAt (DateTime) Required, 18], [Property: User.LastModifiedBy (string), 19], [Property: User.LockoutEnabled (bool) Required, 20], [Property: User.LockoutEnd (DateTimeOffset?), 21], [Property: User.NormalizedEmail (string), 22], [Property: User.NormalizedUserName (string), 23], [Property: User.PasswordHash (string), 24], [Property: User.PhoneNumber (string), 25], [Property: User.PhoneNumberConfirmed (bool) Required, 26], [Property: User.SecurityStamp (string), 27], [Property: User.TwoFactorEnabled (bool) Required, 28], [Property: User.UserName (string), 29] }
            2 -> Dictionary<IProperty, int> { [Property: Submission.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 30], [Property: Submission.AdditionalNotes (string), 31], [Property: Submission.AiCheckDetails (string), 32], [Property: Submission.AiCheckScore (decimal?), 33], [Property: Submission.AiCheckStatus (AiCheckStatus) Required ValueGenerated.OnAdd, 34], [Property: Submission.CreatedAt (DateTime) Required, 35], [Property: Submission.CreatedBy (string), 36], [Property: Submission.DeletedAt (DateTime?), 37], [Property: Submission.DocumentUrl (string) MaxLength(500), 38], [Property: Submission.IsActive (bool) Required, 39], [Property: Submission.LastModifiedAt (DateTime?), 40], [Property: Submission.LastModifiedBy (string), 41], [Property: Submission.PhaseId (int) Required FK Index, 42], [Property: Submission.Status (SubmissionStatus) Required Index ValueGenerated.OnAdd, 43], [Property: Submission.SubmissionRound (int) Required Index ValueGenerated.OnAdd, 44], [Property: Submission.SubmittedAt (DateTime?) Index ValueGenerated.OnAdd, 45], [Property: Submission.SubmittedBy (int) Required FK Index, 46], [Property: Submission.TopicId (int) Required FK Index, 47], [Property: Submission.TopicVersionId (int?) FK Index, 48] }
            3 -> Dictionary<IProperty, int> { [Property: TopicVersion.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 49], [Property: TopicVersion.Content (string), 50], [Property: TopicVersion.Context (string), 51], [Property: TopicVersion.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 52], [Property: TopicVersion.CreatedBy (string), 53], [Property: TopicVersion.DeletedAt (DateTime?), 54], [Property: TopicVersion.Description (string), 55], [Property: TopicVersion.DocumentUrl (string) MaxLength(500), 56], [Property: TopicVersion.EN_Title (string) Required MaxLength(500), 57], [Property: TopicVersion.ExpectedOutcomes (string), 58], [Property: TopicVersion.IsActive (bool) Required, 59], [Property: TopicVersion.LastModifiedAt (DateTime?), 60], [Property: TopicVersion.LastModifiedBy (string), 61], [Property: TopicVersion.Methodology (string), 62], [Property: TopicVersion.Objectives (string), 63], [Property: TopicVersion.PotentialDuplicate (string), 64], [Property: TopicVersion.Problem (string), 65], [Property: TopicVersion.Requirements (string), 66], [Property: TopicVersion.Status (TopicStatus) Required Index ValueGenerated.OnAdd, 67], [Property: TopicVersion.SubmittedAt (DateTime?), 68], [Property: TopicVersion.SubmittedBy (int?) FK Index, 69], [Property: TopicVersion.TopicId (int) Required FK Index, 70], [Property: TopicVersion.VN_title (string), 71], [Property: TopicVersion.VersionNumber (int) Required Index, 72] }
            4 -> Dictionary<IProperty, int> { [Property: Topic.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 73], [Property: Topic.Abbreviation (string), 74], [Property: Topic.CategoryId (int?) FK Index, 75], [Property: Topic.Content (string), 76], [Property: Topic.Context (string), 77], [Property: Topic.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 78], [Property: Topic.CreatedBy (string), 79], [Property: Topic.DeletedAt (DateTime?), 80], [Property: Topic.Description (string), 81], [Property: Topic.EN_Title (string) Required MaxLength(500), 82], [Property: Topic.IsActive (bool) Required, 83], [Property: Topic.IsApproved (bool) Required Index Sentinel:True ValueGenerated.OnAdd, 84], [Property: Topic.IsLegacy (bool) Required Index ValueGenerated.OnAdd, 85], [Property: Topic.LastModifiedAt (DateTime?), 86], [Property: Topic.LastModifiedBy (string), 87], [Property: Topic.MaxStudents (int) Required ValueGenerated.OnAdd, 88], [Property: Topic.Objectives (string), 89], [Property: Topic.PotentialDuplicate (string), 90], [Property: Topic.Problem (string), 91], [Property: Topic.SemesterId (int) Required FK Index, 92], [Property: Topic.SupervisorId (int) Required FK Index, 93], [Property: Topic.VN_title (string), 94] }
        SELECT r.Id, r.AssignedAt, r.AssignedBy, r.AssignmentType, r.CompletedAt, r.Deadline, r.ReviewerId, r.SkillMatchScore, r.StartedAt, r.Status, r.SubmissionId, u.Id, u.AccessFailedCount, u.ConcurrencyStamp, u.CreatedAt, u.DeletedAt, u.Email, u.EmailConfirmed, u.LastModifiedAt, u.LastModifiedBy, u.LockoutEnabled, u.LockoutEnd, u.NormalizedEmail, u.NormalizedUserName, u.PasswordHash, u.PhoneNumber, u.PhoneNumberConfirmed, u.SecurityStamp, u.TwoFactorEnabled, u.UserName, s.Id, s.AdditionalNotes, s.AiCheckDetails, s.AiCheckScore, s.AiCheckStatus, s.CreatedAt, s.CreatedBy, s.DeletedAt, s.DocumentUrl, s.IsActive, s.LastModifiedAt, s.LastModifiedBy, s.PhaseId, s.Status, s.SubmissionRound, s.SubmittedAt, s.SubmittedBy, s.TopicId, s.TopicVersionId, t.Id, t.Content, t.Context, t.CreatedAt, t.CreatedBy, t.DeletedAt, t.Description, t.DocumentUrl, t.EN_Title, t.ExpectedOutcomes, t.IsActive, t.LastModifiedAt, t.LastModifiedBy, t.Methodology, t.Objectives, t.PotentialDuplicate, t.Problem, t.Requirements, t.Status, t.SubmittedAt, t.SubmittedBy, t.TopicId, t.VN_title, t.VersionNumber, t0.Id, t0.Abbreviation, t0.CategoryId, t0.Content, t0.Context, t0.CreatedAt, t0.CreatedBy, t0.DeletedAt, t0.Description, t0.EN_Title, t0.IsActive, t0.IsApproved, t0.IsLegacy, t0.LastModifiedAt, t0.LastModifiedBy, t0.MaxStudents, t0.Objectives, t0.PotentialDuplicate, t0.Problem, t0.SemesterId, t0.SupervisorId, t0.VN_title
        FROM reviewer_assignments AS r
        INNER JOIN users AS u ON r.ReviewerId == u.Id
        INNER JOIN submissions AS s ON r.SubmissionId == s.Id
        LEFT JOIN topic_versions AS t ON s.TopicVersionId == t.Id
        LEFT JOIN topics AS t0 ON s.TopicId == t0.Id
        WHERE (r.Deadline IS NOT NULL && (CONVERT(date, r.Deadline) < CONVERT(date, GETDATE()))) && r.Status IN (1, 2)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ReviewerAssignment>, 
    App.DAL.Context.MyDbContext, 
    False, 
    False, 
    True
)'
2025-10-03 18:06:35.154 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:06:35.155 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:06:35.155 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 18:06:35.155 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:06:35.155 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:06:35.156 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[DocumentUrl], [t].[EN_Title], [t].[ExpectedOutcomes], [t].[IsActive], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[Methodology], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[Requirements], [t].[Status], [t].[SubmittedAt], [t].[SubmittedBy], [t].[TopicId], [t].[VN_title], [t].[VersionNumber], [t0].[Id], [t0].[Abbreviation], [t0].[CategoryId], [t0].[Content], [t0].[Context], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[EN_Title], [t0].[IsActive], [t0].[IsApproved], [t0].[IsLegacy], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[MaxStudents], [t0].[Objectives], [t0].[PotentialDuplicate], [t0].[Problem], [t0].[SemesterId], [t0].[SupervisorId], [t0].[VN_title]
FROM [reviewer_assignments] AS [r]
INNER JOIN [users] AS [u] ON [r].[ReviewerId] = [u].[Id]
INNER JOIN [submissions] AS [s] ON [r].[SubmissionId] = [s].[Id]
LEFT JOIN [topic_versions] AS [t] ON [s].[TopicVersionId] = [t].[Id]
LEFT JOIN [topics] AS [t0] ON [s].[TopicId] = [t0].[Id]
WHERE [r].[Deadline] IS NOT NULL AND CONVERT(date, [r].[Deadline]) < CONVERT(date, GETDATE()) AND [r].[Status] IN (1, 2)
2025-10-03 18:06:35.182 +07:00 [INF] Executed DbCommand (26ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[DocumentUrl], [t].[EN_Title], [t].[ExpectedOutcomes], [t].[IsActive], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[Methodology], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[Requirements], [t].[Status], [t].[SubmittedAt], [t].[SubmittedBy], [t].[TopicId], [t].[VN_title], [t].[VersionNumber], [t0].[Id], [t0].[Abbreviation], [t0].[CategoryId], [t0].[Content], [t0].[Context], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[EN_Title], [t0].[IsActive], [t0].[IsApproved], [t0].[IsLegacy], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[MaxStudents], [t0].[Objectives], [t0].[PotentialDuplicate], [t0].[Problem], [t0].[SemesterId], [t0].[SupervisorId], [t0].[VN_title]
FROM [reviewer_assignments] AS [r]
INNER JOIN [users] AS [u] ON [r].[ReviewerId] = [u].[Id]
INNER JOIN [submissions] AS [s] ON [r].[SubmissionId] = [s].[Id]
LEFT JOIN [topic_versions] AS [t] ON [s].[TopicVersionId] = [t].[Id]
LEFT JOIN [topics] AS [t0] ON [s].[TopicId] = [t0].[Id]
WHERE [r].[Deadline] IS NOT NULL AND CONVERT(date, [r].[Deadline]) < CONVERT(date, GETDATE()) AND [r].[Status] IN (1, 2)
2025-10-03 18:06:35.182 +07:00 [INF] Now listening on: http://localhost:5207
2025-10-03 18:06:35.183 +07:00 [DBG] Loaded hosting startup assembly CapBot.api
2025-10-03 18:06:35.183 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-10-03 18:06:35.183 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-03 18:06:35.184 +07:00 [INF] Hosting environment: Development
2025-10-03 18:06:35.184 +07:00 [INF] Content root path: C:\Users\acer\Downloads\CBAI_API\capbot.api
2025-10-03 18:06:35.188 +07:00 [DBG] Hosting started
2025-10-03 18:06:35.189 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 18:06:35.190 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 8ms reading results.
2025-10-03 18:06:35.191 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:06:35.191 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 18:06:35.243 +07:00 [DBG] 'MyDbContext' generated a temporary value for the property 'SystemNotification.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 18:06:35.277 +07:00 [DBG] Context 'MyDbContext' started tracking 'SystemNotification' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 18:06:35.281 +07:00 [DBG] SaveChanges starting for 'MyDbContext'.
2025-10-03 18:06:35.284 +07:00 [DBG] DetectChanges starting for 'MyDbContext'.
2025-10-03 18:06:35.307 +07:00 [DBG] DetectChanges completed for 'MyDbContext'.
2025-10-03 18:06:35.415 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:06:35.415 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:06:35.418 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 18:06:35.419 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:06:35.420 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-10-03 18:06:35.421 +07:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (Size = 50), @p5='?' (Size = 255), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [system_notifications] ([CreatedAt], [Message], [ReadAt], [RelatedEntityId], [RelatedEntityType], [Title], [Type], [UserId])
OUTPUT INSERTED.[Id], INSERTED.[IsRead]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-10-03 18:06:35.435 +07:00 [INF] Executed DbCommand (14ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (Size = 50), @p5='?' (Size = 255), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [system_notifications] ([CreatedAt], [Message], [ReadAt], [RelatedEntityId], [RelatedEntityType], [Title], [Type], [UserId])
OUTPUT INSERTED.[Id], INSERTED.[IsRead]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-10-03 18:06:35.453 +07:00 [DBG] Connection id "0HNG2DJLF053M" accepted.
2025-10-03 18:06:35.454 +07:00 [DBG] Connection id "0HNG2DJLF053M" started.
2025-10-03 18:06:35.475 +07:00 [DBG] The foreign key property 'SystemNotification.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-10-03 18:06:35.494 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 18:06:35.495 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 59ms reading results.
2025-10-03 18:06:35.497 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:06:35.497 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 18:06:35.640 +07:00 [DBG] An entity of type 'SystemNotification' tracked by 'MyDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 18:06:35.998 +07:00 [DBG] SaveChanges completed for 'MyDbContext' with 1 entities written to the database.
2025-10-03 18:06:36.034 +07:00 [DBG] Compiling query expression: 
'DbSet<SystemNotification>()
    .AsNoTracking()
    .Where(x => x.UserId == __entity_UserId_0 && !(x.IsRead))
    .Count()'
2025-10-03 18:06:36.113 +07:00 [DBG] Connection id "0HNG2DJLF053N" accepted.
2025-10-03 18:06:36.139 +07:00 [DBG] Connection id "0HNG2DJLF053N" started.
2025-10-03 18:06:36.181 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5207/index.html - null null
2025-10-03 18:06:36.189 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<int>(
    asyncEnumerable: new SingleQueryingEnumerable<int>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM system_notifications AS s
            WHERE (s.UserId == @__entity_UserId_0) && Not(s.IsRead)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, int>, 
        App.DAL.Context.MyDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-10-03 18:06:36.216 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:06:36.216 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:06:36.217 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 18:06:36.217 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:06:36.217 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:06:36.218 +07:00 [DBG] Executing DbCommand [Parameters=[@__entity_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [system_notifications] AS [s]
WHERE [s].[UserId] = @__entity_UserId_0 AND [s].[IsRead] = CAST(0 AS bit)
2025-10-03 18:06:36.219 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-10-03 18:06:36.241 +07:00 [INF] Executed DbCommand (24ms) [Parameters=[@__entity_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [system_notifications] AS [s]
WHERE [s].[UserId] = @__entity_UserId_0 AND [s].[IsRead] = CAST(0 AS bit)
2025-10-03 18:06:36.245 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 18:06:36.245 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 3ms reading results.
2025-10-03 18:06:36.245 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:06:36.246 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 18:06:36.550 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-10-03 18:06:36.590 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-10-03 18:06:36.592 +07:00 [DBG] Connection id "0HNG2DJLF053M" completed keep alive response.
2025-10-03 18:06:36.599 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5207/index.html - 200 null text/html;charset=utf-8 421.5007ms
2025-10-03 18:06:36.651 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5207/_framework/aspnetcore-browser-refresh.js - null null
2025-10-03 18:06:36.656 +07:00 [DBG] Connection id "0HNG2DJLF053M" completed keep alive response.
2025-10-03 18:06:36.657 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5207/_framework/aspnetcore-browser-refresh.js - 200 13732 application/javascript; charset=utf-8 6.1771ms
2025-10-03 18:06:36.940 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5207/swagger/v1/swagger.json - null null
2025-10-03 18:06:37.683 +07:00 [DBG] Connection id "0HNG2DJLF053M" completed keep alive response.
2025-10-03 18:06:37.684 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5207/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 743.6571ms
2025-10-03 18:06:38.740 +07:00 [ERR] 5.4.5 Daily user sending limit exceeded. For more information on Gmail
5.4.5 sending limits go to
5.4.5  https://support.google.com/a/answer/166852 d2e1a72fcca58-78b01f9daccsm4533882b3a.16 - gsmtp
2025-10-03 18:06:38.962 +07:00 [WRN] Không thể gửi email sắp đến hạn cho reviewer hieptmse140293@fpt.edu.vn, assignment 31
2025-10-03 18:06:38.962 +07:00 [INF] Đã gửi thông báo sắp đến hạn cho reviewer 27, assignment 31
2025-10-03 18:06:38.965 +07:00 [DBG] 'MyDbContext' generated a temporary value for the property 'SystemNotification.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 18:06:38.966 +07:00 [DBG] Context 'MyDbContext' started tracking 'SystemNotification' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 18:06:38.966 +07:00 [DBG] SaveChanges starting for 'MyDbContext'.
2025-10-03 18:06:38.966 +07:00 [DBG] DetectChanges starting for 'MyDbContext'.
2025-10-03 18:06:38.968 +07:00 [DBG] DetectChanges completed for 'MyDbContext'.
2025-10-03 18:06:38.970 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:06:38.970 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:06:38.971 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 18:06:38.971 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:06:38.971 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:06:38.971 +07:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (Size = 50), @p5='?' (Size = 255), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [system_notifications] ([CreatedAt], [Message], [ReadAt], [RelatedEntityId], [RelatedEntityType], [Title], [Type], [UserId])
OUTPUT INSERTED.[Id], INSERTED.[IsRead]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-10-03 18:06:38.978 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (Size = 50), @p5='?' (Size = 255), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [system_notifications] ([CreatedAt], [Message], [ReadAt], [RelatedEntityId], [RelatedEntityType], [Title], [Type], [UserId])
OUTPUT INSERTED.[Id], INSERTED.[IsRead]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-10-03 18:06:38.978 +07:00 [DBG] The foreign key property 'SystemNotification.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-10-03 18:06:38.979 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 18:06:38.979 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 1ms reading results.
2025-10-03 18:06:38.979 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:06:38.979 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 18:06:38.980 +07:00 [DBG] An entity of type 'SystemNotification' tracked by 'MyDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 18:06:38.980 +07:00 [DBG] SaveChanges completed for 'MyDbContext' with 1 entities written to the database.
2025-10-03 18:06:38.981 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:06:38.981 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:06:38.982 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 18:06:38.982 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:06:38.982 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:06:38.982 +07:00 [DBG] Executing DbCommand [Parameters=[@__entity_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [system_notifications] AS [s]
WHERE [s].[UserId] = @__entity_UserId_0 AND [s].[IsRead] = CAST(0 AS bit)
2025-10-03 18:06:38.995 +07:00 [INF] Executed DbCommand (13ms) [Parameters=[@__entity_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [system_notifications] AS [s]
WHERE [s].[UserId] = @__entity_UserId_0 AND [s].[IsRead] = CAST(0 AS bit)
2025-10-03 18:06:38.995 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 18:06:38.996 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-10-03 18:06:38.996 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:06:38.996 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 18:06:40.883 +07:00 [ERR] 5.4.5 Daily user sending limit exceeded. For more information on Gmail
5.4.5 sending limits go to
5.4.5  https://support.google.com/a/answer/166852 d9443c01a7336-28e8d111926sm47391595ad.7 - gsmtp
2025-10-03 18:06:41.099 +07:00 [WRN] Không thể gửi email quá hạn cho reviewer supervisor@gmail.com, assignment 1
2025-10-03 18:06:41.099 +07:00 [INF] Đã gửi thông báo quá hạn cho reviewer 6, assignment 1
2025-10-03 18:06:41.101 +07:00 [DBG] 'MyDbContext' generated a temporary value for the property 'SystemNotification.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 18:06:41.101 +07:00 [DBG] Context 'MyDbContext' started tracking 'SystemNotification' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 18:06:41.101 +07:00 [DBG] SaveChanges starting for 'MyDbContext'.
2025-10-03 18:06:41.101 +07:00 [DBG] DetectChanges starting for 'MyDbContext'.
2025-10-03 18:06:41.102 +07:00 [DBG] DetectChanges completed for 'MyDbContext'.
2025-10-03 18:06:41.103 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:06:41.103 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:06:41.104 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 18:06:41.104 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:06:41.104 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:06:41.105 +07:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (Size = 50), @p5='?' (Size = 255), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [system_notifications] ([CreatedAt], [Message], [ReadAt], [RelatedEntityId], [RelatedEntityType], [Title], [Type], [UserId])
OUTPUT INSERTED.[Id], INSERTED.[IsRead]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-10-03 18:06:41.114 +07:00 [INF] Executed DbCommand (10ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (Size = 50), @p5='?' (Size = 255), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [system_notifications] ([CreatedAt], [Message], [ReadAt], [RelatedEntityId], [RelatedEntityType], [Title], [Type], [UserId])
OUTPUT INSERTED.[Id], INSERTED.[IsRead]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-10-03 18:06:41.115 +07:00 [DBG] The foreign key property 'SystemNotification.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-10-03 18:06:41.115 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 18:06:41.116 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-10-03 18:06:41.116 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:06:41.116 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 18:06:41.117 +07:00 [DBG] An entity of type 'SystemNotification' tracked by 'MyDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 18:06:41.117 +07:00 [DBG] SaveChanges completed for 'MyDbContext' with 1 entities written to the database.
2025-10-03 18:06:41.117 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:06:41.118 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:06:41.118 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 18:06:41.118 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:06:41.119 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:06:41.119 +07:00 [DBG] Executing DbCommand [Parameters=[@__entity_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [system_notifications] AS [s]
WHERE [s].[UserId] = @__entity_UserId_0 AND [s].[IsRead] = CAST(0 AS bit)
2025-10-03 18:06:41.125 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__entity_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [system_notifications] AS [s]
WHERE [s].[UserId] = @__entity_UserId_0 AND [s].[IsRead] = CAST(0 AS bit)
2025-10-03 18:06:41.125 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 18:06:41.125 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-10-03 18:06:41.125 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:06:41.126 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 18:06:43.641 +07:00 [ERR] 5.4.5 Daily user sending limit exceeded. For more information on Gmail
5.4.5 sending limits go to
5.4.5  https://support.google.com/a/answer/166852 d2e1a72fcca58-78b0209005asm4724270b3a.81 - gsmtp
2025-10-03 18:06:43.862 +07:00 [WRN] Không thể gửi email quá hạn cho reviewer reviewer2@gmail.com, assignment 2
2025-10-03 18:06:43.862 +07:00 [INF] Đã gửi thông báo quá hạn cho reviewer 7, assignment 2
2025-10-03 18:06:43.863 +07:00 [DBG] 'MyDbContext' generated a temporary value for the property 'SystemNotification.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 18:06:43.863 +07:00 [DBG] Context 'MyDbContext' started tracking 'SystemNotification' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 18:06:43.863 +07:00 [DBG] SaveChanges starting for 'MyDbContext'.
2025-10-03 18:06:43.863 +07:00 [DBG] DetectChanges starting for 'MyDbContext'.
2025-10-03 18:06:43.863 +07:00 [DBG] DetectChanges completed for 'MyDbContext'.
2025-10-03 18:06:43.864 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:06:43.864 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:06:43.864 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 18:06:43.864 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:06:43.864 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:06:43.865 +07:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (Size = 50), @p5='?' (Size = 255), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [system_notifications] ([CreatedAt], [Message], [ReadAt], [RelatedEntityId], [RelatedEntityType], [Title], [Type], [UserId])
OUTPUT INSERTED.[Id], INSERTED.[IsRead]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-10-03 18:06:43.870 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (Size = 50), @p5='?' (Size = 255), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [system_notifications] ([CreatedAt], [Message], [ReadAt], [RelatedEntityId], [RelatedEntityType], [Title], [Type], [UserId])
OUTPUT INSERTED.[Id], INSERTED.[IsRead]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-10-03 18:06:43.871 +07:00 [DBG] The foreign key property 'SystemNotification.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-10-03 18:06:43.872 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 18:06:43.872 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 1ms reading results.
2025-10-03 18:06:43.872 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:06:43.872 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 18:06:43.873 +07:00 [DBG] An entity of type 'SystemNotification' tracked by 'MyDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 18:06:43.873 +07:00 [DBG] SaveChanges completed for 'MyDbContext' with 1 entities written to the database.
2025-10-03 18:06:43.874 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:06:43.875 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:06:43.875 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 18:06:43.875 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:06:43.875 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:06:43.875 +07:00 [DBG] Executing DbCommand [Parameters=[@__entity_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [system_notifications] AS [s]
WHERE [s].[UserId] = @__entity_UserId_0 AND [s].[IsRead] = CAST(0 AS bit)
2025-10-03 18:06:43.880 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__entity_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [system_notifications] AS [s]
WHERE [s].[UserId] = @__entity_UserId_0 AND [s].[IsRead] = CAST(0 AS bit)
2025-10-03 18:06:43.881 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 18:06:43.881 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-10-03 18:06:43.881 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:06:43.881 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 18:06:45.695 +07:00 [ERR] 5.4.5 Daily user sending limit exceeded. For more information on Gmail
5.4.5 sending limits go to
5.4.5  https://support.google.com/a/answer/166852 d2e1a72fcca58-78b0206ea2fsm4547846b3a.66 - gsmtp
2025-10-03 18:06:45.913 +07:00 [WRN] Không thể gửi email quá hạn cho reviewer reviewer2@gmail.com, assignment 3
2025-10-03 18:06:45.913 +07:00 [INF] Đã gửi thông báo quá hạn cho reviewer 7, assignment 3
2025-10-03 18:06:45.914 +07:00 [DBG] 'MyDbContext' generated a temporary value for the property 'SystemNotification.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 18:06:45.914 +07:00 [DBG] Context 'MyDbContext' started tracking 'SystemNotification' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 18:06:45.914 +07:00 [DBG] SaveChanges starting for 'MyDbContext'.
2025-10-03 18:06:45.914 +07:00 [DBG] DetectChanges starting for 'MyDbContext'.
2025-10-03 18:06:45.915 +07:00 [DBG] DetectChanges completed for 'MyDbContext'.
2025-10-03 18:06:45.915 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:06:45.916 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:06:45.916 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 18:06:45.916 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:06:45.916 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:06:45.917 +07:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (Size = 50), @p5='?' (Size = 255), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [system_notifications] ([CreatedAt], [Message], [ReadAt], [RelatedEntityId], [RelatedEntityType], [Title], [Type], [UserId])
OUTPUT INSERTED.[Id], INSERTED.[IsRead]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-10-03 18:06:45.922 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (Size = 50), @p5='?' (Size = 255), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [system_notifications] ([CreatedAt], [Message], [ReadAt], [RelatedEntityId], [RelatedEntityType], [Title], [Type], [UserId])
OUTPUT INSERTED.[Id], INSERTED.[IsRead]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-10-03 18:06:45.922 +07:00 [DBG] The foreign key property 'SystemNotification.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-10-03 18:06:45.922 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 18:06:45.923 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-10-03 18:06:45.923 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:06:45.923 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 18:06:45.923 +07:00 [DBG] An entity of type 'SystemNotification' tracked by 'MyDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 18:06:45.923 +07:00 [DBG] SaveChanges completed for 'MyDbContext' with 1 entities written to the database.
2025-10-03 18:06:45.924 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:06:45.924 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:06:45.924 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 18:06:45.924 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:06:45.925 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:06:45.925 +07:00 [DBG] Executing DbCommand [Parameters=[@__entity_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [system_notifications] AS [s]
WHERE [s].[UserId] = @__entity_UserId_0 AND [s].[IsRead] = CAST(0 AS bit)
2025-10-03 18:06:45.927 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__entity_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [system_notifications] AS [s]
WHERE [s].[UserId] = @__entity_UserId_0 AND [s].[IsRead] = CAST(0 AS bit)
2025-10-03 18:06:45.927 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 18:06:45.927 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-10-03 18:06:45.927 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:06:45.927 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 18:06:48.004 +07:00 [ERR] 5.4.5 Daily user sending limit exceeded. For more information on Gmail
5.4.5 sending limits go to
5.4.5  https://support.google.com/a/answer/166852 41be03b00d2f7-b6099ad9573sm4330879a12.9 - gsmtp
2025-10-03 18:06:48.222 +07:00 [WRN] Không thể gửi email quá hạn cho reviewer supervisor@gmail.com, assignment 4
2025-10-03 18:06:48.222 +07:00 [INF] Đã gửi thông báo quá hạn cho reviewer 6, assignment 4
2025-10-03 18:06:48.222 +07:00 [INF] Hoàn thành kiểm tra deadline: 1 sắp đến hạn, 4 quá hạn
2025-10-03 18:06:48.223 +07:00 [DBG] 'MyDbContext' disposed.
2025-10-03 18:06:48.223 +07:00 [DBG] Disposing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:06:48.223 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-10-03 18:06:50.298 +07:00 [DBG] Connection id "0HNG2DJLF053M" received FIN.
2025-10-03 18:06:50.298 +07:00 [DBG] Connection id "0HNG2DJLF053N" received FIN.
2025-10-03 18:06:50.303 +07:00 [DBG] Connection id "0HNG2DJLF053N" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-10-03 18:06:50.303 +07:00 [DBG] Connection id "0HNG2DJLF053M" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-10-03 18:06:50.304 +07:00 [DBG] Connection id "0HNG2DJLF053M" disconnecting.
2025-10-03 18:06:50.304 +07:00 [DBG] Connection id "0HNG2DJLF053N" disconnecting.
2025-10-03 18:06:50.306 +07:00 [DBG] Connection id "0HNG2DJLF053M" stopped.
2025-10-03 18:06:50.306 +07:00 [DBG] Connection id "0HNG2DJLF053N" stopped.
2025-10-03 18:08:32.678 +07:00 [DBG] Connection id "0HNG2DJLF053O" accepted.
2025-10-03 18:08:32.678 +07:00 [DBG] Connection id "0HNG2DJLF053O" started.
2025-10-03 18:08:32.679 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5207/api/reviews/statistics - null null
2025-10-03 18:08:32.682 +07:00 [DBG] The request path /api/reviews/statistics does not match a supported file type
2025-10-03 18:08:32.688 +07:00 [WRN] Failed to determine the https port for redirect.
2025-10-03 18:08:32.689 +07:00 [DBG] The request path /api/reviews/statistics does not match a supported file type
2025-10-03 18:08:32.755 +07:00 [DBG] 2 candidate(s) found for the request path '/api/reviews/statistics'
2025-10-03 18:08:32.756 +07:00 [DBG] Endpoint 'CapBot.api.Controllers.ReviewController.GetStatistics (CapBot.api)' with route pattern 'api/reviews/statistics' is valid for the request path '/api/reviews/statistics'
2025-10-03 18:08:32.756 +07:00 [DBG] Endpoint 'CapBot.api.Controllers.ReviewController.GetById (CapBot.api)' with route pattern 'api/reviews/{id}' is valid for the request path '/api/reviews/statistics'
2025-10-03 18:08:32.756 +07:00 [DBG] Request matched endpoint 'CapBot.api.Controllers.ReviewController.GetStatistics (CapBot.api)'
2025-10-03 18:08:32.853 +07:00 [DBG] Successfully validated the token.
2025-10-03 18:08:32.854 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-10-03 18:08:32.858 +07:00 [DBG] Authorization was successful.
2025-10-03 18:08:32.865 +07:00 [INF] Executing endpoint 'CapBot.api.Controllers.ReviewController.GetStatistics (CapBot.api)'
2025-10-03 18:08:32.883 +07:00 [INF] Route matched with {action = "GetStatistics", controller = "Review"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStatistics() on controller CapBot.api.Controllers.ReviewController (CapBot.api).
2025-10-03 18:08:32.887 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-10-03 18:08:32.888 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-10-03 18:08:32.888 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2025-10-03 18:08:32.888 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-10-03 18:08:32.888 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-10-03 18:08:32.890 +07:00 [DBG] Executing controller factory for controller CapBot.api.Controllers.ReviewController (CapBot.api)
2025-10-03 18:08:33.018 +07:00 [DBG] Executed controller factory for controller CapBot.api.Controllers.ReviewController (CapBot.api)
2025-10-03 18:08:33.039 +07:00 [DBG] Entity Framework Core 8.0.16 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: MigrationsAssembly=App.DAL 
2025-10-03 18:08:33.044 +07:00 [DBG] Compiling query expression: 
'DbSet<Review>()
    .AsNoTracking()
    .Include(x => x.ReviewCriteriaScores)
    .Include("ReviewCriteriaScores.Criteria")
    .Where(x => x.IsActive)
    .OrderByDescending(x => x.CreatedAt)
    .Count()'
2025-10-03 18:08:33.053 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<int>(
    asyncEnumerable: new SingleQueryingEnumerable<int>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM reviews AS r
            WHERE r.IsActive), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, int>, 
        App.DAL.Context.MyDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-10-03 18:08:33.054 +07:00 [DBG] Creating DbConnection.
2025-10-03 18:08:33.054 +07:00 [DBG] Created DbConnection. (0ms).
2025-10-03 18:08:33.054 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:08:33.055 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:08:33.055 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 18:08:33.055 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:08:33.055 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:08:33.055 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [reviews] AS [r]
WHERE [r].[IsActive] = CAST(1 AS bit)
2025-10-03 18:08:33.066 +07:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [reviews] AS [r]
WHERE [r].[IsActive] = CAST(1 AS bit)
2025-10-03 18:08:33.066 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 18:08:33.067 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-10-03 18:08:33.067 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:08:33.067 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 18:08:33.070 +07:00 [DBG] Compiling query expression: 
'DbSet<Review>()
    .AsNoTracking()
    .Include(x => x.ReviewCriteriaScores)
    .Include("ReviewCriteriaScores.Criteria")
    .Where(x => x.IsActive)
    .OrderByDescending(x => x.CreatedAt)
    .Skip(__p_0)
    .Take(__p_1)'
2025-10-03 18:08:33.072 +07:00 [DBG] Including navigation: 'Review.ReviewCriteriaScores'.
2025-10-03 18:08:33.074 +07:00 [DBG] Including navigation: 'ReviewCriteriaScore.Criteria'.
2025-10-03 18:08:33.108 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Review>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Review.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Review.AssignmentId (int) Required FK Index, 1], [Property: Review.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 2], [Property: Review.CreatedBy (string), 3], [Property: Review.DeletedAt (DateTime?), 4], [Property: Review.IsActive (bool) Required, 5], [Property: Review.LastModifiedAt (DateTime?), 6], [Property: Review.LastModifiedBy (string), 7], [Property: Review.OverallComment (string), 8], [Property: Review.OverallScore (decimal?), 9], [Property: Review.Recommendation (ReviewRecommendations) Required Index ValueGenerated.OnAdd, 10], [Property: Review.Status (ReviewStatus) Required Index ValueGenerated.OnAdd, 11], [Property: Review.SubmittedAt (DateTime?) Index, 12], [Property: Review.TimeSpentMinutes (int?), 13] }
            1 -> 0
            2 -> Dictionary<IProperty, int> { [Property: ReviewCriteriaScore.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 14], [Property: ReviewCriteriaScore.Comment (string), 15], [Property: ReviewCriteriaScore.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 16], [Property: ReviewCriteriaScore.CreatedBy (string), 17], [Property: ReviewCriteriaScore.CriteriaId (int) Required FK Index, 18], [Property: ReviewCriteriaScore.DeletedAt (DateTime?), 19], [Property: ReviewCriteriaScore.IsActive (bool) Required, 20], [Property: ReviewCriteriaScore.LastModifiedAt (DateTime?), 21], [Property: ReviewCriteriaScore.LastModifiedBy (string), 22], [Property: ReviewCriteriaScore.ReviewId (int) Required FK Index, 23], [Property: ReviewCriteriaScore.Score (decimal) Required, 24] }
            3 -> Dictionary<IProperty, int> { [Property: EvaluationCriteria.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 25], [Property: EvaluationCriteria.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 26], [Property: EvaluationCriteria.CreatedBy (string), 27], [Property: EvaluationCriteria.DeletedAt (DateTime?), 28], [Property: EvaluationCriteria.Description (string), 29], [Property: EvaluationCriteria.IsActive (bool) Required Index Sentinel:True ValueGenerated.OnAdd, 30], [Property: EvaluationCriteria.LastModifiedAt (DateTime?), 31], [Property: EvaluationCriteria.LastModifiedBy (string), 32], [Property: EvaluationCriteria.MaxScore (int) Required ValueGenerated.OnAdd, 33], [Property: EvaluationCriteria.Name (string) Required MaxLength(100), 34], [Property: EvaluationCriteria.SemesterId (int?) Required FK Index, 35], [Property: EvaluationCriteria.Weight (decimal) Required ValueGenerated.OnAdd, 36] }
            4 -> 14
            5 -> 25
        SELECT t.Id, t.AssignmentId, t.CreatedAt, t.CreatedBy, t.DeletedAt, t.IsActive, t.LastModifiedAt, t.LastModifiedBy, t.OverallComment, t.OverallScore, t.Recommendation, t.Status, t.SubmittedAt, t.TimeSpentMinutes, t0.Id, t0.Comment, t0.CreatedAt, t0.CreatedBy, t0.CriteriaId, t0.DeletedAt, t0.IsActive, t0.LastModifiedAt, t0.LastModifiedBy, t0.ReviewId, t0.Score, t0.Id0, t0.CreatedAt0, t0.CreatedBy0, t0.DeletedAt0, t0.Description, t0.IsActive0, t0.LastModifiedAt0, t0.LastModifiedBy0, t0.MaxScore, t0.Name, t0.SemesterId, t0.Weight
        FROM 
        (
            SELECT r.Id, r.AssignmentId, r.CreatedAt, r.CreatedBy, r.DeletedAt, r.IsActive, r.LastModifiedAt, r.LastModifiedBy, r.OverallComment, r.OverallScore, r.Recommendation, r.Status, r.SubmittedAt, r.TimeSpentMinutes
            FROM reviews AS r
            WHERE r.IsActive
            ORDER BY r.CreatedAt DESC
            OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
        ) AS t
        LEFT JOIN 
        (
            SELECT r0.Id, r0.Comment, r0.CreatedAt, r0.CreatedBy, r0.CriteriaId, r0.DeletedAt, r0.IsActive, r0.LastModifiedAt, r0.LastModifiedBy, r0.ReviewId, r0.Score, e.Id AS Id0, e.CreatedAt AS CreatedAt0, e.CreatedBy AS CreatedBy0, e.DeletedAt AS DeletedAt0, e.Description, e.IsActive AS IsActive0, e.LastModifiedAt AS LastModifiedAt0, e.LastModifiedBy AS LastModifiedBy0, e.MaxScore, e.Name, e.SemesterId, e.Weight
            FROM review_criteria_scores AS r0
            INNER JOIN evaluation_criteria AS e ON r0.CriteriaId == e.Id
        ) AS t0 ON t.Id == t0.ReviewId
        ORDER BY t.CreatedAt DESC, t.Id ASC, t0.Id ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Review>, 
    App.DAL.Context.MyDbContext, 
    False, 
    False, 
    True
)'
2025-10-03 18:08:33.111 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:08:33.112 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:08:33.112 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 18:08:33.112 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:08:33.112 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:08:33.112 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[AssignmentId], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[IsActive], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[OverallComment], [t].[OverallScore], [t].[Recommendation], [t].[Status], [t].[SubmittedAt], [t].[TimeSpentMinutes], [t0].[Id], [t0].[Comment], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[CriteriaId], [t0].[DeletedAt], [t0].[IsActive], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[ReviewId], [t0].[Score], [t0].[Id0], [t0].[CreatedAt0], [t0].[CreatedBy0], [t0].[DeletedAt0], [t0].[Description], [t0].[IsActive0], [t0].[LastModifiedAt0], [t0].[LastModifiedBy0], [t0].[MaxScore], [t0].[Name], [t0].[SemesterId], [t0].[Weight]
FROM (
    SELECT [r].[Id], [r].[AssignmentId], [r].[CreatedAt], [r].[CreatedBy], [r].[DeletedAt], [r].[IsActive], [r].[LastModifiedAt], [r].[LastModifiedBy], [r].[OverallComment], [r].[OverallScore], [r].[Recommendation], [r].[Status], [r].[SubmittedAt], [r].[TimeSpentMinutes]
    FROM [reviews] AS [r]
    WHERE [r].[IsActive] = CAST(1 AS bit)
    ORDER BY [r].[CreatedAt] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [r0].[Id], [r0].[Comment], [r0].[CreatedAt], [r0].[CreatedBy], [r0].[CriteriaId], [r0].[DeletedAt], [r0].[IsActive], [r0].[LastModifiedAt], [r0].[LastModifiedBy], [r0].[ReviewId], [r0].[Score], [e].[Id] AS [Id0], [e].[CreatedAt] AS [CreatedAt0], [e].[CreatedBy] AS [CreatedBy0], [e].[DeletedAt] AS [DeletedAt0], [e].[Description], [e].[IsActive] AS [IsActive0], [e].[LastModifiedAt] AS [LastModifiedAt0], [e].[LastModifiedBy] AS [LastModifiedBy0], [e].[MaxScore], [e].[Name], [e].[SemesterId], [e].[Weight]
    FROM [review_criteria_scores] AS [r0]
    INNER JOIN [evaluation_criteria] AS [e] ON [r0].[CriteriaId] = [e].[Id]
) AS [t0] ON [t].[Id] = [t0].[ReviewId]
ORDER BY [t].[CreatedAt] DESC, [t].[Id], [t0].[Id]
2025-10-03 18:08:33.160 +07:00 [INF] Executed DbCommand (49ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[AssignmentId], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[IsActive], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[OverallComment], [t].[OverallScore], [t].[Recommendation], [t].[Status], [t].[SubmittedAt], [t].[TimeSpentMinutes], [t0].[Id], [t0].[Comment], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[CriteriaId], [t0].[DeletedAt], [t0].[IsActive], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[ReviewId], [t0].[Score], [t0].[Id0], [t0].[CreatedAt0], [t0].[CreatedBy0], [t0].[DeletedAt0], [t0].[Description], [t0].[IsActive0], [t0].[LastModifiedAt0], [t0].[LastModifiedBy0], [t0].[MaxScore], [t0].[Name], [t0].[SemesterId], [t0].[Weight]
FROM (
    SELECT [r].[Id], [r].[AssignmentId], [r].[CreatedAt], [r].[CreatedBy], [r].[DeletedAt], [r].[IsActive], [r].[LastModifiedAt], [r].[LastModifiedBy], [r].[OverallComment], [r].[OverallScore], [r].[Recommendation], [r].[Status], [r].[SubmittedAt], [r].[TimeSpentMinutes]
    FROM [reviews] AS [r]
    WHERE [r].[IsActive] = CAST(1 AS bit)
    ORDER BY [r].[CreatedAt] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [r0].[Id], [r0].[Comment], [r0].[CreatedAt], [r0].[CreatedBy], [r0].[CriteriaId], [r0].[DeletedAt], [r0].[IsActive], [r0].[LastModifiedAt], [r0].[LastModifiedBy], [r0].[ReviewId], [r0].[Score], [e].[Id] AS [Id0], [e].[CreatedAt] AS [CreatedAt0], [e].[CreatedBy] AS [CreatedBy0], [e].[DeletedAt] AS [DeletedAt0], [e].[Description], [e].[IsActive] AS [IsActive0], [e].[LastModifiedAt] AS [LastModifiedAt0], [e].[LastModifiedBy] AS [LastModifiedBy0], [e].[MaxScore], [e].[Name], [e].[SemesterId], [e].[Weight]
    FROM [review_criteria_scores] AS [r0]
    INNER JOIN [evaluation_criteria] AS [e] ON [r0].[CriteriaId] = [e].[Id]
) AS [t0] ON [t].[Id] = [t0].[ReviewId]
ORDER BY [t].[CreatedAt] DESC, [t].[Id], [t0].[Id]
2025-10-03 18:08:33.165 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 18:08:33.166 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 4ms reading results.
2025-10-03 18:08:33.166 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:08:33.166 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 18:08:33.193 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-10-03 18:08:33.195 +07:00 [DBG] No information found on request to perform content negotiation.
2025-10-03 18:08:33.195 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-10-03 18:08:33.195 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-10-03 18:08:33.198 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-10-03 18:08:33.198 +07:00 [INF] Executing ObjectResult, writing value of type 'FS.Commons.FSResponse'.
2025-10-03 18:08:33.264 +07:00 [INF] Executed action CapBot.api.Controllers.ReviewController.GetStatistics (CapBot.api) in 373.7465ms
2025-10-03 18:08:33.265 +07:00 [INF] Executed endpoint 'CapBot.api.Controllers.ReviewController.GetStatistics (CapBot.api)'
2025-10-03 18:08:33.269 +07:00 [DBG] Connection id "0HNG2DJLF053O" completed keep alive response.
2025-10-03 18:08:33.269 +07:00 [DBG] 'MyDbContext' disposed.
2025-10-03 18:08:33.270 +07:00 [DBG] Disposing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:08:33.270 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-10-03 18:08:33.272 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5207/api/reviews/statistics - 200 null application/json; charset=utf-8 592.76ms
2025-10-03 18:09:54.752 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5207/api/reviewer-assignments/30/details - null null
2025-10-03 18:09:54.753 +07:00 [DBG] The request path /api/reviewer-assignments/30/details does not match a supported file type
2025-10-03 18:09:54.753 +07:00 [DBG] The request path /api/reviewer-assignments/30/details does not match a supported file type
2025-10-03 18:09:54.757 +07:00 [DBG] 1 candidate(s) found for the request path '/api/reviewer-assignments/30/details'
2025-10-03 18:09:54.758 +07:00 [DBG] Endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetAssignmentDetails (CapBot.api)' with route pattern 'api/reviewer-assignments/{assignmentId}/details' is valid for the request path '/api/reviewer-assignments/30/details'
2025-10-03 18:09:54.758 +07:00 [DBG] Request matched endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetAssignmentDetails (CapBot.api)'
2025-10-03 18:09:54.763 +07:00 [DBG] Successfully validated the token.
2025-10-03 18:09:54.764 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-10-03 18:09:54.770 +07:00 [DBG] Authorization was successful.
2025-10-03 18:09:54.771 +07:00 [INF] Executing endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetAssignmentDetails (CapBot.api)'
2025-10-03 18:09:54.781 +07:00 [INF] Route matched with {action = "GetAssignmentDetails", controller = "ReviewerAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAssignmentDetails(Int32) on controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api).
2025-10-03 18:09:54.781 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-10-03 18:09:54.782 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-10-03 18:09:54.782 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2025-10-03 18:09:54.782 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-10-03 18:09:54.782 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-10-03 18:09:54.782 +07:00 [DBG] Executing controller factory for controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api)
2025-10-03 18:09:54.786 +07:00 [DBG] Executed controller factory for controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api)
2025-10-03 18:09:54.797 +07:00 [DBG] Attempting to bind parameter 'assignmentId' of type 'System.Int32' ...
2025-10-03 18:09:54.799 +07:00 [DBG] Attempting to bind parameter 'assignmentId' of type 'System.Int32' using the name 'assignmentId' in request data ...
2025-10-03 18:09:54.801 +07:00 [DBG] Done attempting to bind parameter 'assignmentId' of type 'System.Int32'.
2025-10-03 18:09:54.802 +07:00 [DBG] Done attempting to bind parameter 'assignmentId' of type 'System.Int32'.
2025-10-03 18:09:54.802 +07:00 [DBG] Attempting to validate the bound parameter 'assignmentId' of type 'System.Int32' ...
2025-10-03 18:09:54.804 +07:00 [DBG] Done attempting to validate the bound parameter 'assignmentId' of type 'System.Int32'.
2025-10-03 18:09:54.813 +07:00 [DBG] Entity Framework Core 8.0.16 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: MigrationsAssembly=App.DAL 
2025-10-03 18:09:54.815 +07:00 [DBG] Compiling query expression: 
'DbSet<ReviewerAssignment>()
    .AsNoTracking()
    .Include(ra => ra.Submission)
    .Include(ra => ra.Submission.Topic)
    .Include(ra => ra.Submission.TopicVersion)
    .Include(ra => ra.Submission.TopicVersion.Topic)
    .Include(ra => ra.Submission.SubmittedByUser)
    .Include(ra => ra.Submission.Phase)
    .Include(ra => ra.Reviewer)
    .Include(ra => ra.Reviews)
    .Where(ra => ra.Id == __assignmentId_0)
    .FirstOrDefault()'
2025-10-03 18:09:54.818 +07:00 [DBG] Including navigation: 'ReviewerAssignment.Submission'.
2025-10-03 18:09:54.820 +07:00 [DBG] Including navigation: 'Submission.Topic'.
2025-10-03 18:09:54.822 +07:00 [DBG] Including navigation: 'Submission.TopicVersion'.
2025-10-03 18:09:54.823 +07:00 [DBG] Including navigation: 'TopicVersion.Topic'.
2025-10-03 18:09:54.824 +07:00 [DBG] Including navigation: 'Submission.SubmittedByUser'.
2025-10-03 18:09:54.825 +07:00 [DBG] Including navigation: 'Submission.Phase'.
2025-10-03 18:09:54.825 +07:00 [DBG] Including navigation: 'ReviewerAssignment.Reviewer'.
2025-10-03 18:09:54.826 +07:00 [DBG] Including navigation: 'ReviewerAssignment.Reviews'.
2025-10-03 18:09:54.888 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<ReviewerAssignment>(
    asyncEnumerable: new SingleQueryingEnumerable<ReviewerAssignment>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: ReviewerAssignment.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ReviewerAssignment.AssignedAt (DateTime) Required ValueGenerated.OnAdd, 1], [Property: ReviewerAssignment.AssignedBy (int) Required FK Index, 2], [Property: ReviewerAssignment.AssignmentType (AssignmentTypes) Required ValueGenerated.OnAdd, 3], [Property: ReviewerAssignment.CompletedAt (DateTime?), 4], [Property: ReviewerAssignment.Deadline (DateTime?) Index, 5], [Property: ReviewerAssignment.ReviewerId (int) Required FK Index, 6], [Property: ReviewerAssignment.SkillMatchScore (decimal?), 7], [Property: ReviewerAssignment.StartedAt (DateTime?), 8], [Property: ReviewerAssignment.Status (AssignmentStatus) Required Index ValueGenerated.OnAdd, 9], [Property: ReviewerAssignment.SubmissionId (int) Required FK Index, 10] }
                1 -> Dictionary<IProperty, int> { [Property: Submission.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 11], [Property: Submission.AdditionalNotes (string), 12], [Property: Submission.AiCheckDetails (string), 13], [Property: Submission.AiCheckScore (decimal?), 14], [Property: Submission.AiCheckStatus (AiCheckStatus) Required ValueGenerated.OnAdd, 15], [Property: Submission.CreatedAt (DateTime) Required, 16], [Property: Submission.CreatedBy (string), 17], [Property: Submission.DeletedAt (DateTime?), 18], [Property: Submission.DocumentUrl (string) MaxLength(500), 19], [Property: Submission.IsActive (bool) Required, 20], [Property: Submission.LastModifiedAt (DateTime?), 21], [Property: Submission.LastModifiedBy (string), 22], [Property: Submission.PhaseId (int) Required FK Index, 23], [Property: Submission.Status (SubmissionStatus) Required Index ValueGenerated.OnAdd, 24], [Property: Submission.SubmissionRound (int) Required Index ValueGenerated.OnAdd, 25], [Property: Submission.SubmittedAt (DateTime?) Index ValueGenerated.OnAdd, 26], [Property: Submission.SubmittedBy (int) Required FK Index, 27], [Property: Submission.TopicId (int) Required FK Index, 28], [Property: Submission.TopicVersionId (int?) FK Index, 29] }
                2 -> Dictionary<IProperty, int> { [Property: Topic.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 30], [Property: Topic.Abbreviation (string), 31], [Property: Topic.CategoryId (int?) FK Index, 32], [Property: Topic.Content (string), 33], [Property: Topic.Context (string), 34], [Property: Topic.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 35], [Property: Topic.CreatedBy (string), 36], [Property: Topic.DeletedAt (DateTime?), 37], [Property: Topic.Description (string), 38], [Property: Topic.EN_Title (string) Required MaxLength(500), 39], [Property: Topic.IsActive (bool) Required, 40], [Property: Topic.IsApproved (bool) Required Index Sentinel:True ValueGenerated.OnAdd, 41], [Property: Topic.IsLegacy (bool) Required Index ValueGenerated.OnAdd, 42], [Property: Topic.LastModifiedAt (DateTime?), 43], [Property: Topic.LastModifiedBy (string), 44], [Property: Topic.MaxStudents (int) Required ValueGenerated.OnAdd, 45], [Property: Topic.Objectives (string), 46], [Property: Topic.PotentialDuplicate (string), 47], [Property: Topic.Problem (string), 48], [Property: Topic.SemesterId (int) Required FK Index, 49], [Property: Topic.SupervisorId (int) Required FK Index, 50], [Property: Topic.VN_title (string), 51] }
                3 -> Dictionary<IProperty, int> { [Property: TopicVersion.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 52], [Property: TopicVersion.Content (string), 53], [Property: TopicVersion.Context (string), 54], [Property: TopicVersion.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 55], [Property: TopicVersion.CreatedBy (string), 56], [Property: TopicVersion.DeletedAt (DateTime?), 57], [Property: TopicVersion.Description (string), 58], [Property: TopicVersion.DocumentUrl (string) MaxLength(500), 59], [Property: TopicVersion.EN_Title (string) Required MaxLength(500), 60], [Property: TopicVersion.ExpectedOutcomes (string), 61], [Property: TopicVersion.IsActive (bool) Required, 62], [Property: TopicVersion.LastModifiedAt (DateTime?), 63], [Property: TopicVersion.LastModifiedBy (string), 64], [Property: TopicVersion.Methodology (string), 65], [Property: TopicVersion.Objectives (string), 66], [Property: TopicVersion.PotentialDuplicate (string), 67], [Property: TopicVersion.Problem (string), 68], [Property: TopicVersion.Requirements (string), 69], [Property: TopicVersion.Status (TopicStatus) Required Index ValueGenerated.OnAdd, 70], [Property: TopicVersion.SubmittedAt (DateTime?), 71], [Property: TopicVersion.SubmittedBy (int?) FK Index, 72], [Property: TopicVersion.TopicId (int) Required FK Index, 73], [Property: TopicVersion.VN_title (string), 74], [Property: TopicVersion.VersionNumber (int) Required Index, 75] }
                4 -> Dictionary<IProperty, int> { [Property: Topic.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 76], [Property: Topic.Abbreviation (string), 77], [Property: Topic.CategoryId (int?) FK Index, 78], [Property: Topic.Content (string), 79], [Property: Topic.Context (string), 80], [Property: Topic.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 81], [Property: Topic.CreatedBy (string), 82], [Property: Topic.DeletedAt (DateTime?), 83], [Property: Topic.Description (string), 84], [Property: Topic.EN_Title (string) Required MaxLength(500), 85], [Property: Topic.IsActive (bool) Required, 86], [Property: Topic.IsApproved (bool) Required Index Sentinel:True ValueGenerated.OnAdd, 87], [Property: Topic.IsLegacy (bool) Required Index ValueGenerated.OnAdd, 88], [Property: Topic.LastModifiedAt (DateTime?), 89], [Property: Topic.LastModifiedBy (string), 90], [Property: Topic.MaxStudents (int) Required ValueGenerated.OnAdd, 91], [Property: Topic.Objectives (string), 92], [Property: Topic.PotentialDuplicate (string), 93], [Property: Topic.Problem (string), 94], [Property: Topic.SemesterId (int) Required FK Index, 95], [Property: Topic.SupervisorId (int) Required FK Index, 96], [Property: Topic.VN_title (string), 97] }
                5 -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 98], [Property: User.AccessFailedCount (int) Required, 99], [Property: User.ConcurrencyStamp (string), 100], [Property: User.CreatedAt (DateTime) Required, 101], [Property: User.DeletedAt (DateTime?), 102], [Property: User.Email (string), 103], [Property: User.EmailConfirmed (bool) Required, 104], [Property: User.LastModifiedAt (DateTime) Required, 105], [Property: User.LastModifiedBy (string), 106], [Property: User.LockoutEnabled (bool) Required, 107], [Property: User.LockoutEnd (DateTimeOffset?), 108], [Property: User.NormalizedEmail (string), 109], [Property: User.NormalizedUserName (string), 110], [Property: User.PasswordHash (string), 111], [Property: User.PhoneNumber (string), 112], [Property: User.PhoneNumberConfirmed (bool) Required, 113], [Property: User.SecurityStamp (string), 114], [Property: User.TwoFactorEnabled (bool) Required, 115], [Property: User.UserName (string), 116] }
                6 -> Dictionary<IProperty, int> { [Property: Phase.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 117], [Property: Phase.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 118], [Property: Phase.CreatedBy (string), 119], [Property: Phase.DeletedAt (DateTime?), 120], [Property: Phase.EndDate (DateTime) Required, 121], [Property: Phase.IsActive (bool) Required Index Sentinel:True ValueGenerated.OnAdd, 122], [Property: Phase.LastModifiedAt (DateTime?), 123], [Property: Phase.LastModifiedBy (string), 124], [Property: Phase.Name (string) Required MaxLength(100), 125], [Property: Phase.PhaseTypeId (int) Required FK Index, 126], [Property: Phase.SemesterId (int) Required FK Index, 127], [Property: Phase.StartDate (DateTime) Required, 128], [Property: Phase.SubmissionDeadline (DateTime?), 129] }
                7 -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 130], [Property: User.AccessFailedCount (int) Required, 131], [Property: User.ConcurrencyStamp (string), 132], [Property: User.CreatedAt (DateTime) Required, 133], [Property: User.DeletedAt (DateTime?), 134], [Property: User.Email (string), 135], [Property: User.EmailConfirmed (bool) Required, 136], [Property: User.LastModifiedAt (DateTime) Required, 137], [Property: User.LastModifiedBy (string), 138], [Property: User.LockoutEnabled (bool) Required, 139], [Property: User.LockoutEnd (DateTimeOffset?), 140], [Property: User.NormalizedEmail (string), 141], [Property: User.NormalizedUserName (string), 142], [Property: User.PasswordHash (string), 143], [Property: User.PhoneNumber (string), 144], [Property: User.PhoneNumberConfirmed (bool) Required, 145], [Property: User.SecurityStamp (string), 146], [Property: User.TwoFactorEnabled (bool) Required, 147], [Property: User.UserName (string), 148] }
                8 -> 0
                9 -> 11
                10 -> 30
                11 -> 52
                12 -> 76
                13 -> 98
                14 -> 117
                15 -> 130
                16 -> Dictionary<IProperty, int> { [Property: Review.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 149], [Property: Review.AssignmentId (int) Required FK Index, 150], [Property: Review.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 151], [Property: Review.CreatedBy (string), 152], [Property: Review.DeletedAt (DateTime?), 153], [Property: Review.IsActive (bool) Required, 154], [Property: Review.LastModifiedAt (DateTime?), 155], [Property: Review.LastModifiedBy (string), 156], [Property: Review.OverallComment (string), 157], [Property: Review.OverallScore (decimal?), 158], [Property: Review.Recommendation (ReviewRecommendations) Required Index ValueGenerated.OnAdd, 159], [Property: Review.Status (ReviewStatus) Required Index ValueGenerated.OnAdd, 160], [Property: Review.SubmittedAt (DateTime?) Index, 161], [Property: Review.TimeSpentMinutes (int?), 162] }
                17 -> 149
            SELECT t2.Id, t2.AssignedAt, t2.AssignedBy, t2.AssignmentType, t2.CompletedAt, t2.Deadline, t2.ReviewerId, t2.SkillMatchScore, t2.StartedAt, t2.Status, t2.SubmissionId, t2.Id0, t2.AdditionalNotes, t2.AiCheckDetails, t2.AiCheckScore, t2.AiCheckStatus, t2.CreatedAt, t2.CreatedBy, t2.DeletedAt, t2.DocumentUrl, t2.IsActive, t2.LastModifiedAt, t2.LastModifiedBy, t2.PhaseId, t2.Status0, t2.SubmissionRound, t2.SubmittedAt, t2.SubmittedBy, t2.TopicId, t2.TopicVersionId, t2.Id1, t2.Abbreviation, t2.CategoryId, t2.Content, t2.Context, t2.CreatedAt0, t2.CreatedBy0, t2.DeletedAt0, t2.Description, t2.EN_Title, t2.IsActive0, t2.IsApproved, t2.IsLegacy, t2.LastModifiedAt0, t2.LastModifiedBy0, t2.MaxStudents, t2.Objectives, t2.PotentialDuplicate, t2.Problem, t2.SemesterId, t2.SupervisorId, t2.VN_title, t2.Id2, t2.Content0, t2.Context0, t2.CreatedAt1, t2.CreatedBy1, t2.DeletedAt1, t2.Description0, t2.DocumentUrl0, t2.EN_Title0, t2.ExpectedOutcomes, t2.IsActive1, t2.LastModifiedAt1, t2.LastModifiedBy1, t2.Methodology, t2.Objectives0, t2.PotentialDuplicate0, t2.Problem0, t2.Requirements, t2.Status1, t2.SubmittedAt0, t2.SubmittedBy0, t2.TopicId0, t2.VN_title0, t2.VersionNumber, t2.Id3, t2.Abbreviation0, t2.CategoryId0, t2.Content1, t2.Context1, t2.CreatedAt2, t2.CreatedBy2, t2.DeletedAt2, t2.Description1, t2.EN_Title1, t2.IsActive2, t2.IsApproved0, t2.IsLegacy0, t2.LastModifiedAt2, t2.LastModifiedBy2, t2.MaxStudents0, t2.Objectives1, t2.PotentialDuplicate1, t2.Problem1, t2.SemesterId0, t2.SupervisorId0, t2.VN_title1, t2.Id4, t2.AccessFailedCount, t2.ConcurrencyStamp, t2.CreatedAt3, t2.DeletedAt3, t2.Email, t2.EmailConfirmed, t2.LastModifiedAt3, t2.LastModifiedBy3, t2.LockoutEnabled, t2.LockoutEnd, t2.NormalizedEmail, t2.NormalizedUserName, t2.PasswordHash, t2.PhoneNumber, t2.PhoneNumberConfirmed, t2.SecurityStamp, t2.TwoFactorEnabled, t2.UserName, t2.Id5, t2.CreatedAt4, t2.CreatedBy3, t2.DeletedAt4, t2.EndDate, t2.IsActive3, t2.LastModifiedAt4, t2.LastModifiedBy4, t2.Name, t2.PhaseTypeId, t2.SemesterId1, t2.StartDate, t2.SubmissionDeadline, t2.Id6, t2.AccessFailedCount0, t2.ConcurrencyStamp0, t2.CreatedAt5, t2.DeletedAt5, t2.Email0, t2.EmailConfirmed0, t2.LastModifiedAt5, t2.LastModifiedBy5, t2.LockoutEnabled0, t2.LockoutEnd0, t2.NormalizedEmail0, t2.NormalizedUserName0, t2.PasswordHash0, t2.PhoneNumber0, t2.PhoneNumberConfirmed0, t2.SecurityStamp0, t2.TwoFactorEnabled0, t2.UserName0, r0.Id, r0.AssignmentId, r0.CreatedAt, r0.CreatedBy, r0.DeletedAt, r0.IsActive, r0.LastModifiedAt, r0.LastModifiedBy, r0.OverallComment, r0.OverallScore, r0.Recommendation, r0.Status, r0.SubmittedAt, r0.TimeSpentMinutes
            FROM 
            (
                SELECT TOP(1) r.Id, r.AssignedAt, r.AssignedBy, r.AssignmentType, r.CompletedAt, r.Deadline, r.ReviewerId, r.SkillMatchScore, r.StartedAt, r.Status, r.SubmissionId, s.Id AS Id0, s.AdditionalNotes, s.AiCheckDetails, s.AiCheckScore, s.AiCheckStatus, s.CreatedAt, s.CreatedBy, s.DeletedAt, s.DocumentUrl, s.IsActive, s.LastModifiedAt, s.LastModifiedBy, s.PhaseId, s.Status AS Status0, s.SubmissionRound, s.SubmittedAt, s.SubmittedBy, s.TopicId, s.TopicVersionId, t.Id AS Id1, t.Abbreviation, t.CategoryId, t.Content, t.Context, t.CreatedAt AS CreatedAt0, t.CreatedBy AS CreatedBy0, t.DeletedAt AS DeletedAt0, t.Description, t.EN_Title, t.IsActive AS IsActive0, t.IsApproved, t.IsLegacy, t.LastModifiedAt AS LastModifiedAt0, t.LastModifiedBy AS LastModifiedBy0, t.MaxStudents, t.Objectives, t.PotentialDuplicate, t.Problem, t.SemesterId, t.SupervisorId, t.VN_title, t0.Id AS Id2, t0.Content AS Content0, t0.Context AS Context0, t0.CreatedAt AS CreatedAt1, t0.CreatedBy AS CreatedBy1, t0.DeletedAt AS DeletedAt1, t0.Description AS Description0, t0.DocumentUrl AS DocumentUrl0, t0.EN_Title AS EN_Title0, t0.ExpectedOutcomes, t0.IsActive AS IsActive1, t0.LastModifiedAt AS LastModifiedAt1, t0.LastModifiedBy AS LastModifiedBy1, t0.Methodology, t0.Objectives AS Objectives0, t0.PotentialDuplicate AS PotentialDuplicate0, t0.Problem AS Problem0, t0.Requirements, t0.Status AS Status1, t0.SubmittedAt AS SubmittedAt0, t0.SubmittedBy AS SubmittedBy0, t0.TopicId AS TopicId0, t0.VN_title AS VN_title0, t0.VersionNumber, t1.Id AS Id3, t1.Abbreviation AS Abbreviation0, t1.CategoryId AS CategoryId0, t1.Content AS Content1, t1.Context AS Context1, t1.CreatedAt AS CreatedAt2, t1.CreatedBy AS CreatedBy2, t1.DeletedAt AS DeletedAt2, t1.Description AS Description1, t1.EN_Title AS EN_Title1, t1.IsActive AS IsActive2, t1.IsApproved AS IsApproved0, t1.IsLegacy AS IsLegacy0, t1.LastModifiedAt AS LastModifiedAt2, t1.LastModifiedBy AS LastModifiedBy2, t1.MaxStudents AS MaxStudents0, t1.Objectives AS Objectives1, t1.PotentialDuplicate AS PotentialDuplicate1, t1.Problem AS Problem1, t1.SemesterId AS SemesterId0, t1.SupervisorId AS SupervisorId0, t1.VN_title AS VN_title1, u.Id AS Id4, u.AccessFailedCount, u.ConcurrencyStamp, u.CreatedAt AS CreatedAt3, u.DeletedAt AS DeletedAt3, u.Email, u.EmailConfirmed, u.LastModifiedAt AS LastModifiedAt3, u.LastModifiedBy AS LastModifiedBy3, u.LockoutEnabled, u.LockoutEnd, u.NormalizedEmail, u.NormalizedUserName, u.PasswordHash, u.PhoneNumber, u.PhoneNumberConfirmed, u.SecurityStamp, u.TwoFactorEnabled, u.UserName, p.Id AS Id5, p.CreatedAt AS CreatedAt4, p.CreatedBy AS CreatedBy3, p.DeletedAt AS DeletedAt4, p.EndDate, p.IsActive AS IsActive3, p.LastModifiedAt AS LastModifiedAt4, p.LastModifiedBy AS LastModifiedBy4, p.Name, p.PhaseTypeId, p.SemesterId AS SemesterId1, p.StartDate, p.SubmissionDeadline, u0.Id AS Id6, u0.AccessFailedCount AS AccessFailedCount0, u0.ConcurrencyStamp AS ConcurrencyStamp0, u0.CreatedAt AS CreatedAt5, u0.DeletedAt AS DeletedAt5, u0.Email AS Email0, u0.EmailConfirmed AS EmailConfirmed0, u0.LastModifiedAt AS LastModifiedAt5, u0.LastModifiedBy AS LastModifiedBy5, u0.LockoutEnabled AS LockoutEnabled0, u0.LockoutEnd AS LockoutEnd0, u0.NormalizedEmail AS NormalizedEmail0, u0.NormalizedUserName AS NormalizedUserName0, u0.PasswordHash AS PasswordHash0, u0.PhoneNumber AS PhoneNumber0, u0.PhoneNumberConfirmed AS PhoneNumberConfirmed0, u0.SecurityStamp AS SecurityStamp0, u0.TwoFactorEnabled AS TwoFactorEnabled0, u0.UserName AS UserName0
                FROM reviewer_assignments AS r
                INNER JOIN submissions AS s ON r.SubmissionId == s.Id
                LEFT JOIN topics AS t ON s.TopicId == t.Id
                LEFT JOIN topic_versions AS t0 ON s.TopicVersionId == t0.Id
                LEFT JOIN topics AS t1 ON t0.TopicId == t1.Id
                INNER JOIN users AS u ON s.SubmittedBy == u.Id
                INNER JOIN phases AS p ON s.PhaseId == p.Id
                INNER JOIN users AS u0 ON r.ReviewerId == u0.Id
                WHERE r.Id == @__assignmentId_0
            ) AS t2
            LEFT JOIN reviews AS r0 ON t2.Id == r0.AssignmentId
            ORDER BY t2.Id ASC, t2.Id0 ASC, t2.Id1 ASC, t2.Id2 ASC, t2.Id3 ASC, t2.Id4 ASC, t2.Id5 ASC, t2.Id6 ASC), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ReviewerAssignment>, 
        App.DAL.Context.MyDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-10-03 18:09:54.897 +07:00 [DBG] Creating DbConnection.
2025-10-03 18:09:54.897 +07:00 [DBG] Created DbConnection. (0ms).
2025-10-03 18:09:54.897 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:09:54.897 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:09:54.897 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 18:09:54.897 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:09:54.897 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:09:54.897 +07:00 [DBG] Executing DbCommand [Parameters=[@__assignmentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t2].[Id], [t2].[AssignedAt], [t2].[AssignedBy], [t2].[AssignmentType], [t2].[CompletedAt], [t2].[Deadline], [t2].[ReviewerId], [t2].[SkillMatchScore], [t2].[StartedAt], [t2].[Status], [t2].[SubmissionId], [t2].[Id0], [t2].[AdditionalNotes], [t2].[AiCheckDetails], [t2].[AiCheckScore], [t2].[AiCheckStatus], [t2].[CreatedAt], [t2].[CreatedBy], [t2].[DeletedAt], [t2].[DocumentUrl], [t2].[IsActive], [t2].[LastModifiedAt], [t2].[LastModifiedBy], [t2].[PhaseId], [t2].[Status0], [t2].[SubmissionRound], [t2].[SubmittedAt], [t2].[SubmittedBy], [t2].[TopicId], [t2].[TopicVersionId], [t2].[Id1], [t2].[Abbreviation], [t2].[CategoryId], [t2].[Content], [t2].[Context], [t2].[CreatedAt0], [t2].[CreatedBy0], [t2].[DeletedAt0], [t2].[Description], [t2].[EN_Title], [t2].[IsActive0], [t2].[IsApproved], [t2].[IsLegacy], [t2].[LastModifiedAt0], [t2].[LastModifiedBy0], [t2].[MaxStudents], [t2].[Objectives], [t2].[PotentialDuplicate], [t2].[Problem], [t2].[SemesterId], [t2].[SupervisorId], [t2].[VN_title], [t2].[Id2], [t2].[Content0], [t2].[Context0], [t2].[CreatedAt1], [t2].[CreatedBy1], [t2].[DeletedAt1], [t2].[Description0], [t2].[DocumentUrl0], [t2].[EN_Title0], [t2].[ExpectedOutcomes], [t2].[IsActive1], [t2].[LastModifiedAt1], [t2].[LastModifiedBy1], [t2].[Methodology], [t2].[Objectives0], [t2].[PotentialDuplicate0], [t2].[Problem0], [t2].[Requirements], [t2].[Status1], [t2].[SubmittedAt0], [t2].[SubmittedBy0], [t2].[TopicId0], [t2].[VN_title0], [t2].[VersionNumber], [t2].[Id3], [t2].[Abbreviation0], [t2].[CategoryId0], [t2].[Content1], [t2].[Context1], [t2].[CreatedAt2], [t2].[CreatedBy2], [t2].[DeletedAt2], [t2].[Description1], [t2].[EN_Title1], [t2].[IsActive2], [t2].[IsApproved0], [t2].[IsLegacy0], [t2].[LastModifiedAt2], [t2].[LastModifiedBy2], [t2].[MaxStudents0], [t2].[Objectives1], [t2].[PotentialDuplicate1], [t2].[Problem1], [t2].[SemesterId0], [t2].[SupervisorId0], [t2].[VN_title1], [t2].[Id4], [t2].[AccessFailedCount], [t2].[ConcurrencyStamp], [t2].[CreatedAt3], [t2].[DeletedAt3], [t2].[Email], [t2].[EmailConfirmed], [t2].[LastModifiedAt3], [t2].[LastModifiedBy3], [t2].[LockoutEnabled], [t2].[LockoutEnd], [t2].[NormalizedEmail], [t2].[NormalizedUserName], [t2].[PasswordHash], [t2].[PhoneNumber], [t2].[PhoneNumberConfirmed], [t2].[SecurityStamp], [t2].[TwoFactorEnabled], [t2].[UserName], [t2].[Id5], [t2].[CreatedAt4], [t2].[CreatedBy3], [t2].[DeletedAt4], [t2].[EndDate], [t2].[IsActive3], [t2].[LastModifiedAt4], [t2].[LastModifiedBy4], [t2].[Name], [t2].[PhaseTypeId], [t2].[SemesterId1], [t2].[StartDate], [t2].[SubmissionDeadline], [t2].[Id6], [t2].[AccessFailedCount0], [t2].[ConcurrencyStamp0], [t2].[CreatedAt5], [t2].[DeletedAt5], [t2].[Email0], [t2].[EmailConfirmed0], [t2].[LastModifiedAt5], [t2].[LastModifiedBy5], [t2].[LockoutEnabled0], [t2].[LockoutEnd0], [t2].[NormalizedEmail0], [t2].[NormalizedUserName0], [t2].[PasswordHash0], [t2].[PhoneNumber0], [t2].[PhoneNumberConfirmed0], [t2].[SecurityStamp0], [t2].[TwoFactorEnabled0], [t2].[UserName0], [r0].[Id], [r0].[AssignmentId], [r0].[CreatedAt], [r0].[CreatedBy], [r0].[DeletedAt], [r0].[IsActive], [r0].[LastModifiedAt], [r0].[LastModifiedBy], [r0].[OverallComment], [r0].[OverallScore], [r0].[Recommendation], [r0].[Status], [r0].[SubmittedAt], [r0].[TimeSpentMinutes]
FROM (
    SELECT TOP(1) [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId], [s].[Id] AS [Id0], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status] AS [Status0], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id] AS [Id1], [t].[Abbreviation], [t].[CategoryId], [t].[Content], [t].[Context], [t].[CreatedAt] AS [CreatedAt0], [t].[CreatedBy] AS [CreatedBy0], [t].[DeletedAt] AS [DeletedAt0], [t].[Description], [t].[EN_Title], [t].[IsActive] AS [IsActive0], [t].[IsApproved], [t].[IsLegacy], [t].[LastModifiedAt] AS [LastModifiedAt0], [t].[LastModifiedBy] AS [LastModifiedBy0], [t].[MaxStudents], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[SemesterId], [t].[SupervisorId], [t].[VN_title], [t0].[Id] AS [Id2], [t0].[Content] AS [Content0], [t0].[Context] AS [Context0], [t0].[CreatedAt] AS [CreatedAt1], [t0].[CreatedBy] AS [CreatedBy1], [t0].[DeletedAt] AS [DeletedAt1], [t0].[Description] AS [Description0], [t0].[DocumentUrl] AS [DocumentUrl0], [t0].[EN_Title] AS [EN_Title0], [t0].[ExpectedOutcomes], [t0].[IsActive] AS [IsActive1], [t0].[LastModifiedAt] AS [LastModifiedAt1], [t0].[LastModifiedBy] AS [LastModifiedBy1], [t0].[Methodology], [t0].[Objectives] AS [Objectives0], [t0].[PotentialDuplicate] AS [PotentialDuplicate0], [t0].[Problem] AS [Problem0], [t0].[Requirements], [t0].[Status] AS [Status1], [t0].[SubmittedAt] AS [SubmittedAt0], [t0].[SubmittedBy] AS [SubmittedBy0], [t0].[TopicId] AS [TopicId0], [t0].[VN_title] AS [VN_title0], [t0].[VersionNumber], [t1].[Id] AS [Id3], [t1].[Abbreviation] AS [Abbreviation0], [t1].[CategoryId] AS [CategoryId0], [t1].[Content] AS [Content1], [t1].[Context] AS [Context1], [t1].[CreatedAt] AS [CreatedAt2], [t1].[CreatedBy] AS [CreatedBy2], [t1].[DeletedAt] AS [DeletedAt2], [t1].[Description] AS [Description1], [t1].[EN_Title] AS [EN_Title1], [t1].[IsActive] AS [IsActive2], [t1].[IsApproved] AS [IsApproved0], [t1].[IsLegacy] AS [IsLegacy0], [t1].[LastModifiedAt] AS [LastModifiedAt2], [t1].[LastModifiedBy] AS [LastModifiedBy2], [t1].[MaxStudents] AS [MaxStudents0], [t1].[Objectives] AS [Objectives1], [t1].[PotentialDuplicate] AS [PotentialDuplicate1], [t1].[Problem] AS [Problem1], [t1].[SemesterId] AS [SemesterId0], [t1].[SupervisorId] AS [SupervisorId0], [t1].[VN_title] AS [VN_title1], [u].[Id] AS [Id4], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt] AS [CreatedAt3], [u].[DeletedAt] AS [DeletedAt3], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt] AS [LastModifiedAt3], [u].[LastModifiedBy] AS [LastModifiedBy3], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [p].[Id] AS [Id5], [p].[CreatedAt] AS [CreatedAt4], [p].[CreatedBy] AS [CreatedBy3], [p].[DeletedAt] AS [DeletedAt4], [p].[EndDate], [p].[IsActive] AS [IsActive3], [p].[LastModifiedAt] AS [LastModifiedAt4], [p].[LastModifiedBy] AS [LastModifiedBy4], [p].[Name], [p].[PhaseTypeId], [p].[SemesterId] AS [SemesterId1], [p].[StartDate], [p].[SubmissionDeadline], [u0].[Id] AS [Id6], [u0].[AccessFailedCount] AS [AccessFailedCount0], [u0].[ConcurrencyStamp] AS [ConcurrencyStamp0], [u0].[CreatedAt] AS [CreatedAt5], [u0].[DeletedAt] AS [DeletedAt5], [u0].[Email] AS [Email0], [u0].[EmailConfirmed] AS [EmailConfirmed0], [u0].[LastModifiedAt] AS [LastModifiedAt5], [u0].[LastModifiedBy] AS [LastModifiedBy5], [u0].[LockoutEnabled] AS [LockoutEnabled0], [u0].[LockoutEnd] AS [LockoutEnd0], [u0].[NormalizedEmail] AS [NormalizedEmail0], [u0].[NormalizedUserName] AS [NormalizedUserName0], [u0].[PasswordHash] AS [PasswordHash0], [u0].[PhoneNumber] AS [PhoneNumber0], [u0].[PhoneNumberConfirmed] AS [PhoneNumberConfirmed0], [u0].[SecurityStamp] AS [SecurityStamp0], [u0].[TwoFactorEnabled] AS [TwoFactorEnabled0], [u0].[UserName] AS [UserName0]
    FROM [reviewer_assignments] AS [r]
    INNER JOIN [submissions] AS [s] ON [r].[SubmissionId] = [s].[Id]
    LEFT JOIN [topics] AS [t] ON [s].[TopicId] = [t].[Id]
    LEFT JOIN [topic_versions] AS [t0] ON [s].[TopicVersionId] = [t0].[Id]
    LEFT JOIN [topics] AS [t1] ON [t0].[TopicId] = [t1].[Id]
    INNER JOIN [users] AS [u] ON [s].[SubmittedBy] = [u].[Id]
    INNER JOIN [phases] AS [p] ON [s].[PhaseId] = [p].[Id]
    INNER JOIN [users] AS [u0] ON [r].[ReviewerId] = [u0].[Id]
    WHERE [r].[Id] = @__assignmentId_0
) AS [t2]
LEFT JOIN [reviews] AS [r0] ON [t2].[Id] = [r0].[AssignmentId]
ORDER BY [t2].[Id], [t2].[Id0], [t2].[Id1], [t2].[Id2], [t2].[Id3], [t2].[Id4], [t2].[Id5], [t2].[Id6]
2025-10-03 18:09:54.930 +07:00 [INF] Executed DbCommand (32ms) [Parameters=[@__assignmentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t2].[Id], [t2].[AssignedAt], [t2].[AssignedBy], [t2].[AssignmentType], [t2].[CompletedAt], [t2].[Deadline], [t2].[ReviewerId], [t2].[SkillMatchScore], [t2].[StartedAt], [t2].[Status], [t2].[SubmissionId], [t2].[Id0], [t2].[AdditionalNotes], [t2].[AiCheckDetails], [t2].[AiCheckScore], [t2].[AiCheckStatus], [t2].[CreatedAt], [t2].[CreatedBy], [t2].[DeletedAt], [t2].[DocumentUrl], [t2].[IsActive], [t2].[LastModifiedAt], [t2].[LastModifiedBy], [t2].[PhaseId], [t2].[Status0], [t2].[SubmissionRound], [t2].[SubmittedAt], [t2].[SubmittedBy], [t2].[TopicId], [t2].[TopicVersionId], [t2].[Id1], [t2].[Abbreviation], [t2].[CategoryId], [t2].[Content], [t2].[Context], [t2].[CreatedAt0], [t2].[CreatedBy0], [t2].[DeletedAt0], [t2].[Description], [t2].[EN_Title], [t2].[IsActive0], [t2].[IsApproved], [t2].[IsLegacy], [t2].[LastModifiedAt0], [t2].[LastModifiedBy0], [t2].[MaxStudents], [t2].[Objectives], [t2].[PotentialDuplicate], [t2].[Problem], [t2].[SemesterId], [t2].[SupervisorId], [t2].[VN_title], [t2].[Id2], [t2].[Content0], [t2].[Context0], [t2].[CreatedAt1], [t2].[CreatedBy1], [t2].[DeletedAt1], [t2].[Description0], [t2].[DocumentUrl0], [t2].[EN_Title0], [t2].[ExpectedOutcomes], [t2].[IsActive1], [t2].[LastModifiedAt1], [t2].[LastModifiedBy1], [t2].[Methodology], [t2].[Objectives0], [t2].[PotentialDuplicate0], [t2].[Problem0], [t2].[Requirements], [t2].[Status1], [t2].[SubmittedAt0], [t2].[SubmittedBy0], [t2].[TopicId0], [t2].[VN_title0], [t2].[VersionNumber], [t2].[Id3], [t2].[Abbreviation0], [t2].[CategoryId0], [t2].[Content1], [t2].[Context1], [t2].[CreatedAt2], [t2].[CreatedBy2], [t2].[DeletedAt2], [t2].[Description1], [t2].[EN_Title1], [t2].[IsActive2], [t2].[IsApproved0], [t2].[IsLegacy0], [t2].[LastModifiedAt2], [t2].[LastModifiedBy2], [t2].[MaxStudents0], [t2].[Objectives1], [t2].[PotentialDuplicate1], [t2].[Problem1], [t2].[SemesterId0], [t2].[SupervisorId0], [t2].[VN_title1], [t2].[Id4], [t2].[AccessFailedCount], [t2].[ConcurrencyStamp], [t2].[CreatedAt3], [t2].[DeletedAt3], [t2].[Email], [t2].[EmailConfirmed], [t2].[LastModifiedAt3], [t2].[LastModifiedBy3], [t2].[LockoutEnabled], [t2].[LockoutEnd], [t2].[NormalizedEmail], [t2].[NormalizedUserName], [t2].[PasswordHash], [t2].[PhoneNumber], [t2].[PhoneNumberConfirmed], [t2].[SecurityStamp], [t2].[TwoFactorEnabled], [t2].[UserName], [t2].[Id5], [t2].[CreatedAt4], [t2].[CreatedBy3], [t2].[DeletedAt4], [t2].[EndDate], [t2].[IsActive3], [t2].[LastModifiedAt4], [t2].[LastModifiedBy4], [t2].[Name], [t2].[PhaseTypeId], [t2].[SemesterId1], [t2].[StartDate], [t2].[SubmissionDeadline], [t2].[Id6], [t2].[AccessFailedCount0], [t2].[ConcurrencyStamp0], [t2].[CreatedAt5], [t2].[DeletedAt5], [t2].[Email0], [t2].[EmailConfirmed0], [t2].[LastModifiedAt5], [t2].[LastModifiedBy5], [t2].[LockoutEnabled0], [t2].[LockoutEnd0], [t2].[NormalizedEmail0], [t2].[NormalizedUserName0], [t2].[PasswordHash0], [t2].[PhoneNumber0], [t2].[PhoneNumberConfirmed0], [t2].[SecurityStamp0], [t2].[TwoFactorEnabled0], [t2].[UserName0], [r0].[Id], [r0].[AssignmentId], [r0].[CreatedAt], [r0].[CreatedBy], [r0].[DeletedAt], [r0].[IsActive], [r0].[LastModifiedAt], [r0].[LastModifiedBy], [r0].[OverallComment], [r0].[OverallScore], [r0].[Recommendation], [r0].[Status], [r0].[SubmittedAt], [r0].[TimeSpentMinutes]
FROM (
    SELECT TOP(1) [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId], [s].[Id] AS [Id0], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status] AS [Status0], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id] AS [Id1], [t].[Abbreviation], [t].[CategoryId], [t].[Content], [t].[Context], [t].[CreatedAt] AS [CreatedAt0], [t].[CreatedBy] AS [CreatedBy0], [t].[DeletedAt] AS [DeletedAt0], [t].[Description], [t].[EN_Title], [t].[IsActive] AS [IsActive0], [t].[IsApproved], [t].[IsLegacy], [t].[LastModifiedAt] AS [LastModifiedAt0], [t].[LastModifiedBy] AS [LastModifiedBy0], [t].[MaxStudents], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[SemesterId], [t].[SupervisorId], [t].[VN_title], [t0].[Id] AS [Id2], [t0].[Content] AS [Content0], [t0].[Context] AS [Context0], [t0].[CreatedAt] AS [CreatedAt1], [t0].[CreatedBy] AS [CreatedBy1], [t0].[DeletedAt] AS [DeletedAt1], [t0].[Description] AS [Description0], [t0].[DocumentUrl] AS [DocumentUrl0], [t0].[EN_Title] AS [EN_Title0], [t0].[ExpectedOutcomes], [t0].[IsActive] AS [IsActive1], [t0].[LastModifiedAt] AS [LastModifiedAt1], [t0].[LastModifiedBy] AS [LastModifiedBy1], [t0].[Methodology], [t0].[Objectives] AS [Objectives0], [t0].[PotentialDuplicate] AS [PotentialDuplicate0], [t0].[Problem] AS [Problem0], [t0].[Requirements], [t0].[Status] AS [Status1], [t0].[SubmittedAt] AS [SubmittedAt0], [t0].[SubmittedBy] AS [SubmittedBy0], [t0].[TopicId] AS [TopicId0], [t0].[VN_title] AS [VN_title0], [t0].[VersionNumber], [t1].[Id] AS [Id3], [t1].[Abbreviation] AS [Abbreviation0], [t1].[CategoryId] AS [CategoryId0], [t1].[Content] AS [Content1], [t1].[Context] AS [Context1], [t1].[CreatedAt] AS [CreatedAt2], [t1].[CreatedBy] AS [CreatedBy2], [t1].[DeletedAt] AS [DeletedAt2], [t1].[Description] AS [Description1], [t1].[EN_Title] AS [EN_Title1], [t1].[IsActive] AS [IsActive2], [t1].[IsApproved] AS [IsApproved0], [t1].[IsLegacy] AS [IsLegacy0], [t1].[LastModifiedAt] AS [LastModifiedAt2], [t1].[LastModifiedBy] AS [LastModifiedBy2], [t1].[MaxStudents] AS [MaxStudents0], [t1].[Objectives] AS [Objectives1], [t1].[PotentialDuplicate] AS [PotentialDuplicate1], [t1].[Problem] AS [Problem1], [t1].[SemesterId] AS [SemesterId0], [t1].[SupervisorId] AS [SupervisorId0], [t1].[VN_title] AS [VN_title1], [u].[Id] AS [Id4], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt] AS [CreatedAt3], [u].[DeletedAt] AS [DeletedAt3], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt] AS [LastModifiedAt3], [u].[LastModifiedBy] AS [LastModifiedBy3], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [p].[Id] AS [Id5], [p].[CreatedAt] AS [CreatedAt4], [p].[CreatedBy] AS [CreatedBy3], [p].[DeletedAt] AS [DeletedAt4], [p].[EndDate], [p].[IsActive] AS [IsActive3], [p].[LastModifiedAt] AS [LastModifiedAt4], [p].[LastModifiedBy] AS [LastModifiedBy4], [p].[Name], [p].[PhaseTypeId], [p].[SemesterId] AS [SemesterId1], [p].[StartDate], [p].[SubmissionDeadline], [u0].[Id] AS [Id6], [u0].[AccessFailedCount] AS [AccessFailedCount0], [u0].[ConcurrencyStamp] AS [ConcurrencyStamp0], [u0].[CreatedAt] AS [CreatedAt5], [u0].[DeletedAt] AS [DeletedAt5], [u0].[Email] AS [Email0], [u0].[EmailConfirmed] AS [EmailConfirmed0], [u0].[LastModifiedAt] AS [LastModifiedAt5], [u0].[LastModifiedBy] AS [LastModifiedBy5], [u0].[LockoutEnabled] AS [LockoutEnabled0], [u0].[LockoutEnd] AS [LockoutEnd0], [u0].[NormalizedEmail] AS [NormalizedEmail0], [u0].[NormalizedUserName] AS [NormalizedUserName0], [u0].[PasswordHash] AS [PasswordHash0], [u0].[PhoneNumber] AS [PhoneNumber0], [u0].[PhoneNumberConfirmed] AS [PhoneNumberConfirmed0], [u0].[SecurityStamp] AS [SecurityStamp0], [u0].[TwoFactorEnabled] AS [TwoFactorEnabled0], [u0].[UserName] AS [UserName0]
    FROM [reviewer_assignments] AS [r]
    INNER JOIN [submissions] AS [s] ON [r].[SubmissionId] = [s].[Id]
    LEFT JOIN [topics] AS [t] ON [s].[TopicId] = [t].[Id]
    LEFT JOIN [topic_versions] AS [t0] ON [s].[TopicVersionId] = [t0].[Id]
    LEFT JOIN [topics] AS [t1] ON [t0].[TopicId] = [t1].[Id]
    INNER JOIN [users] AS [u] ON [s].[SubmittedBy] = [u].[Id]
    INNER JOIN [phases] AS [p] ON [s].[PhaseId] = [p].[Id]
    INNER JOIN [users] AS [u0] ON [r].[ReviewerId] = [u0].[Id]
    WHERE [r].[Id] = @__assignmentId_0
) AS [t2]
LEFT JOIN [reviews] AS [r0] ON [t2].[Id] = [r0].[AssignmentId]
ORDER BY [t2].[Id], [t2].[Id0], [t2].[Id1], [t2].[Id2], [t2].[Id3], [t2].[Id4], [t2].[Id5], [t2].[Id6]
2025-10-03 18:09:54.930 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 18:09:54.932 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 1ms reading results.
2025-10-03 18:09:54.932 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:09:54.932 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 18:09:54.932 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-10-03 18:09:54.933 +07:00 [DBG] No information found on request to perform content negotiation.
2025-10-03 18:09:54.933 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-10-03 18:09:54.933 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-10-03 18:09:54.935 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-10-03 18:09:54.935 +07:00 [INF] Executing ObjectResult, writing value of type 'FS.Commons.FSResponse'.
2025-10-03 18:09:54.937 +07:00 [INF] Executed action CapBot.api.Controllers.ReviewerAssignmentController.GetAssignmentDetails (CapBot.api) in 154.6444ms
2025-10-03 18:09:54.937 +07:00 [INF] Executed endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetAssignmentDetails (CapBot.api)'
2025-10-03 18:09:54.937 +07:00 [DBG] Connection id "0HNG2DJLF053O" completed keep alive response.
2025-10-03 18:09:54.938 +07:00 [DBG] 'MyDbContext' disposed.
2025-10-03 18:09:54.938 +07:00 [DBG] Disposing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:09:54.938 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-10-03 18:09:54.938 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5207/api/reviewer-assignments/30/details - 404 null application/json; charset=utf-8 185.9487ms
2025-10-03 18:10:12.861 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5207/api/reviewer-assignments/31/details - null null
2025-10-03 18:10:12.861 +07:00 [DBG] The request path /api/reviewer-assignments/31/details does not match a supported file type
2025-10-03 18:10:12.861 +07:00 [DBG] The request path /api/reviewer-assignments/31/details does not match a supported file type
2025-10-03 18:10:12.866 +07:00 [DBG] 1 candidate(s) found for the request path '/api/reviewer-assignments/31/details'
2025-10-03 18:10:12.867 +07:00 [DBG] Endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetAssignmentDetails (CapBot.api)' with route pattern 'api/reviewer-assignments/{assignmentId}/details' is valid for the request path '/api/reviewer-assignments/31/details'
2025-10-03 18:10:12.867 +07:00 [DBG] Request matched endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetAssignmentDetails (CapBot.api)'
2025-10-03 18:10:12.871 +07:00 [DBG] Successfully validated the token.
2025-10-03 18:10:12.871 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-10-03 18:10:12.876 +07:00 [DBG] Authorization was successful.
2025-10-03 18:10:12.876 +07:00 [INF] Executing endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetAssignmentDetails (CapBot.api)'
2025-10-03 18:10:12.877 +07:00 [INF] Route matched with {action = "GetAssignmentDetails", controller = "ReviewerAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAssignmentDetails(Int32) on controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api).
2025-10-03 18:10:12.877 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-10-03 18:10:12.877 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-10-03 18:10:12.877 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2025-10-03 18:10:12.878 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-10-03 18:10:12.878 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-10-03 18:10:12.878 +07:00 [DBG] Executing controller factory for controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api)
2025-10-03 18:10:12.879 +07:00 [DBG] Executed controller factory for controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api)
2025-10-03 18:10:12.882 +07:00 [DBG] Attempting to bind parameter 'assignmentId' of type 'System.Int32' ...
2025-10-03 18:10:12.883 +07:00 [DBG] Attempting to bind parameter 'assignmentId' of type 'System.Int32' using the name 'assignmentId' in request data ...
2025-10-03 18:10:12.883 +07:00 [DBG] Done attempting to bind parameter 'assignmentId' of type 'System.Int32'.
2025-10-03 18:10:12.883 +07:00 [DBG] Done attempting to bind parameter 'assignmentId' of type 'System.Int32'.
2025-10-03 18:10:12.883 +07:00 [DBG] Attempting to validate the bound parameter 'assignmentId' of type 'System.Int32' ...
2025-10-03 18:10:12.883 +07:00 [DBG] Done attempting to validate the bound parameter 'assignmentId' of type 'System.Int32'.
2025-10-03 18:10:12.885 +07:00 [DBG] Entity Framework Core 8.0.16 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: MigrationsAssembly=App.DAL 
2025-10-03 18:10:12.885 +07:00 [DBG] Creating DbConnection.
2025-10-03 18:10:12.886 +07:00 [DBG] Created DbConnection. (0ms).
2025-10-03 18:10:12.886 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:10:12.886 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:10:12.886 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 18:10:12.886 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:10:12.886 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:10:12.886 +07:00 [DBG] Executing DbCommand [Parameters=[@__assignmentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t2].[Id], [t2].[AssignedAt], [t2].[AssignedBy], [t2].[AssignmentType], [t2].[CompletedAt], [t2].[Deadline], [t2].[ReviewerId], [t2].[SkillMatchScore], [t2].[StartedAt], [t2].[Status], [t2].[SubmissionId], [t2].[Id0], [t2].[AdditionalNotes], [t2].[AiCheckDetails], [t2].[AiCheckScore], [t2].[AiCheckStatus], [t2].[CreatedAt], [t2].[CreatedBy], [t2].[DeletedAt], [t2].[DocumentUrl], [t2].[IsActive], [t2].[LastModifiedAt], [t2].[LastModifiedBy], [t2].[PhaseId], [t2].[Status0], [t2].[SubmissionRound], [t2].[SubmittedAt], [t2].[SubmittedBy], [t2].[TopicId], [t2].[TopicVersionId], [t2].[Id1], [t2].[Abbreviation], [t2].[CategoryId], [t2].[Content], [t2].[Context], [t2].[CreatedAt0], [t2].[CreatedBy0], [t2].[DeletedAt0], [t2].[Description], [t2].[EN_Title], [t2].[IsActive0], [t2].[IsApproved], [t2].[IsLegacy], [t2].[LastModifiedAt0], [t2].[LastModifiedBy0], [t2].[MaxStudents], [t2].[Objectives], [t2].[PotentialDuplicate], [t2].[Problem], [t2].[SemesterId], [t2].[SupervisorId], [t2].[VN_title], [t2].[Id2], [t2].[Content0], [t2].[Context0], [t2].[CreatedAt1], [t2].[CreatedBy1], [t2].[DeletedAt1], [t2].[Description0], [t2].[DocumentUrl0], [t2].[EN_Title0], [t2].[ExpectedOutcomes], [t2].[IsActive1], [t2].[LastModifiedAt1], [t2].[LastModifiedBy1], [t2].[Methodology], [t2].[Objectives0], [t2].[PotentialDuplicate0], [t2].[Problem0], [t2].[Requirements], [t2].[Status1], [t2].[SubmittedAt0], [t2].[SubmittedBy0], [t2].[TopicId0], [t2].[VN_title0], [t2].[VersionNumber], [t2].[Id3], [t2].[Abbreviation0], [t2].[CategoryId0], [t2].[Content1], [t2].[Context1], [t2].[CreatedAt2], [t2].[CreatedBy2], [t2].[DeletedAt2], [t2].[Description1], [t2].[EN_Title1], [t2].[IsActive2], [t2].[IsApproved0], [t2].[IsLegacy0], [t2].[LastModifiedAt2], [t2].[LastModifiedBy2], [t2].[MaxStudents0], [t2].[Objectives1], [t2].[PotentialDuplicate1], [t2].[Problem1], [t2].[SemesterId0], [t2].[SupervisorId0], [t2].[VN_title1], [t2].[Id4], [t2].[AccessFailedCount], [t2].[ConcurrencyStamp], [t2].[CreatedAt3], [t2].[DeletedAt3], [t2].[Email], [t2].[EmailConfirmed], [t2].[LastModifiedAt3], [t2].[LastModifiedBy3], [t2].[LockoutEnabled], [t2].[LockoutEnd], [t2].[NormalizedEmail], [t2].[NormalizedUserName], [t2].[PasswordHash], [t2].[PhoneNumber], [t2].[PhoneNumberConfirmed], [t2].[SecurityStamp], [t2].[TwoFactorEnabled], [t2].[UserName], [t2].[Id5], [t2].[CreatedAt4], [t2].[CreatedBy3], [t2].[DeletedAt4], [t2].[EndDate], [t2].[IsActive3], [t2].[LastModifiedAt4], [t2].[LastModifiedBy4], [t2].[Name], [t2].[PhaseTypeId], [t2].[SemesterId1], [t2].[StartDate], [t2].[SubmissionDeadline], [t2].[Id6], [t2].[AccessFailedCount0], [t2].[ConcurrencyStamp0], [t2].[CreatedAt5], [t2].[DeletedAt5], [t2].[Email0], [t2].[EmailConfirmed0], [t2].[LastModifiedAt5], [t2].[LastModifiedBy5], [t2].[LockoutEnabled0], [t2].[LockoutEnd0], [t2].[NormalizedEmail0], [t2].[NormalizedUserName0], [t2].[PasswordHash0], [t2].[PhoneNumber0], [t2].[PhoneNumberConfirmed0], [t2].[SecurityStamp0], [t2].[TwoFactorEnabled0], [t2].[UserName0], [r0].[Id], [r0].[AssignmentId], [r0].[CreatedAt], [r0].[CreatedBy], [r0].[DeletedAt], [r0].[IsActive], [r0].[LastModifiedAt], [r0].[LastModifiedBy], [r0].[OverallComment], [r0].[OverallScore], [r0].[Recommendation], [r0].[Status], [r0].[SubmittedAt], [r0].[TimeSpentMinutes]
FROM (
    SELECT TOP(1) [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId], [s].[Id] AS [Id0], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status] AS [Status0], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id] AS [Id1], [t].[Abbreviation], [t].[CategoryId], [t].[Content], [t].[Context], [t].[CreatedAt] AS [CreatedAt0], [t].[CreatedBy] AS [CreatedBy0], [t].[DeletedAt] AS [DeletedAt0], [t].[Description], [t].[EN_Title], [t].[IsActive] AS [IsActive0], [t].[IsApproved], [t].[IsLegacy], [t].[LastModifiedAt] AS [LastModifiedAt0], [t].[LastModifiedBy] AS [LastModifiedBy0], [t].[MaxStudents], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[SemesterId], [t].[SupervisorId], [t].[VN_title], [t0].[Id] AS [Id2], [t0].[Content] AS [Content0], [t0].[Context] AS [Context0], [t0].[CreatedAt] AS [CreatedAt1], [t0].[CreatedBy] AS [CreatedBy1], [t0].[DeletedAt] AS [DeletedAt1], [t0].[Description] AS [Description0], [t0].[DocumentUrl] AS [DocumentUrl0], [t0].[EN_Title] AS [EN_Title0], [t0].[ExpectedOutcomes], [t0].[IsActive] AS [IsActive1], [t0].[LastModifiedAt] AS [LastModifiedAt1], [t0].[LastModifiedBy] AS [LastModifiedBy1], [t0].[Methodology], [t0].[Objectives] AS [Objectives0], [t0].[PotentialDuplicate] AS [PotentialDuplicate0], [t0].[Problem] AS [Problem0], [t0].[Requirements], [t0].[Status] AS [Status1], [t0].[SubmittedAt] AS [SubmittedAt0], [t0].[SubmittedBy] AS [SubmittedBy0], [t0].[TopicId] AS [TopicId0], [t0].[VN_title] AS [VN_title0], [t0].[VersionNumber], [t1].[Id] AS [Id3], [t1].[Abbreviation] AS [Abbreviation0], [t1].[CategoryId] AS [CategoryId0], [t1].[Content] AS [Content1], [t1].[Context] AS [Context1], [t1].[CreatedAt] AS [CreatedAt2], [t1].[CreatedBy] AS [CreatedBy2], [t1].[DeletedAt] AS [DeletedAt2], [t1].[Description] AS [Description1], [t1].[EN_Title] AS [EN_Title1], [t1].[IsActive] AS [IsActive2], [t1].[IsApproved] AS [IsApproved0], [t1].[IsLegacy] AS [IsLegacy0], [t1].[LastModifiedAt] AS [LastModifiedAt2], [t1].[LastModifiedBy] AS [LastModifiedBy2], [t1].[MaxStudents] AS [MaxStudents0], [t1].[Objectives] AS [Objectives1], [t1].[PotentialDuplicate] AS [PotentialDuplicate1], [t1].[Problem] AS [Problem1], [t1].[SemesterId] AS [SemesterId0], [t1].[SupervisorId] AS [SupervisorId0], [t1].[VN_title] AS [VN_title1], [u].[Id] AS [Id4], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt] AS [CreatedAt3], [u].[DeletedAt] AS [DeletedAt3], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt] AS [LastModifiedAt3], [u].[LastModifiedBy] AS [LastModifiedBy3], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [p].[Id] AS [Id5], [p].[CreatedAt] AS [CreatedAt4], [p].[CreatedBy] AS [CreatedBy3], [p].[DeletedAt] AS [DeletedAt4], [p].[EndDate], [p].[IsActive] AS [IsActive3], [p].[LastModifiedAt] AS [LastModifiedAt4], [p].[LastModifiedBy] AS [LastModifiedBy4], [p].[Name], [p].[PhaseTypeId], [p].[SemesterId] AS [SemesterId1], [p].[StartDate], [p].[SubmissionDeadline], [u0].[Id] AS [Id6], [u0].[AccessFailedCount] AS [AccessFailedCount0], [u0].[ConcurrencyStamp] AS [ConcurrencyStamp0], [u0].[CreatedAt] AS [CreatedAt5], [u0].[DeletedAt] AS [DeletedAt5], [u0].[Email] AS [Email0], [u0].[EmailConfirmed] AS [EmailConfirmed0], [u0].[LastModifiedAt] AS [LastModifiedAt5], [u0].[LastModifiedBy] AS [LastModifiedBy5], [u0].[LockoutEnabled] AS [LockoutEnabled0], [u0].[LockoutEnd] AS [LockoutEnd0], [u0].[NormalizedEmail] AS [NormalizedEmail0], [u0].[NormalizedUserName] AS [NormalizedUserName0], [u0].[PasswordHash] AS [PasswordHash0], [u0].[PhoneNumber] AS [PhoneNumber0], [u0].[PhoneNumberConfirmed] AS [PhoneNumberConfirmed0], [u0].[SecurityStamp] AS [SecurityStamp0], [u0].[TwoFactorEnabled] AS [TwoFactorEnabled0], [u0].[UserName] AS [UserName0]
    FROM [reviewer_assignments] AS [r]
    INNER JOIN [submissions] AS [s] ON [r].[SubmissionId] = [s].[Id]
    LEFT JOIN [topics] AS [t] ON [s].[TopicId] = [t].[Id]
    LEFT JOIN [topic_versions] AS [t0] ON [s].[TopicVersionId] = [t0].[Id]
    LEFT JOIN [topics] AS [t1] ON [t0].[TopicId] = [t1].[Id]
    INNER JOIN [users] AS [u] ON [s].[SubmittedBy] = [u].[Id]
    INNER JOIN [phases] AS [p] ON [s].[PhaseId] = [p].[Id]
    INNER JOIN [users] AS [u0] ON [r].[ReviewerId] = [u0].[Id]
    WHERE [r].[Id] = @__assignmentId_0
) AS [t2]
LEFT JOIN [reviews] AS [r0] ON [t2].[Id] = [r0].[AssignmentId]
ORDER BY [t2].[Id], [t2].[Id0], [t2].[Id1], [t2].[Id2], [t2].[Id3], [t2].[Id4], [t2].[Id5], [t2].[Id6]
2025-10-03 18:10:12.890 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__assignmentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t2].[Id], [t2].[AssignedAt], [t2].[AssignedBy], [t2].[AssignmentType], [t2].[CompletedAt], [t2].[Deadline], [t2].[ReviewerId], [t2].[SkillMatchScore], [t2].[StartedAt], [t2].[Status], [t2].[SubmissionId], [t2].[Id0], [t2].[AdditionalNotes], [t2].[AiCheckDetails], [t2].[AiCheckScore], [t2].[AiCheckStatus], [t2].[CreatedAt], [t2].[CreatedBy], [t2].[DeletedAt], [t2].[DocumentUrl], [t2].[IsActive], [t2].[LastModifiedAt], [t2].[LastModifiedBy], [t2].[PhaseId], [t2].[Status0], [t2].[SubmissionRound], [t2].[SubmittedAt], [t2].[SubmittedBy], [t2].[TopicId], [t2].[TopicVersionId], [t2].[Id1], [t2].[Abbreviation], [t2].[CategoryId], [t2].[Content], [t2].[Context], [t2].[CreatedAt0], [t2].[CreatedBy0], [t2].[DeletedAt0], [t2].[Description], [t2].[EN_Title], [t2].[IsActive0], [t2].[IsApproved], [t2].[IsLegacy], [t2].[LastModifiedAt0], [t2].[LastModifiedBy0], [t2].[MaxStudents], [t2].[Objectives], [t2].[PotentialDuplicate], [t2].[Problem], [t2].[SemesterId], [t2].[SupervisorId], [t2].[VN_title], [t2].[Id2], [t2].[Content0], [t2].[Context0], [t2].[CreatedAt1], [t2].[CreatedBy1], [t2].[DeletedAt1], [t2].[Description0], [t2].[DocumentUrl0], [t2].[EN_Title0], [t2].[ExpectedOutcomes], [t2].[IsActive1], [t2].[LastModifiedAt1], [t2].[LastModifiedBy1], [t2].[Methodology], [t2].[Objectives0], [t2].[PotentialDuplicate0], [t2].[Problem0], [t2].[Requirements], [t2].[Status1], [t2].[SubmittedAt0], [t2].[SubmittedBy0], [t2].[TopicId0], [t2].[VN_title0], [t2].[VersionNumber], [t2].[Id3], [t2].[Abbreviation0], [t2].[CategoryId0], [t2].[Content1], [t2].[Context1], [t2].[CreatedAt2], [t2].[CreatedBy2], [t2].[DeletedAt2], [t2].[Description1], [t2].[EN_Title1], [t2].[IsActive2], [t2].[IsApproved0], [t2].[IsLegacy0], [t2].[LastModifiedAt2], [t2].[LastModifiedBy2], [t2].[MaxStudents0], [t2].[Objectives1], [t2].[PotentialDuplicate1], [t2].[Problem1], [t2].[SemesterId0], [t2].[SupervisorId0], [t2].[VN_title1], [t2].[Id4], [t2].[AccessFailedCount], [t2].[ConcurrencyStamp], [t2].[CreatedAt3], [t2].[DeletedAt3], [t2].[Email], [t2].[EmailConfirmed], [t2].[LastModifiedAt3], [t2].[LastModifiedBy3], [t2].[LockoutEnabled], [t2].[LockoutEnd], [t2].[NormalizedEmail], [t2].[NormalizedUserName], [t2].[PasswordHash], [t2].[PhoneNumber], [t2].[PhoneNumberConfirmed], [t2].[SecurityStamp], [t2].[TwoFactorEnabled], [t2].[UserName], [t2].[Id5], [t2].[CreatedAt4], [t2].[CreatedBy3], [t2].[DeletedAt4], [t2].[EndDate], [t2].[IsActive3], [t2].[LastModifiedAt4], [t2].[LastModifiedBy4], [t2].[Name], [t2].[PhaseTypeId], [t2].[SemesterId1], [t2].[StartDate], [t2].[SubmissionDeadline], [t2].[Id6], [t2].[AccessFailedCount0], [t2].[ConcurrencyStamp0], [t2].[CreatedAt5], [t2].[DeletedAt5], [t2].[Email0], [t2].[EmailConfirmed0], [t2].[LastModifiedAt5], [t2].[LastModifiedBy5], [t2].[LockoutEnabled0], [t2].[LockoutEnd0], [t2].[NormalizedEmail0], [t2].[NormalizedUserName0], [t2].[PasswordHash0], [t2].[PhoneNumber0], [t2].[PhoneNumberConfirmed0], [t2].[SecurityStamp0], [t2].[TwoFactorEnabled0], [t2].[UserName0], [r0].[Id], [r0].[AssignmentId], [r0].[CreatedAt], [r0].[CreatedBy], [r0].[DeletedAt], [r0].[IsActive], [r0].[LastModifiedAt], [r0].[LastModifiedBy], [r0].[OverallComment], [r0].[OverallScore], [r0].[Recommendation], [r0].[Status], [r0].[SubmittedAt], [r0].[TimeSpentMinutes]
FROM (
    SELECT TOP(1) [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId], [s].[Id] AS [Id0], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status] AS [Status0], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id] AS [Id1], [t].[Abbreviation], [t].[CategoryId], [t].[Content], [t].[Context], [t].[CreatedAt] AS [CreatedAt0], [t].[CreatedBy] AS [CreatedBy0], [t].[DeletedAt] AS [DeletedAt0], [t].[Description], [t].[EN_Title], [t].[IsActive] AS [IsActive0], [t].[IsApproved], [t].[IsLegacy], [t].[LastModifiedAt] AS [LastModifiedAt0], [t].[LastModifiedBy] AS [LastModifiedBy0], [t].[MaxStudents], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[SemesterId], [t].[SupervisorId], [t].[VN_title], [t0].[Id] AS [Id2], [t0].[Content] AS [Content0], [t0].[Context] AS [Context0], [t0].[CreatedAt] AS [CreatedAt1], [t0].[CreatedBy] AS [CreatedBy1], [t0].[DeletedAt] AS [DeletedAt1], [t0].[Description] AS [Description0], [t0].[DocumentUrl] AS [DocumentUrl0], [t0].[EN_Title] AS [EN_Title0], [t0].[ExpectedOutcomes], [t0].[IsActive] AS [IsActive1], [t0].[LastModifiedAt] AS [LastModifiedAt1], [t0].[LastModifiedBy] AS [LastModifiedBy1], [t0].[Methodology], [t0].[Objectives] AS [Objectives0], [t0].[PotentialDuplicate] AS [PotentialDuplicate0], [t0].[Problem] AS [Problem0], [t0].[Requirements], [t0].[Status] AS [Status1], [t0].[SubmittedAt] AS [SubmittedAt0], [t0].[SubmittedBy] AS [SubmittedBy0], [t0].[TopicId] AS [TopicId0], [t0].[VN_title] AS [VN_title0], [t0].[VersionNumber], [t1].[Id] AS [Id3], [t1].[Abbreviation] AS [Abbreviation0], [t1].[CategoryId] AS [CategoryId0], [t1].[Content] AS [Content1], [t1].[Context] AS [Context1], [t1].[CreatedAt] AS [CreatedAt2], [t1].[CreatedBy] AS [CreatedBy2], [t1].[DeletedAt] AS [DeletedAt2], [t1].[Description] AS [Description1], [t1].[EN_Title] AS [EN_Title1], [t1].[IsActive] AS [IsActive2], [t1].[IsApproved] AS [IsApproved0], [t1].[IsLegacy] AS [IsLegacy0], [t1].[LastModifiedAt] AS [LastModifiedAt2], [t1].[LastModifiedBy] AS [LastModifiedBy2], [t1].[MaxStudents] AS [MaxStudents0], [t1].[Objectives] AS [Objectives1], [t1].[PotentialDuplicate] AS [PotentialDuplicate1], [t1].[Problem] AS [Problem1], [t1].[SemesterId] AS [SemesterId0], [t1].[SupervisorId] AS [SupervisorId0], [t1].[VN_title] AS [VN_title1], [u].[Id] AS [Id4], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt] AS [CreatedAt3], [u].[DeletedAt] AS [DeletedAt3], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt] AS [LastModifiedAt3], [u].[LastModifiedBy] AS [LastModifiedBy3], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [p].[Id] AS [Id5], [p].[CreatedAt] AS [CreatedAt4], [p].[CreatedBy] AS [CreatedBy3], [p].[DeletedAt] AS [DeletedAt4], [p].[EndDate], [p].[IsActive] AS [IsActive3], [p].[LastModifiedAt] AS [LastModifiedAt4], [p].[LastModifiedBy] AS [LastModifiedBy4], [p].[Name], [p].[PhaseTypeId], [p].[SemesterId] AS [SemesterId1], [p].[StartDate], [p].[SubmissionDeadline], [u0].[Id] AS [Id6], [u0].[AccessFailedCount] AS [AccessFailedCount0], [u0].[ConcurrencyStamp] AS [ConcurrencyStamp0], [u0].[CreatedAt] AS [CreatedAt5], [u0].[DeletedAt] AS [DeletedAt5], [u0].[Email] AS [Email0], [u0].[EmailConfirmed] AS [EmailConfirmed0], [u0].[LastModifiedAt] AS [LastModifiedAt5], [u0].[LastModifiedBy] AS [LastModifiedBy5], [u0].[LockoutEnabled] AS [LockoutEnabled0], [u0].[LockoutEnd] AS [LockoutEnd0], [u0].[NormalizedEmail] AS [NormalizedEmail0], [u0].[NormalizedUserName] AS [NormalizedUserName0], [u0].[PasswordHash] AS [PasswordHash0], [u0].[PhoneNumber] AS [PhoneNumber0], [u0].[PhoneNumberConfirmed] AS [PhoneNumberConfirmed0], [u0].[SecurityStamp] AS [SecurityStamp0], [u0].[TwoFactorEnabled] AS [TwoFactorEnabled0], [u0].[UserName] AS [UserName0]
    FROM [reviewer_assignments] AS [r]
    INNER JOIN [submissions] AS [s] ON [r].[SubmissionId] = [s].[Id]
    LEFT JOIN [topics] AS [t] ON [s].[TopicId] = [t].[Id]
    LEFT JOIN [topic_versions] AS [t0] ON [s].[TopicVersionId] = [t0].[Id]
    LEFT JOIN [topics] AS [t1] ON [t0].[TopicId] = [t1].[Id]
    INNER JOIN [users] AS [u] ON [s].[SubmittedBy] = [u].[Id]
    INNER JOIN [phases] AS [p] ON [s].[PhaseId] = [p].[Id]
    INNER JOIN [users] AS [u0] ON [r].[ReviewerId] = [u0].[Id]
    WHERE [r].[Id] = @__assignmentId_0
) AS [t2]
LEFT JOIN [reviews] AS [r0] ON [t2].[Id] = [r0].[AssignmentId]
ORDER BY [t2].[Id], [t2].[Id0], [t2].[Id1], [t2].[Id2], [t2].[Id3], [t2].[Id4], [t2].[Id5], [t2].[Id6]
2025-10-03 18:10:12.901 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 18:10:12.901 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 1ms reading results.
2025-10-03 18:10:12.902 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:10:12.902 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 18:10:12.906 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-10-03 18:10:12.907 +07:00 [DBG] No information found on request to perform content negotiation.
2025-10-03 18:10:12.907 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-10-03 18:10:12.907 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-10-03 18:10:12.907 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-10-03 18:10:12.908 +07:00 [INF] Executing ObjectResult, writing value of type 'FS.Commons.FSResponse'.
2025-10-03 18:10:12.924 +07:00 [INF] Executed action CapBot.api.Controllers.ReviewerAssignmentController.GetAssignmentDetails (CapBot.api) in 45.8255ms
2025-10-03 18:10:12.924 +07:00 [INF] Executed endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetAssignmentDetails (CapBot.api)'
2025-10-03 18:10:12.926 +07:00 [DBG] Connection id "0HNG2DJLF053O" completed keep alive response.
2025-10-03 18:10:12.927 +07:00 [DBG] 'MyDbContext' disposed.
2025-10-03 18:10:12.927 +07:00 [DBG] Disposing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:10:12.927 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-10-03 18:10:12.928 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5207/api/reviewer-assignments/31/details - 200 null application/json; charset=utf-8 67.0772ms
2025-10-03 18:10:28.761 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5207/api/reviewer-assignments/evaluation-criteria - null null
2025-10-03 18:10:28.761 +07:00 [DBG] The request path /api/reviewer-assignments/evaluation-criteria does not match a supported file type
2025-10-03 18:10:28.761 +07:00 [DBG] The request path /api/reviewer-assignments/evaluation-criteria does not match a supported file type
2025-10-03 18:10:28.761 +07:00 [DBG] 1 candidate(s) found for the request path '/api/reviewer-assignments/evaluation-criteria'
2025-10-03 18:10:28.761 +07:00 [DBG] Endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetEvaluationCriteria (CapBot.api)' with route pattern 'api/reviewer-assignments/evaluation-criteria' is valid for the request path '/api/reviewer-assignments/evaluation-criteria'
2025-10-03 18:10:28.761 +07:00 [DBG] Request matched endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetEvaluationCriteria (CapBot.api)'
2025-10-03 18:10:28.762 +07:00 [DBG] Successfully validated the token.
2025-10-03 18:10:28.762 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-10-03 18:10:28.763 +07:00 [DBG] Authorization was successful.
2025-10-03 18:10:28.763 +07:00 [INF] Executing endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetEvaluationCriteria (CapBot.api)'
2025-10-03 18:10:28.768 +07:00 [INF] Route matched with {action = "GetEvaluationCriteria", controller = "ReviewerAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetEvaluationCriteria() on controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api).
2025-10-03 18:10:28.768 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-10-03 18:10:28.768 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-10-03 18:10:28.768 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2025-10-03 18:10:28.769 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-10-03 18:10:28.769 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-10-03 18:10:28.769 +07:00 [DBG] Executing controller factory for controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api)
2025-10-03 18:10:28.776 +07:00 [DBG] Executed controller factory for controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api)
2025-10-03 18:10:28.783 +07:00 [DBG] Entity Framework Core 8.0.16 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: MigrationsAssembly=App.DAL 
2025-10-03 18:10:28.791 +07:00 [DBG] Compiling query expression: 
'DbSet<EvaluationCriteria>()
    .AsNoTracking()
    .Where(x => x.IsActive)
    .OrderBy(x => x.Name)'
2025-10-03 18:10:28.799 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<EvaluationCriteria>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: EvaluationCriteria.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: EvaluationCriteria.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 1], [Property: EvaluationCriteria.CreatedBy (string), 2], [Property: EvaluationCriteria.DeletedAt (DateTime?), 3], [Property: EvaluationCriteria.Description (string), 4], [Property: EvaluationCriteria.IsActive (bool) Required Index Sentinel:True ValueGenerated.OnAdd, 5], [Property: EvaluationCriteria.LastModifiedAt (DateTime?), 6], [Property: EvaluationCriteria.LastModifiedBy (string), 7], [Property: EvaluationCriteria.MaxScore (int) Required ValueGenerated.OnAdd, 8], [Property: EvaluationCriteria.Name (string) Required MaxLength(100), 9], [Property: EvaluationCriteria.SemesterId (int?) Required FK Index, 10], [Property: EvaluationCriteria.Weight (decimal) Required ValueGenerated.OnAdd, 11] }
        SELECT e.Id, e.CreatedAt, e.CreatedBy, e.DeletedAt, e.Description, e.IsActive, e.LastModifiedAt, e.LastModifiedBy, e.MaxScore, e.Name, e.SemesterId, e.Weight
        FROM evaluation_criteria AS e
        WHERE e.IsActive
        ORDER BY e.Name ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, EvaluationCriteria>, 
    App.DAL.Context.MyDbContext, 
    False, 
    False, 
    True
)'
2025-10-03 18:10:28.801 +07:00 [DBG] Creating DbConnection.
2025-10-03 18:10:28.801 +07:00 [DBG] Created DbConnection. (0ms).
2025-10-03 18:10:28.802 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:10:28.802 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:10:28.802 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 18:10:28.802 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:10:28.802 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:10:28.802 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[CreatedAt], [e].[CreatedBy], [e].[DeletedAt], [e].[Description], [e].[IsActive], [e].[LastModifiedAt], [e].[LastModifiedBy], [e].[MaxScore], [e].[Name], [e].[SemesterId], [e].[Weight]
FROM [evaluation_criteria] AS [e]
WHERE [e].[IsActive] = CAST(1 AS bit)
ORDER BY [e].[Name]
2025-10-03 18:10:28.809 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[CreatedAt], [e].[CreatedBy], [e].[DeletedAt], [e].[Description], [e].[IsActive], [e].[LastModifiedAt], [e].[LastModifiedBy], [e].[MaxScore], [e].[Name], [e].[SemesterId], [e].[Weight]
FROM [evaluation_criteria] AS [e]
WHERE [e].[IsActive] = CAST(1 AS bit)
ORDER BY [e].[Name]
2025-10-03 18:10:28.809 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 18:10:28.810 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-10-03 18:10:28.810 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:10:28.810 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 18:10:28.819 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-10-03 18:10:28.819 +07:00 [DBG] No information found on request to perform content negotiation.
2025-10-03 18:10:28.819 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-10-03 18:10:28.819 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-10-03 18:10:28.820 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-10-03 18:10:28.820 +07:00 [INF] Executing ObjectResult, writing value of type 'FS.Commons.FSResponse'.
2025-10-03 18:10:28.822 +07:00 [INF] Executed action CapBot.api.Controllers.ReviewerAssignmentController.GetEvaluationCriteria (CapBot.api) in 53.4534ms
2025-10-03 18:10:28.823 +07:00 [INF] Executed endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetEvaluationCriteria (CapBot.api)'
2025-10-03 18:10:28.823 +07:00 [DBG] Connection id "0HNG2DJLF053O" completed keep alive response.
2025-10-03 18:10:28.823 +07:00 [DBG] 'MyDbContext' disposed.
2025-10-03 18:10:28.823 +07:00 [DBG] Disposing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:10:28.823 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-10-03 18:10:28.823 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5207/api/reviewer-assignments/evaluation-criteria - 200 null application/json; charset=utf-8 62.6456ms
2025-10-03 18:10:40.417 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5207/api/reviewer-assignments/my-assignments/statistics - null null
2025-10-03 18:10:40.418 +07:00 [DBG] The request path /api/reviewer-assignments/my-assignments/statistics does not match a supported file type
2025-10-03 18:10:40.418 +07:00 [DBG] The request path /api/reviewer-assignments/my-assignments/statistics does not match a supported file type
2025-10-03 18:10:40.418 +07:00 [DBG] 1 candidate(s) found for the request path '/api/reviewer-assignments/my-assignments/statistics'
2025-10-03 18:10:40.418 +07:00 [DBG] Endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetMyAssignmentStatistics (CapBot.api)' with route pattern 'api/reviewer-assignments/my-assignments/statistics' is valid for the request path '/api/reviewer-assignments/my-assignments/statistics'
2025-10-03 18:10:40.418 +07:00 [DBG] Request matched endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetMyAssignmentStatistics (CapBot.api)'
2025-10-03 18:10:40.419 +07:00 [DBG] Successfully validated the token.
2025-10-03 18:10:40.419 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-10-03 18:10:40.419 +07:00 [DBG] Authorization was successful.
2025-10-03 18:10:40.419 +07:00 [INF] Executing endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetMyAssignmentStatistics (CapBot.api)'
2025-10-03 18:10:40.423 +07:00 [INF] Route matched with {action = "GetMyAssignmentStatistics", controller = "ReviewerAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyAssignmentStatistics() on controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api).
2025-10-03 18:10:40.423 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-10-03 18:10:40.423 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-10-03 18:10:40.423 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2025-10-03 18:10:40.423 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-10-03 18:10:40.424 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-10-03 18:10:40.424 +07:00 [DBG] Executing controller factory for controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api)
2025-10-03 18:10:40.424 +07:00 [DBG] Executed controller factory for controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api)
2025-10-03 18:10:40.433 +07:00 [DBG] Entity Framework Core 8.0.16 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: MigrationsAssembly=App.DAL 
2025-10-03 18:10:40.434 +07:00 [DBG] Compiling query expression: 
'DbSet<ReviewerAssignment>()
    .AsNoTracking()
    .Include(ra => ra.Submission.TopicVersion.Topic)
    .Include(ra => ra.Submission.SubmittedByUser)
    .Include(ra => ra.Reviews)
    .Where(ra => ra.ReviewerId == __reviewerId_0)'
2025-10-03 18:10:40.437 +07:00 [DBG] Including navigation: 'ReviewerAssignment.Submission'.
2025-10-03 18:10:40.437 +07:00 [DBG] Including navigation: 'Submission.TopicVersion'.
2025-10-03 18:10:40.438 +07:00 [DBG] Including navigation: 'TopicVersion.Topic'.
2025-10-03 18:10:40.444 +07:00 [DBG] Including navigation: 'Submission.SubmittedByUser'.
2025-10-03 18:10:40.446 +07:00 [DBG] Including navigation: 'ReviewerAssignment.Reviews'.
2025-10-03 18:10:40.490 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<ReviewerAssignment>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: ReviewerAssignment.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ReviewerAssignment.AssignedAt (DateTime) Required ValueGenerated.OnAdd, 1], [Property: ReviewerAssignment.AssignedBy (int) Required FK Index, 2], [Property: ReviewerAssignment.AssignmentType (AssignmentTypes) Required ValueGenerated.OnAdd, 3], [Property: ReviewerAssignment.CompletedAt (DateTime?), 4], [Property: ReviewerAssignment.Deadline (DateTime?) Index, 5], [Property: ReviewerAssignment.ReviewerId (int) Required FK Index, 6], [Property: ReviewerAssignment.SkillMatchScore (decimal?), 7], [Property: ReviewerAssignment.StartedAt (DateTime?), 8], [Property: ReviewerAssignment.Status (AssignmentStatus) Required Index ValueGenerated.OnAdd, 9], [Property: ReviewerAssignment.SubmissionId (int) Required FK Index, 10] }
            1 -> Dictionary<IProperty, int> { [Property: Submission.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 11], [Property: Submission.AdditionalNotes (string), 12], [Property: Submission.AiCheckDetails (string), 13], [Property: Submission.AiCheckScore (decimal?), 14], [Property: Submission.AiCheckStatus (AiCheckStatus) Required ValueGenerated.OnAdd, 15], [Property: Submission.CreatedAt (DateTime) Required, 16], [Property: Submission.CreatedBy (string), 17], [Property: Submission.DeletedAt (DateTime?), 18], [Property: Submission.DocumentUrl (string) MaxLength(500), 19], [Property: Submission.IsActive (bool) Required, 20], [Property: Submission.LastModifiedAt (DateTime?), 21], [Property: Submission.LastModifiedBy (string), 22], [Property: Submission.PhaseId (int) Required FK Index, 23], [Property: Submission.Status (SubmissionStatus) Required Index ValueGenerated.OnAdd, 24], [Property: Submission.SubmissionRound (int) Required Index ValueGenerated.OnAdd, 25], [Property: Submission.SubmittedAt (DateTime?) Index ValueGenerated.OnAdd, 26], [Property: Submission.SubmittedBy (int) Required FK Index, 27], [Property: Submission.TopicId (int) Required FK Index, 28], [Property: Submission.TopicVersionId (int?) FK Index, 29] }
            2 -> Dictionary<IProperty, int> { [Property: TopicVersion.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 30], [Property: TopicVersion.Content (string), 31], [Property: TopicVersion.Context (string), 32], [Property: TopicVersion.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 33], [Property: TopicVersion.CreatedBy (string), 34], [Property: TopicVersion.DeletedAt (DateTime?), 35], [Property: TopicVersion.Description (string), 36], [Property: TopicVersion.DocumentUrl (string) MaxLength(500), 37], [Property: TopicVersion.EN_Title (string) Required MaxLength(500), 38], [Property: TopicVersion.ExpectedOutcomes (string), 39], [Property: TopicVersion.IsActive (bool) Required, 40], [Property: TopicVersion.LastModifiedAt (DateTime?), 41], [Property: TopicVersion.LastModifiedBy (string), 42], [Property: TopicVersion.Methodology (string), 43], [Property: TopicVersion.Objectives (string), 44], [Property: TopicVersion.PotentialDuplicate (string), 45], [Property: TopicVersion.Problem (string), 46], [Property: TopicVersion.Requirements (string), 47], [Property: TopicVersion.Status (TopicStatus) Required Index ValueGenerated.OnAdd, 48], [Property: TopicVersion.SubmittedAt (DateTime?), 49], [Property: TopicVersion.SubmittedBy (int?) FK Index, 50], [Property: TopicVersion.TopicId (int) Required FK Index, 51], [Property: TopicVersion.VN_title (string), 52], [Property: TopicVersion.VersionNumber (int) Required Index, 53] }
            3 -> Dictionary<IProperty, int> { [Property: Topic.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 54], [Property: Topic.Abbreviation (string), 55], [Property: Topic.CategoryId (int?) FK Index, 56], [Property: Topic.Content (string), 57], [Property: Topic.Context (string), 58], [Property: Topic.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 59], [Property: Topic.CreatedBy (string), 60], [Property: Topic.DeletedAt (DateTime?), 61], [Property: Topic.Description (string), 62], [Property: Topic.EN_Title (string) Required MaxLength(500), 63], [Property: Topic.IsActive (bool) Required, 64], [Property: Topic.IsApproved (bool) Required Index Sentinel:True ValueGenerated.OnAdd, 65], [Property: Topic.IsLegacy (bool) Required Index ValueGenerated.OnAdd, 66], [Property: Topic.LastModifiedAt (DateTime?), 67], [Property: Topic.LastModifiedBy (string), 68], [Property: Topic.MaxStudents (int) Required ValueGenerated.OnAdd, 69], [Property: Topic.Objectives (string), 70], [Property: Topic.PotentialDuplicate (string), 71], [Property: Topic.Problem (string), 72], [Property: Topic.SemesterId (int) Required FK Index, 73], [Property: Topic.SupervisorId (int) Required FK Index, 74], [Property: Topic.VN_title (string), 75] }
            4 -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 76], [Property: User.AccessFailedCount (int) Required, 77], [Property: User.ConcurrencyStamp (string), 78], [Property: User.CreatedAt (DateTime) Required, 79], [Property: User.DeletedAt (DateTime?), 80], [Property: User.Email (string), 81], [Property: User.EmailConfirmed (bool) Required, 82], [Property: User.LastModifiedAt (DateTime) Required, 83], [Property: User.LastModifiedBy (string), 84], [Property: User.LockoutEnabled (bool) Required, 85], [Property: User.LockoutEnd (DateTimeOffset?), 86], [Property: User.NormalizedEmail (string), 87], [Property: User.NormalizedUserName (string), 88], [Property: User.PasswordHash (string), 89], [Property: User.PhoneNumber (string), 90], [Property: User.PhoneNumberConfirmed (bool) Required, 91], [Property: User.SecurityStamp (string), 92], [Property: User.TwoFactorEnabled (bool) Required, 93], [Property: User.UserName (string), 94] }
            5 -> 0
            6 -> 11
            7 -> 30
            8 -> 54
            9 -> 76
            10 -> Dictionary<IProperty, int> { [Property: Review.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 95], [Property: Review.AssignmentId (int) Required FK Index, 96], [Property: Review.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 97], [Property: Review.CreatedBy (string), 98], [Property: Review.DeletedAt (DateTime?), 99], [Property: Review.IsActive (bool) Required, 100], [Property: Review.LastModifiedAt (DateTime?), 101], [Property: Review.LastModifiedBy (string), 102], [Property: Review.OverallComment (string), 103], [Property: Review.OverallScore (decimal?), 104], [Property: Review.Recommendation (ReviewRecommendations) Required Index ValueGenerated.OnAdd, 105], [Property: Review.Status (ReviewStatus) Required Index ValueGenerated.OnAdd, 106], [Property: Review.SubmittedAt (DateTime?) Index, 107], [Property: Review.TimeSpentMinutes (int?), 108] }
            11 -> 95
        SELECT r.Id, r.AssignedAt, r.AssignedBy, r.AssignmentType, r.CompletedAt, r.Deadline, r.ReviewerId, r.SkillMatchScore, r.StartedAt, r.Status, r.SubmissionId, s.Id, s.AdditionalNotes, s.AiCheckDetails, s.AiCheckScore, s.AiCheckStatus, s.CreatedAt, s.CreatedBy, s.DeletedAt, s.DocumentUrl, s.IsActive, s.LastModifiedAt, s.LastModifiedBy, s.PhaseId, s.Status, s.SubmissionRound, s.SubmittedAt, s.SubmittedBy, s.TopicId, s.TopicVersionId, t.Id, t.Content, t.Context, t.CreatedAt, t.CreatedBy, t.DeletedAt, t.Description, t.DocumentUrl, t.EN_Title, t.ExpectedOutcomes, t.IsActive, t.LastModifiedAt, t.LastModifiedBy, t.Methodology, t.Objectives, t.PotentialDuplicate, t.Problem, t.Requirements, t.Status, t.SubmittedAt, t.SubmittedBy, t.TopicId, t.VN_title, t.VersionNumber, t0.Id, t0.Abbreviation, t0.CategoryId, t0.Content, t0.Context, t0.CreatedAt, t0.CreatedBy, t0.DeletedAt, t0.Description, t0.EN_Title, t0.IsActive, t0.IsApproved, t0.IsLegacy, t0.LastModifiedAt, t0.LastModifiedBy, t0.MaxStudents, t0.Objectives, t0.PotentialDuplicate, t0.Problem, t0.SemesterId, t0.SupervisorId, t0.VN_title, u.Id, u.AccessFailedCount, u.ConcurrencyStamp, u.CreatedAt, u.DeletedAt, u.Email, u.EmailConfirmed, u.LastModifiedAt, u.LastModifiedBy, u.LockoutEnabled, u.LockoutEnd, u.NormalizedEmail, u.NormalizedUserName, u.PasswordHash, u.PhoneNumber, u.PhoneNumberConfirmed, u.SecurityStamp, u.TwoFactorEnabled, u.UserName, r0.Id, r0.AssignmentId, r0.CreatedAt, r0.CreatedBy, r0.DeletedAt, r0.IsActive, r0.LastModifiedAt, r0.LastModifiedBy, r0.OverallComment, r0.OverallScore, r0.Recommendation, r0.Status, r0.SubmittedAt, r0.TimeSpentMinutes
        FROM reviewer_assignments AS r
        INNER JOIN submissions AS s ON r.SubmissionId == s.Id
        LEFT JOIN topic_versions AS t ON s.TopicVersionId == t.Id
        LEFT JOIN topics AS t0 ON t.TopicId == t0.Id
        INNER JOIN users AS u ON s.SubmittedBy == u.Id
        LEFT JOIN reviews AS r0 ON r.Id == r0.AssignmentId
        WHERE r.ReviewerId == @__reviewerId_0
        ORDER BY r.Id ASC, s.Id ASC, t.Id ASC, t0.Id ASC, u.Id ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ReviewerAssignment>, 
    App.DAL.Context.MyDbContext, 
    False, 
    False, 
    True
)'
2025-10-03 18:10:40.494 +07:00 [DBG] Creating DbConnection.
2025-10-03 18:10:40.495 +07:00 [DBG] Created DbConnection. (0ms).
2025-10-03 18:10:40.495 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:10:40.495 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:10:40.495 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 18:10:40.495 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:10:40.495 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:10:40.495 +07:00 [DBG] Executing DbCommand [Parameters=[@__reviewerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId], [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[DocumentUrl], [t].[EN_Title], [t].[ExpectedOutcomes], [t].[IsActive], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[Methodology], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[Requirements], [t].[Status], [t].[SubmittedAt], [t].[SubmittedBy], [t].[TopicId], [t].[VN_title], [t].[VersionNumber], [t0].[Id], [t0].[Abbreviation], [t0].[CategoryId], [t0].[Content], [t0].[Context], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[EN_Title], [t0].[IsActive], [t0].[IsApproved], [t0].[IsLegacy], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[MaxStudents], [t0].[Objectives], [t0].[PotentialDuplicate], [t0].[Problem], [t0].[SemesterId], [t0].[SupervisorId], [t0].[VN_title], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [r0].[Id], [r0].[AssignmentId], [r0].[CreatedAt], [r0].[CreatedBy], [r0].[DeletedAt], [r0].[IsActive], [r0].[LastModifiedAt], [r0].[LastModifiedBy], [r0].[OverallComment], [r0].[OverallScore], [r0].[Recommendation], [r0].[Status], [r0].[SubmittedAt], [r0].[TimeSpentMinutes]
FROM [reviewer_assignments] AS [r]
INNER JOIN [submissions] AS [s] ON [r].[SubmissionId] = [s].[Id]
LEFT JOIN [topic_versions] AS [t] ON [s].[TopicVersionId] = [t].[Id]
LEFT JOIN [topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
INNER JOIN [users] AS [u] ON [s].[SubmittedBy] = [u].[Id]
LEFT JOIN [reviews] AS [r0] ON [r].[Id] = [r0].[AssignmentId]
WHERE [r].[ReviewerId] = @__reviewerId_0
ORDER BY [r].[Id], [s].[Id], [t].[Id], [t0].[Id], [u].[Id]
2025-10-03 18:10:40.518 +07:00 [INF] Executed DbCommand (23ms) [Parameters=[@__reviewerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId], [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[DocumentUrl], [t].[EN_Title], [t].[ExpectedOutcomes], [t].[IsActive], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[Methodology], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[Requirements], [t].[Status], [t].[SubmittedAt], [t].[SubmittedBy], [t].[TopicId], [t].[VN_title], [t].[VersionNumber], [t0].[Id], [t0].[Abbreviation], [t0].[CategoryId], [t0].[Content], [t0].[Context], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[EN_Title], [t0].[IsActive], [t0].[IsApproved], [t0].[IsLegacy], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[MaxStudents], [t0].[Objectives], [t0].[PotentialDuplicate], [t0].[Problem], [t0].[SemesterId], [t0].[SupervisorId], [t0].[VN_title], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [r0].[Id], [r0].[AssignmentId], [r0].[CreatedAt], [r0].[CreatedBy], [r0].[DeletedAt], [r0].[IsActive], [r0].[LastModifiedAt], [r0].[LastModifiedBy], [r0].[OverallComment], [r0].[OverallScore], [r0].[Recommendation], [r0].[Status], [r0].[SubmittedAt], [r0].[TimeSpentMinutes]
FROM [reviewer_assignments] AS [r]
INNER JOIN [submissions] AS [s] ON [r].[SubmissionId] = [s].[Id]
LEFT JOIN [topic_versions] AS [t] ON [s].[TopicVersionId] = [t].[Id]
LEFT JOIN [topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
INNER JOIN [users] AS [u] ON [s].[SubmittedBy] = [u].[Id]
LEFT JOIN [reviews] AS [r0] ON [r].[Id] = [r0].[AssignmentId]
WHERE [r].[ReviewerId] = @__reviewerId_0
ORDER BY [r].[Id], [s].[Id], [t].[Id], [t0].[Id], [u].[Id]
2025-10-03 18:10:40.518 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 18:10:40.518 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-10-03 18:10:40.519 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:10:40.519 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 18:10:40.520 +07:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .AsNoTracking()
    .Where(u => u.Id == __reviewerId_0)
    .FirstOrDefault()'
2025-10-03 18:10:40.526 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.ConcurrencyStamp (string), 2], [Property: User.CreatedAt (DateTime) Required, 3], [Property: User.DeletedAt (DateTime?), 4], [Property: User.Email (string), 5], [Property: User.EmailConfirmed (bool) Required, 6], [Property: User.LastModifiedAt (DateTime) Required, 7], [Property: User.LastModifiedBy (string), 8], [Property: User.LockoutEnabled (bool) Required, 9], [Property: User.LockoutEnd (DateTimeOffset?), 10], [Property: User.NormalizedEmail (string), 11], [Property: User.NormalizedUserName (string), 12], [Property: User.PasswordHash (string), 13], [Property: User.PhoneNumber (string), 14], [Property: User.PhoneNumberConfirmed (bool) Required, 15], [Property: User.SecurityStamp (string), 16], [Property: User.TwoFactorEnabled (bool) Required, 17], [Property: User.UserName (string), 18] }
            SELECT TOP(1) u.Id, u.AccessFailedCount, u.ConcurrencyStamp, u.CreatedAt, u.DeletedAt, u.Email, u.EmailConfirmed, u.LastModifiedAt, u.LastModifiedBy, u.LockoutEnabled, u.LockoutEnd, u.NormalizedEmail, u.NormalizedUserName, u.PasswordHash, u.PhoneNumber, u.PhoneNumberConfirmed, u.SecurityStamp, u.TwoFactorEnabled, u.UserName
            FROM users AS u
            WHERE u.Id == @__reviewerId_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        App.DAL.Context.MyDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-10-03 18:10:40.526 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:10:40.527 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:10:40.527 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 18:10:40.527 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:10:40.527 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:10:40.527 +07:00 [DBG] Executing DbCommand [Parameters=[@__reviewerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[Id] = @__reviewerId_0
2025-10-03 18:10:40.532 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__reviewerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[Id] = @__reviewerId_0
2025-10-03 18:10:40.532 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 18:10:40.533 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-10-03 18:10:40.533 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:10:40.533 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 18:10:40.536 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-10-03 18:10:40.536 +07:00 [DBG] No information found on request to perform content negotiation.
2025-10-03 18:10:40.536 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-10-03 18:10:40.536 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-10-03 18:10:40.537 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-10-03 18:10:40.537 +07:00 [INF] Executing ObjectResult, writing value of type 'FS.Commons.FSResponse'.
2025-10-03 18:10:40.546 +07:00 [INF] Executed action CapBot.api.Controllers.ReviewerAssignmentController.GetMyAssignmentStatistics (CapBot.api) in 122.753ms
2025-10-03 18:10:40.547 +07:00 [INF] Executed endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetMyAssignmentStatistics (CapBot.api)'
2025-10-03 18:10:40.547 +07:00 [DBG] Connection id "0HNG2DJLF053O" completed keep alive response.
2025-10-03 18:10:40.547 +07:00 [DBG] 'MyDbContext' disposed.
2025-10-03 18:10:40.548 +07:00 [DBG] Disposing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:10:40.548 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-10-03 18:10:40.548 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5207/api/reviewer-assignments/my-assignments/statistics - 200 null application/json; charset=utf-8 130.697ms
2025-10-03 18:11:22.466 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5207/api/reviewer-assignments/my-assignments/statistics - null null
2025-10-03 18:11:22.466 +07:00 [DBG] The request path /api/reviewer-assignments/my-assignments/statistics does not match a supported file type
2025-10-03 18:11:22.467 +07:00 [DBG] The request path /api/reviewer-assignments/my-assignments/statistics does not match a supported file type
2025-10-03 18:11:22.468 +07:00 [DBG] 1 candidate(s) found for the request path '/api/reviewer-assignments/my-assignments/statistics'
2025-10-03 18:11:22.469 +07:00 [DBG] Endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetMyAssignmentStatistics (CapBot.api)' with route pattern 'api/reviewer-assignments/my-assignments/statistics' is valid for the request path '/api/reviewer-assignments/my-assignments/statistics'
2025-10-03 18:11:22.469 +07:00 [DBG] Request matched endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetMyAssignmentStatistics (CapBot.api)'
2025-10-03 18:11:22.470 +07:00 [DBG] Successfully validated the token.
2025-10-03 18:11:22.470 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-10-03 18:11:22.470 +07:00 [DBG] Authorization was successful.
2025-10-03 18:11:22.470 +07:00 [INF] Executing endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetMyAssignmentStatistics (CapBot.api)'
2025-10-03 18:11:22.470 +07:00 [INF] Route matched with {action = "GetMyAssignmentStatistics", controller = "ReviewerAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyAssignmentStatistics() on controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api).
2025-10-03 18:11:22.470 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-10-03 18:11:22.471 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-10-03 18:11:22.471 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2025-10-03 18:11:22.471 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-10-03 18:11:22.471 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-10-03 18:11:22.471 +07:00 [DBG] Executing controller factory for controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api)
2025-10-03 18:11:22.472 +07:00 [DBG] Executed controller factory for controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api)
2025-10-03 18:11:22.473 +07:00 [DBG] Entity Framework Core 8.0.16 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: MigrationsAssembly=App.DAL 
2025-10-03 18:11:22.496 +07:00 [DBG] Creating DbConnection.
2025-10-03 18:11:22.498 +07:00 [DBG] Created DbConnection. (1ms).
2025-10-03 18:11:22.499 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:11:22.499 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:11:22.500 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 18:11:22.500 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:11:22.500 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:11:22.500 +07:00 [DBG] Executing DbCommand [Parameters=[@__reviewerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId], [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[DocumentUrl], [t].[EN_Title], [t].[ExpectedOutcomes], [t].[IsActive], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[Methodology], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[Requirements], [t].[Status], [t].[SubmittedAt], [t].[SubmittedBy], [t].[TopicId], [t].[VN_title], [t].[VersionNumber], [t0].[Id], [t0].[Abbreviation], [t0].[CategoryId], [t0].[Content], [t0].[Context], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[EN_Title], [t0].[IsActive], [t0].[IsApproved], [t0].[IsLegacy], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[MaxStudents], [t0].[Objectives], [t0].[PotentialDuplicate], [t0].[Problem], [t0].[SemesterId], [t0].[SupervisorId], [t0].[VN_title], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [r0].[Id], [r0].[AssignmentId], [r0].[CreatedAt], [r0].[CreatedBy], [r0].[DeletedAt], [r0].[IsActive], [r0].[LastModifiedAt], [r0].[LastModifiedBy], [r0].[OverallComment], [r0].[OverallScore], [r0].[Recommendation], [r0].[Status], [r0].[SubmittedAt], [r0].[TimeSpentMinutes]
FROM [reviewer_assignments] AS [r]
INNER JOIN [submissions] AS [s] ON [r].[SubmissionId] = [s].[Id]
LEFT JOIN [topic_versions] AS [t] ON [s].[TopicVersionId] = [t].[Id]
LEFT JOIN [topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
INNER JOIN [users] AS [u] ON [s].[SubmittedBy] = [u].[Id]
LEFT JOIN [reviews] AS [r0] ON [r].[Id] = [r0].[AssignmentId]
WHERE [r].[ReviewerId] = @__reviewerId_0
ORDER BY [r].[Id], [s].[Id], [t].[Id], [t0].[Id], [u].[Id]
2025-10-03 18:11:22.540 +07:00 [INF] Executed DbCommand (40ms) [Parameters=[@__reviewerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId], [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[DocumentUrl], [t].[EN_Title], [t].[ExpectedOutcomes], [t].[IsActive], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[Methodology], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[Requirements], [t].[Status], [t].[SubmittedAt], [t].[SubmittedBy], [t].[TopicId], [t].[VN_title], [t].[VersionNumber], [t0].[Id], [t0].[Abbreviation], [t0].[CategoryId], [t0].[Content], [t0].[Context], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[EN_Title], [t0].[IsActive], [t0].[IsApproved], [t0].[IsLegacy], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[MaxStudents], [t0].[Objectives], [t0].[PotentialDuplicate], [t0].[Problem], [t0].[SemesterId], [t0].[SupervisorId], [t0].[VN_title], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [r0].[Id], [r0].[AssignmentId], [r0].[CreatedAt], [r0].[CreatedBy], [r0].[DeletedAt], [r0].[IsActive], [r0].[LastModifiedAt], [r0].[LastModifiedBy], [r0].[OverallComment], [r0].[OverallScore], [r0].[Recommendation], [r0].[Status], [r0].[SubmittedAt], [r0].[TimeSpentMinutes]
FROM [reviewer_assignments] AS [r]
INNER JOIN [submissions] AS [s] ON [r].[SubmissionId] = [s].[Id]
LEFT JOIN [topic_versions] AS [t] ON [s].[TopicVersionId] = [t].[Id]
LEFT JOIN [topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
INNER JOIN [users] AS [u] ON [s].[SubmittedBy] = [u].[Id]
LEFT JOIN [reviews] AS [r0] ON [r].[Id] = [r0].[AssignmentId]
WHERE [r].[ReviewerId] = @__reviewerId_0
ORDER BY [r].[Id], [s].[Id], [t].[Id], [t0].[Id], [u].[Id]
2025-10-03 18:11:22.540 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 18:11:22.541 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-10-03 18:11:22.541 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:11:22.541 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 18:11:22.542 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:11:22.542 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:11:22.542 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 18:11:22.543 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:11:22.543 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:11:22.543 +07:00 [DBG] Executing DbCommand [Parameters=[@__reviewerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[Id] = @__reviewerId_0
2025-10-03 18:11:22.546 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__reviewerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[Id] = @__reviewerId_0
2025-10-03 18:11:22.546 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 18:11:22.546 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-10-03 18:11:22.546 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:11:22.547 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (1ms).
2025-10-03 18:11:22.549 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-10-03 18:11:22.550 +07:00 [DBG] No information found on request to perform content negotiation.
2025-10-03 18:11:22.550 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-10-03 18:11:22.550 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-10-03 18:11:22.551 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-10-03 18:11:22.551 +07:00 [INF] Executing ObjectResult, writing value of type 'FS.Commons.FSResponse'.
2025-10-03 18:11:22.552 +07:00 [INF] Executed action CapBot.api.Controllers.ReviewerAssignmentController.GetMyAssignmentStatistics (CapBot.api) in 80.7173ms
2025-10-03 18:11:22.552 +07:00 [INF] Executed endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetMyAssignmentStatistics (CapBot.api)'
2025-10-03 18:11:22.552 +07:00 [DBG] Connection id "0HNG2DJLF053O" completed keep alive response.
2025-10-03 18:11:22.552 +07:00 [DBG] 'MyDbContext' disposed.
2025-10-03 18:11:22.553 +07:00 [DBG] Disposing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:11:22.553 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-10-03 18:11:22.553 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5207/api/reviewer-assignments/my-assignments/statistics - 200 null application/json; charset=utf-8 86.8787ms
2025-10-03 18:11:48.236 +07:00 [INF] Bắt đầu kiểm tra deadline notifications lúc "2025-10-03T18:11:48.2366075+07:00"
2025-10-03 18:11:48.238 +07:00 [DBG] Entity Framework Core 8.0.16 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: MigrationsAssembly=App.DAL 
2025-10-03 18:11:48.238 +07:00 [DBG] Creating DbConnection.
2025-10-03 18:11:48.238 +07:00 [DBG] Created DbConnection. (0ms).
2025-10-03 18:11:48.238 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:11:48.239 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:11:48.239 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 18:11:48.239 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:11:48.239 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:11:48.239 +07:00 [DBG] Executing DbCommand [Parameters=[@__tomorrow_0='?' (DbType = DateTime2), @__dayAfterTomorrow_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[DocumentUrl], [t].[EN_Title], [t].[ExpectedOutcomes], [t].[IsActive], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[Methodology], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[Requirements], [t].[Status], [t].[SubmittedAt], [t].[SubmittedBy], [t].[TopicId], [t].[VN_title], [t].[VersionNumber], [t0].[Id], [t0].[Abbreviation], [t0].[CategoryId], [t0].[Content], [t0].[Context], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[EN_Title], [t0].[IsActive], [t0].[IsApproved], [t0].[IsLegacy], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[MaxStudents], [t0].[Objectives], [t0].[PotentialDuplicate], [t0].[Problem], [t0].[SemesterId], [t0].[SupervisorId], [t0].[VN_title]
FROM [reviewer_assignments] AS [r]
INNER JOIN [users] AS [u] ON [r].[ReviewerId] = [u].[Id]
INNER JOIN [submissions] AS [s] ON [r].[SubmissionId] = [s].[Id]
LEFT JOIN [topic_versions] AS [t] ON [s].[TopicVersionId] = [t].[Id]
LEFT JOIN [topics] AS [t0] ON [s].[TopicId] = [t0].[Id]
WHERE [r].[Deadline] IS NOT NULL AND CONVERT(date, [r].[Deadline]) >= @__tomorrow_0 AND CONVERT(date, [r].[Deadline]) <= @__dayAfterTomorrow_1 AND [r].[Status] IN (1, 2)
2025-10-03 18:11:48.250 +07:00 [INF] Executed DbCommand (11ms) [Parameters=[@__tomorrow_0='?' (DbType = DateTime2), @__dayAfterTomorrow_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[DocumentUrl], [t].[EN_Title], [t].[ExpectedOutcomes], [t].[IsActive], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[Methodology], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[Requirements], [t].[Status], [t].[SubmittedAt], [t].[SubmittedBy], [t].[TopicId], [t].[VN_title], [t].[VersionNumber], [t0].[Id], [t0].[Abbreviation], [t0].[CategoryId], [t0].[Content], [t0].[Context], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[EN_Title], [t0].[IsActive], [t0].[IsApproved], [t0].[IsLegacy], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[MaxStudents], [t0].[Objectives], [t0].[PotentialDuplicate], [t0].[Problem], [t0].[SemesterId], [t0].[SupervisorId], [t0].[VN_title]
FROM [reviewer_assignments] AS [r]
INNER JOIN [users] AS [u] ON [r].[ReviewerId] = [u].[Id]
INNER JOIN [submissions] AS [s] ON [r].[SubmissionId] = [s].[Id]
LEFT JOIN [topic_versions] AS [t] ON [s].[TopicVersionId] = [t].[Id]
LEFT JOIN [topics] AS [t0] ON [s].[TopicId] = [t0].[Id]
WHERE [r].[Deadline] IS NOT NULL AND CONVERT(date, [r].[Deadline]) >= @__tomorrow_0 AND CONVERT(date, [r].[Deadline]) <= @__dayAfterTomorrow_1 AND [r].[Status] IN (1, 2)
2025-10-03 18:11:48.250 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 18:11:48.251 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-10-03 18:11:48.251 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:11:48.251 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 18:11:48.251 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:11:48.251 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:11:48.251 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 18:11:48.252 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:11:48.252 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:11:48.252 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[DocumentUrl], [t].[EN_Title], [t].[ExpectedOutcomes], [t].[IsActive], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[Methodology], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[Requirements], [t].[Status], [t].[SubmittedAt], [t].[SubmittedBy], [t].[TopicId], [t].[VN_title], [t].[VersionNumber], [t0].[Id], [t0].[Abbreviation], [t0].[CategoryId], [t0].[Content], [t0].[Context], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[EN_Title], [t0].[IsActive], [t0].[IsApproved], [t0].[IsLegacy], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[MaxStudents], [t0].[Objectives], [t0].[PotentialDuplicate], [t0].[Problem], [t0].[SemesterId], [t0].[SupervisorId], [t0].[VN_title]
FROM [reviewer_assignments] AS [r]
INNER JOIN [users] AS [u] ON [r].[ReviewerId] = [u].[Id]
INNER JOIN [submissions] AS [s] ON [r].[SubmissionId] = [s].[Id]
LEFT JOIN [topic_versions] AS [t] ON [s].[TopicVersionId] = [t].[Id]
LEFT JOIN [topics] AS [t0] ON [s].[TopicId] = [t0].[Id]
WHERE [r].[Deadline] IS NOT NULL AND CONVERT(date, [r].[Deadline]) < CONVERT(date, GETDATE()) AND [r].[Status] IN (1, 2)
2025-10-03 18:11:48.263 +07:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[DocumentUrl], [t].[EN_Title], [t].[ExpectedOutcomes], [t].[IsActive], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[Methodology], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[Requirements], [t].[Status], [t].[SubmittedAt], [t].[SubmittedBy], [t].[TopicId], [t].[VN_title], [t].[VersionNumber], [t0].[Id], [t0].[Abbreviation], [t0].[CategoryId], [t0].[Content], [t0].[Context], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[EN_Title], [t0].[IsActive], [t0].[IsApproved], [t0].[IsLegacy], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[MaxStudents], [t0].[Objectives], [t0].[PotentialDuplicate], [t0].[Problem], [t0].[SemesterId], [t0].[SupervisorId], [t0].[VN_title]
FROM [reviewer_assignments] AS [r]
INNER JOIN [users] AS [u] ON [r].[ReviewerId] = [u].[Id]
INNER JOIN [submissions] AS [s] ON [r].[SubmissionId] = [s].[Id]
LEFT JOIN [topic_versions] AS [t] ON [s].[TopicVersionId] = [t].[Id]
LEFT JOIN [topics] AS [t0] ON [s].[TopicId] = [t0].[Id]
WHERE [r].[Deadline] IS NOT NULL AND CONVERT(date, [r].[Deadline]) < CONVERT(date, GETDATE()) AND [r].[Status] IN (1, 2)
2025-10-03 18:11:48.264 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 18:11:48.264 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-10-03 18:11:48.264 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:11:48.264 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 18:11:48.265 +07:00 [DBG] 'MyDbContext' generated a temporary value for the property 'SystemNotification.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 18:11:48.265 +07:00 [DBG] Context 'MyDbContext' started tracking 'SystemNotification' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 18:11:48.266 +07:00 [DBG] SaveChanges starting for 'MyDbContext'.
2025-10-03 18:11:48.266 +07:00 [DBG] DetectChanges starting for 'MyDbContext'.
2025-10-03 18:11:48.266 +07:00 [DBG] DetectChanges completed for 'MyDbContext'.
2025-10-03 18:11:48.267 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:11:48.268 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:11:48.268 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 18:11:48.268 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:11:48.268 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:11:48.268 +07:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (Size = 50), @p5='?' (Size = 255), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [system_notifications] ([CreatedAt], [Message], [ReadAt], [RelatedEntityId], [RelatedEntityType], [Title], [Type], [UserId])
OUTPUT INSERTED.[Id], INSERTED.[IsRead]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-10-03 18:11:48.274 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (Size = 50), @p5='?' (Size = 255), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [system_notifications] ([CreatedAt], [Message], [ReadAt], [RelatedEntityId], [RelatedEntityType], [Title], [Type], [UserId])
OUTPUT INSERTED.[Id], INSERTED.[IsRead]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-10-03 18:11:48.275 +07:00 [DBG] The foreign key property 'SystemNotification.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-10-03 18:11:48.275 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 18:11:48.275 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-10-03 18:11:48.275 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:11:48.275 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 18:11:48.275 +07:00 [DBG] An entity of type 'SystemNotification' tracked by 'MyDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 18:11:48.275 +07:00 [DBG] SaveChanges completed for 'MyDbContext' with 1 entities written to the database.
2025-10-03 18:11:48.276 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:11:48.276 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:11:48.276 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 18:11:48.276 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:11:48.276 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:11:48.276 +07:00 [DBG] Executing DbCommand [Parameters=[@__entity_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [system_notifications] AS [s]
WHERE [s].[UserId] = @__entity_UserId_0 AND [s].[IsRead] = CAST(0 AS bit)
2025-10-03 18:11:48.279 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__entity_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [system_notifications] AS [s]
WHERE [s].[UserId] = @__entity_UserId_0 AND [s].[IsRead] = CAST(0 AS bit)
2025-10-03 18:11:48.279 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 18:11:48.279 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-10-03 18:11:48.279 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:11:48.279 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 18:11:50.283 +07:00 [ERR] 5.4.5 Daily user sending limit exceeded. For more information on Gmail
5.4.5 sending limits go to
5.4.5  https://support.google.com/a/answer/166852 41be03b00d2f7-b6099ad8dc6sm4367848a12.2 - gsmtp
2025-10-03 18:11:50.531 +07:00 [WRN] Không thể gửi email sắp đến hạn cho reviewer hieptmse140293@fpt.edu.vn, assignment 31
2025-10-03 18:11:50.532 +07:00 [INF] Đã gửi thông báo sắp đến hạn cho reviewer 27, assignment 31
2025-10-03 18:11:50.532 +07:00 [DBG] 'MyDbContext' generated a temporary value for the property 'SystemNotification.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 18:11:50.532 +07:00 [DBG] Context 'MyDbContext' started tracking 'SystemNotification' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 18:11:50.532 +07:00 [DBG] SaveChanges starting for 'MyDbContext'.
2025-10-03 18:11:50.532 +07:00 [DBG] DetectChanges starting for 'MyDbContext'.
2025-10-03 18:11:50.533 +07:00 [DBG] DetectChanges completed for 'MyDbContext'.
2025-10-03 18:11:50.533 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:11:50.533 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:11:50.533 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 18:11:50.533 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:11:50.534 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:11:50.534 +07:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (Size = 50), @p5='?' (Size = 255), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [system_notifications] ([CreatedAt], [Message], [ReadAt], [RelatedEntityId], [RelatedEntityType], [Title], [Type], [UserId])
OUTPUT INSERTED.[Id], INSERTED.[IsRead]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-10-03 18:11:50.539 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (Size = 50), @p5='?' (Size = 255), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [system_notifications] ([CreatedAt], [Message], [ReadAt], [RelatedEntityId], [RelatedEntityType], [Title], [Type], [UserId])
OUTPUT INSERTED.[Id], INSERTED.[IsRead]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-10-03 18:11:50.539 +07:00 [DBG] The foreign key property 'SystemNotification.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-10-03 18:11:50.539 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 18:11:50.539 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-10-03 18:11:50.539 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:11:50.539 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 18:11:50.539 +07:00 [DBG] An entity of type 'SystemNotification' tracked by 'MyDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 18:11:50.540 +07:00 [DBG] SaveChanges completed for 'MyDbContext' with 1 entities written to the database.
2025-10-03 18:11:50.540 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:11:50.540 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:11:50.540 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 18:11:50.540 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:11:50.541 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:11:50.541 +07:00 [DBG] Executing DbCommand [Parameters=[@__entity_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [system_notifications] AS [s]
WHERE [s].[UserId] = @__entity_UserId_0 AND [s].[IsRead] = CAST(0 AS bit)
2025-10-03 18:11:50.542 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__entity_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [system_notifications] AS [s]
WHERE [s].[UserId] = @__entity_UserId_0 AND [s].[IsRead] = CAST(0 AS bit)
2025-10-03 18:11:50.542 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 18:11:50.542 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-10-03 18:11:50.543 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:11:50.543 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 18:11:53.029 +07:00 [ERR] 5.4.5 Daily user sending limit exceeded. For more information on Gmail
5.4.5 sending limits go to
5.4.5  https://support.google.com/a/answer/166852 d9443c01a7336-28e8d1127a3sm47133005ad.20 - gsmtp
2025-10-03 18:11:53.357 +07:00 [WRN] Không thể gửi email quá hạn cho reviewer supervisor@gmail.com, assignment 1
2025-10-03 18:11:53.357 +07:00 [INF] Đã gửi thông báo quá hạn cho reviewer 6, assignment 1
2025-10-03 18:11:53.357 +07:00 [DBG] 'MyDbContext' generated a temporary value for the property 'SystemNotification.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 18:11:53.358 +07:00 [DBG] Context 'MyDbContext' started tracking 'SystemNotification' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 18:11:53.358 +07:00 [DBG] SaveChanges starting for 'MyDbContext'.
2025-10-03 18:11:53.358 +07:00 [DBG] DetectChanges starting for 'MyDbContext'.
2025-10-03 18:11:53.358 +07:00 [DBG] DetectChanges completed for 'MyDbContext'.
2025-10-03 18:11:53.358 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:11:53.359 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:11:53.359 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 18:11:53.359 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:11:53.359 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:11:53.359 +07:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (Size = 50), @p5='?' (Size = 255), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [system_notifications] ([CreatedAt], [Message], [ReadAt], [RelatedEntityId], [RelatedEntityType], [Title], [Type], [UserId])
OUTPUT INSERTED.[Id], INSERTED.[IsRead]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-10-03 18:11:53.364 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (Size = 50), @p5='?' (Size = 255), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [system_notifications] ([CreatedAt], [Message], [ReadAt], [RelatedEntityId], [RelatedEntityType], [Title], [Type], [UserId])
OUTPUT INSERTED.[Id], INSERTED.[IsRead]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-10-03 18:11:53.364 +07:00 [DBG] The foreign key property 'SystemNotification.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-10-03 18:11:53.365 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 18:11:53.365 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-10-03 18:11:53.365 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:11:53.365 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 18:11:53.365 +07:00 [DBG] An entity of type 'SystemNotification' tracked by 'MyDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 18:11:53.365 +07:00 [DBG] SaveChanges completed for 'MyDbContext' with 1 entities written to the database.
2025-10-03 18:11:53.366 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:11:53.366 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:11:53.366 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 18:11:53.366 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:11:53.366 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:11:53.366 +07:00 [DBG] Executing DbCommand [Parameters=[@__entity_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [system_notifications] AS [s]
WHERE [s].[UserId] = @__entity_UserId_0 AND [s].[IsRead] = CAST(0 AS bit)
2025-10-03 18:11:53.368 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__entity_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [system_notifications] AS [s]
WHERE [s].[UserId] = @__entity_UserId_0 AND [s].[IsRead] = CAST(0 AS bit)
2025-10-03 18:11:53.368 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 18:11:53.368 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-10-03 18:11:53.368 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:11:53.368 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 18:11:55.882 +07:00 [ERR] 5.4.5 Daily user sending limit exceeded. For more information on Gmail
5.4.5 sending limits go to
5.4.5  https://support.google.com/a/answer/166852 41be03b00d2f7-b6099af2deesm4422844a12.12 - gsmtp
2025-10-03 18:11:56.113 +07:00 [WRN] Không thể gửi email quá hạn cho reviewer reviewer2@gmail.com, assignment 2
2025-10-03 18:11:56.113 +07:00 [INF] Đã gửi thông báo quá hạn cho reviewer 7, assignment 2
2025-10-03 18:11:56.114 +07:00 [DBG] 'MyDbContext' generated a temporary value for the property 'SystemNotification.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 18:11:56.114 +07:00 [DBG] Context 'MyDbContext' started tracking 'SystemNotification' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 18:11:56.114 +07:00 [DBG] SaveChanges starting for 'MyDbContext'.
2025-10-03 18:11:56.114 +07:00 [DBG] DetectChanges starting for 'MyDbContext'.
2025-10-03 18:11:56.115 +07:00 [DBG] DetectChanges completed for 'MyDbContext'.
2025-10-03 18:11:56.115 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:11:56.115 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:11:56.115 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 18:11:56.115 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:11:56.115 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:11:56.115 +07:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (Size = 50), @p5='?' (Size = 255), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [system_notifications] ([CreatedAt], [Message], [ReadAt], [RelatedEntityId], [RelatedEntityType], [Title], [Type], [UserId])
OUTPUT INSERTED.[Id], INSERTED.[IsRead]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-10-03 18:11:56.123 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (Size = 50), @p5='?' (Size = 255), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [system_notifications] ([CreatedAt], [Message], [ReadAt], [RelatedEntityId], [RelatedEntityType], [Title], [Type], [UserId])
OUTPUT INSERTED.[Id], INSERTED.[IsRead]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-10-03 18:11:56.123 +07:00 [DBG] The foreign key property 'SystemNotification.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-10-03 18:11:56.124 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 18:11:56.124 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-10-03 18:11:56.124 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:11:56.124 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 18:11:56.124 +07:00 [DBG] An entity of type 'SystemNotification' tracked by 'MyDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 18:11:56.124 +07:00 [DBG] SaveChanges completed for 'MyDbContext' with 1 entities written to the database.
2025-10-03 18:11:56.125 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:11:56.125 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:11:56.125 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 18:11:56.125 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:11:56.125 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:11:56.125 +07:00 [DBG] Executing DbCommand [Parameters=[@__entity_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [system_notifications] AS [s]
WHERE [s].[UserId] = @__entity_UserId_0 AND [s].[IsRead] = CAST(0 AS bit)
2025-10-03 18:11:56.129 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__entity_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [system_notifications] AS [s]
WHERE [s].[UserId] = @__entity_UserId_0 AND [s].[IsRead] = CAST(0 AS bit)
2025-10-03 18:11:56.129 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 18:11:56.129 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-10-03 18:11:56.129 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:11:56.129 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 18:11:58.165 +07:00 [ERR] 5.4.5 Daily user sending limit exceeded. For more information on Gmail
5.4.5 sending limits go to
5.4.5  https://support.google.com/a/answer/166852 d9443c01a7336-28e8d128132sm47840555ad.44 - gsmtp
2025-10-03 18:11:58.383 +07:00 [WRN] Không thể gửi email quá hạn cho reviewer reviewer2@gmail.com, assignment 3
2025-10-03 18:11:58.383 +07:00 [INF] Đã gửi thông báo quá hạn cho reviewer 7, assignment 3
2025-10-03 18:11:58.383 +07:00 [DBG] 'MyDbContext' generated a temporary value for the property 'SystemNotification.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 18:11:58.383 +07:00 [DBG] Context 'MyDbContext' started tracking 'SystemNotification' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 18:11:58.384 +07:00 [DBG] SaveChanges starting for 'MyDbContext'.
2025-10-03 18:11:58.384 +07:00 [DBG] DetectChanges starting for 'MyDbContext'.
2025-10-03 18:11:58.384 +07:00 [DBG] DetectChanges completed for 'MyDbContext'.
2025-10-03 18:11:58.384 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:11:58.384 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:11:58.384 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 18:11:58.384 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:11:58.385 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:11:58.385 +07:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (Size = 50), @p5='?' (Size = 255), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [system_notifications] ([CreatedAt], [Message], [ReadAt], [RelatedEntityId], [RelatedEntityType], [Title], [Type], [UserId])
OUTPUT INSERTED.[Id], INSERTED.[IsRead]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-10-03 18:11:58.396 +07:00 [INF] Executed DbCommand (11ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (Size = 50), @p5='?' (Size = 255), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [system_notifications] ([CreatedAt], [Message], [ReadAt], [RelatedEntityId], [RelatedEntityType], [Title], [Type], [UserId])
OUTPUT INSERTED.[Id], INSERTED.[IsRead]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-10-03 18:11:58.397 +07:00 [DBG] The foreign key property 'SystemNotification.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-10-03 18:11:58.397 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 18:11:58.397 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-10-03 18:11:58.397 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:11:58.397 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 18:11:58.398 +07:00 [DBG] An entity of type 'SystemNotification' tracked by 'MyDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 18:11:58.398 +07:00 [DBG] SaveChanges completed for 'MyDbContext' with 1 entities written to the database.
2025-10-03 18:11:58.399 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:11:58.400 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:11:58.400 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 18:11:58.400 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:11:58.400 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:11:58.401 +07:00 [DBG] Executing DbCommand [Parameters=[@__entity_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [system_notifications] AS [s]
WHERE [s].[UserId] = @__entity_UserId_0 AND [s].[IsRead] = CAST(0 AS bit)
2025-10-03 18:11:58.405 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__entity_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [system_notifications] AS [s]
WHERE [s].[UserId] = @__entity_UserId_0 AND [s].[IsRead] = CAST(0 AS bit)
2025-10-03 18:11:58.405 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 18:11:58.405 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-10-03 18:11:58.405 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:11:58.405 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 18:12:00.571 +07:00 [ERR] 5.4.5 Daily user sending limit exceeded. For more information on Gmail
5.4.5 sending limits go to
5.4.5  https://support.google.com/a/answer/166852 d2e1a72fcca58-78b020749b6sm4652645b3a.78 - gsmtp
2025-10-03 18:12:00.941 +07:00 [WRN] Không thể gửi email quá hạn cho reviewer supervisor@gmail.com, assignment 4
2025-10-03 18:12:00.941 +07:00 [INF] Đã gửi thông báo quá hạn cho reviewer 6, assignment 4
2025-10-03 18:12:00.941 +07:00 [INF] Hoàn thành kiểm tra deadline: 1 sắp đến hạn, 4 quá hạn
2025-10-03 18:12:00.941 +07:00 [DBG] 'MyDbContext' disposed.
2025-10-03 18:12:00.941 +07:00 [DBG] Disposing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:12:00.941 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-10-03 18:12:46.874 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5207/api/reviewer-assignments/my-assignments - null null
2025-10-03 18:12:46.875 +07:00 [DBG] The request path /api/reviewer-assignments/my-assignments does not match a supported file type
2025-10-03 18:12:46.875 +07:00 [DBG] The request path /api/reviewer-assignments/my-assignments does not match a supported file type
2025-10-03 18:12:46.875 +07:00 [DBG] 1 candidate(s) found for the request path '/api/reviewer-assignments/my-assignments'
2025-10-03 18:12:46.875 +07:00 [DBG] Endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetMyAssignments (CapBot.api)' with route pattern 'api/reviewer-assignments/my-assignments' is valid for the request path '/api/reviewer-assignments/my-assignments'
2025-10-03 18:12:46.875 +07:00 [DBG] Request matched endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetMyAssignments (CapBot.api)'
2025-10-03 18:12:46.876 +07:00 [DBG] Successfully validated the token.
2025-10-03 18:12:46.876 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-10-03 18:12:46.876 +07:00 [DBG] Authorization was successful.
2025-10-03 18:12:46.876 +07:00 [INF] Executing endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetMyAssignments (CapBot.api)'
2025-10-03 18:12:46.895 +07:00 [INF] Route matched with {action = "GetMyAssignments", controller = "ReviewerAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyAssignments() on controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api).
2025-10-03 18:12:46.896 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-10-03 18:12:46.896 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-10-03 18:12:46.897 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2025-10-03 18:12:46.897 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-10-03 18:12:46.897 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-10-03 18:12:46.900 +07:00 [DBG] Executing controller factory for controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api)
2025-10-03 18:12:46.905 +07:00 [DBG] Executed controller factory for controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api)
2025-10-03 18:12:46.919 +07:00 [DBG] Entity Framework Core 8.0.16 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: MigrationsAssembly=App.DAL 
2025-10-03 18:12:46.921 +07:00 [DBG] Compiling query expression: 
'DbSet<ReviewerAssignment>()
    .AsNoTracking()
    .Include(ra => ra.Reviewer)
    .Include(ra => ra.AssignedByUser)
    .Include(ra => ra.Submission)
    .Include(ra => ra.Submission.TopicVersion)
    .Include(ra => ra.Submission.Topic)
    .Where(ra => ra.ReviewerId == __reviewerId_0)
    .OrderByDescending(ra => ra.AssignedAt)'
2025-10-03 18:12:46.922 +07:00 [DBG] Including navigation: 'ReviewerAssignment.Reviewer'.
2025-10-03 18:12:46.923 +07:00 [DBG] Including navigation: 'ReviewerAssignment.AssignedByUser'.
2025-10-03 18:12:46.923 +07:00 [DBG] Including navigation: 'ReviewerAssignment.Submission'.
2025-10-03 18:12:46.924 +07:00 [DBG] Including navigation: 'Submission.TopicVersion'.
2025-10-03 18:12:46.925 +07:00 [DBG] Including navigation: 'Submission.Topic'.
2025-10-03 18:12:46.951 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<ReviewerAssignment>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: ReviewerAssignment.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ReviewerAssignment.AssignedAt (DateTime) Required ValueGenerated.OnAdd, 1], [Property: ReviewerAssignment.AssignedBy (int) Required FK Index, 2], [Property: ReviewerAssignment.AssignmentType (AssignmentTypes) Required ValueGenerated.OnAdd, 3], [Property: ReviewerAssignment.CompletedAt (DateTime?), 4], [Property: ReviewerAssignment.Deadline (DateTime?) Index, 5], [Property: ReviewerAssignment.ReviewerId (int) Required FK Index, 6], [Property: ReviewerAssignment.SkillMatchScore (decimal?), 7], [Property: ReviewerAssignment.StartedAt (DateTime?), 8], [Property: ReviewerAssignment.Status (AssignmentStatus) Required Index ValueGenerated.OnAdd, 9], [Property: ReviewerAssignment.SubmissionId (int) Required FK Index, 10] }
            1 -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 11], [Property: User.AccessFailedCount (int) Required, 12], [Property: User.ConcurrencyStamp (string), 13], [Property: User.CreatedAt (DateTime) Required, 14], [Property: User.DeletedAt (DateTime?), 15], [Property: User.Email (string), 16], [Property: User.EmailConfirmed (bool) Required, 17], [Property: User.LastModifiedAt (DateTime) Required, 18], [Property: User.LastModifiedBy (string), 19], [Property: User.LockoutEnabled (bool) Required, 20], [Property: User.LockoutEnd (DateTimeOffset?), 21], [Property: User.NormalizedEmail (string), 22], [Property: User.NormalizedUserName (string), 23], [Property: User.PasswordHash (string), 24], [Property: User.PhoneNumber (string), 25], [Property: User.PhoneNumberConfirmed (bool) Required, 26], [Property: User.SecurityStamp (string), 27], [Property: User.TwoFactorEnabled (bool) Required, 28], [Property: User.UserName (string), 29] }
            2 -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 30], [Property: User.AccessFailedCount (int) Required, 31], [Property: User.ConcurrencyStamp (string), 32], [Property: User.CreatedAt (DateTime) Required, 33], [Property: User.DeletedAt (DateTime?), 34], [Property: User.Email (string), 35], [Property: User.EmailConfirmed (bool) Required, 36], [Property: User.LastModifiedAt (DateTime) Required, 37], [Property: User.LastModifiedBy (string), 38], [Property: User.LockoutEnabled (bool) Required, 39], [Property: User.LockoutEnd (DateTimeOffset?), 40], [Property: User.NormalizedEmail (string), 41], [Property: User.NormalizedUserName (string), 42], [Property: User.PasswordHash (string), 43], [Property: User.PhoneNumber (string), 44], [Property: User.PhoneNumberConfirmed (bool) Required, 45], [Property: User.SecurityStamp (string), 46], [Property: User.TwoFactorEnabled (bool) Required, 47], [Property: User.UserName (string), 48] }
            3 -> Dictionary<IProperty, int> { [Property: Submission.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 49], [Property: Submission.AdditionalNotes (string), 50], [Property: Submission.AiCheckDetails (string), 51], [Property: Submission.AiCheckScore (decimal?), 52], [Property: Submission.AiCheckStatus (AiCheckStatus) Required ValueGenerated.OnAdd, 53], [Property: Submission.CreatedAt (DateTime) Required, 54], [Property: Submission.CreatedBy (string), 55], [Property: Submission.DeletedAt (DateTime?), 56], [Property: Submission.DocumentUrl (string) MaxLength(500), 57], [Property: Submission.IsActive (bool) Required, 58], [Property: Submission.LastModifiedAt (DateTime?), 59], [Property: Submission.LastModifiedBy (string), 60], [Property: Submission.PhaseId (int) Required FK Index, 61], [Property: Submission.Status (SubmissionStatus) Required Index ValueGenerated.OnAdd, 62], [Property: Submission.SubmissionRound (int) Required Index ValueGenerated.OnAdd, 63], [Property: Submission.SubmittedAt (DateTime?) Index ValueGenerated.OnAdd, 64], [Property: Submission.SubmittedBy (int) Required FK Index, 65], [Property: Submission.TopicId (int) Required FK Index, 66], [Property: Submission.TopicVersionId (int?) FK Index, 67] }
            4 -> Dictionary<IProperty, int> { [Property: TopicVersion.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 68], [Property: TopicVersion.Content (string), 69], [Property: TopicVersion.Context (string), 70], [Property: TopicVersion.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 71], [Property: TopicVersion.CreatedBy (string), 72], [Property: TopicVersion.DeletedAt (DateTime?), 73], [Property: TopicVersion.Description (string), 74], [Property: TopicVersion.DocumentUrl (string) MaxLength(500), 75], [Property: TopicVersion.EN_Title (string) Required MaxLength(500), 76], [Property: TopicVersion.ExpectedOutcomes (string), 77], [Property: TopicVersion.IsActive (bool) Required, 78], [Property: TopicVersion.LastModifiedAt (DateTime?), 79], [Property: TopicVersion.LastModifiedBy (string), 80], [Property: TopicVersion.Methodology (string), 81], [Property: TopicVersion.Objectives (string), 82], [Property: TopicVersion.PotentialDuplicate (string), 83], [Property: TopicVersion.Problem (string), 84], [Property: TopicVersion.Requirements (string), 85], [Property: TopicVersion.Status (TopicStatus) Required Index ValueGenerated.OnAdd, 86], [Property: TopicVersion.SubmittedAt (DateTime?), 87], [Property: TopicVersion.SubmittedBy (int?) FK Index, 88], [Property: TopicVersion.TopicId (int) Required FK Index, 89], [Property: TopicVersion.VN_title (string), 90], [Property: TopicVersion.VersionNumber (int) Required Index, 91] }
            5 -> Dictionary<IProperty, int> { [Property: Topic.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 92], [Property: Topic.Abbreviation (string), 93], [Property: Topic.CategoryId (int?) FK Index, 94], [Property: Topic.Content (string), 95], [Property: Topic.Context (string), 96], [Property: Topic.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 97], [Property: Topic.CreatedBy (string), 98], [Property: Topic.DeletedAt (DateTime?), 99], [Property: Topic.Description (string), 100], [Property: Topic.EN_Title (string) Required MaxLength(500), 101], [Property: Topic.IsActive (bool) Required, 102], [Property: Topic.IsApproved (bool) Required Index Sentinel:True ValueGenerated.OnAdd, 103], [Property: Topic.IsLegacy (bool) Required Index ValueGenerated.OnAdd, 104], [Property: Topic.LastModifiedAt (DateTime?), 105], [Property: Topic.LastModifiedBy (string), 106], [Property: Topic.MaxStudents (int) Required ValueGenerated.OnAdd, 107], [Property: Topic.Objectives (string), 108], [Property: Topic.PotentialDuplicate (string), 109], [Property: Topic.Problem (string), 110], [Property: Topic.SemesterId (int) Required FK Index, 111], [Property: Topic.SupervisorId (int) Required FK Index, 112], [Property: Topic.VN_title (string), 113] }
        SELECT r.Id, r.AssignedAt, r.AssignedBy, r.AssignmentType, r.CompletedAt, r.Deadline, r.ReviewerId, r.SkillMatchScore, r.StartedAt, r.Status, r.SubmissionId, u.Id, u.AccessFailedCount, u.ConcurrencyStamp, u.CreatedAt, u.DeletedAt, u.Email, u.EmailConfirmed, u.LastModifiedAt, u.LastModifiedBy, u.LockoutEnabled, u.LockoutEnd, u.NormalizedEmail, u.NormalizedUserName, u.PasswordHash, u.PhoneNumber, u.PhoneNumberConfirmed, u.SecurityStamp, u.TwoFactorEnabled, u.UserName, u0.Id, u0.AccessFailedCount, u0.ConcurrencyStamp, u0.CreatedAt, u0.DeletedAt, u0.Email, u0.EmailConfirmed, u0.LastModifiedAt, u0.LastModifiedBy, u0.LockoutEnabled, u0.LockoutEnd, u0.NormalizedEmail, u0.NormalizedUserName, u0.PasswordHash, u0.PhoneNumber, u0.PhoneNumberConfirmed, u0.SecurityStamp, u0.TwoFactorEnabled, u0.UserName, s.Id, s.AdditionalNotes, s.AiCheckDetails, s.AiCheckScore, s.AiCheckStatus, s.CreatedAt, s.CreatedBy, s.DeletedAt, s.DocumentUrl, s.IsActive, s.LastModifiedAt, s.LastModifiedBy, s.PhaseId, s.Status, s.SubmissionRound, s.SubmittedAt, s.SubmittedBy, s.TopicId, s.TopicVersionId, t.Id, t.Content, t.Context, t.CreatedAt, t.CreatedBy, t.DeletedAt, t.Description, t.DocumentUrl, t.EN_Title, t.ExpectedOutcomes, t.IsActive, t.LastModifiedAt, t.LastModifiedBy, t.Methodology, t.Objectives, t.PotentialDuplicate, t.Problem, t.Requirements, t.Status, t.SubmittedAt, t.SubmittedBy, t.TopicId, t.VN_title, t.VersionNumber, t0.Id, t0.Abbreviation, t0.CategoryId, t0.Content, t0.Context, t0.CreatedAt, t0.CreatedBy, t0.DeletedAt, t0.Description, t0.EN_Title, t0.IsActive, t0.IsApproved, t0.IsLegacy, t0.LastModifiedAt, t0.LastModifiedBy, t0.MaxStudents, t0.Objectives, t0.PotentialDuplicate, t0.Problem, t0.SemesterId, t0.SupervisorId, t0.VN_title
        FROM reviewer_assignments AS r
        INNER JOIN users AS u ON r.ReviewerId == u.Id
        INNER JOIN users AS u0 ON r.AssignedBy == u0.Id
        INNER JOIN submissions AS s ON r.SubmissionId == s.Id
        LEFT JOIN topic_versions AS t ON s.TopicVersionId == t.Id
        LEFT JOIN topics AS t0 ON s.TopicId == t0.Id
        WHERE r.ReviewerId == @__reviewerId_0
        ORDER BY r.AssignedAt DESC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ReviewerAssignment>, 
    App.DAL.Context.MyDbContext, 
    False, 
    False, 
    True
)'
2025-10-03 18:12:46.954 +07:00 [DBG] Creating DbConnection.
2025-10-03 18:12:46.954 +07:00 [DBG] Created DbConnection. (0ms).
2025-10-03 18:12:46.954 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:12:46.954 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:12:46.954 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 18:12:46.954 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:12:46.954 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:12:46.955 +07:00 [DBG] Executing DbCommand [Parameters=[@__reviewerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [u0].[Id], [u0].[AccessFailedCount], [u0].[ConcurrencyStamp], [u0].[CreatedAt], [u0].[DeletedAt], [u0].[Email], [u0].[EmailConfirmed], [u0].[LastModifiedAt], [u0].[LastModifiedBy], [u0].[LockoutEnabled], [u0].[LockoutEnd], [u0].[NormalizedEmail], [u0].[NormalizedUserName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[PhoneNumberConfirmed], [u0].[SecurityStamp], [u0].[TwoFactorEnabled], [u0].[UserName], [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[DocumentUrl], [t].[EN_Title], [t].[ExpectedOutcomes], [t].[IsActive], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[Methodology], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[Requirements], [t].[Status], [t].[SubmittedAt], [t].[SubmittedBy], [t].[TopicId], [t].[VN_title], [t].[VersionNumber], [t0].[Id], [t0].[Abbreviation], [t0].[CategoryId], [t0].[Content], [t0].[Context], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[EN_Title], [t0].[IsActive], [t0].[IsApproved], [t0].[IsLegacy], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[MaxStudents], [t0].[Objectives], [t0].[PotentialDuplicate], [t0].[Problem], [t0].[SemesterId], [t0].[SupervisorId], [t0].[VN_title]
FROM [reviewer_assignments] AS [r]
INNER JOIN [users] AS [u] ON [r].[ReviewerId] = [u].[Id]
INNER JOIN [users] AS [u0] ON [r].[AssignedBy] = [u0].[Id]
INNER JOIN [submissions] AS [s] ON [r].[SubmissionId] = [s].[Id]
LEFT JOIN [topic_versions] AS [t] ON [s].[TopicVersionId] = [t].[Id]
LEFT JOIN [topics] AS [t0] ON [s].[TopicId] = [t0].[Id]
WHERE [r].[ReviewerId] = @__reviewerId_0
ORDER BY [r].[AssignedAt] DESC
2025-10-03 18:12:46.974 +07:00 [INF] Executed DbCommand (19ms) [Parameters=[@__reviewerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [u0].[Id], [u0].[AccessFailedCount], [u0].[ConcurrencyStamp], [u0].[CreatedAt], [u0].[DeletedAt], [u0].[Email], [u0].[EmailConfirmed], [u0].[LastModifiedAt], [u0].[LastModifiedBy], [u0].[LockoutEnabled], [u0].[LockoutEnd], [u0].[NormalizedEmail], [u0].[NormalizedUserName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[PhoneNumberConfirmed], [u0].[SecurityStamp], [u0].[TwoFactorEnabled], [u0].[UserName], [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[DocumentUrl], [t].[EN_Title], [t].[ExpectedOutcomes], [t].[IsActive], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[Methodology], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[Requirements], [t].[Status], [t].[SubmittedAt], [t].[SubmittedBy], [t].[TopicId], [t].[VN_title], [t].[VersionNumber], [t0].[Id], [t0].[Abbreviation], [t0].[CategoryId], [t0].[Content], [t0].[Context], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[EN_Title], [t0].[IsActive], [t0].[IsApproved], [t0].[IsLegacy], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[MaxStudents], [t0].[Objectives], [t0].[PotentialDuplicate], [t0].[Problem], [t0].[SemesterId], [t0].[SupervisorId], [t0].[VN_title]
FROM [reviewer_assignments] AS [r]
INNER JOIN [users] AS [u] ON [r].[ReviewerId] = [u].[Id]
INNER JOIN [users] AS [u0] ON [r].[AssignedBy] = [u0].[Id]
INNER JOIN [submissions] AS [s] ON [r].[SubmissionId] = [s].[Id]
LEFT JOIN [topic_versions] AS [t] ON [s].[TopicVersionId] = [t].[Id]
LEFT JOIN [topics] AS [t0] ON [s].[TopicId] = [t0].[Id]
WHERE [r].[ReviewerId] = @__reviewerId_0
ORDER BY [r].[AssignedAt] DESC
2025-10-03 18:12:46.974 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 18:12:46.974 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-10-03 18:12:46.974 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:12:46.974 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 18:12:46.997 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-10-03 18:12:46.998 +07:00 [DBG] No information found on request to perform content negotiation.
2025-10-03 18:12:46.998 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-10-03 18:12:46.998 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-10-03 18:12:46.998 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-10-03 18:12:46.998 +07:00 [INF] Executing ObjectResult, writing value of type 'FS.Commons.FSResponse'.
2025-10-03 18:12:47.021 +07:00 [INF] Executed action CapBot.api.Controllers.ReviewerAssignmentController.GetMyAssignments (CapBot.api) in 121.3823ms
2025-10-03 18:12:47.021 +07:00 [INF] Executed endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetMyAssignments (CapBot.api)'
2025-10-03 18:12:47.021 +07:00 [DBG] Connection id "0HNG2DJLF053O" completed keep alive response.
2025-10-03 18:12:47.021 +07:00 [DBG] 'MyDbContext' disposed.
2025-10-03 18:12:47.021 +07:00 [DBG] Disposing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:12:47.022 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-10-03 18:12:47.022 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5207/api/reviewer-assignments/my-assignments - 200 null application/json; charset=utf-8 147.4729ms
2025-10-03 18:13:16.525 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5207/api/reviewer-assignments/workload?semesterId=1 - null null
2025-10-03 18:13:16.526 +07:00 [DBG] The request path /api/reviewer-assignments/workload does not match a supported file type
2025-10-03 18:13:16.526 +07:00 [DBG] The request path /api/reviewer-assignments/workload does not match a supported file type
2025-10-03 18:13:16.526 +07:00 [DBG] 1 candidate(s) found for the request path '/api/reviewer-assignments/workload'
2025-10-03 18:13:16.526 +07:00 [DBG] Endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetReviewersWorkload (CapBot.api)' with route pattern 'api/reviewer-assignments/workload' is valid for the request path '/api/reviewer-assignments/workload'
2025-10-03 18:13:16.526 +07:00 [DBG] Request matched endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetReviewersWorkload (CapBot.api)'
2025-10-03 18:13:16.526 +07:00 [DBG] Successfully validated the token.
2025-10-03 18:13:16.527 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-10-03 18:13:16.528 +07:00 [DBG] Authorization was successful.
2025-10-03 18:13:16.528 +07:00 [INF] Executing endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetReviewersWorkload (CapBot.api)'
2025-10-03 18:13:16.536 +07:00 [INF] Route matched with {action = "GetReviewersWorkload", controller = "ReviewerAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetReviewersWorkload(System.Nullable`1[System.Int32]) on controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api).
2025-10-03 18:13:16.537 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-10-03 18:13:16.537 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-10-03 18:13:16.537 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2025-10-03 18:13:16.537 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-10-03 18:13:16.537 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-10-03 18:13:16.537 +07:00 [DBG] Executing controller factory for controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api)
2025-10-03 18:13:16.538 +07:00 [DBG] Executed controller factory for controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api)
2025-10-03 18:13:16.556 +07:00 [DBG] Attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]' ...
2025-10-03 18:13:16.558 +07:00 [DBG] Attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]' using the name 'semesterId' in request data ...
2025-10-03 18:13:16.564 +07:00 [DBG] Done attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]'.
2025-10-03 18:13:16.564 +07:00 [DBG] Done attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]'.
2025-10-03 18:13:16.564 +07:00 [DBG] Attempting to validate the bound parameter 'semesterId' of type 'System.Nullable`1[System.Int32]' ...
2025-10-03 18:13:16.568 +07:00 [DBG] Done attempting to validate the bound parameter 'semesterId' of type 'System.Nullable`1[System.Int32]'.
2025-10-03 18:13:16.577 +07:00 [DBG] Entity Framework Core 8.0.16 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: MigrationsAssembly=App.DAL 
2025-10-03 18:13:16.582 +07:00 [DBG] Compiling query expression: 
'DbSet<UserRole>()
    .AsNoTracking()
    .Include(ur => ur.User)
    .Include(ur => ur.User.LecturerSkills)
    .Include(ur => ur.User.ReviewerPerformances)
    .Include(ur => ur.Role)
    .Where(ur => ur.Role.Name == "Reviewer")'
2025-10-03 18:13:16.584 +07:00 [DBG] Including navigation: 'UserRole.User'.
2025-10-03 18:13:16.584 +07:00 [DBG] Including navigation: 'User.LecturerSkills'.
2025-10-03 18:13:16.585 +07:00 [DBG] Including navigation: 'User.ReviewerPerformances'.
2025-10-03 18:13:16.586 +07:00 [DBG] Including navigation: 'UserRole.Role'.
2025-10-03 18:13:16.603 +07:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-10-03 18:13:16.609 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<UserRole>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: UserRole.UserId (int) Required PK FK AfterSave:Throw, 0], [Property: UserRole.RoleId (int) Required PK FK Index AfterSave:Throw, 1] }
            1 -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 2], [Property: User.AccessFailedCount (int) Required, 3], [Property: User.ConcurrencyStamp (string), 4], [Property: User.CreatedAt (DateTime) Required, 5], [Property: User.DeletedAt (DateTime?), 6], [Property: User.Email (string), 7], [Property: User.EmailConfirmed (bool) Required, 8], [Property: User.LastModifiedAt (DateTime) Required, 9], [Property: User.LastModifiedBy (string), 10], [Property: User.LockoutEnabled (bool) Required, 11], [Property: User.LockoutEnd (DateTimeOffset?), 12], [Property: User.NormalizedEmail (string), 13], [Property: User.NormalizedUserName (string), 14], [Property: User.PasswordHash (string), 15], [Property: User.PhoneNumber (string), 16], [Property: User.PhoneNumberConfirmed (bool) Required, 17], [Property: User.SecurityStamp (string), 18], [Property: User.TwoFactorEnabled (bool) Required, 19], [Property: User.UserName (string), 20] }
            2 -> 0
            3 -> 1
            4 -> 21
            5 -> 2
            6 -> Dictionary<IProperty, int> { [Property: LecturerSkill.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 22], [Property: LecturerSkill.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 23], [Property: LecturerSkill.CreatedBy (string), 24], [Property: LecturerSkill.DeletedAt (DateTime?), 25], [Property: LecturerSkill.IsActive (bool) Required, 26], [Property: LecturerSkill.LastModifiedAt (DateTime?), 27], [Property: LecturerSkill.LastModifiedBy (string), 28], [Property: LecturerSkill.LecturerId (int) Required FK Index, 29], [Property: LecturerSkill.ProficiencyLevel (ProficiencyLevels) Required ValueGenerated.OnAdd, 30], [Property: LecturerSkill.SkillTag (string) Required Index MaxLength(100), 31] }
            7 -> 22
            8 -> Dictionary<IProperty, int> { [Property: ReviewerPerformance.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 32], [Property: ReviewerPerformance.AverageScoreGiven (decimal?), 33], [Property: ReviewerPerformance.AverageTimeMinutes (int) Required ValueGenerated.OnAdd, 34], [Property: ReviewerPerformance.CompletedAssignments (int) Required ValueGenerated.OnAdd, 35], [Property: ReviewerPerformance.LastUpdated (DateTime) Required ValueGenerated.OnAdd, 36], [Property: ReviewerPerformance.OnTimeRate (decimal?), 37], [Property: ReviewerPerformance.QualityRating (decimal?), 38], [Property: ReviewerPerformance.ReviewerId (int) Required FK Index, 39], [Property: ReviewerPerformance.SemesterId (int) Required FK Index, 40], [Property: ReviewerPerformance.TotalAssignments (int) Required ValueGenerated.OnAdd, 41] }
            9 -> 32
            10 -> Dictionary<IProperty, int> { [Property: Role.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 21], [Property: Role.ConcurrencyStamp (string), 42], [Property: Role.IsAdmin (bool) Required, 43], [Property: Role.Name (string), 44], [Property: Role.NormalizedName (string), 45] }
        SELECT u.UserId, u.RoleId, u0.Id, u0.AccessFailedCount, u0.ConcurrencyStamp, u0.CreatedAt, u0.DeletedAt, u0.Email, u0.EmailConfirmed, u0.LastModifiedAt, u0.LastModifiedBy, u0.LockoutEnabled, u0.LockoutEnd, u0.NormalizedEmail, u0.NormalizedUserName, u0.PasswordHash, u0.PhoneNumber, u0.PhoneNumberConfirmed, u0.SecurityStamp, u0.TwoFactorEnabled, u0.UserName, r.Id, l.Id, l.CreatedAt, l.CreatedBy, l.DeletedAt, l.IsActive, l.LastModifiedAt, l.LastModifiedBy, l.LecturerId, l.ProficiencyLevel, l.SkillTag, r0.Id, r0.AverageScoreGiven, r0.AverageTimeMinutes, r0.CompletedAssignments, r0.LastUpdated, r0.OnTimeRate, r0.QualityRating, r0.ReviewerId, r0.SemesterId, r0.TotalAssignments, r.ConcurrencyStamp, r.IsAdmin, r.Name, r.NormalizedName
        FROM user_roles AS u
        INNER JOIN roles AS r ON u.RoleId == r.Id
        INNER JOIN users AS u0 ON u.UserId == u0.Id
        LEFT JOIN lecturer_skills AS l ON u0.Id == l.LecturerId
        LEFT JOIN reviewer_performance AS r0 ON u0.Id == r0.ReviewerId
        WHERE r.Name == N'Reviewer'
        ORDER BY u.UserId ASC, u.RoleId ASC, r.Id ASC, u0.Id ASC, l.Id ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, UserRole>, 
    App.DAL.Context.MyDbContext, 
    False, 
    False, 
    True
)'
2025-10-03 18:13:16.613 +07:00 [DBG] Creating DbConnection.
2025-10-03 18:13:16.614 +07:00 [DBG] Created DbConnection. (0ms).
2025-10-03 18:13:16.614 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:13:16.615 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:13:16.615 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 18:13:16.615 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:13:16.615 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:13:16.615 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[RoleId], [u0].[Id], [u0].[AccessFailedCount], [u0].[ConcurrencyStamp], [u0].[CreatedAt], [u0].[DeletedAt], [u0].[Email], [u0].[EmailConfirmed], [u0].[LastModifiedAt], [u0].[LastModifiedBy], [u0].[LockoutEnabled], [u0].[LockoutEnd], [u0].[NormalizedEmail], [u0].[NormalizedUserName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[PhoneNumberConfirmed], [u0].[SecurityStamp], [u0].[TwoFactorEnabled], [u0].[UserName], [r].[Id], [l].[Id], [l].[CreatedAt], [l].[CreatedBy], [l].[DeletedAt], [l].[IsActive], [l].[LastModifiedAt], [l].[LastModifiedBy], [l].[LecturerId], [l].[ProficiencyLevel], [l].[SkillTag], [r0].[Id], [r0].[AverageScoreGiven], [r0].[AverageTimeMinutes], [r0].[CompletedAssignments], [r0].[LastUpdated], [r0].[OnTimeRate], [r0].[QualityRating], [r0].[ReviewerId], [r0].[SemesterId], [r0].[TotalAssignments], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [user_roles] AS [u]
INNER JOIN [roles] AS [r] ON [u].[RoleId] = [r].[Id]
INNER JOIN [users] AS [u0] ON [u].[UserId] = [u0].[Id]
LEFT JOIN [lecturer_skills] AS [l] ON [u0].[Id] = [l].[LecturerId]
LEFT JOIN [reviewer_performance] AS [r0] ON [u0].[Id] = [r0].[ReviewerId]
WHERE [r].[Name] = N'Reviewer'
ORDER BY [u].[UserId], [u].[RoleId], [r].[Id], [u0].[Id], [l].[Id]
2025-10-03 18:13:16.636 +07:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[RoleId], [u0].[Id], [u0].[AccessFailedCount], [u0].[ConcurrencyStamp], [u0].[CreatedAt], [u0].[DeletedAt], [u0].[Email], [u0].[EmailConfirmed], [u0].[LastModifiedAt], [u0].[LastModifiedBy], [u0].[LockoutEnabled], [u0].[LockoutEnd], [u0].[NormalizedEmail], [u0].[NormalizedUserName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[PhoneNumberConfirmed], [u0].[SecurityStamp], [u0].[TwoFactorEnabled], [u0].[UserName], [r].[Id], [l].[Id], [l].[CreatedAt], [l].[CreatedBy], [l].[DeletedAt], [l].[IsActive], [l].[LastModifiedAt], [l].[LastModifiedBy], [l].[LecturerId], [l].[ProficiencyLevel], [l].[SkillTag], [r0].[Id], [r0].[AverageScoreGiven], [r0].[AverageTimeMinutes], [r0].[CompletedAssignments], [r0].[LastUpdated], [r0].[OnTimeRate], [r0].[QualityRating], [r0].[ReviewerId], [r0].[SemesterId], [r0].[TotalAssignments], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [user_roles] AS [u]
INNER JOIN [roles] AS [r] ON [u].[RoleId] = [r].[Id]
INNER JOIN [users] AS [u0] ON [u].[UserId] = [u0].[Id]
LEFT JOIN [lecturer_skills] AS [l] ON [u0].[Id] = [l].[LecturerId]
LEFT JOIN [reviewer_performance] AS [r0] ON [u0].[Id] = [r0].[ReviewerId]
WHERE [r].[Name] = N'Reviewer'
ORDER BY [u].[UserId], [u].[RoleId], [r].[Id], [u0].[Id], [l].[Id]
2025-10-03 18:13:16.638 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 18:13:16.638 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 2ms reading results.
2025-10-03 18:13:16.639 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:13:16.639 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 18:13:16.641 +07:00 [DBG] Compiling query expression: 
'DbSet<ReviewerAssignment>()
    .AsNoTracking()
    .Include(ra => ra.Submission)
    .Include(ra => ra.Submission.Topic)
    .Include(ra => ra.Submission.TopicVersion)
    .Include(ra => ra.Submission.TopicVersion.Topic)
    .Where(ra => __8__locals2_reviewerIds_0.Contains(ra.ReviewerId) && ra.Submission != null && ra.Submission.Topic != null && ra.Submission.Topic.SemesterId == __sid_1 || ra.Submission != null && ra.Submission.TopicVersion != null && ra.Submission.TopicVersion.Topic != null && ra.Submission.TopicVersion.Topic.SemesterId == __sid_1)'
2025-10-03 18:13:16.644 +07:00 [DBG] Including navigation: 'ReviewerAssignment.Submission'.
2025-10-03 18:13:16.644 +07:00 [DBG] Including navigation: 'Submission.Topic'.
2025-10-03 18:13:16.644 +07:00 [DBG] Including navigation: 'Submission.TopicVersion'.
2025-10-03 18:13:16.644 +07:00 [DBG] Including navigation: 'TopicVersion.Topic'.
2025-10-03 18:13:16.685 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<ReviewerAssignment>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: ReviewerAssignment.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ReviewerAssignment.AssignedAt (DateTime) Required ValueGenerated.OnAdd, 1], [Property: ReviewerAssignment.AssignedBy (int) Required FK Index, 2], [Property: ReviewerAssignment.AssignmentType (AssignmentTypes) Required ValueGenerated.OnAdd, 3], [Property: ReviewerAssignment.CompletedAt (DateTime?), 4], [Property: ReviewerAssignment.Deadline (DateTime?) Index, 5], [Property: ReviewerAssignment.ReviewerId (int) Required FK Index, 6], [Property: ReviewerAssignment.SkillMatchScore (decimal?), 7], [Property: ReviewerAssignment.StartedAt (DateTime?), 8], [Property: ReviewerAssignment.Status (AssignmentStatus) Required Index ValueGenerated.OnAdd, 9], [Property: ReviewerAssignment.SubmissionId (int) Required FK Index, 10] }
            1 -> Dictionary<IProperty, int> { [Property: Submission.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 11], [Property: Submission.AdditionalNotes (string), 12], [Property: Submission.AiCheckDetails (string), 13], [Property: Submission.AiCheckScore (decimal?), 14], [Property: Submission.AiCheckStatus (AiCheckStatus) Required ValueGenerated.OnAdd, 15], [Property: Submission.CreatedAt (DateTime) Required, 16], [Property: Submission.CreatedBy (string), 17], [Property: Submission.DeletedAt (DateTime?), 18], [Property: Submission.DocumentUrl (string) MaxLength(500), 19], [Property: Submission.IsActive (bool) Required, 20], [Property: Submission.LastModifiedAt (DateTime?), 21], [Property: Submission.LastModifiedBy (string), 22], [Property: Submission.PhaseId (int) Required FK Index, 23], [Property: Submission.Status (SubmissionStatus) Required Index ValueGenerated.OnAdd, 24], [Property: Submission.SubmissionRound (int) Required Index ValueGenerated.OnAdd, 25], [Property: Submission.SubmittedAt (DateTime?) Index ValueGenerated.OnAdd, 26], [Property: Submission.SubmittedBy (int) Required FK Index, 27], [Property: Submission.TopicId (int) Required FK Index, 28], [Property: Submission.TopicVersionId (int?) FK Index, 29] }
            2 -> Dictionary<IProperty, int> { [Property: Topic.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 30], [Property: Topic.Abbreviation (string), 31], [Property: Topic.CategoryId (int?) FK Index, 32], [Property: Topic.Content (string), 33], [Property: Topic.Context (string), 34], [Property: Topic.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 35], [Property: Topic.CreatedBy (string), 36], [Property: Topic.DeletedAt (DateTime?), 37], [Property: Topic.Description (string), 38], [Property: Topic.EN_Title (string) Required MaxLength(500), 39], [Property: Topic.IsActive (bool) Required, 40], [Property: Topic.IsApproved (bool) Required Index Sentinel:True ValueGenerated.OnAdd, 41], [Property: Topic.IsLegacy (bool) Required Index ValueGenerated.OnAdd, 42], [Property: Topic.LastModifiedAt (DateTime?), 43], [Property: Topic.LastModifiedBy (string), 44], [Property: Topic.MaxStudents (int) Required ValueGenerated.OnAdd, 45], [Property: Topic.Objectives (string), 46], [Property: Topic.PotentialDuplicate (string), 47], [Property: Topic.Problem (string), 48], [Property: Topic.SemesterId (int) Required FK Index, 49], [Property: Topic.SupervisorId (int) Required FK Index, 50], [Property: Topic.VN_title (string), 51] }
            3 -> Dictionary<IProperty, int> { [Property: TopicVersion.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 52], [Property: TopicVersion.Content (string), 53], [Property: TopicVersion.Context (string), 54], [Property: TopicVersion.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 55], [Property: TopicVersion.CreatedBy (string), 56], [Property: TopicVersion.DeletedAt (DateTime?), 57], [Property: TopicVersion.Description (string), 58], [Property: TopicVersion.DocumentUrl (string) MaxLength(500), 59], [Property: TopicVersion.EN_Title (string) Required MaxLength(500), 60], [Property: TopicVersion.ExpectedOutcomes (string), 61], [Property: TopicVersion.IsActive (bool) Required, 62], [Property: TopicVersion.LastModifiedAt (DateTime?), 63], [Property: TopicVersion.LastModifiedBy (string), 64], [Property: TopicVersion.Methodology (string), 65], [Property: TopicVersion.Objectives (string), 66], [Property: TopicVersion.PotentialDuplicate (string), 67], [Property: TopicVersion.Problem (string), 68], [Property: TopicVersion.Requirements (string), 69], [Property: TopicVersion.Status (TopicStatus) Required Index ValueGenerated.OnAdd, 70], [Property: TopicVersion.SubmittedAt (DateTime?), 71], [Property: TopicVersion.SubmittedBy (int?) FK Index, 72], [Property: TopicVersion.TopicId (int) Required FK Index, 73], [Property: TopicVersion.VN_title (string), 74], [Property: TopicVersion.VersionNumber (int) Required Index, 75] }
            4 -> Dictionary<IProperty, int> { [Property: Topic.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 76], [Property: Topic.Abbreviation (string), 77], [Property: Topic.CategoryId (int?) FK Index, 78], [Property: Topic.Content (string), 79], [Property: Topic.Context (string), 80], [Property: Topic.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 81], [Property: Topic.CreatedBy (string), 82], [Property: Topic.DeletedAt (DateTime?), 83], [Property: Topic.Description (string), 84], [Property: Topic.EN_Title (string) Required MaxLength(500), 85], [Property: Topic.IsActive (bool) Required, 86], [Property: Topic.IsApproved (bool) Required Index Sentinel:True ValueGenerated.OnAdd, 87], [Property: Topic.IsLegacy (bool) Required Index ValueGenerated.OnAdd, 88], [Property: Topic.LastModifiedAt (DateTime?), 89], [Property: Topic.LastModifiedBy (string), 90], [Property: Topic.MaxStudents (int) Required ValueGenerated.OnAdd, 91], [Property: Topic.Objectives (string), 92], [Property: Topic.PotentialDuplicate (string), 93], [Property: Topic.Problem (string), 94], [Property: Topic.SemesterId (int) Required FK Index, 95], [Property: Topic.SupervisorId (int) Required FK Index, 96], [Property: Topic.VN_title (string), 97] }
        SELECT r.Id, r.AssignedAt, r.AssignedBy, r.AssignmentType, r.CompletedAt, r.Deadline, r.ReviewerId, r.SkillMatchScore, r.StartedAt, r.Status, r.SubmissionId, s.Id, s.AdditionalNotes, s.AiCheckDetails, s.AiCheckScore, s.AiCheckStatus, s.CreatedAt, s.CreatedBy, s.DeletedAt, s.DocumentUrl, s.IsActive, s.LastModifiedAt, s.LastModifiedBy, s.PhaseId, s.Status, s.SubmissionRound, s.SubmittedAt, s.SubmittedBy, s.TopicId, s.TopicVersionId, t.Id, t.Abbreviation, t.CategoryId, t.Content, t.Context, t.CreatedAt, t.CreatedBy, t.DeletedAt, t.Description, t.EN_Title, t.IsActive, t.IsApproved, t.IsLegacy, t.LastModifiedAt, t.LastModifiedBy, t.MaxStudents, t.Objectives, t.PotentialDuplicate, t.Problem, t.SemesterId, t.SupervisorId, t.VN_title, t0.Id, t0.Content, t0.Context, t0.CreatedAt, t0.CreatedBy, t0.DeletedAt, t0.Description, t0.DocumentUrl, t0.EN_Title, t0.ExpectedOutcomes, t0.IsActive, t0.LastModifiedAt, t0.LastModifiedBy, t0.Methodology, t0.Objectives, t0.PotentialDuplicate, t0.Problem, t0.Requirements, t0.Status, t0.SubmittedAt, t0.SubmittedBy, t0.TopicId, t0.VN_title, t0.VersionNumber, t1.Id, t1.Abbreviation, t1.CategoryId, t1.Content, t1.Context, t1.CreatedAt, t1.CreatedBy, t1.DeletedAt, t1.Description, t1.EN_Title, t1.IsActive, t1.IsApproved, t1.IsLegacy, t1.LastModifiedAt, t1.LastModifiedBy, t1.MaxStudents, t1.Objectives, t1.PotentialDuplicate, t1.Problem, t1.SemesterId, t1.SupervisorId, t1.VN_title
        FROM reviewer_assignments AS r
        INNER JOIN submissions AS s ON r.SubmissionId == s.Id
        LEFT JOIN topics AS t ON s.TopicId == t.Id
        LEFT JOIN topic_versions AS t0 ON s.TopicVersionId == t0.Id
        LEFT JOIN topics AS t1 ON t0.TopicId == t1.Id
        WHERE r.ReviewerId IN (
            SELECT 8.value
            FROM OPENJSON(@__8__locals2_reviewerIds_0) WITH (value int '') AS 8) && (((Not(s.Id == NULL) && Not(t.Id == NULL)) && (t.SemesterId == @__sid_1)) || (((Not(s.Id == NULL) && Not(t0.Id == NULL)) && Not(t1.Id == NULL)) && (t1.SemesterId == @__sid_1)))), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ReviewerAssignment>, 
    App.DAL.Context.MyDbContext, 
    False, 
    False, 
    True
)'
2025-10-03 18:13:16.693 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:13:16.693 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:13:16.693 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 18:13:16.693 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:13:16.699 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2025-10-03 18:13:16.699 +07:00 [DBG] Executing DbCommand [Parameters=[@__8__locals2_reviewerIds_0='?' (Size = 4000), @__sid_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId], [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Abbreviation], [t].[CategoryId], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[EN_Title], [t].[IsActive], [t].[IsApproved], [t].[IsLegacy], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[MaxStudents], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[SemesterId], [t].[SupervisorId], [t].[VN_title], [t0].[Id], [t0].[Content], [t0].[Context], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[DocumentUrl], [t0].[EN_Title], [t0].[ExpectedOutcomes], [t0].[IsActive], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[Methodology], [t0].[Objectives], [t0].[PotentialDuplicate], [t0].[Problem], [t0].[Requirements], [t0].[Status], [t0].[SubmittedAt], [t0].[SubmittedBy], [t0].[TopicId], [t0].[VN_title], [t0].[VersionNumber], [t1].[Id], [t1].[Abbreviation], [t1].[CategoryId], [t1].[Content], [t1].[Context], [t1].[CreatedAt], [t1].[CreatedBy], [t1].[DeletedAt], [t1].[Description], [t1].[EN_Title], [t1].[IsActive], [t1].[IsApproved], [t1].[IsLegacy], [t1].[LastModifiedAt], [t1].[LastModifiedBy], [t1].[MaxStudents], [t1].[Objectives], [t1].[PotentialDuplicate], [t1].[Problem], [t1].[SemesterId], [t1].[SupervisorId], [t1].[VN_title]
FROM [reviewer_assignments] AS [r]
INNER JOIN [submissions] AS [s] ON [r].[SubmissionId] = [s].[Id]
LEFT JOIN [topics] AS [t] ON [s].[TopicId] = [t].[Id]
LEFT JOIN [topic_versions] AS [t0] ON [s].[TopicVersionId] = [t0].[Id]
LEFT JOIN [topics] AS [t1] ON [t0].[TopicId] = [t1].[Id]
WHERE [r].[ReviewerId] IN (
    SELECT [8].[value]
    FROM OPENJSON(@__8__locals2_reviewerIds_0) WITH ([value] int '$') AS [8]
) AND (([t].[Id] IS NOT NULL AND [t].[SemesterId] = @__sid_1) OR ([t0].[Id] IS NOT NULL AND [t1].[Id] IS NOT NULL AND [t1].[SemesterId] = @__sid_1))
2025-10-03 18:13:16.747 +07:00 [INF] Executed DbCommand (48ms) [Parameters=[@__8__locals2_reviewerIds_0='?' (Size = 4000), @__sid_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId], [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Abbreviation], [t].[CategoryId], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[EN_Title], [t].[IsActive], [t].[IsApproved], [t].[IsLegacy], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[MaxStudents], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[SemesterId], [t].[SupervisorId], [t].[VN_title], [t0].[Id], [t0].[Content], [t0].[Context], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[DocumentUrl], [t0].[EN_Title], [t0].[ExpectedOutcomes], [t0].[IsActive], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[Methodology], [t0].[Objectives], [t0].[PotentialDuplicate], [t0].[Problem], [t0].[Requirements], [t0].[Status], [t0].[SubmittedAt], [t0].[SubmittedBy], [t0].[TopicId], [t0].[VN_title], [t0].[VersionNumber], [t1].[Id], [t1].[Abbreviation], [t1].[CategoryId], [t1].[Content], [t1].[Context], [t1].[CreatedAt], [t1].[CreatedBy], [t1].[DeletedAt], [t1].[Description], [t1].[EN_Title], [t1].[IsActive], [t1].[IsApproved], [t1].[IsLegacy], [t1].[LastModifiedAt], [t1].[LastModifiedBy], [t1].[MaxStudents], [t1].[Objectives], [t1].[PotentialDuplicate], [t1].[Problem], [t1].[SemesterId], [t1].[SupervisorId], [t1].[VN_title]
FROM [reviewer_assignments] AS [r]
INNER JOIN [submissions] AS [s] ON [r].[SubmissionId] = [s].[Id]
LEFT JOIN [topics] AS [t] ON [s].[TopicId] = [t].[Id]
LEFT JOIN [topic_versions] AS [t0] ON [s].[TopicVersionId] = [t0].[Id]
LEFT JOIN [topics] AS [t1] ON [t0].[TopicId] = [t1].[Id]
WHERE [r].[ReviewerId] IN (
    SELECT [8].[value]
    FROM OPENJSON(@__8__locals2_reviewerIds_0) WITH ([value] int '$') AS [8]
) AND (([t].[Id] IS NOT NULL AND [t].[SemesterId] = @__sid_1) OR ([t0].[Id] IS NOT NULL AND [t1].[Id] IS NOT NULL AND [t1].[SemesterId] = @__sid_1))
2025-10-03 18:13:16.752 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 18:13:16.753 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 4ms reading results.
2025-10-03 18:13:16.753 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:13:16.753 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 18:13:16.765 +07:00 [DBG] Compiling query expression: 
'DbSet<ReviewerPerformance>()
    .AsNoTracking()
    .Where(rp => __reviewerIds_0.Contains(rp.ReviewerId) && False || rp.SemesterId == __8__locals1_semesterId_Value_1)'
2025-10-03 18:13:16.768 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<ReviewerPerformance>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ReviewerPerformance.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ReviewerPerformance.AverageScoreGiven (decimal?), 1], [Property: ReviewerPerformance.AverageTimeMinutes (int) Required ValueGenerated.OnAdd, 2], [Property: ReviewerPerformance.CompletedAssignments (int) Required ValueGenerated.OnAdd, 3], [Property: ReviewerPerformance.LastUpdated (DateTime) Required ValueGenerated.OnAdd, 4], [Property: ReviewerPerformance.OnTimeRate (decimal?), 5], [Property: ReviewerPerformance.QualityRating (decimal?), 6], [Property: ReviewerPerformance.ReviewerId (int) Required FK Index, 7], [Property: ReviewerPerformance.SemesterId (int) Required FK Index, 8], [Property: ReviewerPerformance.TotalAssignments (int) Required ValueGenerated.OnAdd, 9] }
        SELECT r.Id, r.AverageScoreGiven, r.AverageTimeMinutes, r.CompletedAssignments, r.LastUpdated, r.OnTimeRate, r.QualityRating, r.ReviewerId, r.SemesterId, r.TotalAssignments
        FROM reviewer_performance AS r
        WHERE r.ReviewerId IN (
            SELECT r0.value
            FROM OPENJSON(@__reviewerIds_0) WITH (value int '') AS r0) && (CAST(0 AS bit) || (r.SemesterId == @__8__locals1_semesterId_Value_1))), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ReviewerPerformance>, 
    App.DAL.Context.MyDbContext, 
    False, 
    False, 
    True
)'
2025-10-03 18:13:16.769 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:13:16.770 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:13:16.770 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 18:13:16.770 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:13:16.770 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:13:16.770 +07:00 [DBG] Executing DbCommand [Parameters=[@__reviewerIds_0='?' (Size = 4000), @__8__locals1_semesterId_Value_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AverageScoreGiven], [r].[AverageTimeMinutes], [r].[CompletedAssignments], [r].[LastUpdated], [r].[OnTimeRate], [r].[QualityRating], [r].[ReviewerId], [r].[SemesterId], [r].[TotalAssignments]
FROM [reviewer_performance] AS [r]
WHERE [r].[ReviewerId] IN (
    SELECT [r0].[value]
    FROM OPENJSON(@__reviewerIds_0) WITH ([value] int '$') AS [r0]
) AND [r].[SemesterId] = @__8__locals1_semesterId_Value_1
2025-10-03 18:13:16.777 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@__reviewerIds_0='?' (Size = 4000), @__8__locals1_semesterId_Value_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AverageScoreGiven], [r].[AverageTimeMinutes], [r].[CompletedAssignments], [r].[LastUpdated], [r].[OnTimeRate], [r].[QualityRating], [r].[ReviewerId], [r].[SemesterId], [r].[TotalAssignments]
FROM [reviewer_performance] AS [r]
WHERE [r].[ReviewerId] IN (
    SELECT [r0].[value]
    FROM OPENJSON(@__reviewerIds_0) WITH ([value] int '$') AS [r0]
) AND [r].[SemesterId] = @__8__locals1_semesterId_Value_1
2025-10-03 18:13:16.778 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 18:13:16.778 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 1ms reading results.
2025-10-03 18:13:16.779 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:13:16.779 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 18:13:16.784 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-10-03 18:13:16.784 +07:00 [DBG] No information found on request to perform content negotiation.
2025-10-03 18:13:16.785 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-10-03 18:13:16.785 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-10-03 18:13:16.785 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-10-03 18:13:16.785 +07:00 [INF] Executing ObjectResult, writing value of type 'FS.Commons.FSResponse'.
2025-10-03 18:13:16.789 +07:00 [INF] Executed action CapBot.api.Controllers.ReviewerAssignmentController.GetReviewersWorkload (CapBot.api) in 251.7832ms
2025-10-03 18:13:16.789 +07:00 [INF] Executed endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetReviewersWorkload (CapBot.api)'
2025-10-03 18:13:16.789 +07:00 [DBG] Connection id "0HNG2DJLF053O" completed keep alive response.
2025-10-03 18:13:16.789 +07:00 [DBG] 'MyDbContext' disposed.
2025-10-03 18:13:16.789 +07:00 [DBG] Disposing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:13:16.789 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-10-03 18:13:16.790 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5207/api/reviewer-assignments/workload?semesterId=1 - 200 null application/json; charset=utf-8 264.2831ms
2025-10-03 18:15:28.411 +07:00 [DBG] Connection id "0HNG2DJLF053O" disconnecting.
2025-10-03 18:15:28.411 +07:00 [DBG] Connection id "0HNG2DJLF053O" stopped.
2025-10-03 18:15:28.412 +07:00 [DBG] Connection id "0HNG2DJLF053O" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-10-03 18:16:33.343 +07:00 [DBG] Connection id "0HNG2DJLF053P" accepted.
2025-10-03 18:16:33.344 +07:00 [DBG] Connection id "0HNG2DJLF053P" started.
2025-10-03 18:16:33.344 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5207/api/reviewer-assignments/workload?semesterId=1 - null null
2025-10-03 18:16:33.344 +07:00 [DBG] The request path /api/reviewer-assignments/workload does not match a supported file type
2025-10-03 18:16:33.344 +07:00 [DBG] The request path /api/reviewer-assignments/workload does not match a supported file type
2025-10-03 18:16:33.345 +07:00 [DBG] 1 candidate(s) found for the request path '/api/reviewer-assignments/workload'
2025-10-03 18:16:33.345 +07:00 [DBG] Endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetReviewersWorkload (CapBot.api)' with route pattern 'api/reviewer-assignments/workload' is valid for the request path '/api/reviewer-assignments/workload'
2025-10-03 18:16:33.345 +07:00 [DBG] Request matched endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetReviewersWorkload (CapBot.api)'
2025-10-03 18:16:33.345 +07:00 [DBG] Successfully validated the token.
2025-10-03 18:16:33.345 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-10-03 18:16:33.346 +07:00 [DBG] Authorization was successful.
2025-10-03 18:16:33.346 +07:00 [INF] Executing endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetReviewersWorkload (CapBot.api)'
2025-10-03 18:16:33.346 +07:00 [INF] Route matched with {action = "GetReviewersWorkload", controller = "ReviewerAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetReviewersWorkload(System.Nullable`1[System.Int32]) on controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api).
2025-10-03 18:16:33.346 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-10-03 18:16:33.346 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-10-03 18:16:33.347 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2025-10-03 18:16:33.347 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-10-03 18:16:33.347 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-10-03 18:16:33.347 +07:00 [DBG] Executing controller factory for controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api)
2025-10-03 18:16:33.347 +07:00 [DBG] Executed controller factory for controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api)
2025-10-03 18:16:33.348 +07:00 [DBG] Attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]' ...
2025-10-03 18:16:33.348 +07:00 [DBG] Attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]' using the name 'semesterId' in request data ...
2025-10-03 18:16:33.348 +07:00 [DBG] Done attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]'.
2025-10-03 18:16:33.348 +07:00 [DBG] Done attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]'.
2025-10-03 18:16:33.348 +07:00 [DBG] Attempting to validate the bound parameter 'semesterId' of type 'System.Nullable`1[System.Int32]' ...
2025-10-03 18:16:33.348 +07:00 [DBG] Done attempting to validate the bound parameter 'semesterId' of type 'System.Nullable`1[System.Int32]'.
2025-10-03 18:16:33.350 +07:00 [DBG] Entity Framework Core 8.0.16 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: MigrationsAssembly=App.DAL 
2025-10-03 18:16:33.353 +07:00 [DBG] Creating DbConnection.
2025-10-03 18:16:33.353 +07:00 [DBG] Created DbConnection. (0ms).
2025-10-03 18:16:33.353 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:16:33.354 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:16:33.354 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 18:16:33.354 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:16:33.354 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:16:33.354 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[RoleId], [u0].[Id], [u0].[AccessFailedCount], [u0].[ConcurrencyStamp], [u0].[CreatedAt], [u0].[DeletedAt], [u0].[Email], [u0].[EmailConfirmed], [u0].[LastModifiedAt], [u0].[LastModifiedBy], [u0].[LockoutEnabled], [u0].[LockoutEnd], [u0].[NormalizedEmail], [u0].[NormalizedUserName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[PhoneNumberConfirmed], [u0].[SecurityStamp], [u0].[TwoFactorEnabled], [u0].[UserName], [r].[Id], [l].[Id], [l].[CreatedAt], [l].[CreatedBy], [l].[DeletedAt], [l].[IsActive], [l].[LastModifiedAt], [l].[LastModifiedBy], [l].[LecturerId], [l].[ProficiencyLevel], [l].[SkillTag], [r0].[Id], [r0].[AverageScoreGiven], [r0].[AverageTimeMinutes], [r0].[CompletedAssignments], [r0].[LastUpdated], [r0].[OnTimeRate], [r0].[QualityRating], [r0].[ReviewerId], [r0].[SemesterId], [r0].[TotalAssignments], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [user_roles] AS [u]
INNER JOIN [roles] AS [r] ON [u].[RoleId] = [r].[Id]
INNER JOIN [users] AS [u0] ON [u].[UserId] = [u0].[Id]
LEFT JOIN [lecturer_skills] AS [l] ON [u0].[Id] = [l].[LecturerId]
LEFT JOIN [reviewer_performance] AS [r0] ON [u0].[Id] = [r0].[ReviewerId]
WHERE [r].[Name] = N'Reviewer'
ORDER BY [u].[UserId], [u].[RoleId], [r].[Id], [u0].[Id], [l].[Id]
2025-10-03 18:16:33.399 +07:00 [INF] Executed DbCommand (45ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[RoleId], [u0].[Id], [u0].[AccessFailedCount], [u0].[ConcurrencyStamp], [u0].[CreatedAt], [u0].[DeletedAt], [u0].[Email], [u0].[EmailConfirmed], [u0].[LastModifiedAt], [u0].[LastModifiedBy], [u0].[LockoutEnabled], [u0].[LockoutEnd], [u0].[NormalizedEmail], [u0].[NormalizedUserName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[PhoneNumberConfirmed], [u0].[SecurityStamp], [u0].[TwoFactorEnabled], [u0].[UserName], [r].[Id], [l].[Id], [l].[CreatedAt], [l].[CreatedBy], [l].[DeletedAt], [l].[IsActive], [l].[LastModifiedAt], [l].[LastModifiedBy], [l].[LecturerId], [l].[ProficiencyLevel], [l].[SkillTag], [r0].[Id], [r0].[AverageScoreGiven], [r0].[AverageTimeMinutes], [r0].[CompletedAssignments], [r0].[LastUpdated], [r0].[OnTimeRate], [r0].[QualityRating], [r0].[ReviewerId], [r0].[SemesterId], [r0].[TotalAssignments], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [user_roles] AS [u]
INNER JOIN [roles] AS [r] ON [u].[RoleId] = [r].[Id]
INNER JOIN [users] AS [u0] ON [u].[UserId] = [u0].[Id]
LEFT JOIN [lecturer_skills] AS [l] ON [u0].[Id] = [l].[LecturerId]
LEFT JOIN [reviewer_performance] AS [r0] ON [u0].[Id] = [r0].[ReviewerId]
WHERE [r].[Name] = N'Reviewer'
ORDER BY [u].[UserId], [u].[RoleId], [r].[Id], [u0].[Id], [l].[Id]
2025-10-03 18:16:33.401 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 18:16:33.401 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 1ms reading results.
2025-10-03 18:16:33.401 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:16:33.401 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 18:16:33.401 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:16:33.402 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:16:33.402 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 18:16:33.402 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:16:33.402 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:16:33.402 +07:00 [DBG] Executing DbCommand [Parameters=[@__8__locals2_reviewerIds_0='?' (Size = 4000), @__sid_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId], [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Abbreviation], [t].[CategoryId], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[EN_Title], [t].[IsActive], [t].[IsApproved], [t].[IsLegacy], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[MaxStudents], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[SemesterId], [t].[SupervisorId], [t].[VN_title], [t0].[Id], [t0].[Content], [t0].[Context], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[DocumentUrl], [t0].[EN_Title], [t0].[ExpectedOutcomes], [t0].[IsActive], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[Methodology], [t0].[Objectives], [t0].[PotentialDuplicate], [t0].[Problem], [t0].[Requirements], [t0].[Status], [t0].[SubmittedAt], [t0].[SubmittedBy], [t0].[TopicId], [t0].[VN_title], [t0].[VersionNumber], [t1].[Id], [t1].[Abbreviation], [t1].[CategoryId], [t1].[Content], [t1].[Context], [t1].[CreatedAt], [t1].[CreatedBy], [t1].[DeletedAt], [t1].[Description], [t1].[EN_Title], [t1].[IsActive], [t1].[IsApproved], [t1].[IsLegacy], [t1].[LastModifiedAt], [t1].[LastModifiedBy], [t1].[MaxStudents], [t1].[Objectives], [t1].[PotentialDuplicate], [t1].[Problem], [t1].[SemesterId], [t1].[SupervisorId], [t1].[VN_title]
FROM [reviewer_assignments] AS [r]
INNER JOIN [submissions] AS [s] ON [r].[SubmissionId] = [s].[Id]
LEFT JOIN [topics] AS [t] ON [s].[TopicId] = [t].[Id]
LEFT JOIN [topic_versions] AS [t0] ON [s].[TopicVersionId] = [t0].[Id]
LEFT JOIN [topics] AS [t1] ON [t0].[TopicId] = [t1].[Id]
WHERE [r].[ReviewerId] IN (
    SELECT [8].[value]
    FROM OPENJSON(@__8__locals2_reviewerIds_0) WITH ([value] int '$') AS [8]
) AND (([t].[Id] IS NOT NULL AND [t].[SemesterId] = @__sid_1) OR ([t0].[Id] IS NOT NULL AND [t1].[Id] IS NOT NULL AND [t1].[SemesterId] = @__sid_1))
2025-10-03 18:16:33.424 +07:00 [INF] Executed DbCommand (23ms) [Parameters=[@__8__locals2_reviewerIds_0='?' (Size = 4000), @__sid_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId], [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Abbreviation], [t].[CategoryId], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[EN_Title], [t].[IsActive], [t].[IsApproved], [t].[IsLegacy], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[MaxStudents], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[SemesterId], [t].[SupervisorId], [t].[VN_title], [t0].[Id], [t0].[Content], [t0].[Context], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[DocumentUrl], [t0].[EN_Title], [t0].[ExpectedOutcomes], [t0].[IsActive], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[Methodology], [t0].[Objectives], [t0].[PotentialDuplicate], [t0].[Problem], [t0].[Requirements], [t0].[Status], [t0].[SubmittedAt], [t0].[SubmittedBy], [t0].[TopicId], [t0].[VN_title], [t0].[VersionNumber], [t1].[Id], [t1].[Abbreviation], [t1].[CategoryId], [t1].[Content], [t1].[Context], [t1].[CreatedAt], [t1].[CreatedBy], [t1].[DeletedAt], [t1].[Description], [t1].[EN_Title], [t1].[IsActive], [t1].[IsApproved], [t1].[IsLegacy], [t1].[LastModifiedAt], [t1].[LastModifiedBy], [t1].[MaxStudents], [t1].[Objectives], [t1].[PotentialDuplicate], [t1].[Problem], [t1].[SemesterId], [t1].[SupervisorId], [t1].[VN_title]
FROM [reviewer_assignments] AS [r]
INNER JOIN [submissions] AS [s] ON [r].[SubmissionId] = [s].[Id]
LEFT JOIN [topics] AS [t] ON [s].[TopicId] = [t].[Id]
LEFT JOIN [topic_versions] AS [t0] ON [s].[TopicVersionId] = [t0].[Id]
LEFT JOIN [topics] AS [t1] ON [t0].[TopicId] = [t1].[Id]
WHERE [r].[ReviewerId] IN (
    SELECT [8].[value]
    FROM OPENJSON(@__8__locals2_reviewerIds_0) WITH ([value] int '$') AS [8]
) AND (([t].[Id] IS NOT NULL AND [t].[SemesterId] = @__sid_1) OR ([t0].[Id] IS NOT NULL AND [t1].[Id] IS NOT NULL AND [t1].[SemesterId] = @__sid_1))
2025-10-03 18:16:33.428 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 18:16:33.428 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 3ms reading results.
2025-10-03 18:16:33.428 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:16:33.429 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 18:16:33.430 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:16:33.430 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:16:33.430 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 18:16:33.430 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:16:33.430 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:16:33.430 +07:00 [DBG] Executing DbCommand [Parameters=[@__reviewerIds_0='?' (Size = 4000), @__8__locals1_semesterId_Value_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AverageScoreGiven], [r].[AverageTimeMinutes], [r].[CompletedAssignments], [r].[LastUpdated], [r].[OnTimeRate], [r].[QualityRating], [r].[ReviewerId], [r].[SemesterId], [r].[TotalAssignments]
FROM [reviewer_performance] AS [r]
WHERE [r].[ReviewerId] IN (
    SELECT [r0].[value]
    FROM OPENJSON(@__reviewerIds_0) WITH ([value] int '$') AS [r0]
) AND [r].[SemesterId] = @__8__locals1_semesterId_Value_1
2025-10-03 18:16:33.435 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__reviewerIds_0='?' (Size = 4000), @__8__locals1_semesterId_Value_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AverageScoreGiven], [r].[AverageTimeMinutes], [r].[CompletedAssignments], [r].[LastUpdated], [r].[OnTimeRate], [r].[QualityRating], [r].[ReviewerId], [r].[SemesterId], [r].[TotalAssignments]
FROM [reviewer_performance] AS [r]
WHERE [r].[ReviewerId] IN (
    SELECT [r0].[value]
    FROM OPENJSON(@__reviewerIds_0) WITH ([value] int '$') AS [r0]
) AND [r].[SemesterId] = @__8__locals1_semesterId_Value_1
2025-10-03 18:16:33.435 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 18:16:33.435 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-10-03 18:16:33.435 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:16:33.435 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 18:16:33.435 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-10-03 18:16:33.435 +07:00 [DBG] No information found on request to perform content negotiation.
2025-10-03 18:16:33.435 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-10-03 18:16:33.435 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-10-03 18:16:33.436 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-10-03 18:16:33.436 +07:00 [INF] Executing ObjectResult, writing value of type 'FS.Commons.FSResponse'.
2025-10-03 18:16:33.436 +07:00 [INF] Executed action CapBot.api.Controllers.ReviewerAssignmentController.GetReviewersWorkload (CapBot.api) in 89.3392ms
2025-10-03 18:16:33.436 +07:00 [INF] Executed endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetReviewersWorkload (CapBot.api)'
2025-10-03 18:16:33.436 +07:00 [DBG] Connection id "0HNG2DJLF053P" completed keep alive response.
2025-10-03 18:16:33.437 +07:00 [DBG] 'MyDbContext' disposed.
2025-10-03 18:16:33.437 +07:00 [DBG] Disposing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:16:33.437 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-10-03 18:16:33.437 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5207/api/reviewer-assignments/workload?semesterId=1 - 200 null application/json; charset=utf-8 92.8551ms
2025-10-03 18:17:00.944 +07:00 [INF] Bắt đầu kiểm tra deadline notifications lúc "2025-10-03T18:17:00.9441446+07:00"
2025-10-03 18:17:00.945 +07:00 [DBG] Entity Framework Core 8.0.16 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: MigrationsAssembly=App.DAL 
2025-10-03 18:17:00.946 +07:00 [DBG] Creating DbConnection.
2025-10-03 18:17:00.946 +07:00 [DBG] Created DbConnection. (0ms).
2025-10-03 18:17:00.946 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:17:00.946 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:17:00.946 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 18:17:00.946 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:17:00.946 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:17:00.946 +07:00 [DBG] Executing DbCommand [Parameters=[@__tomorrow_0='?' (DbType = DateTime2), @__dayAfterTomorrow_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[DocumentUrl], [t].[EN_Title], [t].[ExpectedOutcomes], [t].[IsActive], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[Methodology], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[Requirements], [t].[Status], [t].[SubmittedAt], [t].[SubmittedBy], [t].[TopicId], [t].[VN_title], [t].[VersionNumber], [t0].[Id], [t0].[Abbreviation], [t0].[CategoryId], [t0].[Content], [t0].[Context], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[EN_Title], [t0].[IsActive], [t0].[IsApproved], [t0].[IsLegacy], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[MaxStudents], [t0].[Objectives], [t0].[PotentialDuplicate], [t0].[Problem], [t0].[SemesterId], [t0].[SupervisorId], [t0].[VN_title]
FROM [reviewer_assignments] AS [r]
INNER JOIN [users] AS [u] ON [r].[ReviewerId] = [u].[Id]
INNER JOIN [submissions] AS [s] ON [r].[SubmissionId] = [s].[Id]
LEFT JOIN [topic_versions] AS [t] ON [s].[TopicVersionId] = [t].[Id]
LEFT JOIN [topics] AS [t0] ON [s].[TopicId] = [t0].[Id]
WHERE [r].[Deadline] IS NOT NULL AND CONVERT(date, [r].[Deadline]) >= @__tomorrow_0 AND CONVERT(date, [r].[Deadline]) <= @__dayAfterTomorrow_1 AND [r].[Status] IN (1, 2)
2025-10-03 18:17:00.955 +07:00 [INF] Executed DbCommand (9ms) [Parameters=[@__tomorrow_0='?' (DbType = DateTime2), @__dayAfterTomorrow_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[DocumentUrl], [t].[EN_Title], [t].[ExpectedOutcomes], [t].[IsActive], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[Methodology], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[Requirements], [t].[Status], [t].[SubmittedAt], [t].[SubmittedBy], [t].[TopicId], [t].[VN_title], [t].[VersionNumber], [t0].[Id], [t0].[Abbreviation], [t0].[CategoryId], [t0].[Content], [t0].[Context], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[EN_Title], [t0].[IsActive], [t0].[IsApproved], [t0].[IsLegacy], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[MaxStudents], [t0].[Objectives], [t0].[PotentialDuplicate], [t0].[Problem], [t0].[SemesterId], [t0].[SupervisorId], [t0].[VN_title]
FROM [reviewer_assignments] AS [r]
INNER JOIN [users] AS [u] ON [r].[ReviewerId] = [u].[Id]
INNER JOIN [submissions] AS [s] ON [r].[SubmissionId] = [s].[Id]
LEFT JOIN [topic_versions] AS [t] ON [s].[TopicVersionId] = [t].[Id]
LEFT JOIN [topics] AS [t0] ON [s].[TopicId] = [t0].[Id]
WHERE [r].[Deadline] IS NOT NULL AND CONVERT(date, [r].[Deadline]) >= @__tomorrow_0 AND CONVERT(date, [r].[Deadline]) <= @__dayAfterTomorrow_1 AND [r].[Status] IN (1, 2)
2025-10-03 18:17:00.956 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 18:17:00.956 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-10-03 18:17:00.956 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:17:00.956 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 18:17:00.957 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:17:00.957 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:17:00.957 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 18:17:00.958 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:17:00.958 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:17:00.958 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[DocumentUrl], [t].[EN_Title], [t].[ExpectedOutcomes], [t].[IsActive], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[Methodology], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[Requirements], [t].[Status], [t].[SubmittedAt], [t].[SubmittedBy], [t].[TopicId], [t].[VN_title], [t].[VersionNumber], [t0].[Id], [t0].[Abbreviation], [t0].[CategoryId], [t0].[Content], [t0].[Context], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[EN_Title], [t0].[IsActive], [t0].[IsApproved], [t0].[IsLegacy], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[MaxStudents], [t0].[Objectives], [t0].[PotentialDuplicate], [t0].[Problem], [t0].[SemesterId], [t0].[SupervisorId], [t0].[VN_title]
FROM [reviewer_assignments] AS [r]
INNER JOIN [users] AS [u] ON [r].[ReviewerId] = [u].[Id]
INNER JOIN [submissions] AS [s] ON [r].[SubmissionId] = [s].[Id]
LEFT JOIN [topic_versions] AS [t] ON [s].[TopicVersionId] = [t].[Id]
LEFT JOIN [topics] AS [t0] ON [s].[TopicId] = [t0].[Id]
WHERE [r].[Deadline] IS NOT NULL AND CONVERT(date, [r].[Deadline]) < CONVERT(date, GETDATE()) AND [r].[Status] IN (1, 2)
2025-10-03 18:17:00.974 +07:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[DocumentUrl], [t].[EN_Title], [t].[ExpectedOutcomes], [t].[IsActive], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[Methodology], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[Requirements], [t].[Status], [t].[SubmittedAt], [t].[SubmittedBy], [t].[TopicId], [t].[VN_title], [t].[VersionNumber], [t0].[Id], [t0].[Abbreviation], [t0].[CategoryId], [t0].[Content], [t0].[Context], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[EN_Title], [t0].[IsActive], [t0].[IsApproved], [t0].[IsLegacy], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[MaxStudents], [t0].[Objectives], [t0].[PotentialDuplicate], [t0].[Problem], [t0].[SemesterId], [t0].[SupervisorId], [t0].[VN_title]
FROM [reviewer_assignments] AS [r]
INNER JOIN [users] AS [u] ON [r].[ReviewerId] = [u].[Id]
INNER JOIN [submissions] AS [s] ON [r].[SubmissionId] = [s].[Id]
LEFT JOIN [topic_versions] AS [t] ON [s].[TopicVersionId] = [t].[Id]
LEFT JOIN [topics] AS [t0] ON [s].[TopicId] = [t0].[Id]
WHERE [r].[Deadline] IS NOT NULL AND CONVERT(date, [r].[Deadline]) < CONVERT(date, GETDATE()) AND [r].[Status] IN (1, 2)
2025-10-03 18:17:00.976 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 18:17:00.976 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 1ms reading results.
2025-10-03 18:17:00.976 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:17:00.976 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 18:17:00.977 +07:00 [DBG] 'MyDbContext' generated a temporary value for the property 'SystemNotification.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 18:17:00.977 +07:00 [DBG] Context 'MyDbContext' started tracking 'SystemNotification' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 18:17:00.977 +07:00 [DBG] SaveChanges starting for 'MyDbContext'.
2025-10-03 18:17:00.977 +07:00 [DBG] DetectChanges starting for 'MyDbContext'.
2025-10-03 18:17:00.978 +07:00 [DBG] DetectChanges completed for 'MyDbContext'.
2025-10-03 18:17:00.978 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:17:00.979 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:17:00.979 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 18:17:00.979 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:17:00.979 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:17:00.979 +07:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (Size = 50), @p5='?' (Size = 255), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [system_notifications] ([CreatedAt], [Message], [ReadAt], [RelatedEntityId], [RelatedEntityType], [Title], [Type], [UserId])
OUTPUT INSERTED.[Id], INSERTED.[IsRead]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-10-03 18:17:00.983 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (Size = 50), @p5='?' (Size = 255), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [system_notifications] ([CreatedAt], [Message], [ReadAt], [RelatedEntityId], [RelatedEntityType], [Title], [Type], [UserId])
OUTPUT INSERTED.[Id], INSERTED.[IsRead]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-10-03 18:17:00.983 +07:00 [DBG] The foreign key property 'SystemNotification.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-10-03 18:17:00.983 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 18:17:00.983 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-10-03 18:17:00.984 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:17:00.984 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 18:17:00.984 +07:00 [DBG] An entity of type 'SystemNotification' tracked by 'MyDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 18:17:00.984 +07:00 [DBG] SaveChanges completed for 'MyDbContext' with 1 entities written to the database.
2025-10-03 18:17:00.985 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:17:00.985 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:17:00.985 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 18:17:00.985 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:17:00.985 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:17:00.985 +07:00 [DBG] Executing DbCommand [Parameters=[@__entity_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [system_notifications] AS [s]
WHERE [s].[UserId] = @__entity_UserId_0 AND [s].[IsRead] = CAST(0 AS bit)
2025-10-03 18:17:00.987 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__entity_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [system_notifications] AS [s]
WHERE [s].[UserId] = @__entity_UserId_0 AND [s].[IsRead] = CAST(0 AS bit)
2025-10-03 18:17:00.987 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 18:17:00.987 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-10-03 18:17:00.987 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:17:00.987 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 18:17:02.873 +07:00 [ERR] 5.4.5 Daily user sending limit exceeded. For more information on Gmail
5.4.5 sending limits go to
5.4.5  https://support.google.com/a/answer/166852 d2e1a72fcca58-78dae34aadasm84302b3a.80 - gsmtp
2025-10-03 18:17:03.113 +07:00 [WRN] Không thể gửi email sắp đến hạn cho reviewer hieptmse140293@fpt.edu.vn, assignment 31
2025-10-03 18:17:03.113 +07:00 [INF] Đã gửi thông báo sắp đến hạn cho reviewer 27, assignment 31
2025-10-03 18:17:03.113 +07:00 [DBG] 'MyDbContext' generated a temporary value for the property 'SystemNotification.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 18:17:03.114 +07:00 [DBG] Context 'MyDbContext' started tracking 'SystemNotification' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 18:17:03.114 +07:00 [DBG] SaveChanges starting for 'MyDbContext'.
2025-10-03 18:17:03.114 +07:00 [DBG] DetectChanges starting for 'MyDbContext'.
2025-10-03 18:17:03.115 +07:00 [DBG] DetectChanges completed for 'MyDbContext'.
2025-10-03 18:17:03.115 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:17:03.115 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:17:03.115 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 18:17:03.115 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:17:03.115 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:17:03.116 +07:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (Size = 50), @p5='?' (Size = 255), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [system_notifications] ([CreatedAt], [Message], [ReadAt], [RelatedEntityId], [RelatedEntityType], [Title], [Type], [UserId])
OUTPUT INSERTED.[Id], INSERTED.[IsRead]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-10-03 18:17:03.121 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (Size = 50), @p5='?' (Size = 255), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [system_notifications] ([CreatedAt], [Message], [ReadAt], [RelatedEntityId], [RelatedEntityType], [Title], [Type], [UserId])
OUTPUT INSERTED.[Id], INSERTED.[IsRead]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-10-03 18:17:03.121 +07:00 [DBG] The foreign key property 'SystemNotification.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-10-03 18:17:03.122 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 18:17:03.122 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-10-03 18:17:03.122 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:17:03.122 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 18:17:03.123 +07:00 [DBG] An entity of type 'SystemNotification' tracked by 'MyDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 18:17:03.123 +07:00 [DBG] SaveChanges completed for 'MyDbContext' with 1 entities written to the database.
2025-10-03 18:17:03.123 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:17:03.124 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:17:03.124 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 18:17:03.124 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:17:03.124 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:17:03.124 +07:00 [DBG] Executing DbCommand [Parameters=[@__entity_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [system_notifications] AS [s]
WHERE [s].[UserId] = @__entity_UserId_0 AND [s].[IsRead] = CAST(0 AS bit)
2025-10-03 18:17:03.128 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__entity_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [system_notifications] AS [s]
WHERE [s].[UserId] = @__entity_UserId_0 AND [s].[IsRead] = CAST(0 AS bit)
2025-10-03 18:17:03.128 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 18:17:03.128 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-10-03 18:17:03.128 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:17:03.128 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 18:17:05.041 +07:00 [ERR] 5.4.5 Daily user sending limit exceeded. For more information on Gmail
5.4.5 sending limits go to
5.4.5  https://support.google.com/a/answer/166852 d9443c01a7336-28e8d1108c5sm47732605ad.16 - gsmtp
2025-10-03 18:17:05.256 +07:00 [WRN] Không thể gửi email quá hạn cho reviewer supervisor@gmail.com, assignment 1
2025-10-03 18:17:05.256 +07:00 [INF] Đã gửi thông báo quá hạn cho reviewer 6, assignment 1
2025-10-03 18:17:05.256 +07:00 [DBG] 'MyDbContext' generated a temporary value for the property 'SystemNotification.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 18:17:05.256 +07:00 [DBG] Context 'MyDbContext' started tracking 'SystemNotification' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 18:17:05.256 +07:00 [DBG] SaveChanges starting for 'MyDbContext'.
2025-10-03 18:17:05.256 +07:00 [DBG] DetectChanges starting for 'MyDbContext'.
2025-10-03 18:17:05.257 +07:00 [DBG] DetectChanges completed for 'MyDbContext'.
2025-10-03 18:17:05.257 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:17:05.257 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:17:05.257 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 18:17:05.257 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:17:05.257 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:17:05.257 +07:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (Size = 50), @p5='?' (Size = 255), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [system_notifications] ([CreatedAt], [Message], [ReadAt], [RelatedEntityId], [RelatedEntityType], [Title], [Type], [UserId])
OUTPUT INSERTED.[Id], INSERTED.[IsRead]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-10-03 18:17:05.262 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (Size = 50), @p5='?' (Size = 255), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [system_notifications] ([CreatedAt], [Message], [ReadAt], [RelatedEntityId], [RelatedEntityType], [Title], [Type], [UserId])
OUTPUT INSERTED.[Id], INSERTED.[IsRead]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-10-03 18:17:05.262 +07:00 [DBG] The foreign key property 'SystemNotification.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-10-03 18:17:05.262 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 18:17:05.262 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-10-03 18:17:05.262 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:17:05.262 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 18:17:05.262 +07:00 [DBG] An entity of type 'SystemNotification' tracked by 'MyDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 18:17:05.262 +07:00 [DBG] SaveChanges completed for 'MyDbContext' with 1 entities written to the database.
2025-10-03 18:17:05.263 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:17:05.263 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:17:05.263 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 18:17:05.263 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:17:05.263 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:17:05.263 +07:00 [DBG] Executing DbCommand [Parameters=[@__entity_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [system_notifications] AS [s]
WHERE [s].[UserId] = @__entity_UserId_0 AND [s].[IsRead] = CAST(0 AS bit)
2025-10-03 18:17:05.265 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__entity_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [system_notifications] AS [s]
WHERE [s].[UserId] = @__entity_UserId_0 AND [s].[IsRead] = CAST(0 AS bit)
2025-10-03 18:17:05.265 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 18:17:05.265 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-10-03 18:17:05.265 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:17:05.265 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 18:17:07.062 +07:00 [ERR] 5.4.5 Daily user sending limit exceeded. For more information on Gmail
5.4.5 sending limits go to
5.4.5  https://support.google.com/a/answer/166852 d9443c01a7336-28e8d1b9e44sm46942405ad.67 - gsmtp
2025-10-03 18:17:07.277 +07:00 [WRN] Không thể gửi email quá hạn cho reviewer reviewer2@gmail.com, assignment 2
2025-10-03 18:17:07.277 +07:00 [INF] Đã gửi thông báo quá hạn cho reviewer 7, assignment 2
2025-10-03 18:17:07.277 +07:00 [DBG] 'MyDbContext' generated a temporary value for the property 'SystemNotification.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 18:17:07.277 +07:00 [DBG] Context 'MyDbContext' started tracking 'SystemNotification' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 18:17:07.278 +07:00 [DBG] SaveChanges starting for 'MyDbContext'.
2025-10-03 18:17:07.278 +07:00 [DBG] DetectChanges starting for 'MyDbContext'.
2025-10-03 18:17:07.278 +07:00 [DBG] DetectChanges completed for 'MyDbContext'.
2025-10-03 18:17:07.278 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:17:07.278 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:17:07.278 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 18:17:07.278 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:17:07.278 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:17:07.278 +07:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (Size = 50), @p5='?' (Size = 255), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [system_notifications] ([CreatedAt], [Message], [ReadAt], [RelatedEntityId], [RelatedEntityType], [Title], [Type], [UserId])
OUTPUT INSERTED.[Id], INSERTED.[IsRead]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-10-03 18:17:07.283 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (Size = 50), @p5='?' (Size = 255), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [system_notifications] ([CreatedAt], [Message], [ReadAt], [RelatedEntityId], [RelatedEntityType], [Title], [Type], [UserId])
OUTPUT INSERTED.[Id], INSERTED.[IsRead]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-10-03 18:17:07.284 +07:00 [DBG] The foreign key property 'SystemNotification.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-10-03 18:17:07.284 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 18:17:07.284 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-10-03 18:17:07.284 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:17:07.284 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 18:17:07.284 +07:00 [DBG] An entity of type 'SystemNotification' tracked by 'MyDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 18:17:07.284 +07:00 [DBG] SaveChanges completed for 'MyDbContext' with 1 entities written to the database.
2025-10-03 18:17:07.285 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:17:07.285 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:17:07.285 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 18:17:07.285 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:17:07.285 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:17:07.285 +07:00 [DBG] Executing DbCommand [Parameters=[@__entity_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [system_notifications] AS [s]
WHERE [s].[UserId] = @__entity_UserId_0 AND [s].[IsRead] = CAST(0 AS bit)
2025-10-03 18:17:07.286 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__entity_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [system_notifications] AS [s]
WHERE [s].[UserId] = @__entity_UserId_0 AND [s].[IsRead] = CAST(0 AS bit)
2025-10-03 18:17:07.287 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 18:17:07.287 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-10-03 18:17:07.287 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:17:07.287 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 18:17:07.762 +07:00 [INF] Application is shutting down...
2025-10-03 18:17:07.763 +07:00 [DBG] Hosting stopping
2025-10-03 18:17:07.768 +07:00 [DBG] Connection id "0HNG2DJLF053P" disconnecting.
2025-10-03 18:17:07.768 +07:00 [DBG] Connection id "0HNG2DJLF053P" stopped.
2025-10-03 18:17:07.768 +07:00 [DBG] Connection id "0HNG2DJLF053P" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-10-03 18:17:09.093 +07:00 [ERR] 5.4.5 Daily user sending limit exceeded. For more information on Gmail
5.4.5 sending limits go to
5.4.5  https://support.google.com/a/answer/166852 d2e1a72fcca58-78b0206ea2fsm4575593b3a.66 - gsmtp
2025-10-03 18:17:09.307 +07:00 [WRN] Không thể gửi email quá hạn cho reviewer reviewer2@gmail.com, assignment 3
2025-10-03 18:17:09.308 +07:00 [INF] Đã gửi thông báo quá hạn cho reviewer 7, assignment 3
2025-10-03 18:17:09.308 +07:00 [DBG] 'MyDbContext' generated a temporary value for the property 'SystemNotification.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 18:17:09.308 +07:00 [DBG] Context 'MyDbContext' started tracking 'SystemNotification' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 18:17:09.308 +07:00 [DBG] SaveChanges starting for 'MyDbContext'.
2025-10-03 18:17:09.308 +07:00 [DBG] DetectChanges starting for 'MyDbContext'.
2025-10-03 18:17:09.308 +07:00 [DBG] DetectChanges completed for 'MyDbContext'.
2025-10-03 18:17:09.308 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:17:09.308 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:17:09.308 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 18:17:09.308 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:17:09.309 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:17:09.309 +07:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (Size = 50), @p5='?' (Size = 255), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [system_notifications] ([CreatedAt], [Message], [ReadAt], [RelatedEntityId], [RelatedEntityType], [Title], [Type], [UserId])
OUTPUT INSERTED.[Id], INSERTED.[IsRead]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-10-03 18:17:09.313 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (Size = 50), @p5='?' (Size = 255), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [system_notifications] ([CreatedAt], [Message], [ReadAt], [RelatedEntityId], [RelatedEntityType], [Title], [Type], [UserId])
OUTPUT INSERTED.[Id], INSERTED.[IsRead]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-10-03 18:17:09.314 +07:00 [DBG] The foreign key property 'SystemNotification.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-10-03 18:17:09.314 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 18:17:09.314 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-10-03 18:17:09.314 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:17:09.314 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 18:17:09.314 +07:00 [DBG] An entity of type 'SystemNotification' tracked by 'MyDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 18:17:09.314 +07:00 [DBG] SaveChanges completed for 'MyDbContext' with 1 entities written to the database.
2025-10-03 18:17:09.314 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:17:09.314 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:17:09.314 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 18:17:09.314 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:17:09.314 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:17:09.314 +07:00 [DBG] Executing DbCommand [Parameters=[@__entity_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [system_notifications] AS [s]
WHERE [s].[UserId] = @__entity_UserId_0 AND [s].[IsRead] = CAST(0 AS bit)
2025-10-03 18:17:09.315 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__entity_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [system_notifications] AS [s]
WHERE [s].[UserId] = @__entity_UserId_0 AND [s].[IsRead] = CAST(0 AS bit)
2025-10-03 18:17:09.315 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 18:17:09.315 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-10-03 18:17:09.316 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:17:09.316 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 18:17:11.191 +07:00 [ERR] 5.4.5 Daily user sending limit exceeded. For more information on Gmail
5.4.5 sending limits go to
5.4.5  https://support.google.com/a/answer/166852 d9443c01a7336-28e8d1127c7sm47644875ad.28 - gsmtp
2025-10-03 18:17:11.429 +07:00 [WRN] Không thể gửi email quá hạn cho reviewer supervisor@gmail.com, assignment 4
2025-10-03 18:17:11.429 +07:00 [INF] Đã gửi thông báo quá hạn cho reviewer 6, assignment 4
2025-10-03 18:17:11.429 +07:00 [INF] Hoàn thành kiểm tra deadline: 1 sắp đến hạn, 4 quá hạn
2025-10-03 18:17:11.429 +07:00 [DBG] 'MyDbContext' disposed.
2025-10-03 18:17:11.429 +07:00 [DBG] Disposing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:17:11.429 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-10-03 18:17:11.430 +07:00 [ERR] Lỗi khi kiểm tra deadline notifications
System.Threading.Tasks.TaskCanceledException: A task was canceled.
   at CapBot.api.Services.DeadlineNotificationService.ExecuteAsync(CancellationToken stoppingToken) in C:\Users\acer\Downloads\CBAI_API\capbot.api\Services\DeadlineNotificationService.cs:line 41
2025-10-03 18:17:11.448 +07:00 [DBG] Hosting stopped
2025-10-03 18:24:43.022 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-10-03 18:24:43.135 +07:00 [INF] User profile is available. Using 'C:\Users\acer\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-10-03 18:24:43.459 +07:00 [DBG] No relationship from 'ReviewerAssignment' to 'User' has been configured by convention because there are multiple properties on one entity type - {'AssignedByUser', 'Reviewer'} that could be matched with the properties on the other entity type - {'ReviewerAssignments'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-10-03 18:24:43.488 +07:00 [DBG] No relationship from 'SubmissionWorkflowLog' to 'WorkflowState' has been configured by convention because there are multiple properties on one entity type - {'FromState', 'ToState'} that could be matched with the properties on the other entity type - {'FromStateLogs', 'ToStateLogs'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-10-03 18:24:43.506 +07:00 [DBG] No relationship from 'User' to 'ReviewerAssignment' has been configured by convention because there are multiple properties on one entity type - {'ReviewerAssignments'} that could be matched with the properties on the other entity type - {'AssignedByUser', 'Reviewer'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-10-03 18:24:43.509 +07:00 [DBG] No relationship from 'WorkflowState' to 'SubmissionWorkflowLog' has been configured by convention because there are multiple properties on one entity type - {'FromStateLogs', 'ToStateLogs'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-10-03 18:24:43.509 +07:00 [DBG] No relationship from 'WorkflowState' to 'WorkflowTransition' has been configured by convention because there are multiple properties on one entity type - {'FromTransitions', 'ToTransitions'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-10-03 18:24:43.511 +07:00 [DBG] No relationship from 'WorkflowTransition' to 'WorkflowState' has been configured by convention because there are multiple properties on one entity type - {'FromState', 'ToState'} that could be matched with the properties on the other entity type - {'FromTransitions', 'ToTransitions'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-10-03 18:24:43.827 +07:00 [DBG] No relationship from 'ReviewerAssignment' to 'User' has been configured by convention because there are multiple properties on one entity type - {'AssignedByUser', 'Reviewer'} that could be matched with the properties on the other entity type - {'ReviewerAssignments'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-10-03 18:24:43.828 +07:00 [DBG] No relationship from 'User' to 'ReviewerAssignment' has been configured by convention because there are multiple properties on one entity type - {'ReviewerAssignments'} that could be matched with the properties on the other entity type - {'AssignedByUser', 'Reviewer'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-10-03 18:24:43.850 +07:00 [DBG] No relationship from 'WorkflowTransition' to 'WorkflowState' has been configured by convention because there are multiple properties on one entity type - {'FromState', 'ToState'} that could be matched with the properties on the other entity type - {'FromTransitions', 'ToTransitions'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-10-03 18:24:43.851 +07:00 [DBG] No relationship from 'WorkflowState' to 'SubmissionWorkflowLog' has been configured by convention because there are multiple properties on one entity type - {'FromStateLogs', 'ToStateLogs'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-10-03 18:24:43.851 +07:00 [DBG] No relationship from 'WorkflowState' to 'WorkflowTransition' has been configured by convention because there are multiple properties on one entity type - {'FromTransitions', 'ToTransitions'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-10-03 18:24:43.852 +07:00 [DBG] No relationship from 'WorkflowState' to 'SubmissionWorkflowLog' has been configured by convention because there are multiple properties on one entity type - {'FromStateLogs', 'ToStateLogs'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-10-03 18:24:43.857 +07:00 [DBG] No relationship from 'SubmissionWorkflowLog' to 'WorkflowState' has been configured by convention because there are multiple properties on one entity type - {'FromState', 'ToState'} that could be matched with the properties on the other entity type - {'FromStateLogs', 'ToStateLogs'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-10-03 18:24:43.858 +07:00 [DBG] No relationship from 'WorkflowState' to 'SubmissionWorkflowLog' has been configured by convention because there are multiple properties on one entity type - {'FromStateLogs', 'ToStateLogs'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-10-03 18:24:43.909 +07:00 [DBG] The index {'LecturerId'} was not created on entity type 'LecturerSkill' as the properties are already covered by the index {'LecturerId', 'SkillTag'}.
2025-10-03 18:24:43.910 +07:00 [DBG] The index {'SemesterId'} was not created on entity type 'Phase' as the properties are already covered by the index {'SemesterId', 'PhaseTypeId'}.
2025-10-03 18:24:43.910 +07:00 [DBG] The index {'AssignmentId'} was not created on entity type 'Review' as the properties are already covered by the index {'AssignmentId', 'Status'}.
2025-10-03 18:24:43.911 +07:00 [DBG] The index {'ReviewId'} was not created on entity type 'ReviewComment' as the properties are already covered by the index {'ReviewId', 'SectionName'}.
2025-10-03 18:24:43.911 +07:00 [DBG] The index {'ReviewId'} was not created on entity type 'ReviewCriteriaScore' as the properties are already covered by the index {'ReviewId', 'CriteriaId'}.
2025-10-03 18:24:43.911 +07:00 [DBG] The index {'ReviewerId'} was not created on entity type 'ReviewerAssignment' as the properties are already covered by the index {'ReviewerId', 'Status'}.
2025-10-03 18:24:43.912 +07:00 [DBG] The index {'SubmissionId'} was not created on entity type 'ReviewerAssignment' as the properties are already covered by the index {'SubmissionId', 'ReviewerId'}.
2025-10-03 18:24:43.912 +07:00 [DBG] The index {'ReviewerId'} was not created on entity type 'ReviewerPerformance' as the properties are already covered by the index {'ReviewerId', 'SemesterId'}.
2025-10-03 18:24:43.912 +07:00 [DBG] The index {'PhaseId'} was not created on entity type 'Submission' as the properties are already covered by the index {'PhaseId', 'Status'}.
2025-10-03 18:24:43.912 +07:00 [DBG] The index {'PhaseId'} was not created on entity type 'Submission' as the properties are already covered by the index {'PhaseId', 'Status', 'SubmittedAt'}.
2025-10-03 18:24:43.912 +07:00 [DBG] The index {'TopicId'} was not created on entity type 'Submission' as the properties are already covered by the index {'TopicId', 'PhaseId', 'SubmissionRound'}.
2025-10-03 18:24:43.912 +07:00 [DBG] The index {'SubmissionId'} was not created on entity type 'SubmissionWorkflowLog' as the properties are already covered by the index {'SubmissionId', 'CreatedAt'}.
2025-10-03 18:24:43.912 +07:00 [DBG] The index {'UserId'} was not created on entity type 'SystemNotification' as the properties are already covered by the index {'UserId', 'IsRead', 'CreatedAt'}.
2025-10-03 18:24:43.912 +07:00 [DBG] The index {'SemesterId'} was not created on entity type 'Topic' as the properties are already covered by the index {'SemesterId', 'IsApproved'}.
2025-10-03 18:24:43.913 +07:00 [DBG] The index {'SupervisorId'} was not created on entity type 'Topic' as the properties are already covered by the index {'SupervisorId', 'SemesterId'}.
2025-10-03 18:24:43.913 +07:00 [DBG] The index {'TopicId'} was not created on entity type 'TopicVersion' as the properties are already covered by the index {'TopicId', 'Status'}.
2025-10-03 18:24:43.913 +07:00 [DBG] The index {'TopicId'} was not created on entity type 'TopicVersion' as the properties are already covered by the index {'TopicId', 'VersionNumber'}.
2025-10-03 18:24:43.913 +07:00 [DBG] The index {'UserId'} was not created on entity type 'UserRole' as the properties are already covered by the index {'UserId', 'RoleId'}.
2025-10-03 18:24:43.913 +07:00 [DBG] The index {'UserId'} was not created on entity type 'UserToken' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2025-10-03 18:24:44.102 +07:00 [WRN] The 'ProficiencyLevels' property 'ProficiencyLevel' on entity type 'LecturerSkill' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'ProficiencyLevels' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-10-03 18:24:44.102 +07:00 [WRN] The 'ReviewRecommendations' property 'Recommendation' on entity type 'Review' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'ReviewRecommendations' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-10-03 18:24:44.102 +07:00 [WRN] The 'ReviewStatus' property 'Status' on entity type 'Review' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'ReviewStatus' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-10-03 18:24:44.103 +07:00 [WRN] The 'CommentTypes' property 'CommentType' on entity type 'ReviewComment' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'CommentTypes' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-10-03 18:24:44.103 +07:00 [WRN] The 'PriorityLevels' property 'Priority' on entity type 'ReviewComment' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'PriorityLevels' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-10-03 18:24:44.103 +07:00 [WRN] The 'AssignmentTypes' property 'AssignmentType' on entity type 'ReviewerAssignment' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'AssignmentTypes' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-10-03 18:24:44.103 +07:00 [WRN] The 'AssignmentStatus' property 'Status' on entity type 'ReviewerAssignment' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'AssignmentStatus' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-10-03 18:24:44.103 +07:00 [WRN] The 'AiCheckStatus' property 'AiCheckStatus' on entity type 'Submission' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'AiCheckStatus' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-10-03 18:24:44.104 +07:00 [WRN] The 'SubmissionStatus' property 'Status' on entity type 'Submission' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'SubmissionStatus' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-10-03 18:24:44.104 +07:00 [WRN] The 'NotificationTypes' property 'Type' on entity type 'SystemNotification' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'NotificationTypes' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-10-03 18:24:44.104 +07:00 [WRN] The 'TopicStatus' property 'Status' on entity type 'TopicVersion' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'TopicStatus' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-10-03 18:24:44.347 +07:00 [DBG] Entity Framework Core 8.0.16 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: MigrationsAssembly=App.DAL 
2025-10-03 18:24:44.433 +07:00 [DBG] Compiling query expression: 
'DbSet<Role>()
    .FirstOrDefault(r => r.NormalizedName == __normalizedName_0)'
2025-10-03 18:24:44.630 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Role>(
    asyncEnumerable: new SingleQueryingEnumerable<Role>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Role.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Role.ConcurrencyStamp (string), 1], [Property: Role.IsAdmin (bool) Required, 2], [Property: Role.Name (string), 3], [Property: Role.NormalizedName (string), 4] }
            SELECT TOP(1) r.Id, r.ConcurrencyStamp, r.IsAdmin, r.Name, r.NormalizedName
            FROM roles AS r
            WHERE r.NormalizedName == @__normalizedName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Role>, 
        App.DAL.Context.MyDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-10-03 18:24:44.668 +07:00 [DBG] Creating DbConnection.
2025-10-03 18:24:44.692 +07:00 [DBG] Created DbConnection. (20ms).
2025-10-03 18:24:44.697 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:24:44.884 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:24:44.887 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 18:24:44.895 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-10-03 18:24:44.902 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (15ms).
2025-10-03 18:24:44.910 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-10-03 18:24:44.961 +07:00 [INF] Executed DbCommand (50ms) [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-10-03 18:24:45.004 +07:00 [DBG] Context 'MyDbContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 18:24:45.027 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 18:24:45.032 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 67ms reading results.
2025-10-03 18:24:45.035 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:24:45.039 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (4ms).
2025-10-03 18:24:45.043 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:24:45.044 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:24:45.044 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 18:24:45.044 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:24:45.045 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:24:45.045 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-10-03 18:24:45.047 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-10-03 18:24:45.048 +07:00 [DBG] Context 'MyDbContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 18:24:45.048 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 18:24:45.048 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-10-03 18:24:45.048 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:24:45.048 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 18:24:45.049 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:24:45.049 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:24:45.049 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 18:24:45.049 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:24:45.050 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:24:45.050 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-10-03 18:24:45.051 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-10-03 18:24:45.051 +07:00 [DBG] Context 'MyDbContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 18:24:45.051 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 18:24:45.051 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-10-03 18:24:45.052 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:24:45.052 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 18:24:45.052 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:24:45.052 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:24:45.052 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 18:24:45.052 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:24:45.052 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:24:45.053 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-10-03 18:24:45.053 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-10-03 18:24:45.054 +07:00 [DBG] Context 'MyDbContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 18:24:45.054 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 18:24:45.054 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-10-03 18:24:45.054 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:24:45.054 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 18:24:45.064 +07:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .SingleOrDefault(u => u.NormalizedEmail == __normalizedEmail_0)'
2025-10-03 18:24:45.070 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.ConcurrencyStamp (string), 2], [Property: User.CreatedAt (DateTime) Required, 3], [Property: User.DeletedAt (DateTime?), 4], [Property: User.Email (string), 5], [Property: User.EmailConfirmed (bool) Required, 6], [Property: User.LastModifiedAt (DateTime) Required, 7], [Property: User.LastModifiedBy (string), 8], [Property: User.LockoutEnabled (bool) Required, 9], [Property: User.LockoutEnd (DateTimeOffset?), 10], [Property: User.NormalizedEmail (string), 11], [Property: User.NormalizedUserName (string), 12], [Property: User.PasswordHash (string), 13], [Property: User.PhoneNumber (string), 14], [Property: User.PhoneNumberConfirmed (bool) Required, 15], [Property: User.SecurityStamp (string), 16], [Property: User.TwoFactorEnabled (bool) Required, 17], [Property: User.UserName (string), 18] }
            SELECT TOP(2) u.Id, u.AccessFailedCount, u.ConcurrencyStamp, u.CreatedAt, u.DeletedAt, u.Email, u.EmailConfirmed, u.LastModifiedAt, u.LastModifiedBy, u.LockoutEnabled, u.LockoutEnd, u.NormalizedEmail, u.NormalizedUserName, u.PasswordHash, u.PhoneNumber, u.PhoneNumberConfirmed, u.SecurityStamp, u.TwoFactorEnabled, u.UserName
            FROM users AS u
            WHERE u.NormalizedEmail == @__normalizedEmail_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        App.DAL.Context.MyDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-10-03 18:24:45.071 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:24:45.072 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:24:45.072 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 18:24:45.072 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:24:45.072 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:24:45.072 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-10-03 18:24:45.081 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-10-03 18:24:45.108 +07:00 [DBG] Context 'MyDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 18:24:45.146 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 18:24:45.146 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 65ms reading results.
2025-10-03 18:24:45.147 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:24:45.147 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 18:24:45.150 +07:00 [INF] Admin user 'admin.capbot@gmail.com' already exists
2025-10-03 18:24:45.152 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:24:45.152 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:24:45.152 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 18:24:45.152 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:24:45.153 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:24:45.153 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-10-03 18:24:45.156 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-10-03 18:24:45.156 +07:00 [DBG] Context 'MyDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 18:24:45.156 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 18:24:45.157 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-10-03 18:24:45.157 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:24:45.157 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 18:24:45.159 +07:00 [INF] Sample moderator 'moderator@example.com' already exists
2025-10-03 18:24:45.160 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:24:45.160 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:24:45.160 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 18:24:45.160 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:24:45.160 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:24:45.160 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-10-03 18:24:45.164 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-10-03 18:24:45.164 +07:00 [DBG] Context 'MyDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 18:24:45.164 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 18:24:45.164 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-10-03 18:24:45.165 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:24:45.165 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 18:24:45.165 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:24:45.165 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:24:45.166 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 18:24:45.166 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:24:45.166 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:24:45.166 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-10-03 18:24:45.169 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-10-03 18:24:45.170 +07:00 [DBG] Context 'MyDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 18:24:45.170 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 18:24:45.171 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 1ms reading results.
2025-10-03 18:24:45.171 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:24:45.171 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 18:24:45.171 +07:00 [INF] Data seeding completed successfully
2025-10-03 18:24:45.174 +07:00 [DBG] 'MyDbContext' disposed.
2025-10-03 18:24:45.177 +07:00 [DBG] Disposing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:24:45.179 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-10-03 18:24:45.206 +07:00 [DBG] Registered SignalR Protocol: json, implemented by Microsoft.AspNetCore.SignalR.Protocol.JsonHubProtocol.
2025-10-03 18:24:45.455 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
2025-10-03 18:24:45.608 +07:00 [DBG] Hosting starting
2025-10-03 18:24:45.618 +07:00 [DBG] Reading data from file 'C:\Users\acer\AppData\Local\ASP.NET\DataProtection-Keys\key-30a711c8-7ddc-4a0d-8c07-4439effde9db.xml'.
2025-10-03 18:24:45.620 +07:00 [DBG] Reading data from file 'C:\Users\acer\AppData\Local\ASP.NET\DataProtection-Keys\key-732ee668-a56c-4fc9-b9d2-4188dc372919.xml'.
2025-10-03 18:24:45.621 +07:00 [DBG] Reading data from file 'C:\Users\acer\AppData\Local\ASP.NET\DataProtection-Keys\key-ad0e504d-5eaf-4fbc-adde-d8f26319af02.xml'.
2025-10-03 18:24:45.628 +07:00 [DBG] Found key {30a711c8-7ddc-4a0d-8c07-4439effde9db}.
2025-10-03 18:24:45.632 +07:00 [DBG] Found key {732ee668-a56c-4fc9-b9d2-4188dc372919}.
2025-10-03 18:24:45.632 +07:00 [DBG] Found key {ad0e504d-5eaf-4fbc-adde-d8f26319af02}.
2025-10-03 18:24:45.637 +07:00 [DBG] Considering key {30a711c8-7ddc-4a0d-8c07-4439effde9db} with expiration date 2025-11-11 18:32:26Z as default key.
2025-10-03 18:24:45.642 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-10-03 18:24:45.643 +07:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-10-03 18:24:45.645 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-10-03 18:24:45.646 +07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-10-03 18:24:45.649 +07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-10-03 18:24:45.652 +07:00 [DBG] Using key {30a711c8-7ddc-4a0d-8c07-4439effde9db} as the default key.
2025-10-03 18:24:45.653 +07:00 [DBG] Key ring with default key {30a711c8-7ddc-4a0d-8c07-4439effde9db} was loaded during application startup.
2025-10-03 18:24:45.654 +07:00 [INF] Bắt đầu kiểm tra deadline notifications lúc "2025-10-03T18:24:45.6541316+07:00"
2025-10-03 18:24:45.719 +07:00 [DBG] Entity Framework Core 8.0.16 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: MigrationsAssembly=App.DAL 
2025-10-03 18:24:45.731 +07:00 [DBG] Compiling query expression: 
'DbSet<ReviewerAssignment>()
    .AsNoTracking()
    .Include(ra => ra.Reviewer)
    .Include(ra => ra.Submission)
    .Include(ra => ra.Submission.TopicVersion)
    .Include(ra => ra.Submission.Topic)
    .Where(ra => ra.Deadline.HasValue && ra.Deadline.Value.Date >= __tomorrow_0 && ra.Deadline.Value.Date <= __dayAfterTomorrow_1 && (int)ra.Status == 1 || (int)ra.Status == 2)'
2025-10-03 18:24:45.744 +07:00 [DBG] Including navigation: 'ReviewerAssignment.Reviewer'.
2025-10-03 18:24:45.746 +07:00 [DBG] Including navigation: 'ReviewerAssignment.Submission'.
2025-10-03 18:24:45.748 +07:00 [DBG] Including navigation: 'Submission.TopicVersion'.
2025-10-03 18:24:45.748 +07:00 [DBG] Including navigation: 'Submission.Topic'.
2025-10-03 18:24:45.839 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<ReviewerAssignment>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: ReviewerAssignment.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ReviewerAssignment.AssignedAt (DateTime) Required ValueGenerated.OnAdd, 1], [Property: ReviewerAssignment.AssignedBy (int) Required FK Index, 2], [Property: ReviewerAssignment.AssignmentType (AssignmentTypes) Required ValueGenerated.OnAdd, 3], [Property: ReviewerAssignment.CompletedAt (DateTime?), 4], [Property: ReviewerAssignment.Deadline (DateTime?) Index, 5], [Property: ReviewerAssignment.ReviewerId (int) Required FK Index, 6], [Property: ReviewerAssignment.SkillMatchScore (decimal?), 7], [Property: ReviewerAssignment.StartedAt (DateTime?), 8], [Property: ReviewerAssignment.Status (AssignmentStatus) Required Index ValueGenerated.OnAdd, 9], [Property: ReviewerAssignment.SubmissionId (int) Required FK Index, 10] }
            1 -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 11], [Property: User.AccessFailedCount (int) Required, 12], [Property: User.ConcurrencyStamp (string), 13], [Property: User.CreatedAt (DateTime) Required, 14], [Property: User.DeletedAt (DateTime?), 15], [Property: User.Email (string), 16], [Property: User.EmailConfirmed (bool) Required, 17], [Property: User.LastModifiedAt (DateTime) Required, 18], [Property: User.LastModifiedBy (string), 19], [Property: User.LockoutEnabled (bool) Required, 20], [Property: User.LockoutEnd (DateTimeOffset?), 21], [Property: User.NormalizedEmail (string), 22], [Property: User.NormalizedUserName (string), 23], [Property: User.PasswordHash (string), 24], [Property: User.PhoneNumber (string), 25], [Property: User.PhoneNumberConfirmed (bool) Required, 26], [Property: User.SecurityStamp (string), 27], [Property: User.TwoFactorEnabled (bool) Required, 28], [Property: User.UserName (string), 29] }
            2 -> Dictionary<IProperty, int> { [Property: Submission.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 30], [Property: Submission.AdditionalNotes (string), 31], [Property: Submission.AiCheckDetails (string), 32], [Property: Submission.AiCheckScore (decimal?), 33], [Property: Submission.AiCheckStatus (AiCheckStatus) Required ValueGenerated.OnAdd, 34], [Property: Submission.CreatedAt (DateTime) Required, 35], [Property: Submission.CreatedBy (string), 36], [Property: Submission.DeletedAt (DateTime?), 37], [Property: Submission.DocumentUrl (string) MaxLength(500), 38], [Property: Submission.IsActive (bool) Required, 39], [Property: Submission.LastModifiedAt (DateTime?), 40], [Property: Submission.LastModifiedBy (string), 41], [Property: Submission.PhaseId (int) Required FK Index, 42], [Property: Submission.Status (SubmissionStatus) Required Index ValueGenerated.OnAdd, 43], [Property: Submission.SubmissionRound (int) Required Index ValueGenerated.OnAdd, 44], [Property: Submission.SubmittedAt (DateTime?) Index ValueGenerated.OnAdd, 45], [Property: Submission.SubmittedBy (int) Required FK Index, 46], [Property: Submission.TopicId (int) Required FK Index, 47], [Property: Submission.TopicVersionId (int?) FK Index, 48] }
            3 -> Dictionary<IProperty, int> { [Property: TopicVersion.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 49], [Property: TopicVersion.Content (string), 50], [Property: TopicVersion.Context (string), 51], [Property: TopicVersion.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 52], [Property: TopicVersion.CreatedBy (string), 53], [Property: TopicVersion.DeletedAt (DateTime?), 54], [Property: TopicVersion.Description (string), 55], [Property: TopicVersion.DocumentUrl (string) MaxLength(500), 56], [Property: TopicVersion.EN_Title (string) Required MaxLength(500), 57], [Property: TopicVersion.ExpectedOutcomes (string), 58], [Property: TopicVersion.IsActive (bool) Required, 59], [Property: TopicVersion.LastModifiedAt (DateTime?), 60], [Property: TopicVersion.LastModifiedBy (string), 61], [Property: TopicVersion.Methodology (string), 62], [Property: TopicVersion.Objectives (string), 63], [Property: TopicVersion.PotentialDuplicate (string), 64], [Property: TopicVersion.Problem (string), 65], [Property: TopicVersion.Requirements (string), 66], [Property: TopicVersion.Status (TopicStatus) Required Index ValueGenerated.OnAdd, 67], [Property: TopicVersion.SubmittedAt (DateTime?), 68], [Property: TopicVersion.SubmittedBy (int?) FK Index, 69], [Property: TopicVersion.TopicId (int) Required FK Index, 70], [Property: TopicVersion.VN_title (string), 71], [Property: TopicVersion.VersionNumber (int) Required Index, 72] }
            4 -> Dictionary<IProperty, int> { [Property: Topic.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 73], [Property: Topic.Abbreviation (string), 74], [Property: Topic.CategoryId (int?) FK Index, 75], [Property: Topic.Content (string), 76], [Property: Topic.Context (string), 77], [Property: Topic.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 78], [Property: Topic.CreatedBy (string), 79], [Property: Topic.DeletedAt (DateTime?), 80], [Property: Topic.Description (string), 81], [Property: Topic.EN_Title (string) Required MaxLength(500), 82], [Property: Topic.IsActive (bool) Required, 83], [Property: Topic.IsApproved (bool) Required Index Sentinel:True ValueGenerated.OnAdd, 84], [Property: Topic.IsLegacy (bool) Required Index ValueGenerated.OnAdd, 85], [Property: Topic.LastModifiedAt (DateTime?), 86], [Property: Topic.LastModifiedBy (string), 87], [Property: Topic.MaxStudents (int) Required ValueGenerated.OnAdd, 88], [Property: Topic.Objectives (string), 89], [Property: Topic.PotentialDuplicate (string), 90], [Property: Topic.Problem (string), 91], [Property: Topic.SemesterId (int) Required FK Index, 92], [Property: Topic.SupervisorId (int) Required FK Index, 93], [Property: Topic.VN_title (string), 94] }
        SELECT r.Id, r.AssignedAt, r.AssignedBy, r.AssignmentType, r.CompletedAt, r.Deadline, r.ReviewerId, r.SkillMatchScore, r.StartedAt, r.Status, r.SubmissionId, u.Id, u.AccessFailedCount, u.ConcurrencyStamp, u.CreatedAt, u.DeletedAt, u.Email, u.EmailConfirmed, u.LastModifiedAt, u.LastModifiedBy, u.LockoutEnabled, u.LockoutEnd, u.NormalizedEmail, u.NormalizedUserName, u.PasswordHash, u.PhoneNumber, u.PhoneNumberConfirmed, u.SecurityStamp, u.TwoFactorEnabled, u.UserName, s.Id, s.AdditionalNotes, s.AiCheckDetails, s.AiCheckScore, s.AiCheckStatus, s.CreatedAt, s.CreatedBy, s.DeletedAt, s.DocumentUrl, s.IsActive, s.LastModifiedAt, s.LastModifiedBy, s.PhaseId, s.Status, s.SubmissionRound, s.SubmittedAt, s.SubmittedBy, s.TopicId, s.TopicVersionId, t.Id, t.Content, t.Context, t.CreatedAt, t.CreatedBy, t.DeletedAt, t.Description, t.DocumentUrl, t.EN_Title, t.ExpectedOutcomes, t.IsActive, t.LastModifiedAt, t.LastModifiedBy, t.Methodology, t.Objectives, t.PotentialDuplicate, t.Problem, t.Requirements, t.Status, t.SubmittedAt, t.SubmittedBy, t.TopicId, t.VN_title, t.VersionNumber, t0.Id, t0.Abbreviation, t0.CategoryId, t0.Content, t0.Context, t0.CreatedAt, t0.CreatedBy, t0.DeletedAt, t0.Description, t0.EN_Title, t0.IsActive, t0.IsApproved, t0.IsLegacy, t0.LastModifiedAt, t0.LastModifiedBy, t0.MaxStudents, t0.Objectives, t0.PotentialDuplicate, t0.Problem, t0.SemesterId, t0.SupervisorId, t0.VN_title
        FROM reviewer_assignments AS r
        INNER JOIN users AS u ON r.ReviewerId == u.Id
        INNER JOIN submissions AS s ON r.SubmissionId == s.Id
        LEFT JOIN topic_versions AS t ON s.TopicVersionId == t.Id
        LEFT JOIN topics AS t0 ON s.TopicId == t0.Id
        WHERE ((r.Deadline IS NOT NULL && (CONVERT(date, r.Deadline) >= @__tomorrow_0)) && (CONVERT(date, r.Deadline) <= @__dayAfterTomorrow_1)) && r.Status IN (1, 2)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ReviewerAssignment>, 
    App.DAL.Context.MyDbContext, 
    False, 
    False, 
    True
)'
2025-10-03 18:24:45.855 +07:00 [DBG] Creating DbConnection.
2025-10-03 18:24:45.856 +07:00 [DBG] Created DbConnection. (0ms).
2025-10-03 18:24:45.856 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:24:45.856 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:24:45.856 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 18:24:45.856 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:24:45.857 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-10-03 18:24:45.858 +07:00 [DBG] Executing DbCommand [Parameters=[@__tomorrow_0='?' (DbType = DateTime2), @__dayAfterTomorrow_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[DocumentUrl], [t].[EN_Title], [t].[ExpectedOutcomes], [t].[IsActive], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[Methodology], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[Requirements], [t].[Status], [t].[SubmittedAt], [t].[SubmittedBy], [t].[TopicId], [t].[VN_title], [t].[VersionNumber], [t0].[Id], [t0].[Abbreviation], [t0].[CategoryId], [t0].[Content], [t0].[Context], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[EN_Title], [t0].[IsActive], [t0].[IsApproved], [t0].[IsLegacy], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[MaxStudents], [t0].[Objectives], [t0].[PotentialDuplicate], [t0].[Problem], [t0].[SemesterId], [t0].[SupervisorId], [t0].[VN_title]
FROM [reviewer_assignments] AS [r]
INNER JOIN [users] AS [u] ON [r].[ReviewerId] = [u].[Id]
INNER JOIN [submissions] AS [s] ON [r].[SubmissionId] = [s].[Id]
LEFT JOIN [topic_versions] AS [t] ON [s].[TopicVersionId] = [t].[Id]
LEFT JOIN [topics] AS [t0] ON [s].[TopicId] = [t0].[Id]
WHERE [r].[Deadline] IS NOT NULL AND CONVERT(date, [r].[Deadline]) >= @__tomorrow_0 AND CONVERT(date, [r].[Deadline]) <= @__dayAfterTomorrow_1 AND [r].[Status] IN (1, 2)
2025-10-03 18:24:45.885 +07:00 [INF] Executed DbCommand (28ms) [Parameters=[@__tomorrow_0='?' (DbType = DateTime2), @__dayAfterTomorrow_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[DocumentUrl], [t].[EN_Title], [t].[ExpectedOutcomes], [t].[IsActive], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[Methodology], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[Requirements], [t].[Status], [t].[SubmittedAt], [t].[SubmittedBy], [t].[TopicId], [t].[VN_title], [t].[VersionNumber], [t0].[Id], [t0].[Abbreviation], [t0].[CategoryId], [t0].[Content], [t0].[Context], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[EN_Title], [t0].[IsActive], [t0].[IsApproved], [t0].[IsLegacy], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[MaxStudents], [t0].[Objectives], [t0].[PotentialDuplicate], [t0].[Problem], [t0].[SemesterId], [t0].[SupervisorId], [t0].[VN_title]
FROM [reviewer_assignments] AS [r]
INNER JOIN [users] AS [u] ON [r].[ReviewerId] = [u].[Id]
INNER JOIN [submissions] AS [s] ON [r].[SubmissionId] = [s].[Id]
LEFT JOIN [topic_versions] AS [t] ON [s].[TopicVersionId] = [t].[Id]
LEFT JOIN [topics] AS [t0] ON [s].[TopicId] = [t0].[Id]
WHERE [r].[Deadline] IS NOT NULL AND CONVERT(date, [r].[Deadline]) >= @__tomorrow_0 AND CONVERT(date, [r].[Deadline]) <= @__dayAfterTomorrow_1 AND [r].[Status] IN (1, 2)
2025-10-03 18:24:45.893 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 18:24:45.893 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 7ms reading results.
2025-10-03 18:24:45.893 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:24:45.894 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 18:24:45.895 +07:00 [DBG] Compiling query expression: 
'DbSet<ReviewerAssignment>()
    .AsNoTracking()
    .Include(ra => ra.Reviewer)
    .Include(ra => ra.Submission)
    .Include(ra => ra.Submission.TopicVersion)
    .Include(ra => ra.Submission.Topic)
    .Where(ra => ra.Deadline.HasValue && ra.Deadline.Value.Date < DateTime.Today && (int)ra.Status == 1 || (int)ra.Status == 2)'
2025-10-03 18:24:45.896 +07:00 [DBG] Including navigation: 'ReviewerAssignment.Reviewer'.
2025-10-03 18:24:45.896 +07:00 [DBG] Including navigation: 'ReviewerAssignment.Submission'.
2025-10-03 18:24:45.896 +07:00 [DBG] Including navigation: 'Submission.TopicVersion'.
2025-10-03 18:24:45.897 +07:00 [DBG] Including navigation: 'Submission.Topic'.
2025-10-03 18:24:45.915 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<ReviewerAssignment>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: ReviewerAssignment.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ReviewerAssignment.AssignedAt (DateTime) Required ValueGenerated.OnAdd, 1], [Property: ReviewerAssignment.AssignedBy (int) Required FK Index, 2], [Property: ReviewerAssignment.AssignmentType (AssignmentTypes) Required ValueGenerated.OnAdd, 3], [Property: ReviewerAssignment.CompletedAt (DateTime?), 4], [Property: ReviewerAssignment.Deadline (DateTime?) Index, 5], [Property: ReviewerAssignment.ReviewerId (int) Required FK Index, 6], [Property: ReviewerAssignment.SkillMatchScore (decimal?), 7], [Property: ReviewerAssignment.StartedAt (DateTime?), 8], [Property: ReviewerAssignment.Status (AssignmentStatus) Required Index ValueGenerated.OnAdd, 9], [Property: ReviewerAssignment.SubmissionId (int) Required FK Index, 10] }
            1 -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 11], [Property: User.AccessFailedCount (int) Required, 12], [Property: User.ConcurrencyStamp (string), 13], [Property: User.CreatedAt (DateTime) Required, 14], [Property: User.DeletedAt (DateTime?), 15], [Property: User.Email (string), 16], [Property: User.EmailConfirmed (bool) Required, 17], [Property: User.LastModifiedAt (DateTime) Required, 18], [Property: User.LastModifiedBy (string), 19], [Property: User.LockoutEnabled (bool) Required, 20], [Property: User.LockoutEnd (DateTimeOffset?), 21], [Property: User.NormalizedEmail (string), 22], [Property: User.NormalizedUserName (string), 23], [Property: User.PasswordHash (string), 24], [Property: User.PhoneNumber (string), 25], [Property: User.PhoneNumberConfirmed (bool) Required, 26], [Property: User.SecurityStamp (string), 27], [Property: User.TwoFactorEnabled (bool) Required, 28], [Property: User.UserName (string), 29] }
            2 -> Dictionary<IProperty, int> { [Property: Submission.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 30], [Property: Submission.AdditionalNotes (string), 31], [Property: Submission.AiCheckDetails (string), 32], [Property: Submission.AiCheckScore (decimal?), 33], [Property: Submission.AiCheckStatus (AiCheckStatus) Required ValueGenerated.OnAdd, 34], [Property: Submission.CreatedAt (DateTime) Required, 35], [Property: Submission.CreatedBy (string), 36], [Property: Submission.DeletedAt (DateTime?), 37], [Property: Submission.DocumentUrl (string) MaxLength(500), 38], [Property: Submission.IsActive (bool) Required, 39], [Property: Submission.LastModifiedAt (DateTime?), 40], [Property: Submission.LastModifiedBy (string), 41], [Property: Submission.PhaseId (int) Required FK Index, 42], [Property: Submission.Status (SubmissionStatus) Required Index ValueGenerated.OnAdd, 43], [Property: Submission.SubmissionRound (int) Required Index ValueGenerated.OnAdd, 44], [Property: Submission.SubmittedAt (DateTime?) Index ValueGenerated.OnAdd, 45], [Property: Submission.SubmittedBy (int) Required FK Index, 46], [Property: Submission.TopicId (int) Required FK Index, 47], [Property: Submission.TopicVersionId (int?) FK Index, 48] }
            3 -> Dictionary<IProperty, int> { [Property: TopicVersion.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 49], [Property: TopicVersion.Content (string), 50], [Property: TopicVersion.Context (string), 51], [Property: TopicVersion.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 52], [Property: TopicVersion.CreatedBy (string), 53], [Property: TopicVersion.DeletedAt (DateTime?), 54], [Property: TopicVersion.Description (string), 55], [Property: TopicVersion.DocumentUrl (string) MaxLength(500), 56], [Property: TopicVersion.EN_Title (string) Required MaxLength(500), 57], [Property: TopicVersion.ExpectedOutcomes (string), 58], [Property: TopicVersion.IsActive (bool) Required, 59], [Property: TopicVersion.LastModifiedAt (DateTime?), 60], [Property: TopicVersion.LastModifiedBy (string), 61], [Property: TopicVersion.Methodology (string), 62], [Property: TopicVersion.Objectives (string), 63], [Property: TopicVersion.PotentialDuplicate (string), 64], [Property: TopicVersion.Problem (string), 65], [Property: TopicVersion.Requirements (string), 66], [Property: TopicVersion.Status (TopicStatus) Required Index ValueGenerated.OnAdd, 67], [Property: TopicVersion.SubmittedAt (DateTime?), 68], [Property: TopicVersion.SubmittedBy (int?) FK Index, 69], [Property: TopicVersion.TopicId (int) Required FK Index, 70], [Property: TopicVersion.VN_title (string), 71], [Property: TopicVersion.VersionNumber (int) Required Index, 72] }
            4 -> Dictionary<IProperty, int> { [Property: Topic.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 73], [Property: Topic.Abbreviation (string), 74], [Property: Topic.CategoryId (int?) FK Index, 75], [Property: Topic.Content (string), 76], [Property: Topic.Context (string), 77], [Property: Topic.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 78], [Property: Topic.CreatedBy (string), 79], [Property: Topic.DeletedAt (DateTime?), 80], [Property: Topic.Description (string), 81], [Property: Topic.EN_Title (string) Required MaxLength(500), 82], [Property: Topic.IsActive (bool) Required, 83], [Property: Topic.IsApproved (bool) Required Index Sentinel:True ValueGenerated.OnAdd, 84], [Property: Topic.IsLegacy (bool) Required Index ValueGenerated.OnAdd, 85], [Property: Topic.LastModifiedAt (DateTime?), 86], [Property: Topic.LastModifiedBy (string), 87], [Property: Topic.MaxStudents (int) Required ValueGenerated.OnAdd, 88], [Property: Topic.Objectives (string), 89], [Property: Topic.PotentialDuplicate (string), 90], [Property: Topic.Problem (string), 91], [Property: Topic.SemesterId (int) Required FK Index, 92], [Property: Topic.SupervisorId (int) Required FK Index, 93], [Property: Topic.VN_title (string), 94] }
        SELECT r.Id, r.AssignedAt, r.AssignedBy, r.AssignmentType, r.CompletedAt, r.Deadline, r.ReviewerId, r.SkillMatchScore, r.StartedAt, r.Status, r.SubmissionId, u.Id, u.AccessFailedCount, u.ConcurrencyStamp, u.CreatedAt, u.DeletedAt, u.Email, u.EmailConfirmed, u.LastModifiedAt, u.LastModifiedBy, u.LockoutEnabled, u.LockoutEnd, u.NormalizedEmail, u.NormalizedUserName, u.PasswordHash, u.PhoneNumber, u.PhoneNumberConfirmed, u.SecurityStamp, u.TwoFactorEnabled, u.UserName, s.Id, s.AdditionalNotes, s.AiCheckDetails, s.AiCheckScore, s.AiCheckStatus, s.CreatedAt, s.CreatedBy, s.DeletedAt, s.DocumentUrl, s.IsActive, s.LastModifiedAt, s.LastModifiedBy, s.PhaseId, s.Status, s.SubmissionRound, s.SubmittedAt, s.SubmittedBy, s.TopicId, s.TopicVersionId, t.Id, t.Content, t.Context, t.CreatedAt, t.CreatedBy, t.DeletedAt, t.Description, t.DocumentUrl, t.EN_Title, t.ExpectedOutcomes, t.IsActive, t.LastModifiedAt, t.LastModifiedBy, t.Methodology, t.Objectives, t.PotentialDuplicate, t.Problem, t.Requirements, t.Status, t.SubmittedAt, t.SubmittedBy, t.TopicId, t.VN_title, t.VersionNumber, t0.Id, t0.Abbreviation, t0.CategoryId, t0.Content, t0.Context, t0.CreatedAt, t0.CreatedBy, t0.DeletedAt, t0.Description, t0.EN_Title, t0.IsActive, t0.IsApproved, t0.IsLegacy, t0.LastModifiedAt, t0.LastModifiedBy, t0.MaxStudents, t0.Objectives, t0.PotentialDuplicate, t0.Problem, t0.SemesterId, t0.SupervisorId, t0.VN_title
        FROM reviewer_assignments AS r
        INNER JOIN users AS u ON r.ReviewerId == u.Id
        INNER JOIN submissions AS s ON r.SubmissionId == s.Id
        LEFT JOIN topic_versions AS t ON s.TopicVersionId == t.Id
        LEFT JOIN topics AS t0 ON s.TopicId == t0.Id
        WHERE (r.Deadline IS NOT NULL && (CONVERT(date, r.Deadline) < CONVERT(date, GETDATE()))) && r.Status IN (1, 2)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ReviewerAssignment>, 
    App.DAL.Context.MyDbContext, 
    False, 
    False, 
    True
)'
2025-10-03 18:24:45.917 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:24:45.918 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:24:45.918 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 18:24:45.918 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:24:45.918 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:24:45.918 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[DocumentUrl], [t].[EN_Title], [t].[ExpectedOutcomes], [t].[IsActive], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[Methodology], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[Requirements], [t].[Status], [t].[SubmittedAt], [t].[SubmittedBy], [t].[TopicId], [t].[VN_title], [t].[VersionNumber], [t0].[Id], [t0].[Abbreviation], [t0].[CategoryId], [t0].[Content], [t0].[Context], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[EN_Title], [t0].[IsActive], [t0].[IsApproved], [t0].[IsLegacy], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[MaxStudents], [t0].[Objectives], [t0].[PotentialDuplicate], [t0].[Problem], [t0].[SemesterId], [t0].[SupervisorId], [t0].[VN_title]
FROM [reviewer_assignments] AS [r]
INNER JOIN [users] AS [u] ON [r].[ReviewerId] = [u].[Id]
INNER JOIN [submissions] AS [s] ON [r].[SubmissionId] = [s].[Id]
LEFT JOIN [topic_versions] AS [t] ON [s].[TopicVersionId] = [t].[Id]
LEFT JOIN [topics] AS [t0] ON [s].[TopicId] = [t0].[Id]
WHERE [r].[Deadline] IS NOT NULL AND CONVERT(date, [r].[Deadline]) < CONVERT(date, GETDATE()) AND [r].[Status] IN (1, 2)
2025-10-03 18:24:45.934 +07:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[DocumentUrl], [t].[EN_Title], [t].[ExpectedOutcomes], [t].[IsActive], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[Methodology], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[Requirements], [t].[Status], [t].[SubmittedAt], [t].[SubmittedBy], [t].[TopicId], [t].[VN_title], [t].[VersionNumber], [t0].[Id], [t0].[Abbreviation], [t0].[CategoryId], [t0].[Content], [t0].[Context], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[EN_Title], [t0].[IsActive], [t0].[IsApproved], [t0].[IsLegacy], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[MaxStudents], [t0].[Objectives], [t0].[PotentialDuplicate], [t0].[Problem], [t0].[SemesterId], [t0].[SupervisorId], [t0].[VN_title]
FROM [reviewer_assignments] AS [r]
INNER JOIN [users] AS [u] ON [r].[ReviewerId] = [u].[Id]
INNER JOIN [submissions] AS [s] ON [r].[SubmissionId] = [s].[Id]
LEFT JOIN [topic_versions] AS [t] ON [s].[TopicVersionId] = [t].[Id]
LEFT JOIN [topics] AS [t0] ON [s].[TopicId] = [t0].[Id]
WHERE [r].[Deadline] IS NOT NULL AND CONVERT(date, [r].[Deadline]) < CONVERT(date, GETDATE()) AND [r].[Status] IN (1, 2)
2025-10-03 18:24:45.934 +07:00 [INF] Now listening on: http://localhost:5207
2025-10-03 18:24:45.934 +07:00 [DBG] Loaded hosting startup assembly CapBot.api
2025-10-03 18:24:45.934 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-10-03 18:24:45.934 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-03 18:24:45.934 +07:00 [INF] Hosting environment: Development
2025-10-03 18:24:45.935 +07:00 [INF] Content root path: C:\Users\acer\Downloads\CBAI_API\capbot.api
2025-10-03 18:24:45.936 +07:00 [DBG] Hosting started
2025-10-03 18:24:45.938 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 18:24:45.938 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 3ms reading results.
2025-10-03 18:24:45.938 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:24:45.938 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 18:24:46.021 +07:00 [DBG] 'MyDbContext' generated a temporary value for the property 'SystemNotification.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 18:24:46.081 +07:00 [DBG] Context 'MyDbContext' started tracking 'SystemNotification' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 18:24:46.085 +07:00 [DBG] SaveChanges starting for 'MyDbContext'.
2025-10-03 18:24:46.087 +07:00 [DBG] DetectChanges starting for 'MyDbContext'.
2025-10-03 18:24:46.110 +07:00 [DBG] DetectChanges completed for 'MyDbContext'.
2025-10-03 18:24:46.184 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:24:46.184 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:24:46.188 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 18:24:46.188 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:24:46.191 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-10-03 18:24:46.191 +07:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (Size = 50), @p5='?' (Size = 255), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [system_notifications] ([CreatedAt], [Message], [ReadAt], [RelatedEntityId], [RelatedEntityType], [Title], [Type], [UserId])
OUTPUT INSERTED.[Id], INSERTED.[IsRead]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-10-03 18:24:46.199 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (Size = 50), @p5='?' (Size = 255), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [system_notifications] ([CreatedAt], [Message], [ReadAt], [RelatedEntityId], [RelatedEntityType], [Title], [Type], [UserId])
OUTPUT INSERTED.[Id], INSERTED.[IsRead]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-10-03 18:24:46.225 +07:00 [DBG] The foreign key property 'SystemNotification.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-10-03 18:24:46.232 +07:00 [DBG] Connection id "0HNG2DTQHFVI3" accepted.
2025-10-03 18:24:46.235 +07:00 [DBG] Connection id "0HNG2DTQHFVI3" started.
2025-10-03 18:24:46.251 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 18:24:46.252 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 52ms reading results.
2025-10-03 18:24:46.254 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:24:46.254 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 18:24:46.294 +07:00 [DBG] An entity of type 'SystemNotification' tracked by 'MyDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 18:24:46.302 +07:00 [DBG] SaveChanges completed for 'MyDbContext' with 1 entities written to the database.
2025-10-03 18:24:46.304 +07:00 [DBG] Connection id "0HNG2DTQHFVI4" accepted.
2025-10-03 18:24:46.309 +07:00 [DBG] Connection id "0HNG2DTQHFVI4" started.
2025-10-03 18:24:46.312 +07:00 [DBG] Compiling query expression: 
'DbSet<SystemNotification>()
    .AsNoTracking()
    .Where(x => x.UserId == __entity_UserId_0 && !(x.IsRead))
    .Count()'
2025-10-03 18:24:46.379 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5207/index.html - null null
2025-10-03 18:24:46.399 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<int>(
    asyncEnumerable: new SingleQueryingEnumerable<int>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM system_notifications AS s
            WHERE (s.UserId == @__entity_UserId_0) && Not(s.IsRead)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, int>, 
        App.DAL.Context.MyDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-10-03 18:24:46.415 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-10-03 18:24:46.417 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:24:46.417 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:24:46.418 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 18:24:46.418 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:24:46.418 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:24:46.419 +07:00 [DBG] Executing DbCommand [Parameters=[@__entity_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [system_notifications] AS [s]
WHERE [s].[UserId] = @__entity_UserId_0 AND [s].[IsRead] = CAST(0 AS bit)
2025-10-03 18:24:46.445 +07:00 [INF] Executed DbCommand (27ms) [Parameters=[@__entity_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [system_notifications] AS [s]
WHERE [s].[UserId] = @__entity_UserId_0 AND [s].[IsRead] = CAST(0 AS bit)
2025-10-03 18:24:46.448 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 18:24:46.449 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 3ms reading results.
2025-10-03 18:24:46.449 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:24:46.450 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 18:24:47.151 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-10-03 18:24:47.185 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-10-03 18:24:47.186 +07:00 [DBG] Connection id "0HNG2DTQHFVI3" completed keep alive response.
2025-10-03 18:24:47.203 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5207/index.html - 200 null text/html;charset=utf-8 817.1779ms
2025-10-03 18:24:47.365 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5207/_framework/aspnetcore-browser-refresh.js - null null
2025-10-03 18:24:47.384 +07:00 [DBG] Connection id "0HNG2DTQHFVI3" completed keep alive response.
2025-10-03 18:24:47.385 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5207/_framework/aspnetcore-browser-refresh.js - 200 13732 application/javascript; charset=utf-8 20.1059ms
2025-10-03 18:24:47.630 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5207/swagger/v1/swagger.json - null null
2025-10-03 18:24:48.517 +07:00 [DBG] Connection id "0HNG2DTQHFVI3" completed keep alive response.
2025-10-03 18:24:48.518 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5207/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 887.8677ms
2025-10-03 18:24:49.698 +07:00 [ERR] 5.4.5 Daily user sending limit exceeded. For more information on Gmail
5.4.5 sending limits go to
5.4.5  https://support.google.com/a/answer/166852 98e67ed59e1d1-339c4a19fe4sm1970577a91.8 - gsmtp
2025-10-03 18:24:49.932 +07:00 [WRN] Không thể gửi email sắp đến hạn cho reviewer hieptmse140293@fpt.edu.vn, assignment 31
2025-10-03 18:24:49.933 +07:00 [INF] Đã gửi thông báo sắp đến hạn cho reviewer 27, assignment 31
2025-10-03 18:24:49.937 +07:00 [DBG] 'MyDbContext' generated a temporary value for the property 'SystemNotification.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 18:24:49.939 +07:00 [DBG] Context 'MyDbContext' started tracking 'SystemNotification' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 18:24:49.939 +07:00 [DBG] SaveChanges starting for 'MyDbContext'.
2025-10-03 18:24:49.940 +07:00 [DBG] DetectChanges starting for 'MyDbContext'.
2025-10-03 18:24:49.943 +07:00 [DBG] DetectChanges completed for 'MyDbContext'.
2025-10-03 18:24:49.946 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:24:49.946 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:24:49.946 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 18:24:49.947 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:24:49.947 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:24:49.947 +07:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (Size = 50), @p5='?' (Size = 255), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [system_notifications] ([CreatedAt], [Message], [ReadAt], [RelatedEntityId], [RelatedEntityType], [Title], [Type], [UserId])
OUTPUT INSERTED.[Id], INSERTED.[IsRead]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-10-03 18:24:49.957 +07:00 [INF] Executed DbCommand (9ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (Size = 50), @p5='?' (Size = 255), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [system_notifications] ([CreatedAt], [Message], [ReadAt], [RelatedEntityId], [RelatedEntityType], [Title], [Type], [UserId])
OUTPUT INSERTED.[Id], INSERTED.[IsRead]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-10-03 18:24:49.958 +07:00 [DBG] The foreign key property 'SystemNotification.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-10-03 18:24:49.960 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 18:24:49.961 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 2ms reading results.
2025-10-03 18:24:49.961 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:24:49.961 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 18:24:49.962 +07:00 [DBG] An entity of type 'SystemNotification' tracked by 'MyDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 18:24:49.962 +07:00 [DBG] SaveChanges completed for 'MyDbContext' with 1 entities written to the database.
2025-10-03 18:24:49.963 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:24:49.963 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:24:49.964 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 18:24:49.964 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:24:49.964 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:24:49.964 +07:00 [DBG] Executing DbCommand [Parameters=[@__entity_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [system_notifications] AS [s]
WHERE [s].[UserId] = @__entity_UserId_0 AND [s].[IsRead] = CAST(0 AS bit)
2025-10-03 18:24:49.977 +07:00 [INF] Executed DbCommand (13ms) [Parameters=[@__entity_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [system_notifications] AS [s]
WHERE [s].[UserId] = @__entity_UserId_0 AND [s].[IsRead] = CAST(0 AS bit)
2025-10-03 18:24:49.978 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 18:24:49.978 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-10-03 18:24:49.978 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:24:49.978 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 18:24:52.625 +07:00 [ERR] 5.4.5 Daily user sending limit exceeded. For more information on Gmail
5.4.5 sending limits go to
5.4.5  https://support.google.com/a/answer/166852 98e67ed59e1d1-3399bc02e5bsm4318410a91.0 - gsmtp
2025-10-03 18:24:52.843 +07:00 [WRN] Không thể gửi email quá hạn cho reviewer supervisor@gmail.com, assignment 1
2025-10-03 18:24:52.844 +07:00 [INF] Đã gửi thông báo quá hạn cho reviewer 6, assignment 1
2025-10-03 18:24:52.845 +07:00 [DBG] 'MyDbContext' generated a temporary value for the property 'SystemNotification.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 18:24:52.845 +07:00 [DBG] Context 'MyDbContext' started tracking 'SystemNotification' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 18:24:52.846 +07:00 [DBG] SaveChanges starting for 'MyDbContext'.
2025-10-03 18:24:52.846 +07:00 [DBG] DetectChanges starting for 'MyDbContext'.
2025-10-03 18:24:52.846 +07:00 [DBG] DetectChanges completed for 'MyDbContext'.
2025-10-03 18:24:52.848 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:24:52.848 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:24:52.848 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 18:24:52.848 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:24:52.849 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:24:52.849 +07:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (Size = 50), @p5='?' (Size = 255), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [system_notifications] ([CreatedAt], [Message], [ReadAt], [RelatedEntityId], [RelatedEntityType], [Title], [Type], [UserId])
OUTPUT INSERTED.[Id], INSERTED.[IsRead]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-10-03 18:24:52.861 +07:00 [INF] Executed DbCommand (13ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (Size = 50), @p5='?' (Size = 255), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [system_notifications] ([CreatedAt], [Message], [ReadAt], [RelatedEntityId], [RelatedEntityType], [Title], [Type], [UserId])
OUTPUT INSERTED.[Id], INSERTED.[IsRead]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-10-03 18:24:52.862 +07:00 [DBG] The foreign key property 'SystemNotification.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-10-03 18:24:52.862 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 18:24:52.862 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-10-03 18:24:52.862 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:24:52.863 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 18:24:52.863 +07:00 [DBG] An entity of type 'SystemNotification' tracked by 'MyDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 18:24:52.863 +07:00 [DBG] SaveChanges completed for 'MyDbContext' with 1 entities written to the database.
2025-10-03 18:24:52.864 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:24:52.864 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:24:52.864 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 18:24:52.864 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:24:52.864 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:24:52.864 +07:00 [DBG] Executing DbCommand [Parameters=[@__entity_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [system_notifications] AS [s]
WHERE [s].[UserId] = @__entity_UserId_0 AND [s].[IsRead] = CAST(0 AS bit)
2025-10-03 18:24:52.867 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__entity_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [system_notifications] AS [s]
WHERE [s].[UserId] = @__entity_UserId_0 AND [s].[IsRead] = CAST(0 AS bit)
2025-10-03 18:24:52.868 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 18:24:52.868 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-10-03 18:24:52.868 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:24:52.870 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (1ms).
2025-10-03 18:24:54.712 +07:00 [ERR] 5.4.5 Daily user sending limit exceeded. For more information on Gmail
5.4.5 sending limits go to
5.4.5  https://support.google.com/a/answer/166852 d9443c01a7336-28e8d1f1a75sm47544375ad.125 - gsmtp
2025-10-03 18:24:54.929 +07:00 [WRN] Không thể gửi email quá hạn cho reviewer reviewer2@gmail.com, assignment 2
2025-10-03 18:24:54.929 +07:00 [INF] Đã gửi thông báo quá hạn cho reviewer 7, assignment 2
2025-10-03 18:24:54.929 +07:00 [DBG] 'MyDbContext' generated a temporary value for the property 'SystemNotification.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 18:24:54.930 +07:00 [DBG] Context 'MyDbContext' started tracking 'SystemNotification' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 18:24:54.930 +07:00 [DBG] SaveChanges starting for 'MyDbContext'.
2025-10-03 18:24:54.930 +07:00 [DBG] DetectChanges starting for 'MyDbContext'.
2025-10-03 18:24:54.930 +07:00 [DBG] DetectChanges completed for 'MyDbContext'.
2025-10-03 18:24:54.931 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:24:54.931 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:24:54.931 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 18:24:54.931 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:24:54.931 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:24:54.932 +07:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (Size = 50), @p5='?' (Size = 255), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [system_notifications] ([CreatedAt], [Message], [ReadAt], [RelatedEntityId], [RelatedEntityType], [Title], [Type], [UserId])
OUTPUT INSERTED.[Id], INSERTED.[IsRead]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-10-03 18:24:54.935 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (Size = 50), @p5='?' (Size = 255), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [system_notifications] ([CreatedAt], [Message], [ReadAt], [RelatedEntityId], [RelatedEntityType], [Title], [Type], [UserId])
OUTPUT INSERTED.[Id], INSERTED.[IsRead]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-10-03 18:24:54.935 +07:00 [DBG] The foreign key property 'SystemNotification.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-10-03 18:24:54.936 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 18:24:54.936 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 1ms reading results.
2025-10-03 18:24:54.936 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:24:54.936 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 18:24:54.937 +07:00 [DBG] An entity of type 'SystemNotification' tracked by 'MyDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 18:24:54.937 +07:00 [DBG] SaveChanges completed for 'MyDbContext' with 1 entities written to the database.
2025-10-03 18:24:54.938 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:24:54.938 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:24:54.938 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 18:24:54.938 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:24:54.938 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:24:54.938 +07:00 [DBG] Executing DbCommand [Parameters=[@__entity_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [system_notifications] AS [s]
WHERE [s].[UserId] = @__entity_UserId_0 AND [s].[IsRead] = CAST(0 AS bit)
2025-10-03 18:24:54.940 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__entity_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [system_notifications] AS [s]
WHERE [s].[UserId] = @__entity_UserId_0 AND [s].[IsRead] = CAST(0 AS bit)
2025-10-03 18:24:54.940 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 18:24:54.940 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-10-03 18:24:54.940 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:24:54.940 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 18:24:54.946 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5207/api/reviewer-assignments/workload?semesterId=1 - null null
2025-10-03 18:24:54.949 +07:00 [DBG] The request path /api/reviewer-assignments/workload does not match a supported file type
2025-10-03 18:24:54.950 +07:00 [WRN] Failed to determine the https port for redirect.
2025-10-03 18:24:54.950 +07:00 [DBG] The request path /api/reviewer-assignments/workload does not match a supported file type
2025-10-03 18:24:55.015 +07:00 [DBG] 1 candidate(s) found for the request path '/api/reviewer-assignments/workload'
2025-10-03 18:24:55.016 +07:00 [DBG] Endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetReviewersWorkload (CapBot.api)' with route pattern 'api/reviewer-assignments/workload' is valid for the request path '/api/reviewer-assignments/workload'
2025-10-03 18:24:55.017 +07:00 [DBG] Request matched endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetReviewersWorkload (CapBot.api)'
2025-10-03 18:24:55.125 +07:00 [DBG] Successfully validated the token.
2025-10-03 18:24:55.126 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-10-03 18:24:55.133 +07:00 [DBG] Authorization was successful.
2025-10-03 18:24:55.143 +07:00 [INF] Executing endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetReviewersWorkload (CapBot.api)'
2025-10-03 18:24:55.166 +07:00 [INF] Route matched with {action = "GetReviewersWorkload", controller = "ReviewerAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetReviewersWorkload(System.Nullable`1[System.Int32]) on controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api).
2025-10-03 18:24:55.171 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-10-03 18:24:55.172 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-10-03 18:24:55.172 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2025-10-03 18:24:55.172 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-10-03 18:24:55.172 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-10-03 18:24:55.174 +07:00 [DBG] Executing controller factory for controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api)
2025-10-03 18:24:55.323 +07:00 [DBG] Executed controller factory for controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api)
2025-10-03 18:24:55.332 +07:00 [DBG] Attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]' ...
2025-10-03 18:24:55.337 +07:00 [DBG] Attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]' using the name 'semesterId' in request data ...
2025-10-03 18:24:55.339 +07:00 [DBG] Done attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]'.
2025-10-03 18:24:55.339 +07:00 [DBG] Done attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]'.
2025-10-03 18:24:55.339 +07:00 [DBG] Attempting to validate the bound parameter 'semesterId' of type 'System.Nullable`1[System.Int32]' ...
2025-10-03 18:24:55.341 +07:00 [DBG] Done attempting to validate the bound parameter 'semesterId' of type 'System.Nullable`1[System.Int32]'.
2025-10-03 18:24:55.370 +07:00 [DBG] Entity Framework Core 8.0.16 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: MigrationsAssembly=App.DAL 
2025-10-03 18:24:55.375 +07:00 [DBG] Compiling query expression: 
'DbSet<UserRole>()
    .AsNoTracking()
    .Include(ur => ur.User)
    .Include(ur => ur.User.LecturerSkills)
    .Include(ur => ur.User.ReviewerPerformances)
    .Include(ur => ur.Role)
    .Where(ur => ur.Role.Name == "Reviewer")'
2025-10-03 18:24:55.379 +07:00 [DBG] Including navigation: 'UserRole.User'.
2025-10-03 18:24:55.380 +07:00 [DBG] Including navigation: 'User.LecturerSkills'.
2025-10-03 18:24:55.380 +07:00 [DBG] Including navigation: 'User.ReviewerPerformances'.
2025-10-03 18:24:55.381 +07:00 [DBG] Including navigation: 'UserRole.Role'.
2025-10-03 18:24:55.425 +07:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-10-03 18:24:55.431 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<UserRole>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: UserRole.UserId (int) Required PK FK AfterSave:Throw, 0], [Property: UserRole.RoleId (int) Required PK FK Index AfterSave:Throw, 1] }
            1 -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 2], [Property: User.AccessFailedCount (int) Required, 3], [Property: User.ConcurrencyStamp (string), 4], [Property: User.CreatedAt (DateTime) Required, 5], [Property: User.DeletedAt (DateTime?), 6], [Property: User.Email (string), 7], [Property: User.EmailConfirmed (bool) Required, 8], [Property: User.LastModifiedAt (DateTime) Required, 9], [Property: User.LastModifiedBy (string), 10], [Property: User.LockoutEnabled (bool) Required, 11], [Property: User.LockoutEnd (DateTimeOffset?), 12], [Property: User.NormalizedEmail (string), 13], [Property: User.NormalizedUserName (string), 14], [Property: User.PasswordHash (string), 15], [Property: User.PhoneNumber (string), 16], [Property: User.PhoneNumberConfirmed (bool) Required, 17], [Property: User.SecurityStamp (string), 18], [Property: User.TwoFactorEnabled (bool) Required, 19], [Property: User.UserName (string), 20] }
            2 -> 0
            3 -> 1
            4 -> 21
            5 -> 2
            6 -> Dictionary<IProperty, int> { [Property: LecturerSkill.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 22], [Property: LecturerSkill.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 23], [Property: LecturerSkill.CreatedBy (string), 24], [Property: LecturerSkill.DeletedAt (DateTime?), 25], [Property: LecturerSkill.IsActive (bool) Required, 26], [Property: LecturerSkill.LastModifiedAt (DateTime?), 27], [Property: LecturerSkill.LastModifiedBy (string), 28], [Property: LecturerSkill.LecturerId (int) Required FK Index, 29], [Property: LecturerSkill.ProficiencyLevel (ProficiencyLevels) Required ValueGenerated.OnAdd, 30], [Property: LecturerSkill.SkillTag (string) Required Index MaxLength(100), 31] }
            7 -> 22
            8 -> Dictionary<IProperty, int> { [Property: ReviewerPerformance.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 32], [Property: ReviewerPerformance.AverageScoreGiven (decimal?), 33], [Property: ReviewerPerformance.AverageTimeMinutes (int) Required ValueGenerated.OnAdd, 34], [Property: ReviewerPerformance.CompletedAssignments (int) Required ValueGenerated.OnAdd, 35], [Property: ReviewerPerformance.LastUpdated (DateTime) Required ValueGenerated.OnAdd, 36], [Property: ReviewerPerformance.OnTimeRate (decimal?), 37], [Property: ReviewerPerformance.QualityRating (decimal?), 38], [Property: ReviewerPerformance.ReviewerId (int) Required FK Index, 39], [Property: ReviewerPerformance.SemesterId (int) Required FK Index, 40], [Property: ReviewerPerformance.TotalAssignments (int) Required ValueGenerated.OnAdd, 41] }
            9 -> 32
            10 -> Dictionary<IProperty, int> { [Property: Role.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 21], [Property: Role.ConcurrencyStamp (string), 42], [Property: Role.IsAdmin (bool) Required, 43], [Property: Role.Name (string), 44], [Property: Role.NormalizedName (string), 45] }
        SELECT u.UserId, u.RoleId, u0.Id, u0.AccessFailedCount, u0.ConcurrencyStamp, u0.CreatedAt, u0.DeletedAt, u0.Email, u0.EmailConfirmed, u0.LastModifiedAt, u0.LastModifiedBy, u0.LockoutEnabled, u0.LockoutEnd, u0.NormalizedEmail, u0.NormalizedUserName, u0.PasswordHash, u0.PhoneNumber, u0.PhoneNumberConfirmed, u0.SecurityStamp, u0.TwoFactorEnabled, u0.UserName, r.Id, l.Id, l.CreatedAt, l.CreatedBy, l.DeletedAt, l.IsActive, l.LastModifiedAt, l.LastModifiedBy, l.LecturerId, l.ProficiencyLevel, l.SkillTag, r0.Id, r0.AverageScoreGiven, r0.AverageTimeMinutes, r0.CompletedAssignments, r0.LastUpdated, r0.OnTimeRate, r0.QualityRating, r0.ReviewerId, r0.SemesterId, r0.TotalAssignments, r.ConcurrencyStamp, r.IsAdmin, r.Name, r.NormalizedName
        FROM user_roles AS u
        INNER JOIN roles AS r ON u.RoleId == r.Id
        INNER JOIN users AS u0 ON u.UserId == u0.Id
        LEFT JOIN lecturer_skills AS l ON u0.Id == l.LecturerId
        LEFT JOIN reviewer_performance AS r0 ON u0.Id == r0.ReviewerId
        WHERE r.Name == N'Reviewer'
        ORDER BY u.UserId ASC, u.RoleId ASC, r.Id ASC, u0.Id ASC, l.Id ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, UserRole>, 
    App.DAL.Context.MyDbContext, 
    False, 
    False, 
    True
)'
2025-10-03 18:24:55.436 +07:00 [DBG] Creating DbConnection.
2025-10-03 18:24:55.437 +07:00 [DBG] Created DbConnection. (0ms).
2025-10-03 18:24:55.437 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:24:55.437 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:24:55.438 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 18:24:55.438 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:24:55.438 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:24:55.438 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[RoleId], [u0].[Id], [u0].[AccessFailedCount], [u0].[ConcurrencyStamp], [u0].[CreatedAt], [u0].[DeletedAt], [u0].[Email], [u0].[EmailConfirmed], [u0].[LastModifiedAt], [u0].[LastModifiedBy], [u0].[LockoutEnabled], [u0].[LockoutEnd], [u0].[NormalizedEmail], [u0].[NormalizedUserName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[PhoneNumberConfirmed], [u0].[SecurityStamp], [u0].[TwoFactorEnabled], [u0].[UserName], [r].[Id], [l].[Id], [l].[CreatedAt], [l].[CreatedBy], [l].[DeletedAt], [l].[IsActive], [l].[LastModifiedAt], [l].[LastModifiedBy], [l].[LecturerId], [l].[ProficiencyLevel], [l].[SkillTag], [r0].[Id], [r0].[AverageScoreGiven], [r0].[AverageTimeMinutes], [r0].[CompletedAssignments], [r0].[LastUpdated], [r0].[OnTimeRate], [r0].[QualityRating], [r0].[ReviewerId], [r0].[SemesterId], [r0].[TotalAssignments], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [user_roles] AS [u]
INNER JOIN [roles] AS [r] ON [u].[RoleId] = [r].[Id]
INNER JOIN [users] AS [u0] ON [u].[UserId] = [u0].[Id]
LEFT JOIN [lecturer_skills] AS [l] ON [u0].[Id] = [l].[LecturerId]
LEFT JOIN [reviewer_performance] AS [r0] ON [u0].[Id] = [r0].[ReviewerId]
WHERE [r].[Name] = N'Reviewer'
ORDER BY [u].[UserId], [u].[RoleId], [r].[Id], [u0].[Id], [l].[Id]
2025-10-03 18:24:55.464 +07:00 [INF] Executed DbCommand (26ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[RoleId], [u0].[Id], [u0].[AccessFailedCount], [u0].[ConcurrencyStamp], [u0].[CreatedAt], [u0].[DeletedAt], [u0].[Email], [u0].[EmailConfirmed], [u0].[LastModifiedAt], [u0].[LastModifiedBy], [u0].[LockoutEnabled], [u0].[LockoutEnd], [u0].[NormalizedEmail], [u0].[NormalizedUserName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[PhoneNumberConfirmed], [u0].[SecurityStamp], [u0].[TwoFactorEnabled], [u0].[UserName], [r].[Id], [l].[Id], [l].[CreatedAt], [l].[CreatedBy], [l].[DeletedAt], [l].[IsActive], [l].[LastModifiedAt], [l].[LastModifiedBy], [l].[LecturerId], [l].[ProficiencyLevel], [l].[SkillTag], [r0].[Id], [r0].[AverageScoreGiven], [r0].[AverageTimeMinutes], [r0].[CompletedAssignments], [r0].[LastUpdated], [r0].[OnTimeRate], [r0].[QualityRating], [r0].[ReviewerId], [r0].[SemesterId], [r0].[TotalAssignments], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [user_roles] AS [u]
INNER JOIN [roles] AS [r] ON [u].[RoleId] = [r].[Id]
INNER JOIN [users] AS [u0] ON [u].[UserId] = [u0].[Id]
LEFT JOIN [lecturer_skills] AS [l] ON [u0].[Id] = [l].[LecturerId]
LEFT JOIN [reviewer_performance] AS [r0] ON [u0].[Id] = [r0].[ReviewerId]
WHERE [r].[Name] = N'Reviewer'
ORDER BY [u].[UserId], [u].[RoleId], [r].[Id], [u0].[Id], [l].[Id]
2025-10-03 18:24:55.472 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 18:24:55.472 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 8ms reading results.
2025-10-03 18:24:55.473 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:24:55.473 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 18:24:55.477 +07:00 [DBG] Compiling query expression: 
'DbSet<ReviewerAssignment>()
    .AsNoTracking()
    .Include(ra => ra.Submission)
    .Include(ra => ra.Submission.Topic)
    .Include(ra => ra.Submission.TopicVersion)
    .Include(ra => ra.Submission.TopicVersion.Topic)
    .Where(ra => __8__locals2_reviewerIds_0.Contains(ra.ReviewerId) && ra.Submission != null && ra.Submission.Topic != null && ra.Submission.Topic.SemesterId == __sid_1 || ra.Submission != null && ra.Submission.TopicVersion != null && ra.Submission.TopicVersion.Topic != null && ra.Submission.TopicVersion.Topic.SemesterId == __sid_1)'
2025-10-03 18:24:55.482 +07:00 [DBG] Including navigation: 'ReviewerAssignment.Submission'.
2025-10-03 18:24:55.482 +07:00 [DBG] Including navigation: 'Submission.Topic'.
2025-10-03 18:24:55.482 +07:00 [DBG] Including navigation: 'Submission.TopicVersion'.
2025-10-03 18:24:55.482 +07:00 [DBG] Including navigation: 'TopicVersion.Topic'.
2025-10-03 18:24:55.528 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<ReviewerAssignment>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: ReviewerAssignment.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ReviewerAssignment.AssignedAt (DateTime) Required ValueGenerated.OnAdd, 1], [Property: ReviewerAssignment.AssignedBy (int) Required FK Index, 2], [Property: ReviewerAssignment.AssignmentType (AssignmentTypes) Required ValueGenerated.OnAdd, 3], [Property: ReviewerAssignment.CompletedAt (DateTime?), 4], [Property: ReviewerAssignment.Deadline (DateTime?) Index, 5], [Property: ReviewerAssignment.ReviewerId (int) Required FK Index, 6], [Property: ReviewerAssignment.SkillMatchScore (decimal?), 7], [Property: ReviewerAssignment.StartedAt (DateTime?), 8], [Property: ReviewerAssignment.Status (AssignmentStatus) Required Index ValueGenerated.OnAdd, 9], [Property: ReviewerAssignment.SubmissionId (int) Required FK Index, 10] }
            1 -> Dictionary<IProperty, int> { [Property: Submission.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 11], [Property: Submission.AdditionalNotes (string), 12], [Property: Submission.AiCheckDetails (string), 13], [Property: Submission.AiCheckScore (decimal?), 14], [Property: Submission.AiCheckStatus (AiCheckStatus) Required ValueGenerated.OnAdd, 15], [Property: Submission.CreatedAt (DateTime) Required, 16], [Property: Submission.CreatedBy (string), 17], [Property: Submission.DeletedAt (DateTime?), 18], [Property: Submission.DocumentUrl (string) MaxLength(500), 19], [Property: Submission.IsActive (bool) Required, 20], [Property: Submission.LastModifiedAt (DateTime?), 21], [Property: Submission.LastModifiedBy (string), 22], [Property: Submission.PhaseId (int) Required FK Index, 23], [Property: Submission.Status (SubmissionStatus) Required Index ValueGenerated.OnAdd, 24], [Property: Submission.SubmissionRound (int) Required Index ValueGenerated.OnAdd, 25], [Property: Submission.SubmittedAt (DateTime?) Index ValueGenerated.OnAdd, 26], [Property: Submission.SubmittedBy (int) Required FK Index, 27], [Property: Submission.TopicId (int) Required FK Index, 28], [Property: Submission.TopicVersionId (int?) FK Index, 29] }
            2 -> Dictionary<IProperty, int> { [Property: Topic.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 30], [Property: Topic.Abbreviation (string), 31], [Property: Topic.CategoryId (int?) FK Index, 32], [Property: Topic.Content (string), 33], [Property: Topic.Context (string), 34], [Property: Topic.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 35], [Property: Topic.CreatedBy (string), 36], [Property: Topic.DeletedAt (DateTime?), 37], [Property: Topic.Description (string), 38], [Property: Topic.EN_Title (string) Required MaxLength(500), 39], [Property: Topic.IsActive (bool) Required, 40], [Property: Topic.IsApproved (bool) Required Index Sentinel:True ValueGenerated.OnAdd, 41], [Property: Topic.IsLegacy (bool) Required Index ValueGenerated.OnAdd, 42], [Property: Topic.LastModifiedAt (DateTime?), 43], [Property: Topic.LastModifiedBy (string), 44], [Property: Topic.MaxStudents (int) Required ValueGenerated.OnAdd, 45], [Property: Topic.Objectives (string), 46], [Property: Topic.PotentialDuplicate (string), 47], [Property: Topic.Problem (string), 48], [Property: Topic.SemesterId (int) Required FK Index, 49], [Property: Topic.SupervisorId (int) Required FK Index, 50], [Property: Topic.VN_title (string), 51] }
            3 -> Dictionary<IProperty, int> { [Property: TopicVersion.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 52], [Property: TopicVersion.Content (string), 53], [Property: TopicVersion.Context (string), 54], [Property: TopicVersion.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 55], [Property: TopicVersion.CreatedBy (string), 56], [Property: TopicVersion.DeletedAt (DateTime?), 57], [Property: TopicVersion.Description (string), 58], [Property: TopicVersion.DocumentUrl (string) MaxLength(500), 59], [Property: TopicVersion.EN_Title (string) Required MaxLength(500), 60], [Property: TopicVersion.ExpectedOutcomes (string), 61], [Property: TopicVersion.IsActive (bool) Required, 62], [Property: TopicVersion.LastModifiedAt (DateTime?), 63], [Property: TopicVersion.LastModifiedBy (string), 64], [Property: TopicVersion.Methodology (string), 65], [Property: TopicVersion.Objectives (string), 66], [Property: TopicVersion.PotentialDuplicate (string), 67], [Property: TopicVersion.Problem (string), 68], [Property: TopicVersion.Requirements (string), 69], [Property: TopicVersion.Status (TopicStatus) Required Index ValueGenerated.OnAdd, 70], [Property: TopicVersion.SubmittedAt (DateTime?), 71], [Property: TopicVersion.SubmittedBy (int?) FK Index, 72], [Property: TopicVersion.TopicId (int) Required FK Index, 73], [Property: TopicVersion.VN_title (string), 74], [Property: TopicVersion.VersionNumber (int) Required Index, 75] }
            4 -> Dictionary<IProperty, int> { [Property: Topic.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 76], [Property: Topic.Abbreviation (string), 77], [Property: Topic.CategoryId (int?) FK Index, 78], [Property: Topic.Content (string), 79], [Property: Topic.Context (string), 80], [Property: Topic.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 81], [Property: Topic.CreatedBy (string), 82], [Property: Topic.DeletedAt (DateTime?), 83], [Property: Topic.Description (string), 84], [Property: Topic.EN_Title (string) Required MaxLength(500), 85], [Property: Topic.IsActive (bool) Required, 86], [Property: Topic.IsApproved (bool) Required Index Sentinel:True ValueGenerated.OnAdd, 87], [Property: Topic.IsLegacy (bool) Required Index ValueGenerated.OnAdd, 88], [Property: Topic.LastModifiedAt (DateTime?), 89], [Property: Topic.LastModifiedBy (string), 90], [Property: Topic.MaxStudents (int) Required ValueGenerated.OnAdd, 91], [Property: Topic.Objectives (string), 92], [Property: Topic.PotentialDuplicate (string), 93], [Property: Topic.Problem (string), 94], [Property: Topic.SemesterId (int) Required FK Index, 95], [Property: Topic.SupervisorId (int) Required FK Index, 96], [Property: Topic.VN_title (string), 97] }
        SELECT r.Id, r.AssignedAt, r.AssignedBy, r.AssignmentType, r.CompletedAt, r.Deadline, r.ReviewerId, r.SkillMatchScore, r.StartedAt, r.Status, r.SubmissionId, s.Id, s.AdditionalNotes, s.AiCheckDetails, s.AiCheckScore, s.AiCheckStatus, s.CreatedAt, s.CreatedBy, s.DeletedAt, s.DocumentUrl, s.IsActive, s.LastModifiedAt, s.LastModifiedBy, s.PhaseId, s.Status, s.SubmissionRound, s.SubmittedAt, s.SubmittedBy, s.TopicId, s.TopicVersionId, t.Id, t.Abbreviation, t.CategoryId, t.Content, t.Context, t.CreatedAt, t.CreatedBy, t.DeletedAt, t.Description, t.EN_Title, t.IsActive, t.IsApproved, t.IsLegacy, t.LastModifiedAt, t.LastModifiedBy, t.MaxStudents, t.Objectives, t.PotentialDuplicate, t.Problem, t.SemesterId, t.SupervisorId, t.VN_title, t0.Id, t0.Content, t0.Context, t0.CreatedAt, t0.CreatedBy, t0.DeletedAt, t0.Description, t0.DocumentUrl, t0.EN_Title, t0.ExpectedOutcomes, t0.IsActive, t0.LastModifiedAt, t0.LastModifiedBy, t0.Methodology, t0.Objectives, t0.PotentialDuplicate, t0.Problem, t0.Requirements, t0.Status, t0.SubmittedAt, t0.SubmittedBy, t0.TopicId, t0.VN_title, t0.VersionNumber, t1.Id, t1.Abbreviation, t1.CategoryId, t1.Content, t1.Context, t1.CreatedAt, t1.CreatedBy, t1.DeletedAt, t1.Description, t1.EN_Title, t1.IsActive, t1.IsApproved, t1.IsLegacy, t1.LastModifiedAt, t1.LastModifiedBy, t1.MaxStudents, t1.Objectives, t1.PotentialDuplicate, t1.Problem, t1.SemesterId, t1.SupervisorId, t1.VN_title
        FROM reviewer_assignments AS r
        INNER JOIN submissions AS s ON r.SubmissionId == s.Id
        LEFT JOIN topics AS t ON s.TopicId == t.Id
        LEFT JOIN topic_versions AS t0 ON s.TopicVersionId == t0.Id
        LEFT JOIN topics AS t1 ON t0.TopicId == t1.Id
        WHERE r.ReviewerId IN (
            SELECT 8.value
            FROM OPENJSON(@__8__locals2_reviewerIds_0) WITH (value int '') AS 8) && (((Not(s.Id == NULL) && Not(t.Id == NULL)) && (t.SemesterId == @__sid_1)) || (((Not(s.Id == NULL) && Not(t0.Id == NULL)) && Not(t1.Id == NULL)) && (t1.SemesterId == @__sid_1)))), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ReviewerAssignment>, 
    App.DAL.Context.MyDbContext, 
    False, 
    False, 
    True
)'
2025-10-03 18:24:55.539 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:24:55.540 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:24:55.540 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 18:24:55.540 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:24:55.543 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-10-03 18:24:55.543 +07:00 [DBG] Executing DbCommand [Parameters=[@__8__locals2_reviewerIds_0='?' (Size = 4000), @__sid_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId], [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Abbreviation], [t].[CategoryId], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[EN_Title], [t].[IsActive], [t].[IsApproved], [t].[IsLegacy], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[MaxStudents], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[SemesterId], [t].[SupervisorId], [t].[VN_title], [t0].[Id], [t0].[Content], [t0].[Context], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[DocumentUrl], [t0].[EN_Title], [t0].[ExpectedOutcomes], [t0].[IsActive], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[Methodology], [t0].[Objectives], [t0].[PotentialDuplicate], [t0].[Problem], [t0].[Requirements], [t0].[Status], [t0].[SubmittedAt], [t0].[SubmittedBy], [t0].[TopicId], [t0].[VN_title], [t0].[VersionNumber], [t1].[Id], [t1].[Abbreviation], [t1].[CategoryId], [t1].[Content], [t1].[Context], [t1].[CreatedAt], [t1].[CreatedBy], [t1].[DeletedAt], [t1].[Description], [t1].[EN_Title], [t1].[IsActive], [t1].[IsApproved], [t1].[IsLegacy], [t1].[LastModifiedAt], [t1].[LastModifiedBy], [t1].[MaxStudents], [t1].[Objectives], [t1].[PotentialDuplicate], [t1].[Problem], [t1].[SemesterId], [t1].[SupervisorId], [t1].[VN_title]
FROM [reviewer_assignments] AS [r]
INNER JOIN [submissions] AS [s] ON [r].[SubmissionId] = [s].[Id]
LEFT JOIN [topics] AS [t] ON [s].[TopicId] = [t].[Id]
LEFT JOIN [topic_versions] AS [t0] ON [s].[TopicVersionId] = [t0].[Id]
LEFT JOIN [topics] AS [t1] ON [t0].[TopicId] = [t1].[Id]
WHERE [r].[ReviewerId] IN (
    SELECT [8].[value]
    FROM OPENJSON(@__8__locals2_reviewerIds_0) WITH ([value] int '$') AS [8]
) AND (([t].[Id] IS NOT NULL AND [t].[SemesterId] = @__sid_1) OR ([t0].[Id] IS NOT NULL AND [t1].[Id] IS NOT NULL AND [t1].[SemesterId] = @__sid_1))
2025-10-03 18:24:55.632 +07:00 [INF] Executed DbCommand (89ms) [Parameters=[@__8__locals2_reviewerIds_0='?' (Size = 4000), @__sid_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId], [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Abbreviation], [t].[CategoryId], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[EN_Title], [t].[IsActive], [t].[IsApproved], [t].[IsLegacy], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[MaxStudents], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[SemesterId], [t].[SupervisorId], [t].[VN_title], [t0].[Id], [t0].[Content], [t0].[Context], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[DocumentUrl], [t0].[EN_Title], [t0].[ExpectedOutcomes], [t0].[IsActive], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[Methodology], [t0].[Objectives], [t0].[PotentialDuplicate], [t0].[Problem], [t0].[Requirements], [t0].[Status], [t0].[SubmittedAt], [t0].[SubmittedBy], [t0].[TopicId], [t0].[VN_title], [t0].[VersionNumber], [t1].[Id], [t1].[Abbreviation], [t1].[CategoryId], [t1].[Content], [t1].[Context], [t1].[CreatedAt], [t1].[CreatedBy], [t1].[DeletedAt], [t1].[Description], [t1].[EN_Title], [t1].[IsActive], [t1].[IsApproved], [t1].[IsLegacy], [t1].[LastModifiedAt], [t1].[LastModifiedBy], [t1].[MaxStudents], [t1].[Objectives], [t1].[PotentialDuplicate], [t1].[Problem], [t1].[SemesterId], [t1].[SupervisorId], [t1].[VN_title]
FROM [reviewer_assignments] AS [r]
INNER JOIN [submissions] AS [s] ON [r].[SubmissionId] = [s].[Id]
LEFT JOIN [topics] AS [t] ON [s].[TopicId] = [t].[Id]
LEFT JOIN [topic_versions] AS [t0] ON [s].[TopicVersionId] = [t0].[Id]
LEFT JOIN [topics] AS [t1] ON [t0].[TopicId] = [t1].[Id]
WHERE [r].[ReviewerId] IN (
    SELECT [8].[value]
    FROM OPENJSON(@__8__locals2_reviewerIds_0) WITH ([value] int '$') AS [8]
) AND (([t].[Id] IS NOT NULL AND [t].[SemesterId] = @__sid_1) OR ([t0].[Id] IS NOT NULL AND [t1].[Id] IS NOT NULL AND [t1].[SemesterId] = @__sid_1))
2025-10-03 18:24:55.640 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 18:24:55.641 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 8ms reading results.
2025-10-03 18:24:55.641 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:24:55.641 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 18:24:55.655 +07:00 [DBG] Compiling query expression: 
'DbSet<ReviewerPerformance>()
    .AsNoTracking()
    .Where(rp => __reviewerIds_0.Contains(rp.ReviewerId) && False || rp.SemesterId == __8__locals1_semesterId_Value_1)'
2025-10-03 18:24:55.658 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<ReviewerPerformance>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ReviewerPerformance.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ReviewerPerformance.AverageScoreGiven (decimal?), 1], [Property: ReviewerPerformance.AverageTimeMinutes (int) Required ValueGenerated.OnAdd, 2], [Property: ReviewerPerformance.CompletedAssignments (int) Required ValueGenerated.OnAdd, 3], [Property: ReviewerPerformance.LastUpdated (DateTime) Required ValueGenerated.OnAdd, 4], [Property: ReviewerPerformance.OnTimeRate (decimal?), 5], [Property: ReviewerPerformance.QualityRating (decimal?), 6], [Property: ReviewerPerformance.ReviewerId (int) Required FK Index, 7], [Property: ReviewerPerformance.SemesterId (int) Required FK Index, 8], [Property: ReviewerPerformance.TotalAssignments (int) Required ValueGenerated.OnAdd, 9] }
        SELECT r.Id, r.AverageScoreGiven, r.AverageTimeMinutes, r.CompletedAssignments, r.LastUpdated, r.OnTimeRate, r.QualityRating, r.ReviewerId, r.SemesterId, r.TotalAssignments
        FROM reviewer_performance AS r
        WHERE r.ReviewerId IN (
            SELECT r0.value
            FROM OPENJSON(@__reviewerIds_0) WITH (value int '') AS r0) && (CAST(0 AS bit) || (r.SemesterId == @__8__locals1_semesterId_Value_1))), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ReviewerPerformance>, 
    App.DAL.Context.MyDbContext, 
    False, 
    False, 
    True
)'
2025-10-03 18:24:55.660 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:24:55.660 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:24:55.660 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 18:24:55.660 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:24:55.660 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:24:55.661 +07:00 [DBG] Executing DbCommand [Parameters=[@__reviewerIds_0='?' (Size = 4000), @__8__locals1_semesterId_Value_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AverageScoreGiven], [r].[AverageTimeMinutes], [r].[CompletedAssignments], [r].[LastUpdated], [r].[OnTimeRate], [r].[QualityRating], [r].[ReviewerId], [r].[SemesterId], [r].[TotalAssignments]
FROM [reviewer_performance] AS [r]
WHERE [r].[ReviewerId] IN (
    SELECT [r0].[value]
    FROM OPENJSON(@__reviewerIds_0) WITH ([value] int '$') AS [r0]
) AND [r].[SemesterId] = @__8__locals1_semesterId_Value_1
2025-10-03 18:24:55.666 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__reviewerIds_0='?' (Size = 4000), @__8__locals1_semesterId_Value_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AverageScoreGiven], [r].[AverageTimeMinutes], [r].[CompletedAssignments], [r].[LastUpdated], [r].[OnTimeRate], [r].[QualityRating], [r].[ReviewerId], [r].[SemesterId], [r].[TotalAssignments]
FROM [reviewer_performance] AS [r]
WHERE [r].[ReviewerId] IN (
    SELECT [r0].[value]
    FROM OPENJSON(@__reviewerIds_0) WITH ([value] int '$') AS [r0]
) AND [r].[SemesterId] = @__8__locals1_semesterId_Value_1
2025-10-03 18:24:55.668 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 18:24:55.669 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 1ms reading results.
2025-10-03 18:24:55.669 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:24:55.669 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 18:24:55.680 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-10-03 18:24:55.681 +07:00 [DBG] No information found on request to perform content negotiation.
2025-10-03 18:24:55.681 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-10-03 18:24:55.682 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-10-03 18:24:55.687 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-10-03 18:24:55.688 +07:00 [INF] Executing ObjectResult, writing value of type 'FS.Commons.FSResponse'.
2025-10-03 18:24:55.745 +07:00 [INF] Executed action CapBot.api.Controllers.ReviewerAssignmentController.GetReviewersWorkload (CapBot.api) in 570.145ms
2025-10-03 18:24:55.746 +07:00 [INF] Executed endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetReviewersWorkload (CapBot.api)'
2025-10-03 18:24:55.749 +07:00 [DBG] Connection id "0HNG2DTQHFVI3" completed keep alive response.
2025-10-03 18:24:55.749 +07:00 [DBG] 'MyDbContext' disposed.
2025-10-03 18:24:55.749 +07:00 [DBG] Disposing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:24:55.750 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-10-03 18:24:55.752 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5207/api/reviewer-assignments/workload?semesterId=1 - 200 null application/json; charset=utf-8 806.1981ms
2025-10-03 18:24:57.035 +07:00 [DBG] Connection id "0HNG2DTQHFVI4" received FIN.
2025-10-03 18:24:57.035 +07:00 [DBG] Connection id "0HNG2DTQHFVI3" received FIN.
2025-10-03 18:24:57.040 +07:00 [DBG] Connection id "0HNG2DTQHFVI3" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-10-03 18:24:57.040 +07:00 [DBG] Connection id "0HNG2DTQHFVI4" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-10-03 18:24:57.041 +07:00 [DBG] Connection id "0HNG2DTQHFVI4" disconnecting.
2025-10-03 18:24:57.041 +07:00 [DBG] Connection id "0HNG2DTQHFVI3" disconnecting.
2025-10-03 18:24:57.043 +07:00 [DBG] Connection id "0HNG2DTQHFVI3" stopped.
2025-10-03 18:24:57.043 +07:00 [DBG] Connection id "0HNG2DTQHFVI4" stopped.
2025-10-03 18:24:57.436 +07:00 [ERR] 5.4.5 Daily user sending limit exceeded. For more information on Gmail
5.4.5 sending limits go to
5.4.5  https://support.google.com/a/answer/166852 41be03b00d2f7-b6099afa6a3sm4382894a12.14 - gsmtp
2025-10-03 18:24:57.652 +07:00 [WRN] Không thể gửi email quá hạn cho reviewer reviewer2@gmail.com, assignment 3
2025-10-03 18:24:57.652 +07:00 [INF] Đã gửi thông báo quá hạn cho reviewer 7, assignment 3
2025-10-03 18:24:57.652 +07:00 [DBG] 'MyDbContext' generated a temporary value for the property 'SystemNotification.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 18:24:57.652 +07:00 [DBG] Context 'MyDbContext' started tracking 'SystemNotification' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 18:24:57.653 +07:00 [DBG] SaveChanges starting for 'MyDbContext'.
2025-10-03 18:24:57.653 +07:00 [DBG] DetectChanges starting for 'MyDbContext'.
2025-10-03 18:24:57.653 +07:00 [DBG] DetectChanges completed for 'MyDbContext'.
2025-10-03 18:24:57.654 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:24:57.654 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:24:57.654 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 18:24:57.654 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:24:57.654 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:24:57.655 +07:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (Size = 50), @p5='?' (Size = 255), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [system_notifications] ([CreatedAt], [Message], [ReadAt], [RelatedEntityId], [RelatedEntityType], [Title], [Type], [UserId])
OUTPUT INSERTED.[Id], INSERTED.[IsRead]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-10-03 18:24:57.662 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (Size = 50), @p5='?' (Size = 255), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [system_notifications] ([CreatedAt], [Message], [ReadAt], [RelatedEntityId], [RelatedEntityType], [Title], [Type], [UserId])
OUTPUT INSERTED.[Id], INSERTED.[IsRead]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-10-03 18:24:57.663 +07:00 [DBG] The foreign key property 'SystemNotification.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-10-03 18:24:57.663 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 18:24:57.663 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-10-03 18:24:57.663 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:24:57.663 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 18:24:57.663 +07:00 [DBG] An entity of type 'SystemNotification' tracked by 'MyDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 18:24:57.663 +07:00 [DBG] SaveChanges completed for 'MyDbContext' with 1 entities written to the database.
2025-10-03 18:24:57.664 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:24:57.664 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:24:57.664 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 18:24:57.664 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:24:57.664 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:24:57.664 +07:00 [DBG] Executing DbCommand [Parameters=[@__entity_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [system_notifications] AS [s]
WHERE [s].[UserId] = @__entity_UserId_0 AND [s].[IsRead] = CAST(0 AS bit)
2025-10-03 18:24:57.668 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__entity_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [system_notifications] AS [s]
WHERE [s].[UserId] = @__entity_UserId_0 AND [s].[IsRead] = CAST(0 AS bit)
2025-10-03 18:24:57.668 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 18:24:57.668 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-10-03 18:24:57.669 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:24:57.669 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 18:24:59.539 +07:00 [ERR] 5.4.5 Daily user sending limit exceeded. For more information on Gmail
5.4.5 sending limits go to
5.4.5  https://support.google.com/a/answer/166852 98e67ed59e1d1-339a701c061sm7653215a91.22 - gsmtp
2025-10-03 18:24:59.758 +07:00 [WRN] Không thể gửi email quá hạn cho reviewer supervisor@gmail.com, assignment 4
2025-10-03 18:24:59.759 +07:00 [INF] Đã gửi thông báo quá hạn cho reviewer 6, assignment 4
2025-10-03 18:24:59.759 +07:00 [INF] Hoàn thành kiểm tra deadline: 1 sắp đến hạn, 4 quá hạn
2025-10-03 18:24:59.759 +07:00 [DBG] 'MyDbContext' disposed.
2025-10-03 18:24:59.759 +07:00 [DBG] Disposing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:24:59.759 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-10-03 18:29:59.762 +07:00 [INF] Bắt đầu kiểm tra deadline notifications lúc "2025-10-03T18:29:59.7626665+07:00"
2025-10-03 18:29:59.766 +07:00 [DBG] Entity Framework Core 8.0.16 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: MigrationsAssembly=App.DAL 
2025-10-03 18:29:59.767 +07:00 [DBG] Creating DbConnection.
2025-10-03 18:29:59.767 +07:00 [DBG] Created DbConnection. (0ms).
2025-10-03 18:29:59.767 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:29:59.767 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:29:59.767 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 18:29:59.767 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:29:59.767 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:29:59.767 +07:00 [DBG] Executing DbCommand [Parameters=[@__tomorrow_0='?' (DbType = DateTime2), @__dayAfterTomorrow_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[DocumentUrl], [t].[EN_Title], [t].[ExpectedOutcomes], [t].[IsActive], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[Methodology], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[Requirements], [t].[Status], [t].[SubmittedAt], [t].[SubmittedBy], [t].[TopicId], [t].[VN_title], [t].[VersionNumber], [t0].[Id], [t0].[Abbreviation], [t0].[CategoryId], [t0].[Content], [t0].[Context], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[EN_Title], [t0].[IsActive], [t0].[IsApproved], [t0].[IsLegacy], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[MaxStudents], [t0].[Objectives], [t0].[PotentialDuplicate], [t0].[Problem], [t0].[SemesterId], [t0].[SupervisorId], [t0].[VN_title]
FROM [reviewer_assignments] AS [r]
INNER JOIN [users] AS [u] ON [r].[ReviewerId] = [u].[Id]
INNER JOIN [submissions] AS [s] ON [r].[SubmissionId] = [s].[Id]
LEFT JOIN [topic_versions] AS [t] ON [s].[TopicVersionId] = [t].[Id]
LEFT JOIN [topics] AS [t0] ON [s].[TopicId] = [t0].[Id]
WHERE [r].[Deadline] IS NOT NULL AND CONVERT(date, [r].[Deadline]) >= @__tomorrow_0 AND CONVERT(date, [r].[Deadline]) <= @__dayAfterTomorrow_1 AND [r].[Status] IN (1, 2)
2025-10-03 18:29:59.809 +07:00 [INF] Executed DbCommand (41ms) [Parameters=[@__tomorrow_0='?' (DbType = DateTime2), @__dayAfterTomorrow_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[DocumentUrl], [t].[EN_Title], [t].[ExpectedOutcomes], [t].[IsActive], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[Methodology], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[Requirements], [t].[Status], [t].[SubmittedAt], [t].[SubmittedBy], [t].[TopicId], [t].[VN_title], [t].[VersionNumber], [t0].[Id], [t0].[Abbreviation], [t0].[CategoryId], [t0].[Content], [t0].[Context], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[EN_Title], [t0].[IsActive], [t0].[IsApproved], [t0].[IsLegacy], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[MaxStudents], [t0].[Objectives], [t0].[PotentialDuplicate], [t0].[Problem], [t0].[SemesterId], [t0].[SupervisorId], [t0].[VN_title]
FROM [reviewer_assignments] AS [r]
INNER JOIN [users] AS [u] ON [r].[ReviewerId] = [u].[Id]
INNER JOIN [submissions] AS [s] ON [r].[SubmissionId] = [s].[Id]
LEFT JOIN [topic_versions] AS [t] ON [s].[TopicVersionId] = [t].[Id]
LEFT JOIN [topics] AS [t0] ON [s].[TopicId] = [t0].[Id]
WHERE [r].[Deadline] IS NOT NULL AND CONVERT(date, [r].[Deadline]) >= @__tomorrow_0 AND CONVERT(date, [r].[Deadline]) <= @__dayAfterTomorrow_1 AND [r].[Status] IN (1, 2)
2025-10-03 18:29:59.810 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 18:29:59.810 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-10-03 18:29:59.810 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:29:59.810 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 18:29:59.810 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:29:59.811 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:29:59.811 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 18:29:59.811 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:29:59.811 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:29:59.811 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[DocumentUrl], [t].[EN_Title], [t].[ExpectedOutcomes], [t].[IsActive], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[Methodology], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[Requirements], [t].[Status], [t].[SubmittedAt], [t].[SubmittedBy], [t].[TopicId], [t].[VN_title], [t].[VersionNumber], [t0].[Id], [t0].[Abbreviation], [t0].[CategoryId], [t0].[Content], [t0].[Context], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[EN_Title], [t0].[IsActive], [t0].[IsApproved], [t0].[IsLegacy], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[MaxStudents], [t0].[Objectives], [t0].[PotentialDuplicate], [t0].[Problem], [t0].[SemesterId], [t0].[SupervisorId], [t0].[VN_title]
FROM [reviewer_assignments] AS [r]
INNER JOIN [users] AS [u] ON [r].[ReviewerId] = [u].[Id]
INNER JOIN [submissions] AS [s] ON [r].[SubmissionId] = [s].[Id]
LEFT JOIN [topic_versions] AS [t] ON [s].[TopicVersionId] = [t].[Id]
LEFT JOIN [topics] AS [t0] ON [s].[TopicId] = [t0].[Id]
WHERE [r].[Deadline] IS NOT NULL AND CONVERT(date, [r].[Deadline]) < CONVERT(date, GETDATE()) AND [r].[Status] IN (1, 2)
2025-10-03 18:29:59.824 +07:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[DocumentUrl], [t].[EN_Title], [t].[ExpectedOutcomes], [t].[IsActive], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[Methodology], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[Requirements], [t].[Status], [t].[SubmittedAt], [t].[SubmittedBy], [t].[TopicId], [t].[VN_title], [t].[VersionNumber], [t0].[Id], [t0].[Abbreviation], [t0].[CategoryId], [t0].[Content], [t0].[Context], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[EN_Title], [t0].[IsActive], [t0].[IsApproved], [t0].[IsLegacy], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[MaxStudents], [t0].[Objectives], [t0].[PotentialDuplicate], [t0].[Problem], [t0].[SemesterId], [t0].[SupervisorId], [t0].[VN_title]
FROM [reviewer_assignments] AS [r]
INNER JOIN [users] AS [u] ON [r].[ReviewerId] = [u].[Id]
INNER JOIN [submissions] AS [s] ON [r].[SubmissionId] = [s].[Id]
LEFT JOIN [topic_versions] AS [t] ON [s].[TopicVersionId] = [t].[Id]
LEFT JOIN [topics] AS [t0] ON [s].[TopicId] = [t0].[Id]
WHERE [r].[Deadline] IS NOT NULL AND CONVERT(date, [r].[Deadline]) < CONVERT(date, GETDATE()) AND [r].[Status] IN (1, 2)
2025-10-03 18:29:59.826 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 18:29:59.826 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 1ms reading results.
2025-10-03 18:29:59.826 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:29:59.826 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 18:29:59.826 +07:00 [DBG] 'MyDbContext' generated a temporary value for the property 'SystemNotification.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 18:29:59.827 +07:00 [DBG] Context 'MyDbContext' started tracking 'SystemNotification' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 18:29:59.827 +07:00 [DBG] SaveChanges starting for 'MyDbContext'.
2025-10-03 18:29:59.827 +07:00 [DBG] DetectChanges starting for 'MyDbContext'.
2025-10-03 18:29:59.827 +07:00 [DBG] DetectChanges completed for 'MyDbContext'.
2025-10-03 18:29:59.828 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:29:59.828 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:29:59.828 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 18:29:59.828 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:29:59.828 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:29:59.829 +07:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (Size = 50), @p5='?' (Size = 255), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [system_notifications] ([CreatedAt], [Message], [ReadAt], [RelatedEntityId], [RelatedEntityType], [Title], [Type], [UserId])
OUTPUT INSERTED.[Id], INSERTED.[IsRead]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-10-03 18:29:59.834 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (Size = 50), @p5='?' (Size = 255), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [system_notifications] ([CreatedAt], [Message], [ReadAt], [RelatedEntityId], [RelatedEntityType], [Title], [Type], [UserId])
OUTPUT INSERTED.[Id], INSERTED.[IsRead]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-10-03 18:29:59.835 +07:00 [DBG] The foreign key property 'SystemNotification.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-10-03 18:29:59.835 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 18:29:59.835 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-10-03 18:29:59.835 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:29:59.835 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 18:29:59.836 +07:00 [DBG] An entity of type 'SystemNotification' tracked by 'MyDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 18:29:59.836 +07:00 [DBG] SaveChanges completed for 'MyDbContext' with 1 entities written to the database.
2025-10-03 18:29:59.836 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:29:59.837 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:29:59.837 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 18:29:59.837 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:29:59.837 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:29:59.837 +07:00 [DBG] Executing DbCommand [Parameters=[@__entity_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [system_notifications] AS [s]
WHERE [s].[UserId] = @__entity_UserId_0 AND [s].[IsRead] = CAST(0 AS bit)
2025-10-03 18:29:59.839 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__entity_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [system_notifications] AS [s]
WHERE [s].[UserId] = @__entity_UserId_0 AND [s].[IsRead] = CAST(0 AS bit)
2025-10-03 18:29:59.839 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 18:29:59.839 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-10-03 18:29:59.839 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:29:59.839 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 18:30:01.535 +07:00 [ERR] 5.4.5 Daily user sending limit exceeded. For more information on Gmail
5.4.5 sending limits go to
5.4.5  https://support.google.com/a/answer/166852 d2e1a72fcca58-78b01fb28adsm4729546b3a.35 - gsmtp
2025-10-03 18:30:01.734 +07:00 [WRN] Không thể gửi email sắp đến hạn cho reviewer hieptmse140293@fpt.edu.vn, assignment 31
2025-10-03 18:30:01.734 +07:00 [INF] Đã gửi thông báo sắp đến hạn cho reviewer 27, assignment 31
2025-10-03 18:30:01.734 +07:00 [DBG] 'MyDbContext' generated a temporary value for the property 'SystemNotification.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 18:30:01.734 +07:00 [DBG] Context 'MyDbContext' started tracking 'SystemNotification' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 18:30:01.734 +07:00 [DBG] SaveChanges starting for 'MyDbContext'.
2025-10-03 18:30:01.734 +07:00 [DBG] DetectChanges starting for 'MyDbContext'.
2025-10-03 18:30:01.735 +07:00 [DBG] DetectChanges completed for 'MyDbContext'.
2025-10-03 18:30:01.735 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:30:01.735 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:30:01.735 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 18:30:01.735 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:30:01.735 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:30:01.735 +07:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (Size = 50), @p5='?' (Size = 255), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [system_notifications] ([CreatedAt], [Message], [ReadAt], [RelatedEntityId], [RelatedEntityType], [Title], [Type], [UserId])
OUTPUT INSERTED.[Id], INSERTED.[IsRead]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-10-03 18:30:01.741 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (Size = 50), @p5='?' (Size = 255), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [system_notifications] ([CreatedAt], [Message], [ReadAt], [RelatedEntityId], [RelatedEntityType], [Title], [Type], [UserId])
OUTPUT INSERTED.[Id], INSERTED.[IsRead]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-10-03 18:30:01.741 +07:00 [DBG] The foreign key property 'SystemNotification.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-10-03 18:30:01.742 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 18:30:01.742 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-10-03 18:30:01.742 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:30:01.742 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 18:30:01.742 +07:00 [DBG] An entity of type 'SystemNotification' tracked by 'MyDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 18:30:01.742 +07:00 [DBG] SaveChanges completed for 'MyDbContext' with 1 entities written to the database.
2025-10-03 18:30:01.743 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:30:01.743 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:30:01.743 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 18:30:01.743 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:30:01.743 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:30:01.743 +07:00 [DBG] Executing DbCommand [Parameters=[@__entity_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [system_notifications] AS [s]
WHERE [s].[UserId] = @__entity_UserId_0 AND [s].[IsRead] = CAST(0 AS bit)
2025-10-03 18:30:01.746 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__entity_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [system_notifications] AS [s]
WHERE [s].[UserId] = @__entity_UserId_0 AND [s].[IsRead] = CAST(0 AS bit)
2025-10-03 18:30:01.746 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 18:30:01.746 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-10-03 18:30:01.746 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:30:01.746 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 18:30:03.461 +07:00 [ERR] 5.4.5 Daily user sending limit exceeded. For more information on Gmail
5.4.5 sending limits go to
5.4.5  https://support.google.com/a/answer/166852 d9443c01a7336-28e8d1d2278sm47695525ad.92 - gsmtp
2025-10-03 18:30:03.660 +07:00 [WRN] Không thể gửi email quá hạn cho reviewer supervisor@gmail.com, assignment 1
2025-10-03 18:30:03.660 +07:00 [INF] Đã gửi thông báo quá hạn cho reviewer 6, assignment 1
2025-10-03 18:30:03.660 +07:00 [DBG] 'MyDbContext' generated a temporary value for the property 'SystemNotification.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 18:30:03.660 +07:00 [DBG] Context 'MyDbContext' started tracking 'SystemNotification' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 18:30:03.660 +07:00 [DBG] SaveChanges starting for 'MyDbContext'.
2025-10-03 18:30:03.660 +07:00 [DBG] DetectChanges starting for 'MyDbContext'.
2025-10-03 18:30:03.660 +07:00 [DBG] DetectChanges completed for 'MyDbContext'.
2025-10-03 18:30:03.661 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:30:03.661 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:30:03.661 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 18:30:03.661 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:30:03.661 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:30:03.661 +07:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (Size = 50), @p5='?' (Size = 255), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [system_notifications] ([CreatedAt], [Message], [ReadAt], [RelatedEntityId], [RelatedEntityType], [Title], [Type], [UserId])
OUTPUT INSERTED.[Id], INSERTED.[IsRead]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-10-03 18:30:03.667 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (Size = 50), @p5='?' (Size = 255), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [system_notifications] ([CreatedAt], [Message], [ReadAt], [RelatedEntityId], [RelatedEntityType], [Title], [Type], [UserId])
OUTPUT INSERTED.[Id], INSERTED.[IsRead]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-10-03 18:30:03.667 +07:00 [DBG] The foreign key property 'SystemNotification.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-10-03 18:30:03.667 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 18:30:03.667 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-10-03 18:30:03.667 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:30:03.667 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 18:30:03.668 +07:00 [DBG] An entity of type 'SystemNotification' tracked by 'MyDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 18:30:03.668 +07:00 [DBG] SaveChanges completed for 'MyDbContext' with 1 entities written to the database.
2025-10-03 18:30:03.668 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:30:03.668 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:30:03.668 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 18:30:03.668 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:30:03.668 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:30:03.668 +07:00 [DBG] Executing DbCommand [Parameters=[@__entity_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [system_notifications] AS [s]
WHERE [s].[UserId] = @__entity_UserId_0 AND [s].[IsRead] = CAST(0 AS bit)
2025-10-03 18:30:03.670 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__entity_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [system_notifications] AS [s]
WHERE [s].[UserId] = @__entity_UserId_0 AND [s].[IsRead] = CAST(0 AS bit)
2025-10-03 18:30:03.670 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 18:30:03.670 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-10-03 18:30:03.670 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:30:03.670 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 18:30:05.327 +07:00 [ERR] 5.4.5 Daily user sending limit exceeded. For more information on Gmail
5.4.5 sending limits go to
5.4.5  https://support.google.com/a/answer/166852 98e67ed59e1d1-339c4a1a9e8sm1970316a91.11 - gsmtp
2025-10-03 18:30:05.528 +07:00 [WRN] Không thể gửi email quá hạn cho reviewer reviewer2@gmail.com, assignment 2
2025-10-03 18:30:05.529 +07:00 [INF] Đã gửi thông báo quá hạn cho reviewer 7, assignment 2
2025-10-03 18:30:05.529 +07:00 [DBG] 'MyDbContext' generated a temporary value for the property 'SystemNotification.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 18:30:05.529 +07:00 [DBG] Context 'MyDbContext' started tracking 'SystemNotification' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 18:30:05.529 +07:00 [DBG] SaveChanges starting for 'MyDbContext'.
2025-10-03 18:30:05.529 +07:00 [DBG] DetectChanges starting for 'MyDbContext'.
2025-10-03 18:30:05.530 +07:00 [DBG] DetectChanges completed for 'MyDbContext'.
2025-10-03 18:30:05.530 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:30:05.530 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:30:05.530 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 18:30:05.530 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:30:05.531 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:30:05.531 +07:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (Size = 50), @p5='?' (Size = 255), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [system_notifications] ([CreatedAt], [Message], [ReadAt], [RelatedEntityId], [RelatedEntityType], [Title], [Type], [UserId])
OUTPUT INSERTED.[Id], INSERTED.[IsRead]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-10-03 18:30:05.536 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (Size = 50), @p5='?' (Size = 255), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [system_notifications] ([CreatedAt], [Message], [ReadAt], [RelatedEntityId], [RelatedEntityType], [Title], [Type], [UserId])
OUTPUT INSERTED.[Id], INSERTED.[IsRead]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-10-03 18:30:05.536 +07:00 [DBG] The foreign key property 'SystemNotification.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-10-03 18:30:05.536 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 18:30:05.536 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-10-03 18:30:05.536 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:30:05.536 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 18:30:05.536 +07:00 [DBG] An entity of type 'SystemNotification' tracked by 'MyDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 18:30:05.536 +07:00 [DBG] SaveChanges completed for 'MyDbContext' with 1 entities written to the database.
2025-10-03 18:30:05.537 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:30:05.537 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:30:05.537 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 18:30:05.537 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:30:05.537 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:30:05.537 +07:00 [DBG] Executing DbCommand [Parameters=[@__entity_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [system_notifications] AS [s]
WHERE [s].[UserId] = @__entity_UserId_0 AND [s].[IsRead] = CAST(0 AS bit)
2025-10-03 18:30:05.539 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__entity_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [system_notifications] AS [s]
WHERE [s].[UserId] = @__entity_UserId_0 AND [s].[IsRead] = CAST(0 AS bit)
2025-10-03 18:30:05.539 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 18:30:05.539 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-10-03 18:30:05.539 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:30:05.539 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 18:30:07.221 +07:00 [ERR] 5.4.5 Daily user sending limit exceeded. For more information on Gmail
5.4.5 sending limits go to
5.4.5  https://support.google.com/a/answer/166852 d9443c01a7336-28e8d1d2278sm47697605ad.92 - gsmtp
2025-10-03 18:30:07.422 +07:00 [WRN] Không thể gửi email quá hạn cho reviewer reviewer2@gmail.com, assignment 3
2025-10-03 18:30:07.422 +07:00 [INF] Đã gửi thông báo quá hạn cho reviewer 7, assignment 3
2025-10-03 18:30:07.422 +07:00 [DBG] 'MyDbContext' generated a temporary value for the property 'SystemNotification.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 18:30:07.422 +07:00 [DBG] Context 'MyDbContext' started tracking 'SystemNotification' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 18:30:07.422 +07:00 [DBG] SaveChanges starting for 'MyDbContext'.
2025-10-03 18:30:07.422 +07:00 [DBG] DetectChanges starting for 'MyDbContext'.
2025-10-03 18:30:07.422 +07:00 [DBG] DetectChanges completed for 'MyDbContext'.
2025-10-03 18:30:07.423 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:30:07.423 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:30:07.423 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 18:30:07.423 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:30:07.423 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:30:07.423 +07:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (Size = 50), @p5='?' (Size = 255), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [system_notifications] ([CreatedAt], [Message], [ReadAt], [RelatedEntityId], [RelatedEntityType], [Title], [Type], [UserId])
OUTPUT INSERTED.[Id], INSERTED.[IsRead]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-10-03 18:30:07.429 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (Size = 50), @p5='?' (Size = 255), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [system_notifications] ([CreatedAt], [Message], [ReadAt], [RelatedEntityId], [RelatedEntityType], [Title], [Type], [UserId])
OUTPUT INSERTED.[Id], INSERTED.[IsRead]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-10-03 18:30:07.429 +07:00 [DBG] The foreign key property 'SystemNotification.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-10-03 18:30:07.429 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 18:30:07.429 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-10-03 18:30:07.429 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:30:07.429 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 18:30:07.429 +07:00 [DBG] An entity of type 'SystemNotification' tracked by 'MyDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 18:30:07.429 +07:00 [DBG] SaveChanges completed for 'MyDbContext' with 1 entities written to the database.
2025-10-03 18:30:07.430 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:30:07.430 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:30:07.430 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 18:30:07.430 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:30:07.430 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:30:07.430 +07:00 [DBG] Executing DbCommand [Parameters=[@__entity_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [system_notifications] AS [s]
WHERE [s].[UserId] = @__entity_UserId_0 AND [s].[IsRead] = CAST(0 AS bit)
2025-10-03 18:30:07.431 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__entity_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [system_notifications] AS [s]
WHERE [s].[UserId] = @__entity_UserId_0 AND [s].[IsRead] = CAST(0 AS bit)
2025-10-03 18:30:07.432 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 18:30:07.432 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-10-03 18:30:07.432 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:30:07.432 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 18:30:09.135 +07:00 [ERR] 5.4.5 Daily user sending limit exceeded. For more information on Gmail
5.4.5 sending limits go to
5.4.5  https://support.google.com/a/answer/166852 d9443c01a7336-28e8d1261edsm48220365ad.34 - gsmtp
2025-10-03 18:30:09.335 +07:00 [WRN] Không thể gửi email quá hạn cho reviewer supervisor@gmail.com, assignment 4
2025-10-03 18:30:09.335 +07:00 [INF] Đã gửi thông báo quá hạn cho reviewer 6, assignment 4
2025-10-03 18:30:09.335 +07:00 [INF] Hoàn thành kiểm tra deadline: 1 sắp đến hạn, 4 quá hạn
2025-10-03 18:30:09.335 +07:00 [DBG] 'MyDbContext' disposed.
2025-10-03 18:30:09.335 +07:00 [DBG] Disposing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:30:09.336 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-10-03 18:31:11.417 +07:00 [INF] Application is shutting down...
2025-10-03 18:31:11.418 +07:00 [DBG] Hosting stopping
2025-10-03 18:31:11.427 +07:00 [ERR] Lỗi khi kiểm tra deadline notifications
System.Threading.Tasks.TaskCanceledException: A task was canceled.
   at CapBot.api.Services.DeadlineNotificationService.ExecuteAsync(CancellationToken stoppingToken) in C:\Users\acer\Downloads\CBAI_API\capbot.api\Services\DeadlineNotificationService.cs:line 41
2025-10-03 18:31:11.446 +07:00 [DBG] Hosting stopped
2025-10-03 18:36:44.390 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-10-03 18:36:44.527 +07:00 [INF] User profile is available. Using 'C:\Users\acer\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-10-03 18:36:44.794 +07:00 [DBG] No relationship from 'ReviewerAssignment' to 'User' has been configured by convention because there are multiple properties on one entity type - {'AssignedByUser', 'Reviewer'} that could be matched with the properties on the other entity type - {'ReviewerAssignments'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-10-03 18:36:44.820 +07:00 [DBG] No relationship from 'SubmissionWorkflowLog' to 'WorkflowState' has been configured by convention because there are multiple properties on one entity type - {'FromState', 'ToState'} that could be matched with the properties on the other entity type - {'FromStateLogs', 'ToStateLogs'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-10-03 18:36:44.839 +07:00 [DBG] No relationship from 'User' to 'ReviewerAssignment' has been configured by convention because there are multiple properties on one entity type - {'ReviewerAssignments'} that could be matched with the properties on the other entity type - {'AssignedByUser', 'Reviewer'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-10-03 18:36:44.844 +07:00 [DBG] No relationship from 'WorkflowState' to 'SubmissionWorkflowLog' has been configured by convention because there are multiple properties on one entity type - {'FromStateLogs', 'ToStateLogs'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-10-03 18:36:44.844 +07:00 [DBG] No relationship from 'WorkflowState' to 'WorkflowTransition' has been configured by convention because there are multiple properties on one entity type - {'FromTransitions', 'ToTransitions'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-10-03 18:36:44.846 +07:00 [DBG] No relationship from 'WorkflowTransition' to 'WorkflowState' has been configured by convention because there are multiple properties on one entity type - {'FromState', 'ToState'} that could be matched with the properties on the other entity type - {'FromTransitions', 'ToTransitions'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-10-03 18:36:45.105 +07:00 [DBG] No relationship from 'ReviewerAssignment' to 'User' has been configured by convention because there are multiple properties on one entity type - {'AssignedByUser', 'Reviewer'} that could be matched with the properties on the other entity type - {'ReviewerAssignments'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-10-03 18:36:45.106 +07:00 [DBG] No relationship from 'User' to 'ReviewerAssignment' has been configured by convention because there are multiple properties on one entity type - {'ReviewerAssignments'} that could be matched with the properties on the other entity type - {'AssignedByUser', 'Reviewer'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-10-03 18:36:45.131 +07:00 [DBG] No relationship from 'WorkflowTransition' to 'WorkflowState' has been configured by convention because there are multiple properties on one entity type - {'FromState', 'ToState'} that could be matched with the properties on the other entity type - {'FromTransitions', 'ToTransitions'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-10-03 18:36:45.132 +07:00 [DBG] No relationship from 'WorkflowState' to 'SubmissionWorkflowLog' has been configured by convention because there are multiple properties on one entity type - {'FromStateLogs', 'ToStateLogs'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-10-03 18:36:45.132 +07:00 [DBG] No relationship from 'WorkflowState' to 'WorkflowTransition' has been configured by convention because there are multiple properties on one entity type - {'FromTransitions', 'ToTransitions'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-10-03 18:36:45.134 +07:00 [DBG] No relationship from 'WorkflowState' to 'SubmissionWorkflowLog' has been configured by convention because there are multiple properties on one entity type - {'FromStateLogs', 'ToStateLogs'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-10-03 18:36:45.144 +07:00 [DBG] No relationship from 'SubmissionWorkflowLog' to 'WorkflowState' has been configured by convention because there are multiple properties on one entity type - {'FromState', 'ToState'} that could be matched with the properties on the other entity type - {'FromStateLogs', 'ToStateLogs'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-10-03 18:36:45.145 +07:00 [DBG] No relationship from 'WorkflowState' to 'SubmissionWorkflowLog' has been configured by convention because there are multiple properties on one entity type - {'FromStateLogs', 'ToStateLogs'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-10-03 18:36:45.208 +07:00 [DBG] The index {'LecturerId'} was not created on entity type 'LecturerSkill' as the properties are already covered by the index {'LecturerId', 'SkillTag'}.
2025-10-03 18:36:45.208 +07:00 [DBG] The index {'SemesterId'} was not created on entity type 'Phase' as the properties are already covered by the index {'SemesterId', 'PhaseTypeId'}.
2025-10-03 18:36:45.208 +07:00 [DBG] The index {'AssignmentId'} was not created on entity type 'Review' as the properties are already covered by the index {'AssignmentId', 'Status'}.
2025-10-03 18:36:45.208 +07:00 [DBG] The index {'ReviewId'} was not created on entity type 'ReviewComment' as the properties are already covered by the index {'ReviewId', 'SectionName'}.
2025-10-03 18:36:45.209 +07:00 [DBG] The index {'ReviewId'} was not created on entity type 'ReviewCriteriaScore' as the properties are already covered by the index {'ReviewId', 'CriteriaId'}.
2025-10-03 18:36:45.209 +07:00 [DBG] The index {'ReviewerId'} was not created on entity type 'ReviewerAssignment' as the properties are already covered by the index {'ReviewerId', 'Status'}.
2025-10-03 18:36:45.209 +07:00 [DBG] The index {'SubmissionId'} was not created on entity type 'ReviewerAssignment' as the properties are already covered by the index {'SubmissionId', 'ReviewerId'}.
2025-10-03 18:36:45.209 +07:00 [DBG] The index {'ReviewerId'} was not created on entity type 'ReviewerPerformance' as the properties are already covered by the index {'ReviewerId', 'SemesterId'}.
2025-10-03 18:36:45.209 +07:00 [DBG] The index {'PhaseId'} was not created on entity type 'Submission' as the properties are already covered by the index {'PhaseId', 'Status'}.
2025-10-03 18:36:45.209 +07:00 [DBG] The index {'PhaseId'} was not created on entity type 'Submission' as the properties are already covered by the index {'PhaseId', 'Status', 'SubmittedAt'}.
2025-10-03 18:36:45.210 +07:00 [DBG] The index {'TopicId'} was not created on entity type 'Submission' as the properties are already covered by the index {'TopicId', 'PhaseId', 'SubmissionRound'}.
2025-10-03 18:36:45.210 +07:00 [DBG] The index {'SubmissionId'} was not created on entity type 'SubmissionWorkflowLog' as the properties are already covered by the index {'SubmissionId', 'CreatedAt'}.
2025-10-03 18:36:45.210 +07:00 [DBG] The index {'UserId'} was not created on entity type 'SystemNotification' as the properties are already covered by the index {'UserId', 'IsRead', 'CreatedAt'}.
2025-10-03 18:36:45.210 +07:00 [DBG] The index {'SemesterId'} was not created on entity type 'Topic' as the properties are already covered by the index {'SemesterId', 'IsApproved'}.
2025-10-03 18:36:45.210 +07:00 [DBG] The index {'SupervisorId'} was not created on entity type 'Topic' as the properties are already covered by the index {'SupervisorId', 'SemesterId'}.
2025-10-03 18:36:45.210 +07:00 [DBG] The index {'TopicId'} was not created on entity type 'TopicVersion' as the properties are already covered by the index {'TopicId', 'Status'}.
2025-10-03 18:36:45.210 +07:00 [DBG] The index {'TopicId'} was not created on entity type 'TopicVersion' as the properties are already covered by the index {'TopicId', 'VersionNumber'}.
2025-10-03 18:36:45.211 +07:00 [DBG] The index {'UserId'} was not created on entity type 'UserRole' as the properties are already covered by the index {'UserId', 'RoleId'}.
2025-10-03 18:36:45.211 +07:00 [DBG] The index {'UserId'} was not created on entity type 'UserToken' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2025-10-03 18:36:45.383 +07:00 [WRN] The 'ProficiencyLevels' property 'ProficiencyLevel' on entity type 'LecturerSkill' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'ProficiencyLevels' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-10-03 18:36:45.383 +07:00 [WRN] The 'ReviewRecommendations' property 'Recommendation' on entity type 'Review' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'ReviewRecommendations' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-10-03 18:36:45.383 +07:00 [WRN] The 'ReviewStatus' property 'Status' on entity type 'Review' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'ReviewStatus' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-10-03 18:36:45.384 +07:00 [WRN] The 'CommentTypes' property 'CommentType' on entity type 'ReviewComment' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'CommentTypes' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-10-03 18:36:45.384 +07:00 [WRN] The 'PriorityLevels' property 'Priority' on entity type 'ReviewComment' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'PriorityLevels' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-10-03 18:36:45.384 +07:00 [WRN] The 'AssignmentTypes' property 'AssignmentType' on entity type 'ReviewerAssignment' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'AssignmentTypes' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-10-03 18:36:45.384 +07:00 [WRN] The 'AssignmentStatus' property 'Status' on entity type 'ReviewerAssignment' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'AssignmentStatus' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-10-03 18:36:45.385 +07:00 [WRN] The 'AiCheckStatus' property 'AiCheckStatus' on entity type 'Submission' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'AiCheckStatus' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-10-03 18:36:45.385 +07:00 [WRN] The 'SubmissionStatus' property 'Status' on entity type 'Submission' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'SubmissionStatus' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-10-03 18:36:45.385 +07:00 [WRN] The 'NotificationTypes' property 'Type' on entity type 'SystemNotification' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'NotificationTypes' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-10-03 18:36:45.386 +07:00 [WRN] The 'TopicStatus' property 'Status' on entity type 'TopicVersion' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'TopicStatus' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-10-03 18:36:45.561 +07:00 [DBG] Entity Framework Core 8.0.16 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: MigrationsAssembly=App.DAL 
2025-10-03 18:36:45.645 +07:00 [DBG] Compiling query expression: 
'DbSet<Role>()
    .FirstOrDefault(r => r.NormalizedName == __normalizedName_0)'
2025-10-03 18:36:45.832 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Role>(
    asyncEnumerable: new SingleQueryingEnumerable<Role>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Role.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Role.ConcurrencyStamp (string), 1], [Property: Role.IsAdmin (bool) Required, 2], [Property: Role.Name (string), 3], [Property: Role.NormalizedName (string), 4] }
            SELECT TOP(1) r.Id, r.ConcurrencyStamp, r.IsAdmin, r.Name, r.NormalizedName
            FROM roles AS r
            WHERE r.NormalizedName == @__normalizedName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Role>, 
        App.DAL.Context.MyDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-10-03 18:36:45.876 +07:00 [DBG] Creating DbConnection.
2025-10-03 18:36:45.895 +07:00 [DBG] Created DbConnection. (16ms).
2025-10-03 18:36:45.899 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:36:46.053 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:36:46.056 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 18:36:46.061 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-10-03 18:36:46.068 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (12ms).
2025-10-03 18:36:46.077 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-10-03 18:36:46.132 +07:00 [INF] Executed DbCommand (56ms) [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-10-03 18:36:46.184 +07:00 [DBG] Context 'MyDbContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 18:36:46.207 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 18:36:46.213 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 77ms reading results.
2025-10-03 18:36:46.215 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:36:46.222 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (5ms).
2025-10-03 18:36:46.225 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:36:46.226 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:36:46.226 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 18:36:46.226 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:36:46.227 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:36:46.227 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-10-03 18:36:46.229 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-10-03 18:36:46.230 +07:00 [DBG] Context 'MyDbContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 18:36:46.231 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 18:36:46.231 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 1ms reading results.
2025-10-03 18:36:46.231 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:36:46.231 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 18:36:46.232 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:36:46.232 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:36:46.232 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 18:36:46.232 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:36:46.232 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:36:46.232 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-10-03 18:36:46.234 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-10-03 18:36:46.235 +07:00 [DBG] Context 'MyDbContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 18:36:46.235 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 18:36:46.235 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 1ms reading results.
2025-10-03 18:36:46.236 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:36:46.236 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 18:36:46.236 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:36:46.237 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:36:46.237 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 18:36:46.237 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:36:46.237 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:36:46.237 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-10-03 18:36:46.238 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-10-03 18:36:46.239 +07:00 [DBG] Context 'MyDbContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 18:36:46.240 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 18:36:46.240 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 1ms reading results.
2025-10-03 18:36:46.241 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:36:46.241 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 18:36:46.247 +07:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .SingleOrDefault(u => u.NormalizedEmail == __normalizedEmail_0)'
2025-10-03 18:36:46.256 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.ConcurrencyStamp (string), 2], [Property: User.CreatedAt (DateTime) Required, 3], [Property: User.DeletedAt (DateTime?), 4], [Property: User.Email (string), 5], [Property: User.EmailConfirmed (bool) Required, 6], [Property: User.LastModifiedAt (DateTime) Required, 7], [Property: User.LastModifiedBy (string), 8], [Property: User.LockoutEnabled (bool) Required, 9], [Property: User.LockoutEnd (DateTimeOffset?), 10], [Property: User.NormalizedEmail (string), 11], [Property: User.NormalizedUserName (string), 12], [Property: User.PasswordHash (string), 13], [Property: User.PhoneNumber (string), 14], [Property: User.PhoneNumberConfirmed (bool) Required, 15], [Property: User.SecurityStamp (string), 16], [Property: User.TwoFactorEnabled (bool) Required, 17], [Property: User.UserName (string), 18] }
            SELECT TOP(2) u.Id, u.AccessFailedCount, u.ConcurrencyStamp, u.CreatedAt, u.DeletedAt, u.Email, u.EmailConfirmed, u.LastModifiedAt, u.LastModifiedBy, u.LockoutEnabled, u.LockoutEnd, u.NormalizedEmail, u.NormalizedUserName, u.PasswordHash, u.PhoneNumber, u.PhoneNumberConfirmed, u.SecurityStamp, u.TwoFactorEnabled, u.UserName
            FROM users AS u
            WHERE u.NormalizedEmail == @__normalizedEmail_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        App.DAL.Context.MyDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-10-03 18:36:46.258 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:36:46.258 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:36:46.258 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 18:36:46.258 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:36:46.259 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:36:46.259 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-10-03 18:36:46.261 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-10-03 18:36:46.297 +07:00 [DBG] Context 'MyDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 18:36:46.328 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 18:36:46.328 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 66ms reading results.
2025-10-03 18:36:46.328 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:36:46.328 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 18:36:46.331 +07:00 [INF] Admin user 'admin.capbot@gmail.com' already exists
2025-10-03 18:36:46.334 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:36:46.334 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:36:46.334 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 18:36:46.335 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:36:46.335 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:36:46.335 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-10-03 18:36:46.337 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-10-03 18:36:46.337 +07:00 [DBG] Context 'MyDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 18:36:46.338 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 18:36:46.338 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-10-03 18:36:46.338 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:36:46.338 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 18:36:46.338 +07:00 [INF] Sample moderator 'moderator@example.com' already exists
2025-10-03 18:36:46.338 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:36:46.339 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:36:46.339 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 18:36:46.339 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:36:46.339 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:36:46.339 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-10-03 18:36:46.340 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-10-03 18:36:46.340 +07:00 [DBG] Context 'MyDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 18:36:46.340 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 18:36:46.340 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-10-03 18:36:46.341 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:36:46.341 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 18:36:46.341 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:36:46.341 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:36:46.341 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 18:36:46.342 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:36:46.342 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:36:46.342 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-10-03 18:36:46.343 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-10-03 18:36:46.343 +07:00 [DBG] Context 'MyDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 18:36:46.343 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 18:36:46.344 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-10-03 18:36:46.344 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:36:46.344 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 18:36:46.344 +07:00 [INF] Data seeding completed successfully
2025-10-03 18:36:46.345 +07:00 [DBG] 'MyDbContext' disposed.
2025-10-03 18:36:46.347 +07:00 [DBG] Disposing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:36:46.348 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-10-03 18:36:46.370 +07:00 [DBG] Registered SignalR Protocol: json, implemented by Microsoft.AspNetCore.SignalR.Protocol.JsonHubProtocol.
2025-10-03 18:36:46.548 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
2025-10-03 18:36:46.723 +07:00 [DBG] Hosting starting
2025-10-03 18:36:46.737 +07:00 [DBG] Reading data from file 'C:\Users\acer\AppData\Local\ASP.NET\DataProtection-Keys\key-30a711c8-7ddc-4a0d-8c07-4439effde9db.xml'.
2025-10-03 18:36:46.739 +07:00 [DBG] Reading data from file 'C:\Users\acer\AppData\Local\ASP.NET\DataProtection-Keys\key-732ee668-a56c-4fc9-b9d2-4188dc372919.xml'.
2025-10-03 18:36:46.741 +07:00 [DBG] Reading data from file 'C:\Users\acer\AppData\Local\ASP.NET\DataProtection-Keys\key-ad0e504d-5eaf-4fbc-adde-d8f26319af02.xml'.
2025-10-03 18:36:46.746 +07:00 [DBG] Found key {30a711c8-7ddc-4a0d-8c07-4439effde9db}.
2025-10-03 18:36:46.750 +07:00 [DBG] Found key {732ee668-a56c-4fc9-b9d2-4188dc372919}.
2025-10-03 18:36:46.752 +07:00 [DBG] Found key {ad0e504d-5eaf-4fbc-adde-d8f26319af02}.
2025-10-03 18:36:46.761 +07:00 [DBG] Considering key {30a711c8-7ddc-4a0d-8c07-4439effde9db} with expiration date 2025-11-11 18:32:26Z as default key.
2025-10-03 18:36:46.765 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-10-03 18:36:46.766 +07:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-10-03 18:36:46.769 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-10-03 18:36:46.771 +07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-10-03 18:36:46.776 +07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-10-03 18:36:46.779 +07:00 [DBG] Using key {30a711c8-7ddc-4a0d-8c07-4439effde9db} as the default key.
2025-10-03 18:36:46.780 +07:00 [DBG] Key ring with default key {30a711c8-7ddc-4a0d-8c07-4439effde9db} was loaded during application startup.
2025-10-03 18:36:46.781 +07:00 [INF] Bắt đầu kiểm tra deadline notifications lúc "2025-10-03T18:36:46.7817137+07:00"
2025-10-03 18:36:46.849 +07:00 [DBG] Entity Framework Core 8.0.16 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: MigrationsAssembly=App.DAL 
2025-10-03 18:36:46.860 +07:00 [DBG] Compiling query expression: 
'DbSet<ReviewerAssignment>()
    .AsNoTracking()
    .Include(ra => ra.Reviewer)
    .Include(ra => ra.Submission)
    .Include(ra => ra.Submission.TopicVersion)
    .Include(ra => ra.Submission.Topic)
    .Where(ra => ra.Deadline.HasValue && ra.Deadline.Value.Date >= __tomorrow_0 && ra.Deadline.Value.Date <= __dayAfterTomorrow_1 && (int)ra.Status == 1 || (int)ra.Status == 2)'
2025-10-03 18:36:46.875 +07:00 [DBG] Including navigation: 'ReviewerAssignment.Reviewer'.
2025-10-03 18:36:46.877 +07:00 [DBG] Including navigation: 'ReviewerAssignment.Submission'.
2025-10-03 18:36:46.878 +07:00 [DBG] Including navigation: 'Submission.TopicVersion'.
2025-10-03 18:36:46.879 +07:00 [DBG] Including navigation: 'Submission.Topic'.
2025-10-03 18:36:46.995 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<ReviewerAssignment>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: ReviewerAssignment.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ReviewerAssignment.AssignedAt (DateTime) Required ValueGenerated.OnAdd, 1], [Property: ReviewerAssignment.AssignedBy (int) Required FK Index, 2], [Property: ReviewerAssignment.AssignmentType (AssignmentTypes) Required ValueGenerated.OnAdd, 3], [Property: ReviewerAssignment.CompletedAt (DateTime?), 4], [Property: ReviewerAssignment.Deadline (DateTime?) Index, 5], [Property: ReviewerAssignment.ReviewerId (int) Required FK Index, 6], [Property: ReviewerAssignment.SkillMatchScore (decimal?), 7], [Property: ReviewerAssignment.StartedAt (DateTime?), 8], [Property: ReviewerAssignment.Status (AssignmentStatus) Required Index ValueGenerated.OnAdd, 9], [Property: ReviewerAssignment.SubmissionId (int) Required FK Index, 10] }
            1 -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 11], [Property: User.AccessFailedCount (int) Required, 12], [Property: User.ConcurrencyStamp (string), 13], [Property: User.CreatedAt (DateTime) Required, 14], [Property: User.DeletedAt (DateTime?), 15], [Property: User.Email (string), 16], [Property: User.EmailConfirmed (bool) Required, 17], [Property: User.LastModifiedAt (DateTime) Required, 18], [Property: User.LastModifiedBy (string), 19], [Property: User.LockoutEnabled (bool) Required, 20], [Property: User.LockoutEnd (DateTimeOffset?), 21], [Property: User.NormalizedEmail (string), 22], [Property: User.NormalizedUserName (string), 23], [Property: User.PasswordHash (string), 24], [Property: User.PhoneNumber (string), 25], [Property: User.PhoneNumberConfirmed (bool) Required, 26], [Property: User.SecurityStamp (string), 27], [Property: User.TwoFactorEnabled (bool) Required, 28], [Property: User.UserName (string), 29] }
            2 -> Dictionary<IProperty, int> { [Property: Submission.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 30], [Property: Submission.AdditionalNotes (string), 31], [Property: Submission.AiCheckDetails (string), 32], [Property: Submission.AiCheckScore (decimal?), 33], [Property: Submission.AiCheckStatus (AiCheckStatus) Required ValueGenerated.OnAdd, 34], [Property: Submission.CreatedAt (DateTime) Required, 35], [Property: Submission.CreatedBy (string), 36], [Property: Submission.DeletedAt (DateTime?), 37], [Property: Submission.DocumentUrl (string) MaxLength(500), 38], [Property: Submission.IsActive (bool) Required, 39], [Property: Submission.LastModifiedAt (DateTime?), 40], [Property: Submission.LastModifiedBy (string), 41], [Property: Submission.PhaseId (int) Required FK Index, 42], [Property: Submission.Status (SubmissionStatus) Required Index ValueGenerated.OnAdd, 43], [Property: Submission.SubmissionRound (int) Required Index ValueGenerated.OnAdd, 44], [Property: Submission.SubmittedAt (DateTime?) Index ValueGenerated.OnAdd, 45], [Property: Submission.SubmittedBy (int) Required FK Index, 46], [Property: Submission.TopicId (int) Required FK Index, 47], [Property: Submission.TopicVersionId (int?) FK Index, 48] }
            3 -> Dictionary<IProperty, int> { [Property: TopicVersion.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 49], [Property: TopicVersion.Content (string), 50], [Property: TopicVersion.Context (string), 51], [Property: TopicVersion.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 52], [Property: TopicVersion.CreatedBy (string), 53], [Property: TopicVersion.DeletedAt (DateTime?), 54], [Property: TopicVersion.Description (string), 55], [Property: TopicVersion.DocumentUrl (string) MaxLength(500), 56], [Property: TopicVersion.EN_Title (string) Required MaxLength(500), 57], [Property: TopicVersion.ExpectedOutcomes (string), 58], [Property: TopicVersion.IsActive (bool) Required, 59], [Property: TopicVersion.LastModifiedAt (DateTime?), 60], [Property: TopicVersion.LastModifiedBy (string), 61], [Property: TopicVersion.Methodology (string), 62], [Property: TopicVersion.Objectives (string), 63], [Property: TopicVersion.PotentialDuplicate (string), 64], [Property: TopicVersion.Problem (string), 65], [Property: TopicVersion.Requirements (string), 66], [Property: TopicVersion.Status (TopicStatus) Required Index ValueGenerated.OnAdd, 67], [Property: TopicVersion.SubmittedAt (DateTime?), 68], [Property: TopicVersion.SubmittedBy (int?) FK Index, 69], [Property: TopicVersion.TopicId (int) Required FK Index, 70], [Property: TopicVersion.VN_title (string), 71], [Property: TopicVersion.VersionNumber (int) Required Index, 72] }
            4 -> Dictionary<IProperty, int> { [Property: Topic.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 73], [Property: Topic.Abbreviation (string), 74], [Property: Topic.CategoryId (int?) FK Index, 75], [Property: Topic.Content (string), 76], [Property: Topic.Context (string), 77], [Property: Topic.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 78], [Property: Topic.CreatedBy (string), 79], [Property: Topic.DeletedAt (DateTime?), 80], [Property: Topic.Description (string), 81], [Property: Topic.EN_Title (string) Required MaxLength(500), 82], [Property: Topic.IsActive (bool) Required, 83], [Property: Topic.IsApproved (bool) Required Index Sentinel:True ValueGenerated.OnAdd, 84], [Property: Topic.IsLegacy (bool) Required Index ValueGenerated.OnAdd, 85], [Property: Topic.LastModifiedAt (DateTime?), 86], [Property: Topic.LastModifiedBy (string), 87], [Property: Topic.MaxStudents (int) Required ValueGenerated.OnAdd, 88], [Property: Topic.Objectives (string), 89], [Property: Topic.PotentialDuplicate (string), 90], [Property: Topic.Problem (string), 91], [Property: Topic.SemesterId (int) Required FK Index, 92], [Property: Topic.SupervisorId (int) Required FK Index, 93], [Property: Topic.VN_title (string), 94] }
        SELECT r.Id, r.AssignedAt, r.AssignedBy, r.AssignmentType, r.CompletedAt, r.Deadline, r.ReviewerId, r.SkillMatchScore, r.StartedAt, r.Status, r.SubmissionId, u.Id, u.AccessFailedCount, u.ConcurrencyStamp, u.CreatedAt, u.DeletedAt, u.Email, u.EmailConfirmed, u.LastModifiedAt, u.LastModifiedBy, u.LockoutEnabled, u.LockoutEnd, u.NormalizedEmail, u.NormalizedUserName, u.PasswordHash, u.PhoneNumber, u.PhoneNumberConfirmed, u.SecurityStamp, u.TwoFactorEnabled, u.UserName, s.Id, s.AdditionalNotes, s.AiCheckDetails, s.AiCheckScore, s.AiCheckStatus, s.CreatedAt, s.CreatedBy, s.DeletedAt, s.DocumentUrl, s.IsActive, s.LastModifiedAt, s.LastModifiedBy, s.PhaseId, s.Status, s.SubmissionRound, s.SubmittedAt, s.SubmittedBy, s.TopicId, s.TopicVersionId, t.Id, t.Content, t.Context, t.CreatedAt, t.CreatedBy, t.DeletedAt, t.Description, t.DocumentUrl, t.EN_Title, t.ExpectedOutcomes, t.IsActive, t.LastModifiedAt, t.LastModifiedBy, t.Methodology, t.Objectives, t.PotentialDuplicate, t.Problem, t.Requirements, t.Status, t.SubmittedAt, t.SubmittedBy, t.TopicId, t.VN_title, t.VersionNumber, t0.Id, t0.Abbreviation, t0.CategoryId, t0.Content, t0.Context, t0.CreatedAt, t0.CreatedBy, t0.DeletedAt, t0.Description, t0.EN_Title, t0.IsActive, t0.IsApproved, t0.IsLegacy, t0.LastModifiedAt, t0.LastModifiedBy, t0.MaxStudents, t0.Objectives, t0.PotentialDuplicate, t0.Problem, t0.SemesterId, t0.SupervisorId, t0.VN_title
        FROM reviewer_assignments AS r
        INNER JOIN users AS u ON r.ReviewerId == u.Id
        INNER JOIN submissions AS s ON r.SubmissionId == s.Id
        LEFT JOIN topic_versions AS t ON s.TopicVersionId == t.Id
        LEFT JOIN topics AS t0 ON s.TopicId == t0.Id
        WHERE ((r.Deadline IS NOT NULL && (CONVERT(date, r.Deadline) >= @__tomorrow_0)) && (CONVERT(date, r.Deadline) <= @__dayAfterTomorrow_1)) && r.Status IN (1, 2)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ReviewerAssignment>, 
    App.DAL.Context.MyDbContext, 
    False, 
    False, 
    True
)'
2025-10-03 18:36:47.015 +07:00 [DBG] Creating DbConnection.
2025-10-03 18:36:47.015 +07:00 [DBG] Created DbConnection. (0ms).
2025-10-03 18:36:47.015 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:36:47.016 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:36:47.016 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 18:36:47.016 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:36:47.017 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:36:47.018 +07:00 [DBG] Executing DbCommand [Parameters=[@__tomorrow_0='?' (DbType = DateTime2), @__dayAfterTomorrow_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[DocumentUrl], [t].[EN_Title], [t].[ExpectedOutcomes], [t].[IsActive], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[Methodology], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[Requirements], [t].[Status], [t].[SubmittedAt], [t].[SubmittedBy], [t].[TopicId], [t].[VN_title], [t].[VersionNumber], [t0].[Id], [t0].[Abbreviation], [t0].[CategoryId], [t0].[Content], [t0].[Context], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[EN_Title], [t0].[IsActive], [t0].[IsApproved], [t0].[IsLegacy], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[MaxStudents], [t0].[Objectives], [t0].[PotentialDuplicate], [t0].[Problem], [t0].[SemesterId], [t0].[SupervisorId], [t0].[VN_title]
FROM [reviewer_assignments] AS [r]
INNER JOIN [users] AS [u] ON [r].[ReviewerId] = [u].[Id]
INNER JOIN [submissions] AS [s] ON [r].[SubmissionId] = [s].[Id]
LEFT JOIN [topic_versions] AS [t] ON [s].[TopicVersionId] = [t].[Id]
LEFT JOIN [topics] AS [t0] ON [s].[TopicId] = [t0].[Id]
WHERE [r].[Deadline] IS NOT NULL AND CONVERT(date, [r].[Deadline]) >= @__tomorrow_0 AND CONVERT(date, [r].[Deadline]) <= @__dayAfterTomorrow_1 AND [r].[Status] IN (1, 2)
2025-10-03 18:36:47.041 +07:00 [INF] Executed DbCommand (24ms) [Parameters=[@__tomorrow_0='?' (DbType = DateTime2), @__dayAfterTomorrow_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[DocumentUrl], [t].[EN_Title], [t].[ExpectedOutcomes], [t].[IsActive], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[Methodology], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[Requirements], [t].[Status], [t].[SubmittedAt], [t].[SubmittedBy], [t].[TopicId], [t].[VN_title], [t].[VersionNumber], [t0].[Id], [t0].[Abbreviation], [t0].[CategoryId], [t0].[Content], [t0].[Context], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[EN_Title], [t0].[IsActive], [t0].[IsApproved], [t0].[IsLegacy], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[MaxStudents], [t0].[Objectives], [t0].[PotentialDuplicate], [t0].[Problem], [t0].[SemesterId], [t0].[SupervisorId], [t0].[VN_title]
FROM [reviewer_assignments] AS [r]
INNER JOIN [users] AS [u] ON [r].[ReviewerId] = [u].[Id]
INNER JOIN [submissions] AS [s] ON [r].[SubmissionId] = [s].[Id]
LEFT JOIN [topic_versions] AS [t] ON [s].[TopicVersionId] = [t].[Id]
LEFT JOIN [topics] AS [t0] ON [s].[TopicId] = [t0].[Id]
WHERE [r].[Deadline] IS NOT NULL AND CONVERT(date, [r].[Deadline]) >= @__tomorrow_0 AND CONVERT(date, [r].[Deadline]) <= @__dayAfterTomorrow_1 AND [r].[Status] IN (1, 2)
2025-10-03 18:36:47.050 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 18:36:47.050 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 7ms reading results.
2025-10-03 18:36:47.050 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:36:47.050 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 18:36:47.052 +07:00 [DBG] Compiling query expression: 
'DbSet<ReviewerAssignment>()
    .AsNoTracking()
    .Include(ra => ra.Reviewer)
    .Include(ra => ra.Submission)
    .Include(ra => ra.Submission.TopicVersion)
    .Include(ra => ra.Submission.Topic)
    .Where(ra => ra.Deadline.HasValue && ra.Deadline.Value.Date < DateTime.Today && (int)ra.Status == 1 || (int)ra.Status == 2)'
2025-10-03 18:36:47.053 +07:00 [DBG] Including navigation: 'ReviewerAssignment.Reviewer'.
2025-10-03 18:36:47.053 +07:00 [DBG] Including navigation: 'ReviewerAssignment.Submission'.
2025-10-03 18:36:47.054 +07:00 [DBG] Including navigation: 'Submission.TopicVersion'.
2025-10-03 18:36:47.054 +07:00 [DBG] Including navigation: 'Submission.Topic'.
2025-10-03 18:36:47.078 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<ReviewerAssignment>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: ReviewerAssignment.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ReviewerAssignment.AssignedAt (DateTime) Required ValueGenerated.OnAdd, 1], [Property: ReviewerAssignment.AssignedBy (int) Required FK Index, 2], [Property: ReviewerAssignment.AssignmentType (AssignmentTypes) Required ValueGenerated.OnAdd, 3], [Property: ReviewerAssignment.CompletedAt (DateTime?), 4], [Property: ReviewerAssignment.Deadline (DateTime?) Index, 5], [Property: ReviewerAssignment.ReviewerId (int) Required FK Index, 6], [Property: ReviewerAssignment.SkillMatchScore (decimal?), 7], [Property: ReviewerAssignment.StartedAt (DateTime?), 8], [Property: ReviewerAssignment.Status (AssignmentStatus) Required Index ValueGenerated.OnAdd, 9], [Property: ReviewerAssignment.SubmissionId (int) Required FK Index, 10] }
            1 -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 11], [Property: User.AccessFailedCount (int) Required, 12], [Property: User.ConcurrencyStamp (string), 13], [Property: User.CreatedAt (DateTime) Required, 14], [Property: User.DeletedAt (DateTime?), 15], [Property: User.Email (string), 16], [Property: User.EmailConfirmed (bool) Required, 17], [Property: User.LastModifiedAt (DateTime) Required, 18], [Property: User.LastModifiedBy (string), 19], [Property: User.LockoutEnabled (bool) Required, 20], [Property: User.LockoutEnd (DateTimeOffset?), 21], [Property: User.NormalizedEmail (string), 22], [Property: User.NormalizedUserName (string), 23], [Property: User.PasswordHash (string), 24], [Property: User.PhoneNumber (string), 25], [Property: User.PhoneNumberConfirmed (bool) Required, 26], [Property: User.SecurityStamp (string), 27], [Property: User.TwoFactorEnabled (bool) Required, 28], [Property: User.UserName (string), 29] }
            2 -> Dictionary<IProperty, int> { [Property: Submission.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 30], [Property: Submission.AdditionalNotes (string), 31], [Property: Submission.AiCheckDetails (string), 32], [Property: Submission.AiCheckScore (decimal?), 33], [Property: Submission.AiCheckStatus (AiCheckStatus) Required ValueGenerated.OnAdd, 34], [Property: Submission.CreatedAt (DateTime) Required, 35], [Property: Submission.CreatedBy (string), 36], [Property: Submission.DeletedAt (DateTime?), 37], [Property: Submission.DocumentUrl (string) MaxLength(500), 38], [Property: Submission.IsActive (bool) Required, 39], [Property: Submission.LastModifiedAt (DateTime?), 40], [Property: Submission.LastModifiedBy (string), 41], [Property: Submission.PhaseId (int) Required FK Index, 42], [Property: Submission.Status (SubmissionStatus) Required Index ValueGenerated.OnAdd, 43], [Property: Submission.SubmissionRound (int) Required Index ValueGenerated.OnAdd, 44], [Property: Submission.SubmittedAt (DateTime?) Index ValueGenerated.OnAdd, 45], [Property: Submission.SubmittedBy (int) Required FK Index, 46], [Property: Submission.TopicId (int) Required FK Index, 47], [Property: Submission.TopicVersionId (int?) FK Index, 48] }
            3 -> Dictionary<IProperty, int> { [Property: TopicVersion.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 49], [Property: TopicVersion.Content (string), 50], [Property: TopicVersion.Context (string), 51], [Property: TopicVersion.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 52], [Property: TopicVersion.CreatedBy (string), 53], [Property: TopicVersion.DeletedAt (DateTime?), 54], [Property: TopicVersion.Description (string), 55], [Property: TopicVersion.DocumentUrl (string) MaxLength(500), 56], [Property: TopicVersion.EN_Title (string) Required MaxLength(500), 57], [Property: TopicVersion.ExpectedOutcomes (string), 58], [Property: TopicVersion.IsActive (bool) Required, 59], [Property: TopicVersion.LastModifiedAt (DateTime?), 60], [Property: TopicVersion.LastModifiedBy (string), 61], [Property: TopicVersion.Methodology (string), 62], [Property: TopicVersion.Objectives (string), 63], [Property: TopicVersion.PotentialDuplicate (string), 64], [Property: TopicVersion.Problem (string), 65], [Property: TopicVersion.Requirements (string), 66], [Property: TopicVersion.Status (TopicStatus) Required Index ValueGenerated.OnAdd, 67], [Property: TopicVersion.SubmittedAt (DateTime?), 68], [Property: TopicVersion.SubmittedBy (int?) FK Index, 69], [Property: TopicVersion.TopicId (int) Required FK Index, 70], [Property: TopicVersion.VN_title (string), 71], [Property: TopicVersion.VersionNumber (int) Required Index, 72] }
            4 -> Dictionary<IProperty, int> { [Property: Topic.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 73], [Property: Topic.Abbreviation (string), 74], [Property: Topic.CategoryId (int?) FK Index, 75], [Property: Topic.Content (string), 76], [Property: Topic.Context (string), 77], [Property: Topic.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 78], [Property: Topic.CreatedBy (string), 79], [Property: Topic.DeletedAt (DateTime?), 80], [Property: Topic.Description (string), 81], [Property: Topic.EN_Title (string) Required MaxLength(500), 82], [Property: Topic.IsActive (bool) Required, 83], [Property: Topic.IsApproved (bool) Required Index Sentinel:True ValueGenerated.OnAdd, 84], [Property: Topic.IsLegacy (bool) Required Index ValueGenerated.OnAdd, 85], [Property: Topic.LastModifiedAt (DateTime?), 86], [Property: Topic.LastModifiedBy (string), 87], [Property: Topic.MaxStudents (int) Required ValueGenerated.OnAdd, 88], [Property: Topic.Objectives (string), 89], [Property: Topic.PotentialDuplicate (string), 90], [Property: Topic.Problem (string), 91], [Property: Topic.SemesterId (int) Required FK Index, 92], [Property: Topic.SupervisorId (int) Required FK Index, 93], [Property: Topic.VN_title (string), 94] }
        SELECT r.Id, r.AssignedAt, r.AssignedBy, r.AssignmentType, r.CompletedAt, r.Deadline, r.ReviewerId, r.SkillMatchScore, r.StartedAt, r.Status, r.SubmissionId, u.Id, u.AccessFailedCount, u.ConcurrencyStamp, u.CreatedAt, u.DeletedAt, u.Email, u.EmailConfirmed, u.LastModifiedAt, u.LastModifiedBy, u.LockoutEnabled, u.LockoutEnd, u.NormalizedEmail, u.NormalizedUserName, u.PasswordHash, u.PhoneNumber, u.PhoneNumberConfirmed, u.SecurityStamp, u.TwoFactorEnabled, u.UserName, s.Id, s.AdditionalNotes, s.AiCheckDetails, s.AiCheckScore, s.AiCheckStatus, s.CreatedAt, s.CreatedBy, s.DeletedAt, s.DocumentUrl, s.IsActive, s.LastModifiedAt, s.LastModifiedBy, s.PhaseId, s.Status, s.SubmissionRound, s.SubmittedAt, s.SubmittedBy, s.TopicId, s.TopicVersionId, t.Id, t.Content, t.Context, t.CreatedAt, t.CreatedBy, t.DeletedAt, t.Description, t.DocumentUrl, t.EN_Title, t.ExpectedOutcomes, t.IsActive, t.LastModifiedAt, t.LastModifiedBy, t.Methodology, t.Objectives, t.PotentialDuplicate, t.Problem, t.Requirements, t.Status, t.SubmittedAt, t.SubmittedBy, t.TopicId, t.VN_title, t.VersionNumber, t0.Id, t0.Abbreviation, t0.CategoryId, t0.Content, t0.Context, t0.CreatedAt, t0.CreatedBy, t0.DeletedAt, t0.Description, t0.EN_Title, t0.IsActive, t0.IsApproved, t0.IsLegacy, t0.LastModifiedAt, t0.LastModifiedBy, t0.MaxStudents, t0.Objectives, t0.PotentialDuplicate, t0.Problem, t0.SemesterId, t0.SupervisorId, t0.VN_title
        FROM reviewer_assignments AS r
        INNER JOIN users AS u ON r.ReviewerId == u.Id
        INNER JOIN submissions AS s ON r.SubmissionId == s.Id
        LEFT JOIN topic_versions AS t ON s.TopicVersionId == t.Id
        LEFT JOIN topics AS t0 ON s.TopicId == t0.Id
        WHERE (r.Deadline IS NOT NULL && (CONVERT(date, r.Deadline) < CONVERT(date, GETDATE()))) && r.Status IN (1, 2)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ReviewerAssignment>, 
    App.DAL.Context.MyDbContext, 
    False, 
    False, 
    True
)'
2025-10-03 18:36:47.081 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:36:47.081 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:36:47.081 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 18:36:47.081 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:36:47.082 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:36:47.082 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[DocumentUrl], [t].[EN_Title], [t].[ExpectedOutcomes], [t].[IsActive], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[Methodology], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[Requirements], [t].[Status], [t].[SubmittedAt], [t].[SubmittedBy], [t].[TopicId], [t].[VN_title], [t].[VersionNumber], [t0].[Id], [t0].[Abbreviation], [t0].[CategoryId], [t0].[Content], [t0].[Context], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[EN_Title], [t0].[IsActive], [t0].[IsApproved], [t0].[IsLegacy], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[MaxStudents], [t0].[Objectives], [t0].[PotentialDuplicate], [t0].[Problem], [t0].[SemesterId], [t0].[SupervisorId], [t0].[VN_title]
FROM [reviewer_assignments] AS [r]
INNER JOIN [users] AS [u] ON [r].[ReviewerId] = [u].[Id]
INNER JOIN [submissions] AS [s] ON [r].[SubmissionId] = [s].[Id]
LEFT JOIN [topic_versions] AS [t] ON [s].[TopicVersionId] = [t].[Id]
LEFT JOIN [topics] AS [t0] ON [s].[TopicId] = [t0].[Id]
WHERE [r].[Deadline] IS NOT NULL AND CONVERT(date, [r].[Deadline]) < CONVERT(date, GETDATE()) AND [r].[Status] IN (1, 2)
2025-10-03 18:36:47.097 +07:00 [INF] Now listening on: http://localhost:5207
2025-10-03 18:36:47.098 +07:00 [DBG] Loaded hosting startup assembly CapBot.api
2025-10-03 18:36:47.098 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-10-03 18:36:47.098 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-03 18:36:47.098 +07:00 [INF] Hosting environment: Development
2025-10-03 18:36:47.099 +07:00 [INF] Content root path: C:\Users\acer\Downloads\CBAI_API\capbot.api
2025-10-03 18:36:47.099 +07:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[DocumentUrl], [t].[EN_Title], [t].[ExpectedOutcomes], [t].[IsActive], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[Methodology], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[Requirements], [t].[Status], [t].[SubmittedAt], [t].[SubmittedBy], [t].[TopicId], [t].[VN_title], [t].[VersionNumber], [t0].[Id], [t0].[Abbreviation], [t0].[CategoryId], [t0].[Content], [t0].[Context], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[EN_Title], [t0].[IsActive], [t0].[IsApproved], [t0].[IsLegacy], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[MaxStudents], [t0].[Objectives], [t0].[PotentialDuplicate], [t0].[Problem], [t0].[SemesterId], [t0].[SupervisorId], [t0].[VN_title]
FROM [reviewer_assignments] AS [r]
INNER JOIN [users] AS [u] ON [r].[ReviewerId] = [u].[Id]
INNER JOIN [submissions] AS [s] ON [r].[SubmissionId] = [s].[Id]
LEFT JOIN [topic_versions] AS [t] ON [s].[TopicVersionId] = [t].[Id]
LEFT JOIN [topics] AS [t0] ON [s].[TopicId] = [t0].[Id]
WHERE [r].[Deadline] IS NOT NULL AND CONVERT(date, [r].[Deadline]) < CONVERT(date, GETDATE()) AND [r].[Status] IN (1, 2)
2025-10-03 18:36:47.102 +07:00 [DBG] Hosting started
2025-10-03 18:36:47.105 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 18:36:47.105 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 5ms reading results.
2025-10-03 18:36:47.105 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:36:47.105 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 18:36:47.152 +07:00 [DBG] 'MyDbContext' generated a temporary value for the property 'SystemNotification.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 18:36:47.184 +07:00 [DBG] Context 'MyDbContext' started tracking 'SystemNotification' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 18:36:47.192 +07:00 [DBG] SaveChanges starting for 'MyDbContext'.
2025-10-03 18:36:47.194 +07:00 [DBG] DetectChanges starting for 'MyDbContext'.
2025-10-03 18:36:47.213 +07:00 [DBG] DetectChanges completed for 'MyDbContext'.
2025-10-03 18:36:47.292 +07:00 [DBG] Connection id "0HNG2E4HE1RSP" accepted.
2025-10-03 18:36:47.293 +07:00 [DBG] Connection id "0HNG2E4HE1RSP" started.
2025-10-03 18:36:47.327 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:36:47.328 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:36:47.333 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 18:36:47.339 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (6ms).
2025-10-03 18:36:47.346 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (13ms).
2025-10-03 18:36:47.347 +07:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (Size = 50), @p5='?' (Size = 255), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [system_notifications] ([CreatedAt], [Message], [ReadAt], [RelatedEntityId], [RelatedEntityType], [Title], [Type], [UserId])
OUTPUT INSERTED.[Id], INSERTED.[IsRead]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-10-03 18:36:47.756 +07:00 [DBG] Connection id "0HNG2E4HE1RSQ" accepted.
2025-10-03 18:36:47.757 +07:00 [DBG] Connection id "0HNG2E4HE1RSQ" started.
2025-10-03 18:36:47.760 +07:00 [INF] Executed DbCommand (413ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (Size = 50), @p5='?' (Size = 255), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [system_notifications] ([CreatedAt], [Message], [ReadAt], [RelatedEntityId], [RelatedEntityType], [Title], [Type], [UserId])
OUTPUT INSERTED.[Id], INSERTED.[IsRead]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-10-03 18:36:47.798 +07:00 [DBG] The foreign key property 'SystemNotification.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-10-03 18:36:47.811 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 18:36:47.811 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 50ms reading results.
2025-10-03 18:36:47.808 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5207/index.html - null null
2025-10-03 18:36:47.814 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:36:47.814 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 18:36:47.820 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-10-03 18:36:47.833 +07:00 [DBG] An entity of type 'SystemNotification' tracked by 'MyDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 18:36:47.835 +07:00 [DBG] SaveChanges completed for 'MyDbContext' with 1 entities written to the database.
2025-10-03 18:36:47.842 +07:00 [DBG] Compiling query expression: 
'DbSet<SystemNotification>()
    .AsNoTracking()
    .Where(x => x.UserId == __entity_UserId_0 && !(x.IsRead))
    .Count()'
2025-10-03 18:36:47.894 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<int>(
    asyncEnumerable: new SingleQueryingEnumerable<int>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM system_notifications AS s
            WHERE (s.UserId == @__entity_UserId_0) && Not(s.IsRead)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, int>, 
        App.DAL.Context.MyDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-10-03 18:36:47.905 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:36:47.906 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:36:47.906 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 18:36:47.907 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:36:47.907 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-10-03 18:36:47.909 +07:00 [DBG] Executing DbCommand [Parameters=[@__entity_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [system_notifications] AS [s]
WHERE [s].[UserId] = @__entity_UserId_0 AND [s].[IsRead] = CAST(0 AS bit)
2025-10-03 18:36:47.923 +07:00 [INF] Executed DbCommand (15ms) [Parameters=[@__entity_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [system_notifications] AS [s]
WHERE [s].[UserId] = @__entity_UserId_0 AND [s].[IsRead] = CAST(0 AS bit)
2025-10-03 18:36:47.931 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 18:36:47.932 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 7ms reading results.
2025-10-03 18:36:47.933 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:36:47.933 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 18:36:48.061 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-10-03 18:36:48.122 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-10-03 18:36:48.131 +07:00 [DBG] Connection id "0HNG2E4HE1RSP" completed keep alive response.
2025-10-03 18:36:48.150 +07:00 [DBG] Connection id "0HNG2E4HE1RSQ" received FIN.
2025-10-03 18:36:48.152 +07:00 [DBG] Connection id "0HNG2E4HE1RSP" received FIN.
2025-10-03 18:36:48.157 +07:00 [DBG] Connection id "0HNG2E4HE1RSP" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-10-03 18:36:48.158 +07:00 [DBG] Connection id "0HNG2E4HE1RSR" accepted.
2025-10-03 18:36:48.152 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5207/index.html - 200 null text/html;charset=utf-8 338.4852ms
2025-10-03 18:36:48.161 +07:00 [DBG] Connection id "0HNG2E4HE1RSP" disconnecting.
2025-10-03 18:36:48.161 +07:00 [DBG] Connection id "0HNG2E4HE1RSQ" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-10-03 18:36:48.161 +07:00 [DBG] Connection id "0HNG2E4HE1RSR" started.
2025-10-03 18:36:48.165 +07:00 [DBG] Connection id "0HNG2E4HE1RSQ" disconnecting.
2025-10-03 18:36:48.166 +07:00 [DBG] Connection id "0HNG2E4HE1RSP" stopped.
2025-10-03 18:36:48.166 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5207/_framework/aspnetcore-browser-refresh.js - null null
2025-10-03 18:36:48.172 +07:00 [DBG] Connection id "0HNG2E4HE1RSR" completed keep alive response.
2025-10-03 18:36:48.174 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5207/_framework/aspnetcore-browser-refresh.js - 200 13732 application/javascript; charset=utf-8 7.5056ms
2025-10-03 18:36:48.187 +07:00 [DBG] Connection id "0HNG2E4HE1RSQ" stopped.
2025-10-03 18:36:48.393 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5207/swagger/v1/swagger.json - null null
2025-10-03 18:36:49.244 +07:00 [DBG] Connection id "0HNG2E4HE1RSR" completed keep alive response.
2025-10-03 18:36:49.246 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5207/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 852.8759ms
2025-10-03 18:36:50.888 +07:00 [ERR] 5.4.5 Daily user sending limit exceeded. For more information on Gmail
5.4.5 sending limits go to
5.4.5  https://support.google.com/a/answer/166852 98e67ed59e1d1-3399cd190e9sm5179681a91.2 - gsmtp
2025-10-03 18:36:51.120 +07:00 [WRN] Không thể gửi email sắp đến hạn cho reviewer hieptmse140293@fpt.edu.vn, assignment 31
2025-10-03 18:36:51.120 +07:00 [INF] Đã gửi thông báo sắp đến hạn cho reviewer 27, assignment 31
2025-10-03 18:36:51.123 +07:00 [DBG] 'MyDbContext' generated a temporary value for the property 'SystemNotification.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 18:36:51.123 +07:00 [DBG] Context 'MyDbContext' started tracking 'SystemNotification' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 18:36:51.123 +07:00 [DBG] SaveChanges starting for 'MyDbContext'.
2025-10-03 18:36:51.124 +07:00 [DBG] DetectChanges starting for 'MyDbContext'.
2025-10-03 18:36:51.126 +07:00 [DBG] DetectChanges completed for 'MyDbContext'.
2025-10-03 18:36:51.128 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:36:51.128 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:36:51.128 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 18:36:51.129 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:36:51.129 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:36:51.129 +07:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (Size = 50), @p5='?' (Size = 255), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [system_notifications] ([CreatedAt], [Message], [ReadAt], [RelatedEntityId], [RelatedEntityType], [Title], [Type], [UserId])
OUTPUT INSERTED.[Id], INSERTED.[IsRead]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-10-03 18:36:51.137 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (Size = 50), @p5='?' (Size = 255), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [system_notifications] ([CreatedAt], [Message], [ReadAt], [RelatedEntityId], [RelatedEntityType], [Title], [Type], [UserId])
OUTPUT INSERTED.[Id], INSERTED.[IsRead]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-10-03 18:36:51.137 +07:00 [DBG] The foreign key property 'SystemNotification.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-10-03 18:36:51.138 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 18:36:51.138 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-10-03 18:36:51.138 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:36:51.139 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 18:36:51.139 +07:00 [DBG] An entity of type 'SystemNotification' tracked by 'MyDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 18:36:51.139 +07:00 [DBG] SaveChanges completed for 'MyDbContext' with 1 entities written to the database.
2025-10-03 18:36:51.140 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:36:51.140 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:36:51.141 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 18:36:51.141 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:36:51.141 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:36:51.141 +07:00 [DBG] Executing DbCommand [Parameters=[@__entity_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [system_notifications] AS [s]
WHERE [s].[UserId] = @__entity_UserId_0 AND [s].[IsRead] = CAST(0 AS bit)
2025-10-03 18:36:51.145 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__entity_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [system_notifications] AS [s]
WHERE [s].[UserId] = @__entity_UserId_0 AND [s].[IsRead] = CAST(0 AS bit)
2025-10-03 18:36:51.145 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 18:36:51.145 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-10-03 18:36:51.145 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:36:51.146 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 18:36:53.037 +07:00 [ERR] 5.4.5 Daily user sending limit exceeded. For more information on Gmail
5.4.5 sending limits go to
5.4.5  https://support.google.com/a/answer/166852 98e67ed59e1d1-3399ce04af0sm4888788a91.5 - gsmtp
2025-10-03 18:36:53.250 +07:00 [WRN] Không thể gửi email quá hạn cho reviewer supervisor@gmail.com, assignment 1
2025-10-03 18:36:53.251 +07:00 [INF] Đã gửi thông báo quá hạn cho reviewer 6, assignment 1
2025-10-03 18:36:53.252 +07:00 [DBG] 'MyDbContext' generated a temporary value for the property 'SystemNotification.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 18:36:53.253 +07:00 [DBG] Context 'MyDbContext' started tracking 'SystemNotification' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 18:36:53.253 +07:00 [DBG] SaveChanges starting for 'MyDbContext'.
2025-10-03 18:36:53.254 +07:00 [DBG] DetectChanges starting for 'MyDbContext'.
2025-10-03 18:36:53.254 +07:00 [DBG] DetectChanges completed for 'MyDbContext'.
2025-10-03 18:36:53.255 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:36:53.255 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:36:53.255 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 18:36:53.255 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:36:53.255 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:36:53.256 +07:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (Size = 50), @p5='?' (Size = 255), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [system_notifications] ([CreatedAt], [Message], [ReadAt], [RelatedEntityId], [RelatedEntityType], [Title], [Type], [UserId])
OUTPUT INSERTED.[Id], INSERTED.[IsRead]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-10-03 18:36:53.264 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (Size = 50), @p5='?' (Size = 255), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [system_notifications] ([CreatedAt], [Message], [ReadAt], [RelatedEntityId], [RelatedEntityType], [Title], [Type], [UserId])
OUTPUT INSERTED.[Id], INSERTED.[IsRead]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-10-03 18:36:53.265 +07:00 [DBG] The foreign key property 'SystemNotification.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-10-03 18:36:53.266 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 18:36:53.266 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 1ms reading results.
2025-10-03 18:36:53.267 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:36:53.267 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 18:36:53.267 +07:00 [DBG] An entity of type 'SystemNotification' tracked by 'MyDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 18:36:53.267 +07:00 [DBG] SaveChanges completed for 'MyDbContext' with 1 entities written to the database.
2025-10-03 18:36:53.268 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:36:53.268 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:36:53.268 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 18:36:53.268 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:36:53.269 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:36:53.269 +07:00 [DBG] Executing DbCommand [Parameters=[@__entity_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [system_notifications] AS [s]
WHERE [s].[UserId] = @__entity_UserId_0 AND [s].[IsRead] = CAST(0 AS bit)
2025-10-03 18:36:53.271 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__entity_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [system_notifications] AS [s]
WHERE [s].[UserId] = @__entity_UserId_0 AND [s].[IsRead] = CAST(0 AS bit)
2025-10-03 18:36:53.271 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 18:36:53.271 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-10-03 18:36:53.272 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:36:53.272 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 18:36:55.040 +07:00 [ERR] 5.4.5 Daily user sending limit exceeded. For more information on Gmail
5.4.5 sending limits go to
5.4.5  https://support.google.com/a/answer/166852 d9443c01a7336-28e8d1b9e5asm48121435ad.74 - gsmtp
2025-10-03 18:36:55.252 +07:00 [WRN] Không thể gửi email quá hạn cho reviewer reviewer2@gmail.com, assignment 2
2025-10-03 18:36:55.252 +07:00 [INF] Đã gửi thông báo quá hạn cho reviewer 7, assignment 2
2025-10-03 18:36:55.252 +07:00 [DBG] 'MyDbContext' generated a temporary value for the property 'SystemNotification.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 18:36:55.253 +07:00 [DBG] Context 'MyDbContext' started tracking 'SystemNotification' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 18:36:55.253 +07:00 [DBG] SaveChanges starting for 'MyDbContext'.
2025-10-03 18:36:55.253 +07:00 [DBG] DetectChanges starting for 'MyDbContext'.
2025-10-03 18:36:55.253 +07:00 [DBG] DetectChanges completed for 'MyDbContext'.
2025-10-03 18:36:55.254 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:36:55.254 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:36:55.255 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 18:36:55.255 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:36:55.255 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:36:55.255 +07:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (Size = 50), @p5='?' (Size = 255), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [system_notifications] ([CreatedAt], [Message], [ReadAt], [RelatedEntityId], [RelatedEntityType], [Title], [Type], [UserId])
OUTPUT INSERTED.[Id], INSERTED.[IsRead]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-10-03 18:36:55.261 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (Size = 50), @p5='?' (Size = 255), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [system_notifications] ([CreatedAt], [Message], [ReadAt], [RelatedEntityId], [RelatedEntityType], [Title], [Type], [UserId])
OUTPUT INSERTED.[Id], INSERTED.[IsRead]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-10-03 18:36:55.262 +07:00 [DBG] The foreign key property 'SystemNotification.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-10-03 18:36:55.262 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 18:36:55.262 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-10-03 18:36:55.262 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:36:55.263 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 18:36:55.263 +07:00 [DBG] An entity of type 'SystemNotification' tracked by 'MyDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 18:36:55.263 +07:00 [DBG] SaveChanges completed for 'MyDbContext' with 1 entities written to the database.
2025-10-03 18:36:55.264 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:36:55.264 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:36:55.265 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 18:36:55.265 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:36:55.265 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:36:55.265 +07:00 [DBG] Executing DbCommand [Parameters=[@__entity_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [system_notifications] AS [s]
WHERE [s].[UserId] = @__entity_UserId_0 AND [s].[IsRead] = CAST(0 AS bit)
2025-10-03 18:36:55.269 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__entity_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [system_notifications] AS [s]
WHERE [s].[UserId] = @__entity_UserId_0 AND [s].[IsRead] = CAST(0 AS bit)
2025-10-03 18:36:55.269 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 18:36:55.269 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-10-03 18:36:55.269 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:36:55.270 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 18:36:57.103 +07:00 [ERR] 5.4.5 Daily user sending limit exceeded. For more information on Gmail
5.4.5 sending limits go to
5.4.5  https://support.google.com/a/answer/166852 d9443c01a7336-28e8d1127c7sm48206575ad.28 - gsmtp
2025-10-03 18:36:57.321 +07:00 [WRN] Không thể gửi email quá hạn cho reviewer reviewer2@gmail.com, assignment 3
2025-10-03 18:36:57.321 +07:00 [INF] Đã gửi thông báo quá hạn cho reviewer 7, assignment 3
2025-10-03 18:36:57.322 +07:00 [DBG] 'MyDbContext' generated a temporary value for the property 'SystemNotification.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 18:36:57.322 +07:00 [DBG] Context 'MyDbContext' started tracking 'SystemNotification' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 18:36:57.322 +07:00 [DBG] SaveChanges starting for 'MyDbContext'.
2025-10-03 18:36:57.322 +07:00 [DBG] DetectChanges starting for 'MyDbContext'.
2025-10-03 18:36:57.322 +07:00 [DBG] DetectChanges completed for 'MyDbContext'.
2025-10-03 18:36:57.323 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:36:57.323 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:36:57.323 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 18:36:57.323 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:36:57.323 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:36:57.323 +07:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (Size = 50), @p5='?' (Size = 255), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [system_notifications] ([CreatedAt], [Message], [ReadAt], [RelatedEntityId], [RelatedEntityType], [Title], [Type], [UserId])
OUTPUT INSERTED.[Id], INSERTED.[IsRead]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-10-03 18:36:57.329 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (Size = 50), @p5='?' (Size = 255), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [system_notifications] ([CreatedAt], [Message], [ReadAt], [RelatedEntityId], [RelatedEntityType], [Title], [Type], [UserId])
OUTPUT INSERTED.[Id], INSERTED.[IsRead]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-10-03 18:36:57.333 +07:00 [DBG] The foreign key property 'SystemNotification.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-10-03 18:36:57.334 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 18:36:57.335 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 4ms reading results.
2025-10-03 18:36:57.335 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:36:57.335 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 18:36:57.335 +07:00 [DBG] An entity of type 'SystemNotification' tracked by 'MyDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 18:36:57.335 +07:00 [DBG] SaveChanges completed for 'MyDbContext' with 1 entities written to the database.
2025-10-03 18:36:57.336 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:36:57.336 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:36:57.337 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 18:36:57.337 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:36:57.337 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:36:57.337 +07:00 [DBG] Executing DbCommand [Parameters=[@__entity_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [system_notifications] AS [s]
WHERE [s].[UserId] = @__entity_UserId_0 AND [s].[IsRead] = CAST(0 AS bit)
2025-10-03 18:36:57.340 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__entity_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [system_notifications] AS [s]
WHERE [s].[UserId] = @__entity_UserId_0 AND [s].[IsRead] = CAST(0 AS bit)
2025-10-03 18:36:57.340 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 18:36:57.340 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-10-03 18:36:57.340 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:36:57.340 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 18:36:58.168 +07:00 [DBG] Connection id "0HNG2E4HE1RSR" received FIN.
2025-10-03 18:36:58.168 +07:00 [DBG] Connection id "0HNG2E4HE1RSR" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-10-03 18:36:58.169 +07:00 [DBG] Connection id "0HNG2E4HE1RSR" disconnecting.
2025-10-03 18:36:58.174 +07:00 [DBG] Connection id "0HNG2E4HE1RSR" stopped.
2025-10-03 18:36:59.899 +07:00 [ERR] 5.4.5 Daily user sending limit exceeded. For more information on Gmail
5.4.5 sending limits go to
5.4.5  https://support.google.com/a/answer/166852 98e67ed59e1d1-339c4a1aa03sm1997106a91.12 - gsmtp
2025-10-03 18:37:00.127 +07:00 [WRN] Không thể gửi email quá hạn cho reviewer supervisor@gmail.com, assignment 4
2025-10-03 18:37:00.127 +07:00 [INF] Đã gửi thông báo quá hạn cho reviewer 6, assignment 4
2025-10-03 18:37:00.128 +07:00 [INF] Hoàn thành kiểm tra deadline: 1 sắp đến hạn, 4 quá hạn
2025-10-03 18:37:00.129 +07:00 [DBG] 'MyDbContext' disposed.
2025-10-03 18:37:00.129 +07:00 [DBG] Disposing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:37:00.129 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-10-03 18:37:01.230 +07:00 [DBG] Connection id "0HNG2E4HE1RSS" accepted.
2025-10-03 18:37:01.230 +07:00 [DBG] Connection id "0HNG2E4HE1RSS" started.
2025-10-03 18:37:01.230 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5207/api/reviewer-assignments/workload?semesterId=1 - null null
2025-10-03 18:37:01.233 +07:00 [DBG] The request path /api/reviewer-assignments/workload does not match a supported file type
2025-10-03 18:37:01.235 +07:00 [WRN] Failed to determine the https port for redirect.
2025-10-03 18:37:01.235 +07:00 [DBG] The request path /api/reviewer-assignments/workload does not match a supported file type
2025-10-03 18:37:01.305 +07:00 [DBG] 1 candidate(s) found for the request path '/api/reviewer-assignments/workload'
2025-10-03 18:37:01.306 +07:00 [DBG] Endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetReviewersWorkload (CapBot.api)' with route pattern 'api/reviewer-assignments/workload' is valid for the request path '/api/reviewer-assignments/workload'
2025-10-03 18:37:01.307 +07:00 [DBG] Request matched endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetReviewersWorkload (CapBot.api)'
2025-10-03 18:37:01.400 +07:00 [DBG] Successfully validated the token.
2025-10-03 18:37:01.401 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-10-03 18:37:01.406 +07:00 [DBG] Authorization was successful.
2025-10-03 18:37:01.415 +07:00 [INF] Executing endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetReviewersWorkload (CapBot.api)'
2025-10-03 18:37:01.433 +07:00 [INF] Route matched with {action = "GetReviewersWorkload", controller = "ReviewerAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetReviewersWorkload(System.Nullable`1[System.Int32]) on controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api).
2025-10-03 18:37:01.434 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-10-03 18:37:01.435 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-10-03 18:37:01.435 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2025-10-03 18:37:01.435 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-10-03 18:37:01.435 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-10-03 18:37:01.437 +07:00 [DBG] Executing controller factory for controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api)
2025-10-03 18:37:01.638 +07:00 [DBG] Executed controller factory for controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api)
2025-10-03 18:37:01.644 +07:00 [DBG] Attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]' ...
2025-10-03 18:37:01.646 +07:00 [DBG] Attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]' using the name 'semesterId' in request data ...
2025-10-03 18:37:01.647 +07:00 [DBG] Done attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]'.
2025-10-03 18:37:01.648 +07:00 [DBG] Done attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]'.
2025-10-03 18:37:01.648 +07:00 [DBG] Attempting to validate the bound parameter 'semesterId' of type 'System.Nullable`1[System.Int32]' ...
2025-10-03 18:37:01.651 +07:00 [DBG] Done attempting to validate the bound parameter 'semesterId' of type 'System.Nullable`1[System.Int32]'.
2025-10-03 18:37:01.674 +07:00 [DBG] Entity Framework Core 8.0.16 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: MigrationsAssembly=App.DAL 
2025-10-03 18:37:01.679 +07:00 [DBG] Compiling query expression: 
'DbSet<UserRole>()
    .AsNoTracking()
    .Include(ur => ur.User)
    .Include(ur => ur.User.LecturerSkills)
    .Include(ur => ur.User.ReviewerPerformances)
    .Include(ur => ur.Role)
    .Where(ur => ur.Role.Name == "Reviewer")'
2025-10-03 18:37:01.681 +07:00 [DBG] Including navigation: 'UserRole.User'.
2025-10-03 18:37:01.682 +07:00 [DBG] Including navigation: 'User.LecturerSkills'.
2025-10-03 18:37:01.682 +07:00 [DBG] Including navigation: 'User.ReviewerPerformances'.
2025-10-03 18:37:01.683 +07:00 [DBG] Including navigation: 'UserRole.Role'.
2025-10-03 18:37:01.720 +07:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-10-03 18:37:01.730 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<UserRole>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: UserRole.UserId (int) Required PK FK AfterSave:Throw, 0], [Property: UserRole.RoleId (int) Required PK FK Index AfterSave:Throw, 1] }
            1 -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 2], [Property: User.AccessFailedCount (int) Required, 3], [Property: User.ConcurrencyStamp (string), 4], [Property: User.CreatedAt (DateTime) Required, 5], [Property: User.DeletedAt (DateTime?), 6], [Property: User.Email (string), 7], [Property: User.EmailConfirmed (bool) Required, 8], [Property: User.LastModifiedAt (DateTime) Required, 9], [Property: User.LastModifiedBy (string), 10], [Property: User.LockoutEnabled (bool) Required, 11], [Property: User.LockoutEnd (DateTimeOffset?), 12], [Property: User.NormalizedEmail (string), 13], [Property: User.NormalizedUserName (string), 14], [Property: User.PasswordHash (string), 15], [Property: User.PhoneNumber (string), 16], [Property: User.PhoneNumberConfirmed (bool) Required, 17], [Property: User.SecurityStamp (string), 18], [Property: User.TwoFactorEnabled (bool) Required, 19], [Property: User.UserName (string), 20] }
            2 -> 0
            3 -> 1
            4 -> 21
            5 -> 2
            6 -> Dictionary<IProperty, int> { [Property: LecturerSkill.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 22], [Property: LecturerSkill.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 23], [Property: LecturerSkill.CreatedBy (string), 24], [Property: LecturerSkill.DeletedAt (DateTime?), 25], [Property: LecturerSkill.IsActive (bool) Required, 26], [Property: LecturerSkill.LastModifiedAt (DateTime?), 27], [Property: LecturerSkill.LastModifiedBy (string), 28], [Property: LecturerSkill.LecturerId (int) Required FK Index, 29], [Property: LecturerSkill.ProficiencyLevel (ProficiencyLevels) Required ValueGenerated.OnAdd, 30], [Property: LecturerSkill.SkillTag (string) Required Index MaxLength(100), 31] }
            7 -> 22
            8 -> Dictionary<IProperty, int> { [Property: ReviewerPerformance.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 32], [Property: ReviewerPerformance.AverageScoreGiven (decimal?), 33], [Property: ReviewerPerformance.AverageTimeMinutes (int) Required ValueGenerated.OnAdd, 34], [Property: ReviewerPerformance.CompletedAssignments (int) Required ValueGenerated.OnAdd, 35], [Property: ReviewerPerformance.LastUpdated (DateTime) Required ValueGenerated.OnAdd, 36], [Property: ReviewerPerformance.OnTimeRate (decimal?), 37], [Property: ReviewerPerformance.QualityRating (decimal?), 38], [Property: ReviewerPerformance.ReviewerId (int) Required FK Index, 39], [Property: ReviewerPerformance.SemesterId (int) Required FK Index, 40], [Property: ReviewerPerformance.TotalAssignments (int) Required ValueGenerated.OnAdd, 41] }
            9 -> 32
            10 -> Dictionary<IProperty, int> { [Property: Role.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 21], [Property: Role.ConcurrencyStamp (string), 42], [Property: Role.IsAdmin (bool) Required, 43], [Property: Role.Name (string), 44], [Property: Role.NormalizedName (string), 45] }
        SELECT u.UserId, u.RoleId, u0.Id, u0.AccessFailedCount, u0.ConcurrencyStamp, u0.CreatedAt, u0.DeletedAt, u0.Email, u0.EmailConfirmed, u0.LastModifiedAt, u0.LastModifiedBy, u0.LockoutEnabled, u0.LockoutEnd, u0.NormalizedEmail, u0.NormalizedUserName, u0.PasswordHash, u0.PhoneNumber, u0.PhoneNumberConfirmed, u0.SecurityStamp, u0.TwoFactorEnabled, u0.UserName, r.Id, l.Id, l.CreatedAt, l.CreatedBy, l.DeletedAt, l.IsActive, l.LastModifiedAt, l.LastModifiedBy, l.LecturerId, l.ProficiencyLevel, l.SkillTag, r0.Id, r0.AverageScoreGiven, r0.AverageTimeMinutes, r0.CompletedAssignments, r0.LastUpdated, r0.OnTimeRate, r0.QualityRating, r0.ReviewerId, r0.SemesterId, r0.TotalAssignments, r.ConcurrencyStamp, r.IsAdmin, r.Name, r.NormalizedName
        FROM user_roles AS u
        INNER JOIN roles AS r ON u.RoleId == r.Id
        INNER JOIN users AS u0 ON u.UserId == u0.Id
        LEFT JOIN lecturer_skills AS l ON u0.Id == l.LecturerId
        LEFT JOIN reviewer_performance AS r0 ON u0.Id == r0.ReviewerId
        WHERE r.Name == N'Reviewer'
        ORDER BY u.UserId ASC, u.RoleId ASC, r.Id ASC, u0.Id ASC, l.Id ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, UserRole>, 
    App.DAL.Context.MyDbContext, 
    False, 
    False, 
    True
)'
2025-10-03 18:37:01.733 +07:00 [DBG] Creating DbConnection.
2025-10-03 18:37:01.733 +07:00 [DBG] Created DbConnection. (0ms).
2025-10-03 18:37:01.733 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:37:01.733 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:37:01.733 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 18:37:01.733 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:37:01.734 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:37:01.734 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[RoleId], [u0].[Id], [u0].[AccessFailedCount], [u0].[ConcurrencyStamp], [u0].[CreatedAt], [u0].[DeletedAt], [u0].[Email], [u0].[EmailConfirmed], [u0].[LastModifiedAt], [u0].[LastModifiedBy], [u0].[LockoutEnabled], [u0].[LockoutEnd], [u0].[NormalizedEmail], [u0].[NormalizedUserName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[PhoneNumberConfirmed], [u0].[SecurityStamp], [u0].[TwoFactorEnabled], [u0].[UserName], [r].[Id], [l].[Id], [l].[CreatedAt], [l].[CreatedBy], [l].[DeletedAt], [l].[IsActive], [l].[LastModifiedAt], [l].[LastModifiedBy], [l].[LecturerId], [l].[ProficiencyLevel], [l].[SkillTag], [r0].[Id], [r0].[AverageScoreGiven], [r0].[AverageTimeMinutes], [r0].[CompletedAssignments], [r0].[LastUpdated], [r0].[OnTimeRate], [r0].[QualityRating], [r0].[ReviewerId], [r0].[SemesterId], [r0].[TotalAssignments], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [user_roles] AS [u]
INNER JOIN [roles] AS [r] ON [u].[RoleId] = [r].[Id]
INNER JOIN [users] AS [u0] ON [u].[UserId] = [u0].[Id]
LEFT JOIN [lecturer_skills] AS [l] ON [u0].[Id] = [l].[LecturerId]
LEFT JOIN [reviewer_performance] AS [r0] ON [u0].[Id] = [r0].[ReviewerId]
WHERE [r].[Name] = N'Reviewer'
ORDER BY [u].[UserId], [u].[RoleId], [r].[Id], [u0].[Id], [l].[Id]
2025-10-03 18:37:01.755 +07:00 [INF] Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[RoleId], [u0].[Id], [u0].[AccessFailedCount], [u0].[ConcurrencyStamp], [u0].[CreatedAt], [u0].[DeletedAt], [u0].[Email], [u0].[EmailConfirmed], [u0].[LastModifiedAt], [u0].[LastModifiedBy], [u0].[LockoutEnabled], [u0].[LockoutEnd], [u0].[NormalizedEmail], [u0].[NormalizedUserName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[PhoneNumberConfirmed], [u0].[SecurityStamp], [u0].[TwoFactorEnabled], [u0].[UserName], [r].[Id], [l].[Id], [l].[CreatedAt], [l].[CreatedBy], [l].[DeletedAt], [l].[IsActive], [l].[LastModifiedAt], [l].[LastModifiedBy], [l].[LecturerId], [l].[ProficiencyLevel], [l].[SkillTag], [r0].[Id], [r0].[AverageScoreGiven], [r0].[AverageTimeMinutes], [r0].[CompletedAssignments], [r0].[LastUpdated], [r0].[OnTimeRate], [r0].[QualityRating], [r0].[ReviewerId], [r0].[SemesterId], [r0].[TotalAssignments], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [user_roles] AS [u]
INNER JOIN [roles] AS [r] ON [u].[RoleId] = [r].[Id]
INNER JOIN [users] AS [u0] ON [u].[UserId] = [u0].[Id]
LEFT JOIN [lecturer_skills] AS [l] ON [u0].[Id] = [l].[LecturerId]
LEFT JOIN [reviewer_performance] AS [r0] ON [u0].[Id] = [r0].[ReviewerId]
WHERE [r].[Name] = N'Reviewer'
ORDER BY [u].[UserId], [u].[RoleId], [r].[Id], [u0].[Id], [l].[Id]
2025-10-03 18:37:01.763 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 18:37:01.763 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 8ms reading results.
2025-10-03 18:37:01.763 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:37:01.764 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 18:37:01.768 +07:00 [DBG] Compiling query expression: 
'DbSet<ReviewerAssignment>()
    .AsNoTracking()
    .Include(ra => ra.Submission)
    .Include(ra => ra.Submission.Topic)
    .Include(ra => ra.Submission.TopicVersion)
    .Include(ra => ra.Submission.TopicVersion.Topic)
    .Where(ra => __8__locals2_reviewerIds_0.Contains(ra.ReviewerId) && ra.Submission != null && ra.Submission.Topic != null && ra.Submission.Topic.SemesterId == __sid_1 || ra.Submission != null && ra.Submission.TopicVersion != null && ra.Submission.TopicVersion.Topic != null && ra.Submission.TopicVersion.Topic.SemesterId == __sid_1)'
2025-10-03 18:37:01.773 +07:00 [DBG] Including navigation: 'ReviewerAssignment.Submission'.
2025-10-03 18:37:01.773 +07:00 [DBG] Including navigation: 'Submission.Topic'.
2025-10-03 18:37:01.773 +07:00 [DBG] Including navigation: 'Submission.TopicVersion'.
2025-10-03 18:37:01.774 +07:00 [DBG] Including navigation: 'TopicVersion.Topic'.
2025-10-03 18:37:01.816 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<ReviewerAssignment>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: ReviewerAssignment.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ReviewerAssignment.AssignedAt (DateTime) Required ValueGenerated.OnAdd, 1], [Property: ReviewerAssignment.AssignedBy (int) Required FK Index, 2], [Property: ReviewerAssignment.AssignmentType (AssignmentTypes) Required ValueGenerated.OnAdd, 3], [Property: ReviewerAssignment.CompletedAt (DateTime?), 4], [Property: ReviewerAssignment.Deadline (DateTime?) Index, 5], [Property: ReviewerAssignment.ReviewerId (int) Required FK Index, 6], [Property: ReviewerAssignment.SkillMatchScore (decimal?), 7], [Property: ReviewerAssignment.StartedAt (DateTime?), 8], [Property: ReviewerAssignment.Status (AssignmentStatus) Required Index ValueGenerated.OnAdd, 9], [Property: ReviewerAssignment.SubmissionId (int) Required FK Index, 10] }
            1 -> Dictionary<IProperty, int> { [Property: Submission.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 11], [Property: Submission.AdditionalNotes (string), 12], [Property: Submission.AiCheckDetails (string), 13], [Property: Submission.AiCheckScore (decimal?), 14], [Property: Submission.AiCheckStatus (AiCheckStatus) Required ValueGenerated.OnAdd, 15], [Property: Submission.CreatedAt (DateTime) Required, 16], [Property: Submission.CreatedBy (string), 17], [Property: Submission.DeletedAt (DateTime?), 18], [Property: Submission.DocumentUrl (string) MaxLength(500), 19], [Property: Submission.IsActive (bool) Required, 20], [Property: Submission.LastModifiedAt (DateTime?), 21], [Property: Submission.LastModifiedBy (string), 22], [Property: Submission.PhaseId (int) Required FK Index, 23], [Property: Submission.Status (SubmissionStatus) Required Index ValueGenerated.OnAdd, 24], [Property: Submission.SubmissionRound (int) Required Index ValueGenerated.OnAdd, 25], [Property: Submission.SubmittedAt (DateTime?) Index ValueGenerated.OnAdd, 26], [Property: Submission.SubmittedBy (int) Required FK Index, 27], [Property: Submission.TopicId (int) Required FK Index, 28], [Property: Submission.TopicVersionId (int?) FK Index, 29] }
            2 -> Dictionary<IProperty, int> { [Property: Topic.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 30], [Property: Topic.Abbreviation (string), 31], [Property: Topic.CategoryId (int?) FK Index, 32], [Property: Topic.Content (string), 33], [Property: Topic.Context (string), 34], [Property: Topic.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 35], [Property: Topic.CreatedBy (string), 36], [Property: Topic.DeletedAt (DateTime?), 37], [Property: Topic.Description (string), 38], [Property: Topic.EN_Title (string) Required MaxLength(500), 39], [Property: Topic.IsActive (bool) Required, 40], [Property: Topic.IsApproved (bool) Required Index Sentinel:True ValueGenerated.OnAdd, 41], [Property: Topic.IsLegacy (bool) Required Index ValueGenerated.OnAdd, 42], [Property: Topic.LastModifiedAt (DateTime?), 43], [Property: Topic.LastModifiedBy (string), 44], [Property: Topic.MaxStudents (int) Required ValueGenerated.OnAdd, 45], [Property: Topic.Objectives (string), 46], [Property: Topic.PotentialDuplicate (string), 47], [Property: Topic.Problem (string), 48], [Property: Topic.SemesterId (int) Required FK Index, 49], [Property: Topic.SupervisorId (int) Required FK Index, 50], [Property: Topic.VN_title (string), 51] }
            3 -> Dictionary<IProperty, int> { [Property: TopicVersion.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 52], [Property: TopicVersion.Content (string), 53], [Property: TopicVersion.Context (string), 54], [Property: TopicVersion.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 55], [Property: TopicVersion.CreatedBy (string), 56], [Property: TopicVersion.DeletedAt (DateTime?), 57], [Property: TopicVersion.Description (string), 58], [Property: TopicVersion.DocumentUrl (string) MaxLength(500), 59], [Property: TopicVersion.EN_Title (string) Required MaxLength(500), 60], [Property: TopicVersion.ExpectedOutcomes (string), 61], [Property: TopicVersion.IsActive (bool) Required, 62], [Property: TopicVersion.LastModifiedAt (DateTime?), 63], [Property: TopicVersion.LastModifiedBy (string), 64], [Property: TopicVersion.Methodology (string), 65], [Property: TopicVersion.Objectives (string), 66], [Property: TopicVersion.PotentialDuplicate (string), 67], [Property: TopicVersion.Problem (string), 68], [Property: TopicVersion.Requirements (string), 69], [Property: TopicVersion.Status (TopicStatus) Required Index ValueGenerated.OnAdd, 70], [Property: TopicVersion.SubmittedAt (DateTime?), 71], [Property: TopicVersion.SubmittedBy (int?) FK Index, 72], [Property: TopicVersion.TopicId (int) Required FK Index, 73], [Property: TopicVersion.VN_title (string), 74], [Property: TopicVersion.VersionNumber (int) Required Index, 75] }
            4 -> Dictionary<IProperty, int> { [Property: Topic.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 76], [Property: Topic.Abbreviation (string), 77], [Property: Topic.CategoryId (int?) FK Index, 78], [Property: Topic.Content (string), 79], [Property: Topic.Context (string), 80], [Property: Topic.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 81], [Property: Topic.CreatedBy (string), 82], [Property: Topic.DeletedAt (DateTime?), 83], [Property: Topic.Description (string), 84], [Property: Topic.EN_Title (string) Required MaxLength(500), 85], [Property: Topic.IsActive (bool) Required, 86], [Property: Topic.IsApproved (bool) Required Index Sentinel:True ValueGenerated.OnAdd, 87], [Property: Topic.IsLegacy (bool) Required Index ValueGenerated.OnAdd, 88], [Property: Topic.LastModifiedAt (DateTime?), 89], [Property: Topic.LastModifiedBy (string), 90], [Property: Topic.MaxStudents (int) Required ValueGenerated.OnAdd, 91], [Property: Topic.Objectives (string), 92], [Property: Topic.PotentialDuplicate (string), 93], [Property: Topic.Problem (string), 94], [Property: Topic.SemesterId (int) Required FK Index, 95], [Property: Topic.SupervisorId (int) Required FK Index, 96], [Property: Topic.VN_title (string), 97] }
        SELECT r.Id, r.AssignedAt, r.AssignedBy, r.AssignmentType, r.CompletedAt, r.Deadline, r.ReviewerId, r.SkillMatchScore, r.StartedAt, r.Status, r.SubmissionId, s.Id, s.AdditionalNotes, s.AiCheckDetails, s.AiCheckScore, s.AiCheckStatus, s.CreatedAt, s.CreatedBy, s.DeletedAt, s.DocumentUrl, s.IsActive, s.LastModifiedAt, s.LastModifiedBy, s.PhaseId, s.Status, s.SubmissionRound, s.SubmittedAt, s.SubmittedBy, s.TopicId, s.TopicVersionId, t.Id, t.Abbreviation, t.CategoryId, t.Content, t.Context, t.CreatedAt, t.CreatedBy, t.DeletedAt, t.Description, t.EN_Title, t.IsActive, t.IsApproved, t.IsLegacy, t.LastModifiedAt, t.LastModifiedBy, t.MaxStudents, t.Objectives, t.PotentialDuplicate, t.Problem, t.SemesterId, t.SupervisorId, t.VN_title, t0.Id, t0.Content, t0.Context, t0.CreatedAt, t0.CreatedBy, t0.DeletedAt, t0.Description, t0.DocumentUrl, t0.EN_Title, t0.ExpectedOutcomes, t0.IsActive, t0.LastModifiedAt, t0.LastModifiedBy, t0.Methodology, t0.Objectives, t0.PotentialDuplicate, t0.Problem, t0.Requirements, t0.Status, t0.SubmittedAt, t0.SubmittedBy, t0.TopicId, t0.VN_title, t0.VersionNumber, t1.Id, t1.Abbreviation, t1.CategoryId, t1.Content, t1.Context, t1.CreatedAt, t1.CreatedBy, t1.DeletedAt, t1.Description, t1.EN_Title, t1.IsActive, t1.IsApproved, t1.IsLegacy, t1.LastModifiedAt, t1.LastModifiedBy, t1.MaxStudents, t1.Objectives, t1.PotentialDuplicate, t1.Problem, t1.SemesterId, t1.SupervisorId, t1.VN_title
        FROM reviewer_assignments AS r
        INNER JOIN submissions AS s ON r.SubmissionId == s.Id
        LEFT JOIN topics AS t ON s.TopicId == t.Id
        LEFT JOIN topic_versions AS t0 ON s.TopicVersionId == t0.Id
        LEFT JOIN topics AS t1 ON t0.TopicId == t1.Id
        WHERE r.ReviewerId IN (
            SELECT 8.value
            FROM OPENJSON(@__8__locals2_reviewerIds_0) WITH (value int '') AS 8) && (((Not(s.Id == NULL) && Not(t.Id == NULL)) && (t.SemesterId == @__sid_1)) || (((Not(s.Id == NULL) && Not(t0.Id == NULL)) && Not(t1.Id == NULL)) && (t1.SemesterId == @__sid_1)))), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ReviewerAssignment>, 
    App.DAL.Context.MyDbContext, 
    False, 
    False, 
    True
)'
2025-10-03 18:37:01.822 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:37:01.822 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:37:01.823 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 18:37:01.823 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:37:01.828 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2025-10-03 18:37:01.828 +07:00 [DBG] Executing DbCommand [Parameters=[@__8__locals2_reviewerIds_0='?' (Size = 4000), @__sid_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId], [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Abbreviation], [t].[CategoryId], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[EN_Title], [t].[IsActive], [t].[IsApproved], [t].[IsLegacy], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[MaxStudents], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[SemesterId], [t].[SupervisorId], [t].[VN_title], [t0].[Id], [t0].[Content], [t0].[Context], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[DocumentUrl], [t0].[EN_Title], [t0].[ExpectedOutcomes], [t0].[IsActive], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[Methodology], [t0].[Objectives], [t0].[PotentialDuplicate], [t0].[Problem], [t0].[Requirements], [t0].[Status], [t0].[SubmittedAt], [t0].[SubmittedBy], [t0].[TopicId], [t0].[VN_title], [t0].[VersionNumber], [t1].[Id], [t1].[Abbreviation], [t1].[CategoryId], [t1].[Content], [t1].[Context], [t1].[CreatedAt], [t1].[CreatedBy], [t1].[DeletedAt], [t1].[Description], [t1].[EN_Title], [t1].[IsActive], [t1].[IsApproved], [t1].[IsLegacy], [t1].[LastModifiedAt], [t1].[LastModifiedBy], [t1].[MaxStudents], [t1].[Objectives], [t1].[PotentialDuplicate], [t1].[Problem], [t1].[SemesterId], [t1].[SupervisorId], [t1].[VN_title]
FROM [reviewer_assignments] AS [r]
INNER JOIN [submissions] AS [s] ON [r].[SubmissionId] = [s].[Id]
LEFT JOIN [topics] AS [t] ON [s].[TopicId] = [t].[Id]
LEFT JOIN [topic_versions] AS [t0] ON [s].[TopicVersionId] = [t0].[Id]
LEFT JOIN [topics] AS [t1] ON [t0].[TopicId] = [t1].[Id]
WHERE [r].[ReviewerId] IN (
    SELECT [8].[value]
    FROM OPENJSON(@__8__locals2_reviewerIds_0) WITH ([value] int '$') AS [8]
) AND (([t].[Id] IS NOT NULL AND [t].[SemesterId] = @__sid_1) OR ([t0].[Id] IS NOT NULL AND [t1].[Id] IS NOT NULL AND [t1].[SemesterId] = @__sid_1))
2025-10-03 18:37:01.856 +07:00 [INF] Executed DbCommand (28ms) [Parameters=[@__8__locals2_reviewerIds_0='?' (Size = 4000), @__sid_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId], [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Abbreviation], [t].[CategoryId], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[EN_Title], [t].[IsActive], [t].[IsApproved], [t].[IsLegacy], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[MaxStudents], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[SemesterId], [t].[SupervisorId], [t].[VN_title], [t0].[Id], [t0].[Content], [t0].[Context], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[DocumentUrl], [t0].[EN_Title], [t0].[ExpectedOutcomes], [t0].[IsActive], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[Methodology], [t0].[Objectives], [t0].[PotentialDuplicate], [t0].[Problem], [t0].[Requirements], [t0].[Status], [t0].[SubmittedAt], [t0].[SubmittedBy], [t0].[TopicId], [t0].[VN_title], [t0].[VersionNumber], [t1].[Id], [t1].[Abbreviation], [t1].[CategoryId], [t1].[Content], [t1].[Context], [t1].[CreatedAt], [t1].[CreatedBy], [t1].[DeletedAt], [t1].[Description], [t1].[EN_Title], [t1].[IsActive], [t1].[IsApproved], [t1].[IsLegacy], [t1].[LastModifiedAt], [t1].[LastModifiedBy], [t1].[MaxStudents], [t1].[Objectives], [t1].[PotentialDuplicate], [t1].[Problem], [t1].[SemesterId], [t1].[SupervisorId], [t1].[VN_title]
FROM [reviewer_assignments] AS [r]
INNER JOIN [submissions] AS [s] ON [r].[SubmissionId] = [s].[Id]
LEFT JOIN [topics] AS [t] ON [s].[TopicId] = [t].[Id]
LEFT JOIN [topic_versions] AS [t0] ON [s].[TopicVersionId] = [t0].[Id]
LEFT JOIN [topics] AS [t1] ON [t0].[TopicId] = [t1].[Id]
WHERE [r].[ReviewerId] IN (
    SELECT [8].[value]
    FROM OPENJSON(@__8__locals2_reviewerIds_0) WITH ([value] int '$') AS [8]
) AND (([t].[Id] IS NOT NULL AND [t].[SemesterId] = @__sid_1) OR ([t0].[Id] IS NOT NULL AND [t1].[Id] IS NOT NULL AND [t1].[SemesterId] = @__sid_1))
2025-10-03 18:37:01.862 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 18:37:01.862 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 6ms reading results.
2025-10-03 18:37:01.863 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:37:01.863 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 18:37:01.872 +07:00 [DBG] Compiling query expression: 
'DbSet<ReviewerPerformance>()
    .AsNoTracking()
    .Where(rp => __reviewerIds_0.Contains(rp.ReviewerId) && False || rp.SemesterId == __8__locals1_semesterId_Value_1)'
2025-10-03 18:37:01.879 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<ReviewerPerformance>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ReviewerPerformance.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ReviewerPerformance.AverageScoreGiven (decimal?), 1], [Property: ReviewerPerformance.AverageTimeMinutes (int) Required ValueGenerated.OnAdd, 2], [Property: ReviewerPerformance.CompletedAssignments (int) Required ValueGenerated.OnAdd, 3], [Property: ReviewerPerformance.LastUpdated (DateTime) Required ValueGenerated.OnAdd, 4], [Property: ReviewerPerformance.OnTimeRate (decimal?), 5], [Property: ReviewerPerformance.QualityRating (decimal?), 6], [Property: ReviewerPerformance.ReviewerId (int) Required FK Index, 7], [Property: ReviewerPerformance.SemesterId (int) Required FK Index, 8], [Property: ReviewerPerformance.TotalAssignments (int) Required ValueGenerated.OnAdd, 9] }
        SELECT r.Id, r.AverageScoreGiven, r.AverageTimeMinutes, r.CompletedAssignments, r.LastUpdated, r.OnTimeRate, r.QualityRating, r.ReviewerId, r.SemesterId, r.TotalAssignments
        FROM reviewer_performance AS r
        WHERE r.ReviewerId IN (
            SELECT r0.value
            FROM OPENJSON(@__reviewerIds_0) WITH (value int '') AS r0) && (CAST(0 AS bit) || (r.SemesterId == @__8__locals1_semesterId_Value_1))), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ReviewerPerformance>, 
    App.DAL.Context.MyDbContext, 
    False, 
    False, 
    True
)'
2025-10-03 18:37:01.880 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:37:01.880 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:37:01.880 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 18:37:01.880 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:37:01.881 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:37:01.881 +07:00 [DBG] Executing DbCommand [Parameters=[@__reviewerIds_0='?' (Size = 4000), @__8__locals1_semesterId_Value_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AverageScoreGiven], [r].[AverageTimeMinutes], [r].[CompletedAssignments], [r].[LastUpdated], [r].[OnTimeRate], [r].[QualityRating], [r].[ReviewerId], [r].[SemesterId], [r].[TotalAssignments]
FROM [reviewer_performance] AS [r]
WHERE [r].[ReviewerId] IN (
    SELECT [r0].[value]
    FROM OPENJSON(@__reviewerIds_0) WITH ([value] int '$') AS [r0]
) AND [r].[SemesterId] = @__8__locals1_semesterId_Value_1
2025-10-03 18:37:01.885 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__reviewerIds_0='?' (Size = 4000), @__8__locals1_semesterId_Value_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AverageScoreGiven], [r].[AverageTimeMinutes], [r].[CompletedAssignments], [r].[LastUpdated], [r].[OnTimeRate], [r].[QualityRating], [r].[ReviewerId], [r].[SemesterId], [r].[TotalAssignments]
FROM [reviewer_performance] AS [r]
WHERE [r].[ReviewerId] IN (
    SELECT [r0].[value]
    FROM OPENJSON(@__reviewerIds_0) WITH ([value] int '$') AS [r0]
) AND [r].[SemesterId] = @__8__locals1_semesterId_Value_1
2025-10-03 18:37:01.885 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 18:37:01.886 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-10-03 18:37:01.886 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:37:01.886 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 18:37:01.898 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-10-03 18:37:01.900 +07:00 [DBG] No information found on request to perform content negotiation.
2025-10-03 18:37:01.900 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-10-03 18:37:01.900 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-10-03 18:37:01.902 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-10-03 18:37:01.903 +07:00 [INF] Executing ObjectResult, writing value of type 'FS.Commons.FSResponse'.
2025-10-03 18:37:01.967 +07:00 [INF] Executed action CapBot.api.Controllers.ReviewerAssignmentController.GetReviewersWorkload (CapBot.api) in 529.3286ms
2025-10-03 18:37:01.968 +07:00 [INF] Executed endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetReviewersWorkload (CapBot.api)'
2025-10-03 18:37:01.971 +07:00 [DBG] Connection id "0HNG2E4HE1RSS" completed keep alive response.
2025-10-03 18:37:01.972 +07:00 [DBG] 'MyDbContext' disposed.
2025-10-03 18:37:01.972 +07:00 [DBG] Disposing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:37:01.972 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-10-03 18:37:01.974 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5207/api/reviewer-assignments/workload?semesterId=1 - 200 null application/json; charset=utf-8 743.5465ms
2025-10-03 18:37:42.641 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5207/api/reviewer-assignments/workload?semesterId=1 - null null
2025-10-03 18:37:42.641 +07:00 [DBG] The request path /api/reviewer-assignments/workload does not match a supported file type
2025-10-03 18:37:42.641 +07:00 [DBG] The request path /api/reviewer-assignments/workload does not match a supported file type
2025-10-03 18:37:42.647 +07:00 [DBG] 1 candidate(s) found for the request path '/api/reviewer-assignments/workload'
2025-10-03 18:37:42.647 +07:00 [DBG] Endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetReviewersWorkload (CapBot.api)' with route pattern 'api/reviewer-assignments/workload' is valid for the request path '/api/reviewer-assignments/workload'
2025-10-03 18:37:42.647 +07:00 [DBG] Request matched endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetReviewersWorkload (CapBot.api)'
2025-10-03 18:37:42.653 +07:00 [DBG] Successfully validated the token.
2025-10-03 18:37:42.654 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-10-03 18:37:42.657 +07:00 [DBG] Authorization was successful.
2025-10-03 18:37:42.658 +07:00 [INF] Executing endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetReviewersWorkload (CapBot.api)'
2025-10-03 18:37:42.659 +07:00 [INF] Route matched with {action = "GetReviewersWorkload", controller = "ReviewerAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetReviewersWorkload(System.Nullable`1[System.Int32]) on controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api).
2025-10-03 18:37:42.659 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-10-03 18:37:42.659 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-10-03 18:37:42.659 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2025-10-03 18:37:42.660 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-10-03 18:37:42.660 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-10-03 18:37:42.660 +07:00 [DBG] Executing controller factory for controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api)
2025-10-03 18:37:42.662 +07:00 [DBG] Executed controller factory for controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api)
2025-10-03 18:37:42.663 +07:00 [DBG] Attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]' ...
2025-10-03 18:37:42.664 +07:00 [DBG] Attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]' using the name 'semesterId' in request data ...
2025-10-03 18:37:42.664 +07:00 [DBG] Done attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]'.
2025-10-03 18:37:42.664 +07:00 [DBG] Done attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]'.
2025-10-03 18:37:42.664 +07:00 [DBG] Attempting to validate the bound parameter 'semesterId' of type 'System.Nullable`1[System.Int32]' ...
2025-10-03 18:37:42.665 +07:00 [DBG] Done attempting to validate the bound parameter 'semesterId' of type 'System.Nullable`1[System.Int32]'.
2025-10-03 18:37:42.670 +07:00 [DBG] Entity Framework Core 8.0.16 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: MigrationsAssembly=App.DAL 
2025-10-03 18:37:42.672 +07:00 [DBG] Creating DbConnection.
2025-10-03 18:37:42.672 +07:00 [DBG] Created DbConnection. (0ms).
2025-10-03 18:37:42.672 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:37:42.672 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:37:42.672 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 18:37:42.672 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:37:42.673 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:37:42.673 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[RoleId], [u0].[Id], [u0].[AccessFailedCount], [u0].[ConcurrencyStamp], [u0].[CreatedAt], [u0].[DeletedAt], [u0].[Email], [u0].[EmailConfirmed], [u0].[LastModifiedAt], [u0].[LastModifiedBy], [u0].[LockoutEnabled], [u0].[LockoutEnd], [u0].[NormalizedEmail], [u0].[NormalizedUserName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[PhoneNumberConfirmed], [u0].[SecurityStamp], [u0].[TwoFactorEnabled], [u0].[UserName], [r].[Id], [l].[Id], [l].[CreatedAt], [l].[CreatedBy], [l].[DeletedAt], [l].[IsActive], [l].[LastModifiedAt], [l].[LastModifiedBy], [l].[LecturerId], [l].[ProficiencyLevel], [l].[SkillTag], [r0].[Id], [r0].[AverageScoreGiven], [r0].[AverageTimeMinutes], [r0].[CompletedAssignments], [r0].[LastUpdated], [r0].[OnTimeRate], [r0].[QualityRating], [r0].[ReviewerId], [r0].[SemesterId], [r0].[TotalAssignments], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [user_roles] AS [u]
INNER JOIN [roles] AS [r] ON [u].[RoleId] = [r].[Id]
INNER JOIN [users] AS [u0] ON [u].[UserId] = [u0].[Id]
LEFT JOIN [lecturer_skills] AS [l] ON [u0].[Id] = [l].[LecturerId]
LEFT JOIN [reviewer_performance] AS [r0] ON [u0].[Id] = [r0].[ReviewerId]
WHERE [r].[Name] = N'Reviewer'
ORDER BY [u].[UserId], [u].[RoleId], [r].[Id], [u0].[Id], [l].[Id]
2025-10-03 18:37:42.681 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[RoleId], [u0].[Id], [u0].[AccessFailedCount], [u0].[ConcurrencyStamp], [u0].[CreatedAt], [u0].[DeletedAt], [u0].[Email], [u0].[EmailConfirmed], [u0].[LastModifiedAt], [u0].[LastModifiedBy], [u0].[LockoutEnabled], [u0].[LockoutEnd], [u0].[NormalizedEmail], [u0].[NormalizedUserName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[PhoneNumberConfirmed], [u0].[SecurityStamp], [u0].[TwoFactorEnabled], [u0].[UserName], [r].[Id], [l].[Id], [l].[CreatedAt], [l].[CreatedBy], [l].[DeletedAt], [l].[IsActive], [l].[LastModifiedAt], [l].[LastModifiedBy], [l].[LecturerId], [l].[ProficiencyLevel], [l].[SkillTag], [r0].[Id], [r0].[AverageScoreGiven], [r0].[AverageTimeMinutes], [r0].[CompletedAssignments], [r0].[LastUpdated], [r0].[OnTimeRate], [r0].[QualityRating], [r0].[ReviewerId], [r0].[SemesterId], [r0].[TotalAssignments], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [user_roles] AS [u]
INNER JOIN [roles] AS [r] ON [u].[RoleId] = [r].[Id]
INNER JOIN [users] AS [u0] ON [u].[UserId] = [u0].[Id]
LEFT JOIN [lecturer_skills] AS [l] ON [u0].[Id] = [l].[LecturerId]
LEFT JOIN [reviewer_performance] AS [r0] ON [u0].[Id] = [r0].[ReviewerId]
WHERE [r].[Name] = N'Reviewer'
ORDER BY [u].[UserId], [u].[RoleId], [r].[Id], [u0].[Id], [l].[Id]
2025-10-03 18:37:42.692 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 18:37:42.692 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 11ms reading results.
2025-10-03 18:37:42.692 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:37:42.692 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 18:37:42.694 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:37:42.694 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:37:42.694 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 18:37:42.694 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:37:42.694 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:37:42.694 +07:00 [DBG] Executing DbCommand [Parameters=[@__8__locals2_reviewerIds_0='?' (Size = 4000), @__sid_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId], [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Abbreviation], [t].[CategoryId], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[EN_Title], [t].[IsActive], [t].[IsApproved], [t].[IsLegacy], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[MaxStudents], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[SemesterId], [t].[SupervisorId], [t].[VN_title], [t0].[Id], [t0].[Content], [t0].[Context], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[DocumentUrl], [t0].[EN_Title], [t0].[ExpectedOutcomes], [t0].[IsActive], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[Methodology], [t0].[Objectives], [t0].[PotentialDuplicate], [t0].[Problem], [t0].[Requirements], [t0].[Status], [t0].[SubmittedAt], [t0].[SubmittedBy], [t0].[TopicId], [t0].[VN_title], [t0].[VersionNumber], [t1].[Id], [t1].[Abbreviation], [t1].[CategoryId], [t1].[Content], [t1].[Context], [t1].[CreatedAt], [t1].[CreatedBy], [t1].[DeletedAt], [t1].[Description], [t1].[EN_Title], [t1].[IsActive], [t1].[IsApproved], [t1].[IsLegacy], [t1].[LastModifiedAt], [t1].[LastModifiedBy], [t1].[MaxStudents], [t1].[Objectives], [t1].[PotentialDuplicate], [t1].[Problem], [t1].[SemesterId], [t1].[SupervisorId], [t1].[VN_title]
FROM [reviewer_assignments] AS [r]
INNER JOIN [submissions] AS [s] ON [r].[SubmissionId] = [s].[Id]
LEFT JOIN [topics] AS [t] ON [s].[TopicId] = [t].[Id]
LEFT JOIN [topic_versions] AS [t0] ON [s].[TopicVersionId] = [t0].[Id]
LEFT JOIN [topics] AS [t1] ON [t0].[TopicId] = [t1].[Id]
WHERE [r].[ReviewerId] IN (
    SELECT [8].[value]
    FROM OPENJSON(@__8__locals2_reviewerIds_0) WITH ([value] int '$') AS [8]
) AND (([t].[Id] IS NOT NULL AND [t].[SemesterId] = @__sid_1) OR ([t0].[Id] IS NOT NULL AND [t1].[Id] IS NOT NULL AND [t1].[SemesterId] = @__sid_1))
2025-10-03 18:37:42.719 +07:00 [INF] Executed DbCommand (25ms) [Parameters=[@__8__locals2_reviewerIds_0='?' (Size = 4000), @__sid_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId], [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Abbreviation], [t].[CategoryId], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[EN_Title], [t].[IsActive], [t].[IsApproved], [t].[IsLegacy], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[MaxStudents], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[SemesterId], [t].[SupervisorId], [t].[VN_title], [t0].[Id], [t0].[Content], [t0].[Context], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[DocumentUrl], [t0].[EN_Title], [t0].[ExpectedOutcomes], [t0].[IsActive], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[Methodology], [t0].[Objectives], [t0].[PotentialDuplicate], [t0].[Problem], [t0].[Requirements], [t0].[Status], [t0].[SubmittedAt], [t0].[SubmittedBy], [t0].[TopicId], [t0].[VN_title], [t0].[VersionNumber], [t1].[Id], [t1].[Abbreviation], [t1].[CategoryId], [t1].[Content], [t1].[Context], [t1].[CreatedAt], [t1].[CreatedBy], [t1].[DeletedAt], [t1].[Description], [t1].[EN_Title], [t1].[IsActive], [t1].[IsApproved], [t1].[IsLegacy], [t1].[LastModifiedAt], [t1].[LastModifiedBy], [t1].[MaxStudents], [t1].[Objectives], [t1].[PotentialDuplicate], [t1].[Problem], [t1].[SemesterId], [t1].[SupervisorId], [t1].[VN_title]
FROM [reviewer_assignments] AS [r]
INNER JOIN [submissions] AS [s] ON [r].[SubmissionId] = [s].[Id]
LEFT JOIN [topics] AS [t] ON [s].[TopicId] = [t].[Id]
LEFT JOIN [topic_versions] AS [t0] ON [s].[TopicVersionId] = [t0].[Id]
LEFT JOIN [topics] AS [t1] ON [t0].[TopicId] = [t1].[Id]
WHERE [r].[ReviewerId] IN (
    SELECT [8].[value]
    FROM OPENJSON(@__8__locals2_reviewerIds_0) WITH ([value] int '$') AS [8]
) AND (([t].[Id] IS NOT NULL AND [t].[SemesterId] = @__sid_1) OR ([t0].[Id] IS NOT NULL AND [t1].[Id] IS NOT NULL AND [t1].[SemesterId] = @__sid_1))
2025-10-03 18:37:42.723 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 18:37:42.724 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 4ms reading results.
2025-10-03 18:37:42.724 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:37:42.724 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 18:37:42.725 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:37:42.725 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:37:42.725 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 18:37:42.725 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:37:42.725 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:37:42.725 +07:00 [DBG] Executing DbCommand [Parameters=[@__reviewerIds_0='?' (Size = 4000), @__8__locals1_semesterId_Value_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AverageScoreGiven], [r].[AverageTimeMinutes], [r].[CompletedAssignments], [r].[LastUpdated], [r].[OnTimeRate], [r].[QualityRating], [r].[ReviewerId], [r].[SemesterId], [r].[TotalAssignments]
FROM [reviewer_performance] AS [r]
WHERE [r].[ReviewerId] IN (
    SELECT [r0].[value]
    FROM OPENJSON(@__reviewerIds_0) WITH ([value] int '$') AS [r0]
) AND [r].[SemesterId] = @__8__locals1_semesterId_Value_1
2025-10-03 18:37:42.730 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__reviewerIds_0='?' (Size = 4000), @__8__locals1_semesterId_Value_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AverageScoreGiven], [r].[AverageTimeMinutes], [r].[CompletedAssignments], [r].[LastUpdated], [r].[OnTimeRate], [r].[QualityRating], [r].[ReviewerId], [r].[SemesterId], [r].[TotalAssignments]
FROM [reviewer_performance] AS [r]
WHERE [r].[ReviewerId] IN (
    SELECT [r0].[value]
    FROM OPENJSON(@__reviewerIds_0) WITH ([value] int '$') AS [r0]
) AND [r].[SemesterId] = @__8__locals1_semesterId_Value_1
2025-10-03 18:37:42.730 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 18:37:42.731 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-10-03 18:37:42.731 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:37:42.731 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 18:37:42.733 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-10-03 18:37:42.734 +07:00 [DBG] No information found on request to perform content negotiation.
2025-10-03 18:37:42.735 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-10-03 18:37:42.735 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-10-03 18:37:42.737 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-10-03 18:37:42.737 +07:00 [INF] Executing ObjectResult, writing value of type 'FS.Commons.FSResponse'.
2025-10-03 18:37:42.738 +07:00 [INF] Executed action CapBot.api.Controllers.ReviewerAssignmentController.GetReviewersWorkload (CapBot.api) in 77.927ms
2025-10-03 18:37:42.738 +07:00 [INF] Executed endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetReviewersWorkload (CapBot.api)'
2025-10-03 18:37:42.739 +07:00 [DBG] Connection id "0HNG2E4HE1RSS" completed keep alive response.
2025-10-03 18:37:42.739 +07:00 [DBG] 'MyDbContext' disposed.
2025-10-03 18:37:42.739 +07:00 [DBG] Disposing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:37:42.739 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-10-03 18:37:42.739 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5207/api/reviewer-assignments/workload?semesterId=1 - 200 null application/json; charset=utf-8 98.6462ms
2025-10-03 18:37:43.544 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5207/api/reviewer-assignments/workload?semesterId=1 - null null
2025-10-03 18:37:43.544 +07:00 [DBG] The request path /api/reviewer-assignments/workload does not match a supported file type
2025-10-03 18:37:43.545 +07:00 [DBG] The request path /api/reviewer-assignments/workload does not match a supported file type
2025-10-03 18:37:43.545 +07:00 [DBG] 1 candidate(s) found for the request path '/api/reviewer-assignments/workload'
2025-10-03 18:37:43.545 +07:00 [DBG] Endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetReviewersWorkload (CapBot.api)' with route pattern 'api/reviewer-assignments/workload' is valid for the request path '/api/reviewer-assignments/workload'
2025-10-03 18:37:43.545 +07:00 [DBG] Request matched endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetReviewersWorkload (CapBot.api)'
2025-10-03 18:37:43.548 +07:00 [DBG] Successfully validated the token.
2025-10-03 18:37:43.548 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-10-03 18:37:43.555 +07:00 [DBG] Authorization was successful.
2025-10-03 18:37:43.574 +07:00 [INF] Executing endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetReviewersWorkload (CapBot.api)'
2025-10-03 18:37:43.574 +07:00 [INF] Route matched with {action = "GetReviewersWorkload", controller = "ReviewerAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetReviewersWorkload(System.Nullable`1[System.Int32]) on controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api).
2025-10-03 18:37:43.574 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-10-03 18:37:43.575 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-10-03 18:37:43.575 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2025-10-03 18:37:43.575 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-10-03 18:37:43.575 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-10-03 18:37:43.575 +07:00 [DBG] Executing controller factory for controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api)
2025-10-03 18:37:43.596 +07:00 [DBG] Executed controller factory for controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api)
2025-10-03 18:37:43.597 +07:00 [DBG] Attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]' ...
2025-10-03 18:37:43.598 +07:00 [DBG] Attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]' using the name 'semesterId' in request data ...
2025-10-03 18:37:43.598 +07:00 [DBG] Done attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]'.
2025-10-03 18:37:43.598 +07:00 [DBG] Done attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]'.
2025-10-03 18:37:43.598 +07:00 [DBG] Attempting to validate the bound parameter 'semesterId' of type 'System.Nullable`1[System.Int32]' ...
2025-10-03 18:37:43.599 +07:00 [DBG] Done attempting to validate the bound parameter 'semesterId' of type 'System.Nullable`1[System.Int32]'.
2025-10-03 18:37:43.603 +07:00 [DBG] Entity Framework Core 8.0.16 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: MigrationsAssembly=App.DAL 
2025-10-03 18:37:43.604 +07:00 [DBG] Creating DbConnection.
2025-10-03 18:37:43.605 +07:00 [DBG] Created DbConnection. (0ms).
2025-10-03 18:37:43.605 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:37:43.605 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:37:43.605 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 18:37:43.605 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:37:43.605 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:37:43.605 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[RoleId], [u0].[Id], [u0].[AccessFailedCount], [u0].[ConcurrencyStamp], [u0].[CreatedAt], [u0].[DeletedAt], [u0].[Email], [u0].[EmailConfirmed], [u0].[LastModifiedAt], [u0].[LastModifiedBy], [u0].[LockoutEnabled], [u0].[LockoutEnd], [u0].[NormalizedEmail], [u0].[NormalizedUserName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[PhoneNumberConfirmed], [u0].[SecurityStamp], [u0].[TwoFactorEnabled], [u0].[UserName], [r].[Id], [l].[Id], [l].[CreatedAt], [l].[CreatedBy], [l].[DeletedAt], [l].[IsActive], [l].[LastModifiedAt], [l].[LastModifiedBy], [l].[LecturerId], [l].[ProficiencyLevel], [l].[SkillTag], [r0].[Id], [r0].[AverageScoreGiven], [r0].[AverageTimeMinutes], [r0].[CompletedAssignments], [r0].[LastUpdated], [r0].[OnTimeRate], [r0].[QualityRating], [r0].[ReviewerId], [r0].[SemesterId], [r0].[TotalAssignments], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [user_roles] AS [u]
INNER JOIN [roles] AS [r] ON [u].[RoleId] = [r].[Id]
INNER JOIN [users] AS [u0] ON [u].[UserId] = [u0].[Id]
LEFT JOIN [lecturer_skills] AS [l] ON [u0].[Id] = [l].[LecturerId]
LEFT JOIN [reviewer_performance] AS [r0] ON [u0].[Id] = [r0].[ReviewerId]
WHERE [r].[Name] = N'Reviewer'
ORDER BY [u].[UserId], [u].[RoleId], [r].[Id], [u0].[Id], [l].[Id]
2025-10-03 18:37:43.607 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[RoleId], [u0].[Id], [u0].[AccessFailedCount], [u0].[ConcurrencyStamp], [u0].[CreatedAt], [u0].[DeletedAt], [u0].[Email], [u0].[EmailConfirmed], [u0].[LastModifiedAt], [u0].[LastModifiedBy], [u0].[LockoutEnabled], [u0].[LockoutEnd], [u0].[NormalizedEmail], [u0].[NormalizedUserName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[PhoneNumberConfirmed], [u0].[SecurityStamp], [u0].[TwoFactorEnabled], [u0].[UserName], [r].[Id], [l].[Id], [l].[CreatedAt], [l].[CreatedBy], [l].[DeletedAt], [l].[IsActive], [l].[LastModifiedAt], [l].[LastModifiedBy], [l].[LecturerId], [l].[ProficiencyLevel], [l].[SkillTag], [r0].[Id], [r0].[AverageScoreGiven], [r0].[AverageTimeMinutes], [r0].[CompletedAssignments], [r0].[LastUpdated], [r0].[OnTimeRate], [r0].[QualityRating], [r0].[ReviewerId], [r0].[SemesterId], [r0].[TotalAssignments], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [user_roles] AS [u]
INNER JOIN [roles] AS [r] ON [u].[RoleId] = [r].[Id]
INNER JOIN [users] AS [u0] ON [u].[UserId] = [u0].[Id]
LEFT JOIN [lecturer_skills] AS [l] ON [u0].[Id] = [l].[LecturerId]
LEFT JOIN [reviewer_performance] AS [r0] ON [u0].[Id] = [r0].[ReviewerId]
WHERE [r].[Name] = N'Reviewer'
ORDER BY [u].[UserId], [u].[RoleId], [r].[Id], [u0].[Id], [l].[Id]
2025-10-03 18:37:43.608 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 18:37:43.609 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 1ms reading results.
2025-10-03 18:37:43.609 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:37:43.609 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 18:37:43.610 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:37:43.610 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:37:43.610 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 18:37:43.611 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:37:43.611 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:37:43.611 +07:00 [DBG] Executing DbCommand [Parameters=[@__8__locals2_reviewerIds_0='?' (Size = 4000), @__sid_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId], [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Abbreviation], [t].[CategoryId], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[EN_Title], [t].[IsActive], [t].[IsApproved], [t].[IsLegacy], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[MaxStudents], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[SemesterId], [t].[SupervisorId], [t].[VN_title], [t0].[Id], [t0].[Content], [t0].[Context], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[DocumentUrl], [t0].[EN_Title], [t0].[ExpectedOutcomes], [t0].[IsActive], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[Methodology], [t0].[Objectives], [t0].[PotentialDuplicate], [t0].[Problem], [t0].[Requirements], [t0].[Status], [t0].[SubmittedAt], [t0].[SubmittedBy], [t0].[TopicId], [t0].[VN_title], [t0].[VersionNumber], [t1].[Id], [t1].[Abbreviation], [t1].[CategoryId], [t1].[Content], [t1].[Context], [t1].[CreatedAt], [t1].[CreatedBy], [t1].[DeletedAt], [t1].[Description], [t1].[EN_Title], [t1].[IsActive], [t1].[IsApproved], [t1].[IsLegacy], [t1].[LastModifiedAt], [t1].[LastModifiedBy], [t1].[MaxStudents], [t1].[Objectives], [t1].[PotentialDuplicate], [t1].[Problem], [t1].[SemesterId], [t1].[SupervisorId], [t1].[VN_title]
FROM [reviewer_assignments] AS [r]
INNER JOIN [submissions] AS [s] ON [r].[SubmissionId] = [s].[Id]
LEFT JOIN [topics] AS [t] ON [s].[TopicId] = [t].[Id]
LEFT JOIN [topic_versions] AS [t0] ON [s].[TopicVersionId] = [t0].[Id]
LEFT JOIN [topics] AS [t1] ON [t0].[TopicId] = [t1].[Id]
WHERE [r].[ReviewerId] IN (
    SELECT [8].[value]
    FROM OPENJSON(@__8__locals2_reviewerIds_0) WITH ([value] int '$') AS [8]
) AND (([t].[Id] IS NOT NULL AND [t].[SemesterId] = @__sid_1) OR ([t0].[Id] IS NOT NULL AND [t1].[Id] IS NOT NULL AND [t1].[SemesterId] = @__sid_1))
2025-10-03 18:37:43.619 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[@__8__locals2_reviewerIds_0='?' (Size = 4000), @__sid_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId], [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Abbreviation], [t].[CategoryId], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[EN_Title], [t].[IsActive], [t].[IsApproved], [t].[IsLegacy], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[MaxStudents], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[SemesterId], [t].[SupervisorId], [t].[VN_title], [t0].[Id], [t0].[Content], [t0].[Context], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[DocumentUrl], [t0].[EN_Title], [t0].[ExpectedOutcomes], [t0].[IsActive], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[Methodology], [t0].[Objectives], [t0].[PotentialDuplicate], [t0].[Problem], [t0].[Requirements], [t0].[Status], [t0].[SubmittedAt], [t0].[SubmittedBy], [t0].[TopicId], [t0].[VN_title], [t0].[VersionNumber], [t1].[Id], [t1].[Abbreviation], [t1].[CategoryId], [t1].[Content], [t1].[Context], [t1].[CreatedAt], [t1].[CreatedBy], [t1].[DeletedAt], [t1].[Description], [t1].[EN_Title], [t1].[IsActive], [t1].[IsApproved], [t1].[IsLegacy], [t1].[LastModifiedAt], [t1].[LastModifiedBy], [t1].[MaxStudents], [t1].[Objectives], [t1].[PotentialDuplicate], [t1].[Problem], [t1].[SemesterId], [t1].[SupervisorId], [t1].[VN_title]
FROM [reviewer_assignments] AS [r]
INNER JOIN [submissions] AS [s] ON [r].[SubmissionId] = [s].[Id]
LEFT JOIN [topics] AS [t] ON [s].[TopicId] = [t].[Id]
LEFT JOIN [topic_versions] AS [t0] ON [s].[TopicVersionId] = [t0].[Id]
LEFT JOIN [topics] AS [t1] ON [t0].[TopicId] = [t1].[Id]
WHERE [r].[ReviewerId] IN (
    SELECT [8].[value]
    FROM OPENJSON(@__8__locals2_reviewerIds_0) WITH ([value] int '$') AS [8]
) AND (([t].[Id] IS NOT NULL AND [t].[SemesterId] = @__sid_1) OR ([t0].[Id] IS NOT NULL AND [t1].[Id] IS NOT NULL AND [t1].[SemesterId] = @__sid_1))
2025-10-03 18:37:43.622 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 18:37:43.622 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 2ms reading results.
2025-10-03 18:37:43.622 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:37:43.622 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 18:37:43.624 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:37:43.624 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:37:43.624 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 18:37:43.624 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:37:43.624 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:37:43.624 +07:00 [DBG] Executing DbCommand [Parameters=[@__reviewerIds_0='?' (Size = 4000), @__8__locals1_semesterId_Value_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AverageScoreGiven], [r].[AverageTimeMinutes], [r].[CompletedAssignments], [r].[LastUpdated], [r].[OnTimeRate], [r].[QualityRating], [r].[ReviewerId], [r].[SemesterId], [r].[TotalAssignments]
FROM [reviewer_performance] AS [r]
WHERE [r].[ReviewerId] IN (
    SELECT [r0].[value]
    FROM OPENJSON(@__reviewerIds_0) WITH ([value] int '$') AS [r0]
) AND [r].[SemesterId] = @__8__locals1_semesterId_Value_1
2025-10-03 18:37:43.625 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__reviewerIds_0='?' (Size = 4000), @__8__locals1_semesterId_Value_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AverageScoreGiven], [r].[AverageTimeMinutes], [r].[CompletedAssignments], [r].[LastUpdated], [r].[OnTimeRate], [r].[QualityRating], [r].[ReviewerId], [r].[SemesterId], [r].[TotalAssignments]
FROM [reviewer_performance] AS [r]
WHERE [r].[ReviewerId] IN (
    SELECT [r0].[value]
    FROM OPENJSON(@__reviewerIds_0) WITH ([value] int '$') AS [r0]
) AND [r].[SemesterId] = @__8__locals1_semesterId_Value_1
2025-10-03 18:37:43.625 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 18:37:43.625 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-10-03 18:37:43.625 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:37:43.626 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 18:37:43.626 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-10-03 18:37:43.627 +07:00 [DBG] No information found on request to perform content negotiation.
2025-10-03 18:37:43.627 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-10-03 18:37:43.627 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-10-03 18:37:43.627 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-10-03 18:37:43.627 +07:00 [INF] Executing ObjectResult, writing value of type 'FS.Commons.FSResponse'.
2025-10-03 18:37:43.627 +07:00 [INF] Executed action CapBot.api.Controllers.ReviewerAssignmentController.GetReviewersWorkload (CapBot.api) in 52.5622ms
2025-10-03 18:37:43.628 +07:00 [INF] Executed endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetReviewersWorkload (CapBot.api)'
2025-10-03 18:37:43.628 +07:00 [DBG] Connection id "0HNG2E4HE1RSS" completed keep alive response.
2025-10-03 18:37:43.628 +07:00 [DBG] 'MyDbContext' disposed.
2025-10-03 18:37:43.628 +07:00 [DBG] Disposing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:37:43.628 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-10-03 18:37:43.629 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5207/api/reviewer-assignments/workload?semesterId=1 - 200 null application/json; charset=utf-8 84.5252ms
2025-10-03 18:37:44.243 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5207/api/reviewer-assignments/workload?semesterId=1 - null null
2025-10-03 18:37:44.244 +07:00 [DBG] The request path /api/reviewer-assignments/workload does not match a supported file type
2025-10-03 18:37:44.244 +07:00 [DBG] The request path /api/reviewer-assignments/workload does not match a supported file type
2025-10-03 18:37:44.244 +07:00 [DBG] 1 candidate(s) found for the request path '/api/reviewer-assignments/workload'
2025-10-03 18:37:44.244 +07:00 [DBG] Endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetReviewersWorkload (CapBot.api)' with route pattern 'api/reviewer-assignments/workload' is valid for the request path '/api/reviewer-assignments/workload'
2025-10-03 18:37:44.244 +07:00 [DBG] Request matched endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetReviewersWorkload (CapBot.api)'
2025-10-03 18:37:44.244 +07:00 [DBG] Successfully validated the token.
2025-10-03 18:37:44.244 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-10-03 18:37:44.245 +07:00 [DBG] Authorization was successful.
2025-10-03 18:37:44.245 +07:00 [INF] Executing endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetReviewersWorkload (CapBot.api)'
2025-10-03 18:37:44.245 +07:00 [INF] Route matched with {action = "GetReviewersWorkload", controller = "ReviewerAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetReviewersWorkload(System.Nullable`1[System.Int32]) on controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api).
2025-10-03 18:37:44.245 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-10-03 18:37:44.245 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-10-03 18:37:44.245 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2025-10-03 18:37:44.245 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-10-03 18:37:44.246 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-10-03 18:37:44.246 +07:00 [DBG] Executing controller factory for controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api)
2025-10-03 18:37:44.246 +07:00 [DBG] Executed controller factory for controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api)
2025-10-03 18:37:44.246 +07:00 [DBG] Attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]' ...
2025-10-03 18:37:44.246 +07:00 [DBG] Attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]' using the name 'semesterId' in request data ...
2025-10-03 18:37:44.246 +07:00 [DBG] Done attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]'.
2025-10-03 18:37:44.246 +07:00 [DBG] Done attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]'.
2025-10-03 18:37:44.247 +07:00 [DBG] Attempting to validate the bound parameter 'semesterId' of type 'System.Nullable`1[System.Int32]' ...
2025-10-03 18:37:44.247 +07:00 [DBG] Done attempting to validate the bound parameter 'semesterId' of type 'System.Nullable`1[System.Int32]'.
2025-10-03 18:37:44.247 +07:00 [DBG] Entity Framework Core 8.0.16 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: MigrationsAssembly=App.DAL 
2025-10-03 18:37:44.248 +07:00 [DBG] Creating DbConnection.
2025-10-03 18:37:44.248 +07:00 [DBG] Created DbConnection. (0ms).
2025-10-03 18:37:44.248 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:37:44.249 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:37:44.249 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 18:37:44.249 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:37:44.249 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:37:44.249 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[RoleId], [u0].[Id], [u0].[AccessFailedCount], [u0].[ConcurrencyStamp], [u0].[CreatedAt], [u0].[DeletedAt], [u0].[Email], [u0].[EmailConfirmed], [u0].[LastModifiedAt], [u0].[LastModifiedBy], [u0].[LockoutEnabled], [u0].[LockoutEnd], [u0].[NormalizedEmail], [u0].[NormalizedUserName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[PhoneNumberConfirmed], [u0].[SecurityStamp], [u0].[TwoFactorEnabled], [u0].[UserName], [r].[Id], [l].[Id], [l].[CreatedAt], [l].[CreatedBy], [l].[DeletedAt], [l].[IsActive], [l].[LastModifiedAt], [l].[LastModifiedBy], [l].[LecturerId], [l].[ProficiencyLevel], [l].[SkillTag], [r0].[Id], [r0].[AverageScoreGiven], [r0].[AverageTimeMinutes], [r0].[CompletedAssignments], [r0].[LastUpdated], [r0].[OnTimeRate], [r0].[QualityRating], [r0].[ReviewerId], [r0].[SemesterId], [r0].[TotalAssignments], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [user_roles] AS [u]
INNER JOIN [roles] AS [r] ON [u].[RoleId] = [r].[Id]
INNER JOIN [users] AS [u0] ON [u].[UserId] = [u0].[Id]
LEFT JOIN [lecturer_skills] AS [l] ON [u0].[Id] = [l].[LecturerId]
LEFT JOIN [reviewer_performance] AS [r0] ON [u0].[Id] = [r0].[ReviewerId]
WHERE [r].[Name] = N'Reviewer'
ORDER BY [u].[UserId], [u].[RoleId], [r].[Id], [u0].[Id], [l].[Id]
2025-10-03 18:37:44.251 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[RoleId], [u0].[Id], [u0].[AccessFailedCount], [u0].[ConcurrencyStamp], [u0].[CreatedAt], [u0].[DeletedAt], [u0].[Email], [u0].[EmailConfirmed], [u0].[LastModifiedAt], [u0].[LastModifiedBy], [u0].[LockoutEnabled], [u0].[LockoutEnd], [u0].[NormalizedEmail], [u0].[NormalizedUserName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[PhoneNumberConfirmed], [u0].[SecurityStamp], [u0].[TwoFactorEnabled], [u0].[UserName], [r].[Id], [l].[Id], [l].[CreatedAt], [l].[CreatedBy], [l].[DeletedAt], [l].[IsActive], [l].[LastModifiedAt], [l].[LastModifiedBy], [l].[LecturerId], [l].[ProficiencyLevel], [l].[SkillTag], [r0].[Id], [r0].[AverageScoreGiven], [r0].[AverageTimeMinutes], [r0].[CompletedAssignments], [r0].[LastUpdated], [r0].[OnTimeRate], [r0].[QualityRating], [r0].[ReviewerId], [r0].[SemesterId], [r0].[TotalAssignments], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [user_roles] AS [u]
INNER JOIN [roles] AS [r] ON [u].[RoleId] = [r].[Id]
INNER JOIN [users] AS [u0] ON [u].[UserId] = [u0].[Id]
LEFT JOIN [lecturer_skills] AS [l] ON [u0].[Id] = [l].[LecturerId]
LEFT JOIN [reviewer_performance] AS [r0] ON [u0].[Id] = [r0].[ReviewerId]
WHERE [r].[Name] = N'Reviewer'
ORDER BY [u].[UserId], [u].[RoleId], [r].[Id], [u0].[Id], [l].[Id]
2025-10-03 18:37:44.252 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 18:37:44.253 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 1ms reading results.
2025-10-03 18:37:44.253 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:37:44.253 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 18:37:44.254 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:37:44.255 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:37:44.255 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 18:37:44.255 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:37:44.255 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:37:44.255 +07:00 [DBG] Executing DbCommand [Parameters=[@__8__locals2_reviewerIds_0='?' (Size = 4000), @__sid_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId], [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Abbreviation], [t].[CategoryId], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[EN_Title], [t].[IsActive], [t].[IsApproved], [t].[IsLegacy], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[MaxStudents], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[SemesterId], [t].[SupervisorId], [t].[VN_title], [t0].[Id], [t0].[Content], [t0].[Context], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[DocumentUrl], [t0].[EN_Title], [t0].[ExpectedOutcomes], [t0].[IsActive], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[Methodology], [t0].[Objectives], [t0].[PotentialDuplicate], [t0].[Problem], [t0].[Requirements], [t0].[Status], [t0].[SubmittedAt], [t0].[SubmittedBy], [t0].[TopicId], [t0].[VN_title], [t0].[VersionNumber], [t1].[Id], [t1].[Abbreviation], [t1].[CategoryId], [t1].[Content], [t1].[Context], [t1].[CreatedAt], [t1].[CreatedBy], [t1].[DeletedAt], [t1].[Description], [t1].[EN_Title], [t1].[IsActive], [t1].[IsApproved], [t1].[IsLegacy], [t1].[LastModifiedAt], [t1].[LastModifiedBy], [t1].[MaxStudents], [t1].[Objectives], [t1].[PotentialDuplicate], [t1].[Problem], [t1].[SemesterId], [t1].[SupervisorId], [t1].[VN_title]
FROM [reviewer_assignments] AS [r]
INNER JOIN [submissions] AS [s] ON [r].[SubmissionId] = [s].[Id]
LEFT JOIN [topics] AS [t] ON [s].[TopicId] = [t].[Id]
LEFT JOIN [topic_versions] AS [t0] ON [s].[TopicVersionId] = [t0].[Id]
LEFT JOIN [topics] AS [t1] ON [t0].[TopicId] = [t1].[Id]
WHERE [r].[ReviewerId] IN (
    SELECT [8].[value]
    FROM OPENJSON(@__8__locals2_reviewerIds_0) WITH ([value] int '$') AS [8]
) AND (([t].[Id] IS NOT NULL AND [t].[SemesterId] = @__sid_1) OR ([t0].[Id] IS NOT NULL AND [t1].[Id] IS NOT NULL AND [t1].[SemesterId] = @__sid_1))
2025-10-03 18:37:44.275 +07:00 [INF] Executed DbCommand (20ms) [Parameters=[@__8__locals2_reviewerIds_0='?' (Size = 4000), @__sid_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId], [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Abbreviation], [t].[CategoryId], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[EN_Title], [t].[IsActive], [t].[IsApproved], [t].[IsLegacy], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[MaxStudents], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[SemesterId], [t].[SupervisorId], [t].[VN_title], [t0].[Id], [t0].[Content], [t0].[Context], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[DocumentUrl], [t0].[EN_Title], [t0].[ExpectedOutcomes], [t0].[IsActive], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[Methodology], [t0].[Objectives], [t0].[PotentialDuplicate], [t0].[Problem], [t0].[Requirements], [t0].[Status], [t0].[SubmittedAt], [t0].[SubmittedBy], [t0].[TopicId], [t0].[VN_title], [t0].[VersionNumber], [t1].[Id], [t1].[Abbreviation], [t1].[CategoryId], [t1].[Content], [t1].[Context], [t1].[CreatedAt], [t1].[CreatedBy], [t1].[DeletedAt], [t1].[Description], [t1].[EN_Title], [t1].[IsActive], [t1].[IsApproved], [t1].[IsLegacy], [t1].[LastModifiedAt], [t1].[LastModifiedBy], [t1].[MaxStudents], [t1].[Objectives], [t1].[PotentialDuplicate], [t1].[Problem], [t1].[SemesterId], [t1].[SupervisorId], [t1].[VN_title]
FROM [reviewer_assignments] AS [r]
INNER JOIN [submissions] AS [s] ON [r].[SubmissionId] = [s].[Id]
LEFT JOIN [topics] AS [t] ON [s].[TopicId] = [t].[Id]
LEFT JOIN [topic_versions] AS [t0] ON [s].[TopicVersionId] = [t0].[Id]
LEFT JOIN [topics] AS [t1] ON [t0].[TopicId] = [t1].[Id]
WHERE [r].[ReviewerId] IN (
    SELECT [8].[value]
    FROM OPENJSON(@__8__locals2_reviewerIds_0) WITH ([value] int '$') AS [8]
) AND (([t].[Id] IS NOT NULL AND [t].[SemesterId] = @__sid_1) OR ([t0].[Id] IS NOT NULL AND [t1].[Id] IS NOT NULL AND [t1].[SemesterId] = @__sid_1))
2025-10-03 18:37:44.291 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 18:37:44.292 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 15ms reading results.
2025-10-03 18:37:44.292 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:37:44.292 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 18:37:44.292 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:37:44.293 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:37:44.293 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 18:37:44.293 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:37:44.293 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:37:44.293 +07:00 [DBG] Executing DbCommand [Parameters=[@__reviewerIds_0='?' (Size = 4000), @__8__locals1_semesterId_Value_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AverageScoreGiven], [r].[AverageTimeMinutes], [r].[CompletedAssignments], [r].[LastUpdated], [r].[OnTimeRate], [r].[QualityRating], [r].[ReviewerId], [r].[SemesterId], [r].[TotalAssignments]
FROM [reviewer_performance] AS [r]
WHERE [r].[ReviewerId] IN (
    SELECT [r0].[value]
    FROM OPENJSON(@__reviewerIds_0) WITH ([value] int '$') AS [r0]
) AND [r].[SemesterId] = @__8__locals1_semesterId_Value_1
2025-10-03 18:37:44.294 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__reviewerIds_0='?' (Size = 4000), @__8__locals1_semesterId_Value_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AverageScoreGiven], [r].[AverageTimeMinutes], [r].[CompletedAssignments], [r].[LastUpdated], [r].[OnTimeRate], [r].[QualityRating], [r].[ReviewerId], [r].[SemesterId], [r].[TotalAssignments]
FROM [reviewer_performance] AS [r]
WHERE [r].[ReviewerId] IN (
    SELECT [r0].[value]
    FROM OPENJSON(@__reviewerIds_0) WITH ([value] int '$') AS [r0]
) AND [r].[SemesterId] = @__8__locals1_semesterId_Value_1
2025-10-03 18:37:44.294 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 18:37:44.294 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-10-03 18:37:44.294 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:37:44.294 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 18:37:44.295 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-10-03 18:37:44.295 +07:00 [DBG] No information found on request to perform content negotiation.
2025-10-03 18:37:44.295 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-10-03 18:37:44.295 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-10-03 18:37:44.295 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-10-03 18:37:44.295 +07:00 [INF] Executing ObjectResult, writing value of type 'FS.Commons.FSResponse'.
2025-10-03 18:37:44.295 +07:00 [INF] Executed action CapBot.api.Controllers.ReviewerAssignmentController.GetReviewersWorkload (CapBot.api) in 49.6027ms
2025-10-03 18:37:44.295 +07:00 [INF] Executed endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetReviewersWorkload (CapBot.api)'
2025-10-03 18:37:44.296 +07:00 [DBG] Connection id "0HNG2E4HE1RSS" completed keep alive response.
2025-10-03 18:37:44.296 +07:00 [DBG] 'MyDbContext' disposed.
2025-10-03 18:37:44.296 +07:00 [DBG] Disposing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:37:44.296 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-10-03 18:37:44.296 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5207/api/reviewer-assignments/workload?semesterId=1 - 200 null application/json; charset=utf-8 52.6213ms
2025-10-03 18:37:44.461 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5207/api/reviewer-assignments/workload?semesterId=1 - null null
2025-10-03 18:37:44.462 +07:00 [DBG] The request path /api/reviewer-assignments/workload does not match a supported file type
2025-10-03 18:37:44.462 +07:00 [DBG] The request path /api/reviewer-assignments/workload does not match a supported file type
2025-10-03 18:37:44.462 +07:00 [DBG] 1 candidate(s) found for the request path '/api/reviewer-assignments/workload'
2025-10-03 18:37:44.462 +07:00 [DBG] Endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetReviewersWorkload (CapBot.api)' with route pattern 'api/reviewer-assignments/workload' is valid for the request path '/api/reviewer-assignments/workload'
2025-10-03 18:37:44.462 +07:00 [DBG] Request matched endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetReviewersWorkload (CapBot.api)'
2025-10-03 18:37:44.463 +07:00 [DBG] Successfully validated the token.
2025-10-03 18:37:44.463 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-10-03 18:37:44.463 +07:00 [DBG] Authorization was successful.
2025-10-03 18:37:44.463 +07:00 [INF] Executing endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetReviewersWorkload (CapBot.api)'
2025-10-03 18:37:44.463 +07:00 [INF] Route matched with {action = "GetReviewersWorkload", controller = "ReviewerAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetReviewersWorkload(System.Nullable`1[System.Int32]) on controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api).
2025-10-03 18:37:44.463 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-10-03 18:37:44.463 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-10-03 18:37:44.463 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2025-10-03 18:37:44.464 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-10-03 18:37:44.464 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-10-03 18:37:44.464 +07:00 [DBG] Executing controller factory for controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api)
2025-10-03 18:37:44.465 +07:00 [DBG] Executed controller factory for controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api)
2025-10-03 18:37:44.466 +07:00 [DBG] Attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]' ...
2025-10-03 18:37:44.466 +07:00 [DBG] Attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]' using the name 'semesterId' in request data ...
2025-10-03 18:37:44.466 +07:00 [DBG] Done attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]'.
2025-10-03 18:37:44.466 +07:00 [DBG] Done attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]'.
2025-10-03 18:37:44.466 +07:00 [DBG] Attempting to validate the bound parameter 'semesterId' of type 'System.Nullable`1[System.Int32]' ...
2025-10-03 18:37:44.466 +07:00 [DBG] Done attempting to validate the bound parameter 'semesterId' of type 'System.Nullable`1[System.Int32]'.
2025-10-03 18:37:44.468 +07:00 [DBG] Entity Framework Core 8.0.16 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: MigrationsAssembly=App.DAL 
2025-10-03 18:37:44.469 +07:00 [DBG] Creating DbConnection.
2025-10-03 18:37:44.469 +07:00 [DBG] Created DbConnection. (0ms).
2025-10-03 18:37:44.469 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:37:44.469 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:37:44.469 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 18:37:44.469 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:37:44.469 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:37:44.470 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[RoleId], [u0].[Id], [u0].[AccessFailedCount], [u0].[ConcurrencyStamp], [u0].[CreatedAt], [u0].[DeletedAt], [u0].[Email], [u0].[EmailConfirmed], [u0].[LastModifiedAt], [u0].[LastModifiedBy], [u0].[LockoutEnabled], [u0].[LockoutEnd], [u0].[NormalizedEmail], [u0].[NormalizedUserName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[PhoneNumberConfirmed], [u0].[SecurityStamp], [u0].[TwoFactorEnabled], [u0].[UserName], [r].[Id], [l].[Id], [l].[CreatedAt], [l].[CreatedBy], [l].[DeletedAt], [l].[IsActive], [l].[LastModifiedAt], [l].[LastModifiedBy], [l].[LecturerId], [l].[ProficiencyLevel], [l].[SkillTag], [r0].[Id], [r0].[AverageScoreGiven], [r0].[AverageTimeMinutes], [r0].[CompletedAssignments], [r0].[LastUpdated], [r0].[OnTimeRate], [r0].[QualityRating], [r0].[ReviewerId], [r0].[SemesterId], [r0].[TotalAssignments], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [user_roles] AS [u]
INNER JOIN [roles] AS [r] ON [u].[RoleId] = [r].[Id]
INNER JOIN [users] AS [u0] ON [u].[UserId] = [u0].[Id]
LEFT JOIN [lecturer_skills] AS [l] ON [u0].[Id] = [l].[LecturerId]
LEFT JOIN [reviewer_performance] AS [r0] ON [u0].[Id] = [r0].[ReviewerId]
WHERE [r].[Name] = N'Reviewer'
ORDER BY [u].[UserId], [u].[RoleId], [r].[Id], [u0].[Id], [l].[Id]
2025-10-03 18:37:44.472 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[RoleId], [u0].[Id], [u0].[AccessFailedCount], [u0].[ConcurrencyStamp], [u0].[CreatedAt], [u0].[DeletedAt], [u0].[Email], [u0].[EmailConfirmed], [u0].[LastModifiedAt], [u0].[LastModifiedBy], [u0].[LockoutEnabled], [u0].[LockoutEnd], [u0].[NormalizedEmail], [u0].[NormalizedUserName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[PhoneNumberConfirmed], [u0].[SecurityStamp], [u0].[TwoFactorEnabled], [u0].[UserName], [r].[Id], [l].[Id], [l].[CreatedAt], [l].[CreatedBy], [l].[DeletedAt], [l].[IsActive], [l].[LastModifiedAt], [l].[LastModifiedBy], [l].[LecturerId], [l].[ProficiencyLevel], [l].[SkillTag], [r0].[Id], [r0].[AverageScoreGiven], [r0].[AverageTimeMinutes], [r0].[CompletedAssignments], [r0].[LastUpdated], [r0].[OnTimeRate], [r0].[QualityRating], [r0].[ReviewerId], [r0].[SemesterId], [r0].[TotalAssignments], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [user_roles] AS [u]
INNER JOIN [roles] AS [r] ON [u].[RoleId] = [r].[Id]
INNER JOIN [users] AS [u0] ON [u].[UserId] = [u0].[Id]
LEFT JOIN [lecturer_skills] AS [l] ON [u0].[Id] = [l].[LecturerId]
LEFT JOIN [reviewer_performance] AS [r0] ON [u0].[Id] = [r0].[ReviewerId]
WHERE [r].[Name] = N'Reviewer'
ORDER BY [u].[UserId], [u].[RoleId], [r].[Id], [u0].[Id], [l].[Id]
2025-10-03 18:37:44.474 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 18:37:44.474 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 2ms reading results.
2025-10-03 18:37:44.474 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:37:44.475 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 18:37:44.475 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:37:44.476 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:37:44.476 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 18:37:44.476 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:37:44.476 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:37:44.476 +07:00 [DBG] Executing DbCommand [Parameters=[@__8__locals2_reviewerIds_0='?' (Size = 4000), @__sid_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId], [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Abbreviation], [t].[CategoryId], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[EN_Title], [t].[IsActive], [t].[IsApproved], [t].[IsLegacy], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[MaxStudents], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[SemesterId], [t].[SupervisorId], [t].[VN_title], [t0].[Id], [t0].[Content], [t0].[Context], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[DocumentUrl], [t0].[EN_Title], [t0].[ExpectedOutcomes], [t0].[IsActive], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[Methodology], [t0].[Objectives], [t0].[PotentialDuplicate], [t0].[Problem], [t0].[Requirements], [t0].[Status], [t0].[SubmittedAt], [t0].[SubmittedBy], [t0].[TopicId], [t0].[VN_title], [t0].[VersionNumber], [t1].[Id], [t1].[Abbreviation], [t1].[CategoryId], [t1].[Content], [t1].[Context], [t1].[CreatedAt], [t1].[CreatedBy], [t1].[DeletedAt], [t1].[Description], [t1].[EN_Title], [t1].[IsActive], [t1].[IsApproved], [t1].[IsLegacy], [t1].[LastModifiedAt], [t1].[LastModifiedBy], [t1].[MaxStudents], [t1].[Objectives], [t1].[PotentialDuplicate], [t1].[Problem], [t1].[SemesterId], [t1].[SupervisorId], [t1].[VN_title]
FROM [reviewer_assignments] AS [r]
INNER JOIN [submissions] AS [s] ON [r].[SubmissionId] = [s].[Id]
LEFT JOIN [topics] AS [t] ON [s].[TopicId] = [t].[Id]
LEFT JOIN [topic_versions] AS [t0] ON [s].[TopicVersionId] = [t0].[Id]
LEFT JOIN [topics] AS [t1] ON [t0].[TopicId] = [t1].[Id]
WHERE [r].[ReviewerId] IN (
    SELECT [8].[value]
    FROM OPENJSON(@__8__locals2_reviewerIds_0) WITH ([value] int '$') AS [8]
) AND (([t].[Id] IS NOT NULL AND [t].[SemesterId] = @__sid_1) OR ([t0].[Id] IS NOT NULL AND [t1].[Id] IS NOT NULL AND [t1].[SemesterId] = @__sid_1))
2025-10-03 18:37:44.478 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__8__locals2_reviewerIds_0='?' (Size = 4000), @__sid_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId], [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Abbreviation], [t].[CategoryId], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[EN_Title], [t].[IsActive], [t].[IsApproved], [t].[IsLegacy], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[MaxStudents], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[SemesterId], [t].[SupervisorId], [t].[VN_title], [t0].[Id], [t0].[Content], [t0].[Context], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[DocumentUrl], [t0].[EN_Title], [t0].[ExpectedOutcomes], [t0].[IsActive], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[Methodology], [t0].[Objectives], [t0].[PotentialDuplicate], [t0].[Problem], [t0].[Requirements], [t0].[Status], [t0].[SubmittedAt], [t0].[SubmittedBy], [t0].[TopicId], [t0].[VN_title], [t0].[VersionNumber], [t1].[Id], [t1].[Abbreviation], [t1].[CategoryId], [t1].[Content], [t1].[Context], [t1].[CreatedAt], [t1].[CreatedBy], [t1].[DeletedAt], [t1].[Description], [t1].[EN_Title], [t1].[IsActive], [t1].[IsApproved], [t1].[IsLegacy], [t1].[LastModifiedAt], [t1].[LastModifiedBy], [t1].[MaxStudents], [t1].[Objectives], [t1].[PotentialDuplicate], [t1].[Problem], [t1].[SemesterId], [t1].[SupervisorId], [t1].[VN_title]
FROM [reviewer_assignments] AS [r]
INNER JOIN [submissions] AS [s] ON [r].[SubmissionId] = [s].[Id]
LEFT JOIN [topics] AS [t] ON [s].[TopicId] = [t].[Id]
LEFT JOIN [topic_versions] AS [t0] ON [s].[TopicVersionId] = [t0].[Id]
LEFT JOIN [topics] AS [t1] ON [t0].[TopicId] = [t1].[Id]
WHERE [r].[ReviewerId] IN (
    SELECT [8].[value]
    FROM OPENJSON(@__8__locals2_reviewerIds_0) WITH ([value] int '$') AS [8]
) AND (([t].[Id] IS NOT NULL AND [t].[SemesterId] = @__sid_1) OR ([t0].[Id] IS NOT NULL AND [t1].[Id] IS NOT NULL AND [t1].[SemesterId] = @__sid_1))
2025-10-03 18:37:44.481 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 18:37:44.481 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 2ms reading results.
2025-10-03 18:37:44.482 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:37:44.482 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 18:37:44.484 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:37:44.484 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:37:44.484 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 18:37:44.485 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:37:44.485 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:37:44.486 +07:00 [DBG] Executing DbCommand [Parameters=[@__reviewerIds_0='?' (Size = 4000), @__8__locals1_semesterId_Value_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AverageScoreGiven], [r].[AverageTimeMinutes], [r].[CompletedAssignments], [r].[LastUpdated], [r].[OnTimeRate], [r].[QualityRating], [r].[ReviewerId], [r].[SemesterId], [r].[TotalAssignments]
FROM [reviewer_performance] AS [r]
WHERE [r].[ReviewerId] IN (
    SELECT [r0].[value]
    FROM OPENJSON(@__reviewerIds_0) WITH ([value] int '$') AS [r0]
) AND [r].[SemesterId] = @__8__locals1_semesterId_Value_1
2025-10-03 18:37:44.488 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__reviewerIds_0='?' (Size = 4000), @__8__locals1_semesterId_Value_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AverageScoreGiven], [r].[AverageTimeMinutes], [r].[CompletedAssignments], [r].[LastUpdated], [r].[OnTimeRate], [r].[QualityRating], [r].[ReviewerId], [r].[SemesterId], [r].[TotalAssignments]
FROM [reviewer_performance] AS [r]
WHERE [r].[ReviewerId] IN (
    SELECT [r0].[value]
    FROM OPENJSON(@__reviewerIds_0) WITH ([value] int '$') AS [r0]
) AND [r].[SemesterId] = @__8__locals1_semesterId_Value_1
2025-10-03 18:37:44.488 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 18:37:44.488 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-10-03 18:37:44.488 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:37:44.489 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 18:37:44.489 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-10-03 18:37:44.489 +07:00 [DBG] No information found on request to perform content negotiation.
2025-10-03 18:37:44.489 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-10-03 18:37:44.490 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-10-03 18:37:44.490 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-10-03 18:37:44.490 +07:00 [INF] Executing ObjectResult, writing value of type 'FS.Commons.FSResponse'.
2025-10-03 18:37:44.491 +07:00 [INF] Executed action CapBot.api.Controllers.ReviewerAssignmentController.GetReviewersWorkload (CapBot.api) in 26.8175ms
2025-10-03 18:37:44.491 +07:00 [INF] Executed endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetReviewersWorkload (CapBot.api)'
2025-10-03 18:37:44.491 +07:00 [DBG] Connection id "0HNG2E4HE1RSS" completed keep alive response.
2025-10-03 18:37:44.492 +07:00 [DBG] 'MyDbContext' disposed.
2025-10-03 18:37:44.492 +07:00 [DBG] Disposing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:37:44.492 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-10-03 18:37:44.493 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5207/api/reviewer-assignments/workload?semesterId=1 - 200 null application/json; charset=utf-8 31.5964ms
2025-10-03 18:37:44.747 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5207/api/reviewer-assignments/workload?semesterId=1 - null null
2025-10-03 18:37:44.748 +07:00 [DBG] The request path /api/reviewer-assignments/workload does not match a supported file type
2025-10-03 18:37:44.748 +07:00 [DBG] The request path /api/reviewer-assignments/workload does not match a supported file type
2025-10-03 18:37:44.748 +07:00 [DBG] 1 candidate(s) found for the request path '/api/reviewer-assignments/workload'
2025-10-03 18:37:44.748 +07:00 [DBG] Endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetReviewersWorkload (CapBot.api)' with route pattern 'api/reviewer-assignments/workload' is valid for the request path '/api/reviewer-assignments/workload'
2025-10-03 18:37:44.748 +07:00 [DBG] Request matched endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetReviewersWorkload (CapBot.api)'
2025-10-03 18:37:44.749 +07:00 [DBG] Successfully validated the token.
2025-10-03 18:37:44.749 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-10-03 18:37:44.750 +07:00 [DBG] Authorization was successful.
2025-10-03 18:37:44.750 +07:00 [INF] Executing endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetReviewersWorkload (CapBot.api)'
2025-10-03 18:37:44.750 +07:00 [INF] Route matched with {action = "GetReviewersWorkload", controller = "ReviewerAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetReviewersWorkload(System.Nullable`1[System.Int32]) on controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api).
2025-10-03 18:37:44.750 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-10-03 18:37:44.750 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-10-03 18:37:44.750 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2025-10-03 18:37:44.750 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-10-03 18:37:44.750 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-10-03 18:37:44.751 +07:00 [DBG] Executing controller factory for controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api)
2025-10-03 18:37:44.751 +07:00 [DBG] Executed controller factory for controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api)
2025-10-03 18:37:44.751 +07:00 [DBG] Attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]' ...
2025-10-03 18:37:44.751 +07:00 [DBG] Attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]' using the name 'semesterId' in request data ...
2025-10-03 18:37:44.751 +07:00 [DBG] Done attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]'.
2025-10-03 18:37:44.752 +07:00 [DBG] Done attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]'.
2025-10-03 18:37:44.752 +07:00 [DBG] Attempting to validate the bound parameter 'semesterId' of type 'System.Nullable`1[System.Int32]' ...
2025-10-03 18:37:44.752 +07:00 [DBG] Done attempting to validate the bound parameter 'semesterId' of type 'System.Nullable`1[System.Int32]'.
2025-10-03 18:37:44.753 +07:00 [DBG] Entity Framework Core 8.0.16 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: MigrationsAssembly=App.DAL 
2025-10-03 18:37:44.753 +07:00 [DBG] Creating DbConnection.
2025-10-03 18:37:44.754 +07:00 [DBG] Created DbConnection. (0ms).
2025-10-03 18:37:44.754 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:37:44.754 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:37:44.754 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 18:37:44.754 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:37:44.754 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:37:44.754 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[RoleId], [u0].[Id], [u0].[AccessFailedCount], [u0].[ConcurrencyStamp], [u0].[CreatedAt], [u0].[DeletedAt], [u0].[Email], [u0].[EmailConfirmed], [u0].[LastModifiedAt], [u0].[LastModifiedBy], [u0].[LockoutEnabled], [u0].[LockoutEnd], [u0].[NormalizedEmail], [u0].[NormalizedUserName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[PhoneNumberConfirmed], [u0].[SecurityStamp], [u0].[TwoFactorEnabled], [u0].[UserName], [r].[Id], [l].[Id], [l].[CreatedAt], [l].[CreatedBy], [l].[DeletedAt], [l].[IsActive], [l].[LastModifiedAt], [l].[LastModifiedBy], [l].[LecturerId], [l].[ProficiencyLevel], [l].[SkillTag], [r0].[Id], [r0].[AverageScoreGiven], [r0].[AverageTimeMinutes], [r0].[CompletedAssignments], [r0].[LastUpdated], [r0].[OnTimeRate], [r0].[QualityRating], [r0].[ReviewerId], [r0].[SemesterId], [r0].[TotalAssignments], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [user_roles] AS [u]
INNER JOIN [roles] AS [r] ON [u].[RoleId] = [r].[Id]
INNER JOIN [users] AS [u0] ON [u].[UserId] = [u0].[Id]
LEFT JOIN [lecturer_skills] AS [l] ON [u0].[Id] = [l].[LecturerId]
LEFT JOIN [reviewer_performance] AS [r0] ON [u0].[Id] = [r0].[ReviewerId]
WHERE [r].[Name] = N'Reviewer'
ORDER BY [u].[UserId], [u].[RoleId], [r].[Id], [u0].[Id], [l].[Id]
2025-10-03 18:37:44.756 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[RoleId], [u0].[Id], [u0].[AccessFailedCount], [u0].[ConcurrencyStamp], [u0].[CreatedAt], [u0].[DeletedAt], [u0].[Email], [u0].[EmailConfirmed], [u0].[LastModifiedAt], [u0].[LastModifiedBy], [u0].[LockoutEnabled], [u0].[LockoutEnd], [u0].[NormalizedEmail], [u0].[NormalizedUserName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[PhoneNumberConfirmed], [u0].[SecurityStamp], [u0].[TwoFactorEnabled], [u0].[UserName], [r].[Id], [l].[Id], [l].[CreatedAt], [l].[CreatedBy], [l].[DeletedAt], [l].[IsActive], [l].[LastModifiedAt], [l].[LastModifiedBy], [l].[LecturerId], [l].[ProficiencyLevel], [l].[SkillTag], [r0].[Id], [r0].[AverageScoreGiven], [r0].[AverageTimeMinutes], [r0].[CompletedAssignments], [r0].[LastUpdated], [r0].[OnTimeRate], [r0].[QualityRating], [r0].[ReviewerId], [r0].[SemesterId], [r0].[TotalAssignments], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [user_roles] AS [u]
INNER JOIN [roles] AS [r] ON [u].[RoleId] = [r].[Id]
INNER JOIN [users] AS [u0] ON [u].[UserId] = [u0].[Id]
LEFT JOIN [lecturer_skills] AS [l] ON [u0].[Id] = [l].[LecturerId]
LEFT JOIN [reviewer_performance] AS [r0] ON [u0].[Id] = [r0].[ReviewerId]
WHERE [r].[Name] = N'Reviewer'
ORDER BY [u].[UserId], [u].[RoleId], [r].[Id], [u0].[Id], [l].[Id]
2025-10-03 18:37:44.758 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 18:37:44.758 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 1ms reading results.
2025-10-03 18:37:44.758 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:37:44.758 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 18:37:44.760 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:37:44.760 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:37:44.760 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 18:37:44.760 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:37:44.760 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:37:44.760 +07:00 [DBG] Executing DbCommand [Parameters=[@__8__locals2_reviewerIds_0='?' (Size = 4000), @__sid_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId], [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Abbreviation], [t].[CategoryId], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[EN_Title], [t].[IsActive], [t].[IsApproved], [t].[IsLegacy], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[MaxStudents], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[SemesterId], [t].[SupervisorId], [t].[VN_title], [t0].[Id], [t0].[Content], [t0].[Context], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[DocumentUrl], [t0].[EN_Title], [t0].[ExpectedOutcomes], [t0].[IsActive], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[Methodology], [t0].[Objectives], [t0].[PotentialDuplicate], [t0].[Problem], [t0].[Requirements], [t0].[Status], [t0].[SubmittedAt], [t0].[SubmittedBy], [t0].[TopicId], [t0].[VN_title], [t0].[VersionNumber], [t1].[Id], [t1].[Abbreviation], [t1].[CategoryId], [t1].[Content], [t1].[Context], [t1].[CreatedAt], [t1].[CreatedBy], [t1].[DeletedAt], [t1].[Description], [t1].[EN_Title], [t1].[IsActive], [t1].[IsApproved], [t1].[IsLegacy], [t1].[LastModifiedAt], [t1].[LastModifiedBy], [t1].[MaxStudents], [t1].[Objectives], [t1].[PotentialDuplicate], [t1].[Problem], [t1].[SemesterId], [t1].[SupervisorId], [t1].[VN_title]
FROM [reviewer_assignments] AS [r]
INNER JOIN [submissions] AS [s] ON [r].[SubmissionId] = [s].[Id]
LEFT JOIN [topics] AS [t] ON [s].[TopicId] = [t].[Id]
LEFT JOIN [topic_versions] AS [t0] ON [s].[TopicVersionId] = [t0].[Id]
LEFT JOIN [topics] AS [t1] ON [t0].[TopicId] = [t1].[Id]
WHERE [r].[ReviewerId] IN (
    SELECT [8].[value]
    FROM OPENJSON(@__8__locals2_reviewerIds_0) WITH ([value] int '$') AS [8]
) AND (([t].[Id] IS NOT NULL AND [t].[SemesterId] = @__sid_1) OR ([t0].[Id] IS NOT NULL AND [t1].[Id] IS NOT NULL AND [t1].[SemesterId] = @__sid_1))
2025-10-03 18:37:44.762 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__8__locals2_reviewerIds_0='?' (Size = 4000), @__sid_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId], [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Abbreviation], [t].[CategoryId], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[EN_Title], [t].[IsActive], [t].[IsApproved], [t].[IsLegacy], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[MaxStudents], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[SemesterId], [t].[SupervisorId], [t].[VN_title], [t0].[Id], [t0].[Content], [t0].[Context], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[DocumentUrl], [t0].[EN_Title], [t0].[ExpectedOutcomes], [t0].[IsActive], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[Methodology], [t0].[Objectives], [t0].[PotentialDuplicate], [t0].[Problem], [t0].[Requirements], [t0].[Status], [t0].[SubmittedAt], [t0].[SubmittedBy], [t0].[TopicId], [t0].[VN_title], [t0].[VersionNumber], [t1].[Id], [t1].[Abbreviation], [t1].[CategoryId], [t1].[Content], [t1].[Context], [t1].[CreatedAt], [t1].[CreatedBy], [t1].[DeletedAt], [t1].[Description], [t1].[EN_Title], [t1].[IsActive], [t1].[IsApproved], [t1].[IsLegacy], [t1].[LastModifiedAt], [t1].[LastModifiedBy], [t1].[MaxStudents], [t1].[Objectives], [t1].[PotentialDuplicate], [t1].[Problem], [t1].[SemesterId], [t1].[SupervisorId], [t1].[VN_title]
FROM [reviewer_assignments] AS [r]
INNER JOIN [submissions] AS [s] ON [r].[SubmissionId] = [s].[Id]
LEFT JOIN [topics] AS [t] ON [s].[TopicId] = [t].[Id]
LEFT JOIN [topic_versions] AS [t0] ON [s].[TopicVersionId] = [t0].[Id]
LEFT JOIN [topics] AS [t1] ON [t0].[TopicId] = [t1].[Id]
WHERE [r].[ReviewerId] IN (
    SELECT [8].[value]
    FROM OPENJSON(@__8__locals2_reviewerIds_0) WITH ([value] int '$') AS [8]
) AND (([t].[Id] IS NOT NULL AND [t].[SemesterId] = @__sid_1) OR ([t0].[Id] IS NOT NULL AND [t1].[Id] IS NOT NULL AND [t1].[SemesterId] = @__sid_1))
2025-10-03 18:37:44.765 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 18:37:44.766 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 3ms reading results.
2025-10-03 18:37:44.766 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:37:44.766 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 18:37:44.768 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:37:44.769 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:37:44.769 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 18:37:44.770 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:37:44.770 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:37:44.770 +07:00 [DBG] Executing DbCommand [Parameters=[@__reviewerIds_0='?' (Size = 4000), @__8__locals1_semesterId_Value_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AverageScoreGiven], [r].[AverageTimeMinutes], [r].[CompletedAssignments], [r].[LastUpdated], [r].[OnTimeRate], [r].[QualityRating], [r].[ReviewerId], [r].[SemesterId], [r].[TotalAssignments]
FROM [reviewer_performance] AS [r]
WHERE [r].[ReviewerId] IN (
    SELECT [r0].[value]
    FROM OPENJSON(@__reviewerIds_0) WITH ([value] int '$') AS [r0]
) AND [r].[SemesterId] = @__8__locals1_semesterId_Value_1
2025-10-03 18:37:44.773 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__reviewerIds_0='?' (Size = 4000), @__8__locals1_semesterId_Value_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AverageScoreGiven], [r].[AverageTimeMinutes], [r].[CompletedAssignments], [r].[LastUpdated], [r].[OnTimeRate], [r].[QualityRating], [r].[ReviewerId], [r].[SemesterId], [r].[TotalAssignments]
FROM [reviewer_performance] AS [r]
WHERE [r].[ReviewerId] IN (
    SELECT [r0].[value]
    FROM OPENJSON(@__reviewerIds_0) WITH ([value] int '$') AS [r0]
) AND [r].[SemesterId] = @__8__locals1_semesterId_Value_1
2025-10-03 18:37:44.774 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 18:37:44.774 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-10-03 18:37:44.774 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:37:44.775 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 18:37:44.775 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-10-03 18:37:44.775 +07:00 [DBG] No information found on request to perform content negotiation.
2025-10-03 18:37:44.775 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-10-03 18:37:44.775 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-10-03 18:37:44.776 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-10-03 18:37:44.776 +07:00 [INF] Executing ObjectResult, writing value of type 'FS.Commons.FSResponse'.
2025-10-03 18:37:44.776 +07:00 [INF] Executed action CapBot.api.Controllers.ReviewerAssignmentController.GetReviewersWorkload (CapBot.api) in 25.5108ms
2025-10-03 18:37:44.776 +07:00 [INF] Executed endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetReviewersWorkload (CapBot.api)'
2025-10-03 18:37:44.776 +07:00 [DBG] Connection id "0HNG2E4HE1RSS" completed keep alive response.
2025-10-03 18:37:44.777 +07:00 [DBG] 'MyDbContext' disposed.
2025-10-03 18:37:44.777 +07:00 [DBG] Disposing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:37:44.777 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-10-03 18:37:44.777 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5207/api/reviewer-assignments/workload?semesterId=1 - 200 null application/json; charset=utf-8 29.5642ms
2025-10-03 18:37:44.938 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5207/api/reviewer-assignments/workload?semesterId=1 - null null
2025-10-03 18:37:44.938 +07:00 [DBG] The request path /api/reviewer-assignments/workload does not match a supported file type
2025-10-03 18:37:44.938 +07:00 [DBG] The request path /api/reviewer-assignments/workload does not match a supported file type
2025-10-03 18:37:44.938 +07:00 [DBG] 1 candidate(s) found for the request path '/api/reviewer-assignments/workload'
2025-10-03 18:37:44.938 +07:00 [DBG] Endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetReviewersWorkload (CapBot.api)' with route pattern 'api/reviewer-assignments/workload' is valid for the request path '/api/reviewer-assignments/workload'
2025-10-03 18:37:44.938 +07:00 [DBG] Request matched endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetReviewersWorkload (CapBot.api)'
2025-10-03 18:37:44.939 +07:00 [DBG] Successfully validated the token.
2025-10-03 18:37:44.939 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-10-03 18:37:44.939 +07:00 [DBG] Authorization was successful.
2025-10-03 18:37:44.939 +07:00 [INF] Executing endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetReviewersWorkload (CapBot.api)'
2025-10-03 18:37:44.939 +07:00 [INF] Route matched with {action = "GetReviewersWorkload", controller = "ReviewerAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetReviewersWorkload(System.Nullable`1[System.Int32]) on controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api).
2025-10-03 18:37:44.939 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-10-03 18:37:44.939 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-10-03 18:37:44.939 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2025-10-03 18:37:44.939 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-10-03 18:37:44.939 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-10-03 18:37:44.940 +07:00 [DBG] Executing controller factory for controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api)
2025-10-03 18:37:44.940 +07:00 [DBG] Executed controller factory for controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api)
2025-10-03 18:37:44.940 +07:00 [DBG] Attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]' ...
2025-10-03 18:37:44.940 +07:00 [DBG] Attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]' using the name 'semesterId' in request data ...
2025-10-03 18:37:44.940 +07:00 [DBG] Done attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]'.
2025-10-03 18:37:44.940 +07:00 [DBG] Done attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]'.
2025-10-03 18:37:44.940 +07:00 [DBG] Attempting to validate the bound parameter 'semesterId' of type 'System.Nullable`1[System.Int32]' ...
2025-10-03 18:37:44.940 +07:00 [DBG] Done attempting to validate the bound parameter 'semesterId' of type 'System.Nullable`1[System.Int32]'.
2025-10-03 18:37:44.941 +07:00 [DBG] Entity Framework Core 8.0.16 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: MigrationsAssembly=App.DAL 
2025-10-03 18:37:44.941 +07:00 [DBG] Creating DbConnection.
2025-10-03 18:37:44.942 +07:00 [DBG] Created DbConnection. (0ms).
2025-10-03 18:37:44.942 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:37:44.942 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:37:44.942 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 18:37:44.942 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:37:44.942 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:37:44.942 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[RoleId], [u0].[Id], [u0].[AccessFailedCount], [u0].[ConcurrencyStamp], [u0].[CreatedAt], [u0].[DeletedAt], [u0].[Email], [u0].[EmailConfirmed], [u0].[LastModifiedAt], [u0].[LastModifiedBy], [u0].[LockoutEnabled], [u0].[LockoutEnd], [u0].[NormalizedEmail], [u0].[NormalizedUserName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[PhoneNumberConfirmed], [u0].[SecurityStamp], [u0].[TwoFactorEnabled], [u0].[UserName], [r].[Id], [l].[Id], [l].[CreatedAt], [l].[CreatedBy], [l].[DeletedAt], [l].[IsActive], [l].[LastModifiedAt], [l].[LastModifiedBy], [l].[LecturerId], [l].[ProficiencyLevel], [l].[SkillTag], [r0].[Id], [r0].[AverageScoreGiven], [r0].[AverageTimeMinutes], [r0].[CompletedAssignments], [r0].[LastUpdated], [r0].[OnTimeRate], [r0].[QualityRating], [r0].[ReviewerId], [r0].[SemesterId], [r0].[TotalAssignments], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [user_roles] AS [u]
INNER JOIN [roles] AS [r] ON [u].[RoleId] = [r].[Id]
INNER JOIN [users] AS [u0] ON [u].[UserId] = [u0].[Id]
LEFT JOIN [lecturer_skills] AS [l] ON [u0].[Id] = [l].[LecturerId]
LEFT JOIN [reviewer_performance] AS [r0] ON [u0].[Id] = [r0].[ReviewerId]
WHERE [r].[Name] = N'Reviewer'
ORDER BY [u].[UserId], [u].[RoleId], [r].[Id], [u0].[Id], [l].[Id]
2025-10-03 18:37:44.943 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[RoleId], [u0].[Id], [u0].[AccessFailedCount], [u0].[ConcurrencyStamp], [u0].[CreatedAt], [u0].[DeletedAt], [u0].[Email], [u0].[EmailConfirmed], [u0].[LastModifiedAt], [u0].[LastModifiedBy], [u0].[LockoutEnabled], [u0].[LockoutEnd], [u0].[NormalizedEmail], [u0].[NormalizedUserName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[PhoneNumberConfirmed], [u0].[SecurityStamp], [u0].[TwoFactorEnabled], [u0].[UserName], [r].[Id], [l].[Id], [l].[CreatedAt], [l].[CreatedBy], [l].[DeletedAt], [l].[IsActive], [l].[LastModifiedAt], [l].[LastModifiedBy], [l].[LecturerId], [l].[ProficiencyLevel], [l].[SkillTag], [r0].[Id], [r0].[AverageScoreGiven], [r0].[AverageTimeMinutes], [r0].[CompletedAssignments], [r0].[LastUpdated], [r0].[OnTimeRate], [r0].[QualityRating], [r0].[ReviewerId], [r0].[SemesterId], [r0].[TotalAssignments], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [user_roles] AS [u]
INNER JOIN [roles] AS [r] ON [u].[RoleId] = [r].[Id]
INNER JOIN [users] AS [u0] ON [u].[UserId] = [u0].[Id]
LEFT JOIN [lecturer_skills] AS [l] ON [u0].[Id] = [l].[LecturerId]
LEFT JOIN [reviewer_performance] AS [r0] ON [u0].[Id] = [r0].[ReviewerId]
WHERE [r].[Name] = N'Reviewer'
ORDER BY [u].[UserId], [u].[RoleId], [r].[Id], [u0].[Id], [l].[Id]
2025-10-03 18:37:44.944 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 18:37:44.945 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 1ms reading results.
2025-10-03 18:37:44.945 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:37:44.945 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 18:37:44.946 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:37:44.946 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:37:44.946 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 18:37:44.946 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:37:44.946 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:37:44.947 +07:00 [DBG] Executing DbCommand [Parameters=[@__8__locals2_reviewerIds_0='?' (Size = 4000), @__sid_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId], [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Abbreviation], [t].[CategoryId], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[EN_Title], [t].[IsActive], [t].[IsApproved], [t].[IsLegacy], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[MaxStudents], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[SemesterId], [t].[SupervisorId], [t].[VN_title], [t0].[Id], [t0].[Content], [t0].[Context], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[DocumentUrl], [t0].[EN_Title], [t0].[ExpectedOutcomes], [t0].[IsActive], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[Methodology], [t0].[Objectives], [t0].[PotentialDuplicate], [t0].[Problem], [t0].[Requirements], [t0].[Status], [t0].[SubmittedAt], [t0].[SubmittedBy], [t0].[TopicId], [t0].[VN_title], [t0].[VersionNumber], [t1].[Id], [t1].[Abbreviation], [t1].[CategoryId], [t1].[Content], [t1].[Context], [t1].[CreatedAt], [t1].[CreatedBy], [t1].[DeletedAt], [t1].[Description], [t1].[EN_Title], [t1].[IsActive], [t1].[IsApproved], [t1].[IsLegacy], [t1].[LastModifiedAt], [t1].[LastModifiedBy], [t1].[MaxStudents], [t1].[Objectives], [t1].[PotentialDuplicate], [t1].[Problem], [t1].[SemesterId], [t1].[SupervisorId], [t1].[VN_title]
FROM [reviewer_assignments] AS [r]
INNER JOIN [submissions] AS [s] ON [r].[SubmissionId] = [s].[Id]
LEFT JOIN [topics] AS [t] ON [s].[TopicId] = [t].[Id]
LEFT JOIN [topic_versions] AS [t0] ON [s].[TopicVersionId] = [t0].[Id]
LEFT JOIN [topics] AS [t1] ON [t0].[TopicId] = [t1].[Id]
WHERE [r].[ReviewerId] IN (
    SELECT [8].[value]
    FROM OPENJSON(@__8__locals2_reviewerIds_0) WITH ([value] int '$') AS [8]
) AND (([t].[Id] IS NOT NULL AND [t].[SemesterId] = @__sid_1) OR ([t0].[Id] IS NOT NULL AND [t1].[Id] IS NOT NULL AND [t1].[SemesterId] = @__sid_1))
2025-10-03 18:37:44.951 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__8__locals2_reviewerIds_0='?' (Size = 4000), @__sid_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId], [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Abbreviation], [t].[CategoryId], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[EN_Title], [t].[IsActive], [t].[IsApproved], [t].[IsLegacy], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[MaxStudents], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[SemesterId], [t].[SupervisorId], [t].[VN_title], [t0].[Id], [t0].[Content], [t0].[Context], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[DocumentUrl], [t0].[EN_Title], [t0].[ExpectedOutcomes], [t0].[IsActive], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[Methodology], [t0].[Objectives], [t0].[PotentialDuplicate], [t0].[Problem], [t0].[Requirements], [t0].[Status], [t0].[SubmittedAt], [t0].[SubmittedBy], [t0].[TopicId], [t0].[VN_title], [t0].[VersionNumber], [t1].[Id], [t1].[Abbreviation], [t1].[CategoryId], [t1].[Content], [t1].[Context], [t1].[CreatedAt], [t1].[CreatedBy], [t1].[DeletedAt], [t1].[Description], [t1].[EN_Title], [t1].[IsActive], [t1].[IsApproved], [t1].[IsLegacy], [t1].[LastModifiedAt], [t1].[LastModifiedBy], [t1].[MaxStudents], [t1].[Objectives], [t1].[PotentialDuplicate], [t1].[Problem], [t1].[SemesterId], [t1].[SupervisorId], [t1].[VN_title]
FROM [reviewer_assignments] AS [r]
INNER JOIN [submissions] AS [s] ON [r].[SubmissionId] = [s].[Id]
LEFT JOIN [topics] AS [t] ON [s].[TopicId] = [t].[Id]
LEFT JOIN [topic_versions] AS [t0] ON [s].[TopicVersionId] = [t0].[Id]
LEFT JOIN [topics] AS [t1] ON [t0].[TopicId] = [t1].[Id]
WHERE [r].[ReviewerId] IN (
    SELECT [8].[value]
    FROM OPENJSON(@__8__locals2_reviewerIds_0) WITH ([value] int '$') AS [8]
) AND (([t].[Id] IS NOT NULL AND [t].[SemesterId] = @__sid_1) OR ([t0].[Id] IS NOT NULL AND [t1].[Id] IS NOT NULL AND [t1].[SemesterId] = @__sid_1))
2025-10-03 18:37:44.960 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 18:37:44.961 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 9ms reading results.
2025-10-03 18:37:44.961 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:37:44.961 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 18:37:44.962 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:37:44.962 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:37:44.962 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 18:37:44.962 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:37:44.962 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:37:44.962 +07:00 [DBG] Executing DbCommand [Parameters=[@__reviewerIds_0='?' (Size = 4000), @__8__locals1_semesterId_Value_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AverageScoreGiven], [r].[AverageTimeMinutes], [r].[CompletedAssignments], [r].[LastUpdated], [r].[OnTimeRate], [r].[QualityRating], [r].[ReviewerId], [r].[SemesterId], [r].[TotalAssignments]
FROM [reviewer_performance] AS [r]
WHERE [r].[ReviewerId] IN (
    SELECT [r0].[value]
    FROM OPENJSON(@__reviewerIds_0) WITH ([value] int '$') AS [r0]
) AND [r].[SemesterId] = @__8__locals1_semesterId_Value_1
2025-10-03 18:37:44.977 +07:00 [INF] Executed DbCommand (11ms) [Parameters=[@__reviewerIds_0='?' (Size = 4000), @__8__locals1_semesterId_Value_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AverageScoreGiven], [r].[AverageTimeMinutes], [r].[CompletedAssignments], [r].[LastUpdated], [r].[OnTimeRate], [r].[QualityRating], [r].[ReviewerId], [r].[SemesterId], [r].[TotalAssignments]
FROM [reviewer_performance] AS [r]
WHERE [r].[ReviewerId] IN (
    SELECT [r0].[value]
    FROM OPENJSON(@__reviewerIds_0) WITH ([value] int '$') AS [r0]
) AND [r].[SemesterId] = @__8__locals1_semesterId_Value_1
2025-10-03 18:37:44.977 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 18:37:44.977 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-10-03 18:37:44.977 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:37:44.977 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 18:37:44.978 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-10-03 18:37:44.978 +07:00 [DBG] No information found on request to perform content negotiation.
2025-10-03 18:37:44.978 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-10-03 18:37:44.978 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-10-03 18:37:44.978 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-10-03 18:37:44.978 +07:00 [INF] Executing ObjectResult, writing value of type 'FS.Commons.FSResponse'.
2025-10-03 18:37:44.979 +07:00 [INF] Executed action CapBot.api.Controllers.ReviewerAssignmentController.GetReviewersWorkload (CapBot.api) in 39.3567ms
2025-10-03 18:37:44.979 +07:00 [INF] Executed endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetReviewersWorkload (CapBot.api)'
2025-10-03 18:37:44.979 +07:00 [DBG] Connection id "0HNG2E4HE1RSS" completed keep alive response.
2025-10-03 18:37:44.980 +07:00 [DBG] 'MyDbContext' disposed.
2025-10-03 18:37:44.981 +07:00 [DBG] Disposing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:37:44.981 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-10-03 18:37:44.981 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5207/api/reviewer-assignments/workload?semesterId=1 - 200 null application/json; charset=utf-8 43.8142ms
2025-10-03 18:37:45.232 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5207/api/reviewer-assignments/workload?semesterId=1 - null null
2025-10-03 18:37:45.233 +07:00 [DBG] The request path /api/reviewer-assignments/workload does not match a supported file type
2025-10-03 18:37:45.233 +07:00 [DBG] The request path /api/reviewer-assignments/workload does not match a supported file type
2025-10-03 18:37:45.233 +07:00 [DBG] 1 candidate(s) found for the request path '/api/reviewer-assignments/workload'
2025-10-03 18:37:45.233 +07:00 [DBG] Endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetReviewersWorkload (CapBot.api)' with route pattern 'api/reviewer-assignments/workload' is valid for the request path '/api/reviewer-assignments/workload'
2025-10-03 18:37:45.233 +07:00 [DBG] Request matched endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetReviewersWorkload (CapBot.api)'
2025-10-03 18:37:45.234 +07:00 [DBG] Successfully validated the token.
2025-10-03 18:37:45.234 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-10-03 18:37:45.234 +07:00 [DBG] Authorization was successful.
2025-10-03 18:37:45.234 +07:00 [INF] Executing endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetReviewersWorkload (CapBot.api)'
2025-10-03 18:37:45.234 +07:00 [INF] Route matched with {action = "GetReviewersWorkload", controller = "ReviewerAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetReviewersWorkload(System.Nullable`1[System.Int32]) on controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api).
2025-10-03 18:37:45.234 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-10-03 18:37:45.235 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-10-03 18:37:45.235 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2025-10-03 18:37:45.235 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-10-03 18:37:45.235 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-10-03 18:37:45.235 +07:00 [DBG] Executing controller factory for controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api)
2025-10-03 18:37:45.235 +07:00 [DBG] Executed controller factory for controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api)
2025-10-03 18:37:45.235 +07:00 [DBG] Attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]' ...
2025-10-03 18:37:45.236 +07:00 [DBG] Attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]' using the name 'semesterId' in request data ...
2025-10-03 18:37:45.236 +07:00 [DBG] Done attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]'.
2025-10-03 18:37:45.236 +07:00 [DBG] Done attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]'.
2025-10-03 18:37:45.236 +07:00 [DBG] Attempting to validate the bound parameter 'semesterId' of type 'System.Nullable`1[System.Int32]' ...
2025-10-03 18:37:45.236 +07:00 [DBG] Done attempting to validate the bound parameter 'semesterId' of type 'System.Nullable`1[System.Int32]'.
2025-10-03 18:37:45.237 +07:00 [DBG] Entity Framework Core 8.0.16 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: MigrationsAssembly=App.DAL 
2025-10-03 18:37:45.238 +07:00 [DBG] Creating DbConnection.
2025-10-03 18:37:45.238 +07:00 [DBG] Created DbConnection. (0ms).
2025-10-03 18:37:45.238 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:37:45.238 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:37:45.238 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 18:37:45.238 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:37:45.238 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:37:45.238 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[RoleId], [u0].[Id], [u0].[AccessFailedCount], [u0].[ConcurrencyStamp], [u0].[CreatedAt], [u0].[DeletedAt], [u0].[Email], [u0].[EmailConfirmed], [u0].[LastModifiedAt], [u0].[LastModifiedBy], [u0].[LockoutEnabled], [u0].[LockoutEnd], [u0].[NormalizedEmail], [u0].[NormalizedUserName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[PhoneNumberConfirmed], [u0].[SecurityStamp], [u0].[TwoFactorEnabled], [u0].[UserName], [r].[Id], [l].[Id], [l].[CreatedAt], [l].[CreatedBy], [l].[DeletedAt], [l].[IsActive], [l].[LastModifiedAt], [l].[LastModifiedBy], [l].[LecturerId], [l].[ProficiencyLevel], [l].[SkillTag], [r0].[Id], [r0].[AverageScoreGiven], [r0].[AverageTimeMinutes], [r0].[CompletedAssignments], [r0].[LastUpdated], [r0].[OnTimeRate], [r0].[QualityRating], [r0].[ReviewerId], [r0].[SemesterId], [r0].[TotalAssignments], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [user_roles] AS [u]
INNER JOIN [roles] AS [r] ON [u].[RoleId] = [r].[Id]
INNER JOIN [users] AS [u0] ON [u].[UserId] = [u0].[Id]
LEFT JOIN [lecturer_skills] AS [l] ON [u0].[Id] = [l].[LecturerId]
LEFT JOIN [reviewer_performance] AS [r0] ON [u0].[Id] = [r0].[ReviewerId]
WHERE [r].[Name] = N'Reviewer'
ORDER BY [u].[UserId], [u].[RoleId], [r].[Id], [u0].[Id], [l].[Id]
2025-10-03 18:37:45.240 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[RoleId], [u0].[Id], [u0].[AccessFailedCount], [u0].[ConcurrencyStamp], [u0].[CreatedAt], [u0].[DeletedAt], [u0].[Email], [u0].[EmailConfirmed], [u0].[LastModifiedAt], [u0].[LastModifiedBy], [u0].[LockoutEnabled], [u0].[LockoutEnd], [u0].[NormalizedEmail], [u0].[NormalizedUserName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[PhoneNumberConfirmed], [u0].[SecurityStamp], [u0].[TwoFactorEnabled], [u0].[UserName], [r].[Id], [l].[Id], [l].[CreatedAt], [l].[CreatedBy], [l].[DeletedAt], [l].[IsActive], [l].[LastModifiedAt], [l].[LastModifiedBy], [l].[LecturerId], [l].[ProficiencyLevel], [l].[SkillTag], [r0].[Id], [r0].[AverageScoreGiven], [r0].[AverageTimeMinutes], [r0].[CompletedAssignments], [r0].[LastUpdated], [r0].[OnTimeRate], [r0].[QualityRating], [r0].[ReviewerId], [r0].[SemesterId], [r0].[TotalAssignments], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [user_roles] AS [u]
INNER JOIN [roles] AS [r] ON [u].[RoleId] = [r].[Id]
INNER JOIN [users] AS [u0] ON [u].[UserId] = [u0].[Id]
LEFT JOIN [lecturer_skills] AS [l] ON [u0].[Id] = [l].[LecturerId]
LEFT JOIN [reviewer_performance] AS [r0] ON [u0].[Id] = [r0].[ReviewerId]
WHERE [r].[Name] = N'Reviewer'
ORDER BY [u].[UserId], [u].[RoleId], [r].[Id], [u0].[Id], [l].[Id]
2025-10-03 18:37:45.242 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 18:37:45.242 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 1ms reading results.
2025-10-03 18:37:45.242 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:37:45.243 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 18:37:45.244 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:37:45.244 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:37:45.244 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 18:37:45.244 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:37:45.244 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:37:45.245 +07:00 [DBG] Executing DbCommand [Parameters=[@__8__locals2_reviewerIds_0='?' (Size = 4000), @__sid_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId], [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Abbreviation], [t].[CategoryId], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[EN_Title], [t].[IsActive], [t].[IsApproved], [t].[IsLegacy], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[MaxStudents], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[SemesterId], [t].[SupervisorId], [t].[VN_title], [t0].[Id], [t0].[Content], [t0].[Context], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[DocumentUrl], [t0].[EN_Title], [t0].[ExpectedOutcomes], [t0].[IsActive], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[Methodology], [t0].[Objectives], [t0].[PotentialDuplicate], [t0].[Problem], [t0].[Requirements], [t0].[Status], [t0].[SubmittedAt], [t0].[SubmittedBy], [t0].[TopicId], [t0].[VN_title], [t0].[VersionNumber], [t1].[Id], [t1].[Abbreviation], [t1].[CategoryId], [t1].[Content], [t1].[Context], [t1].[CreatedAt], [t1].[CreatedBy], [t1].[DeletedAt], [t1].[Description], [t1].[EN_Title], [t1].[IsActive], [t1].[IsApproved], [t1].[IsLegacy], [t1].[LastModifiedAt], [t1].[LastModifiedBy], [t1].[MaxStudents], [t1].[Objectives], [t1].[PotentialDuplicate], [t1].[Problem], [t1].[SemesterId], [t1].[SupervisorId], [t1].[VN_title]
FROM [reviewer_assignments] AS [r]
INNER JOIN [submissions] AS [s] ON [r].[SubmissionId] = [s].[Id]
LEFT JOIN [topics] AS [t] ON [s].[TopicId] = [t].[Id]
LEFT JOIN [topic_versions] AS [t0] ON [s].[TopicVersionId] = [t0].[Id]
LEFT JOIN [topics] AS [t1] ON [t0].[TopicId] = [t1].[Id]
WHERE [r].[ReviewerId] IN (
    SELECT [8].[value]
    FROM OPENJSON(@__8__locals2_reviewerIds_0) WITH ([value] int '$') AS [8]
) AND (([t].[Id] IS NOT NULL AND [t].[SemesterId] = @__sid_1) OR ([t0].[Id] IS NOT NULL AND [t1].[Id] IS NOT NULL AND [t1].[SemesterId] = @__sid_1))
2025-10-03 18:37:45.247 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__8__locals2_reviewerIds_0='?' (Size = 4000), @__sid_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId], [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Abbreviation], [t].[CategoryId], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[EN_Title], [t].[IsActive], [t].[IsApproved], [t].[IsLegacy], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[MaxStudents], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[SemesterId], [t].[SupervisorId], [t].[VN_title], [t0].[Id], [t0].[Content], [t0].[Context], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[DocumentUrl], [t0].[EN_Title], [t0].[ExpectedOutcomes], [t0].[IsActive], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[Methodology], [t0].[Objectives], [t0].[PotentialDuplicate], [t0].[Problem], [t0].[Requirements], [t0].[Status], [t0].[SubmittedAt], [t0].[SubmittedBy], [t0].[TopicId], [t0].[VN_title], [t0].[VersionNumber], [t1].[Id], [t1].[Abbreviation], [t1].[CategoryId], [t1].[Content], [t1].[Context], [t1].[CreatedAt], [t1].[CreatedBy], [t1].[DeletedAt], [t1].[Description], [t1].[EN_Title], [t1].[IsActive], [t1].[IsApproved], [t1].[IsLegacy], [t1].[LastModifiedAt], [t1].[LastModifiedBy], [t1].[MaxStudents], [t1].[Objectives], [t1].[PotentialDuplicate], [t1].[Problem], [t1].[SemesterId], [t1].[SupervisorId], [t1].[VN_title]
FROM [reviewer_assignments] AS [r]
INNER JOIN [submissions] AS [s] ON [r].[SubmissionId] = [s].[Id]
LEFT JOIN [topics] AS [t] ON [s].[TopicId] = [t].[Id]
LEFT JOIN [topic_versions] AS [t0] ON [s].[TopicVersionId] = [t0].[Id]
LEFT JOIN [topics] AS [t1] ON [t0].[TopicId] = [t1].[Id]
WHERE [r].[ReviewerId] IN (
    SELECT [8].[value]
    FROM OPENJSON(@__8__locals2_reviewerIds_0) WITH ([value] int '$') AS [8]
) AND (([t].[Id] IS NOT NULL AND [t].[SemesterId] = @__sid_1) OR ([t0].[Id] IS NOT NULL AND [t1].[Id] IS NOT NULL AND [t1].[SemesterId] = @__sid_1))
2025-10-03 18:37:45.250 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 18:37:45.251 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 3ms reading results.
2025-10-03 18:37:45.251 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:37:45.251 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 18:37:45.252 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:37:45.252 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:37:45.252 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 18:37:45.253 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:37:45.253 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:37:45.253 +07:00 [DBG] Executing DbCommand [Parameters=[@__reviewerIds_0='?' (Size = 4000), @__8__locals1_semesterId_Value_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AverageScoreGiven], [r].[AverageTimeMinutes], [r].[CompletedAssignments], [r].[LastUpdated], [r].[OnTimeRate], [r].[QualityRating], [r].[ReviewerId], [r].[SemesterId], [r].[TotalAssignments]
FROM [reviewer_performance] AS [r]
WHERE [r].[ReviewerId] IN (
    SELECT [r0].[value]
    FROM OPENJSON(@__reviewerIds_0) WITH ([value] int '$') AS [r0]
) AND [r].[SemesterId] = @__8__locals1_semesterId_Value_1
2025-10-03 18:37:45.255 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__reviewerIds_0='?' (Size = 4000), @__8__locals1_semesterId_Value_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AverageScoreGiven], [r].[AverageTimeMinutes], [r].[CompletedAssignments], [r].[LastUpdated], [r].[OnTimeRate], [r].[QualityRating], [r].[ReviewerId], [r].[SemesterId], [r].[TotalAssignments]
FROM [reviewer_performance] AS [r]
WHERE [r].[ReviewerId] IN (
    SELECT [r0].[value]
    FROM OPENJSON(@__reviewerIds_0) WITH ([value] int '$') AS [r0]
) AND [r].[SemesterId] = @__8__locals1_semesterId_Value_1
2025-10-03 18:37:45.255 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 18:37:45.255 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-10-03 18:37:45.255 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:37:45.255 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 18:37:45.256 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-10-03 18:37:45.256 +07:00 [DBG] No information found on request to perform content negotiation.
2025-10-03 18:37:45.256 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-10-03 18:37:45.256 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-10-03 18:37:45.256 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-10-03 18:37:45.256 +07:00 [INF] Executing ObjectResult, writing value of type 'FS.Commons.FSResponse'.
2025-10-03 18:37:45.257 +07:00 [INF] Executed action CapBot.api.Controllers.ReviewerAssignmentController.GetReviewersWorkload (CapBot.api) in 22.1287ms
2025-10-03 18:37:45.257 +07:00 [INF] Executed endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetReviewersWorkload (CapBot.api)'
2025-10-03 18:37:45.257 +07:00 [DBG] Connection id "0HNG2E4HE1RSS" completed keep alive response.
2025-10-03 18:37:45.257 +07:00 [DBG] 'MyDbContext' disposed.
2025-10-03 18:37:45.258 +07:00 [DBG] Disposing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:37:45.258 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-10-03 18:37:45.258 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5207/api/reviewer-assignments/workload?semesterId=1 - 200 null application/json; charset=utf-8 25.4643ms
2025-10-03 18:37:45.423 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5207/api/reviewer-assignments/workload?semesterId=1 - null null
2025-10-03 18:37:45.424 +07:00 [DBG] The request path /api/reviewer-assignments/workload does not match a supported file type
2025-10-03 18:37:45.424 +07:00 [DBG] The request path /api/reviewer-assignments/workload does not match a supported file type
2025-10-03 18:37:45.424 +07:00 [DBG] 1 candidate(s) found for the request path '/api/reviewer-assignments/workload'
2025-10-03 18:37:45.424 +07:00 [DBG] Endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetReviewersWorkload (CapBot.api)' with route pattern 'api/reviewer-assignments/workload' is valid for the request path '/api/reviewer-assignments/workload'
2025-10-03 18:37:45.424 +07:00 [DBG] Request matched endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetReviewersWorkload (CapBot.api)'
2025-10-03 18:37:45.424 +07:00 [DBG] Successfully validated the token.
2025-10-03 18:37:45.424 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-10-03 18:37:45.425 +07:00 [DBG] Authorization was successful.
2025-10-03 18:37:45.425 +07:00 [INF] Executing endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetReviewersWorkload (CapBot.api)'
2025-10-03 18:37:45.425 +07:00 [INF] Route matched with {action = "GetReviewersWorkload", controller = "ReviewerAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetReviewersWorkload(System.Nullable`1[System.Int32]) on controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api).
2025-10-03 18:37:45.425 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-10-03 18:37:45.425 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-10-03 18:37:45.425 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2025-10-03 18:37:45.425 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-10-03 18:37:45.425 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-10-03 18:37:45.425 +07:00 [DBG] Executing controller factory for controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api)
2025-10-03 18:37:45.425 +07:00 [DBG] Executed controller factory for controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api)
2025-10-03 18:37:45.426 +07:00 [DBG] Attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]' ...
2025-10-03 18:37:45.426 +07:00 [DBG] Attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]' using the name 'semesterId' in request data ...
2025-10-03 18:37:45.426 +07:00 [DBG] Done attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]'.
2025-10-03 18:37:45.426 +07:00 [DBG] Done attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]'.
2025-10-03 18:37:45.426 +07:00 [DBG] Attempting to validate the bound parameter 'semesterId' of type 'System.Nullable`1[System.Int32]' ...
2025-10-03 18:37:45.426 +07:00 [DBG] Done attempting to validate the bound parameter 'semesterId' of type 'System.Nullable`1[System.Int32]'.
2025-10-03 18:37:45.427 +07:00 [DBG] Entity Framework Core 8.0.16 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: MigrationsAssembly=App.DAL 
2025-10-03 18:37:45.427 +07:00 [DBG] Creating DbConnection.
2025-10-03 18:37:45.427 +07:00 [DBG] Created DbConnection. (0ms).
2025-10-03 18:37:45.427 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:37:45.427 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:37:45.428 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 18:37:45.428 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:37:45.428 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:37:45.428 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[RoleId], [u0].[Id], [u0].[AccessFailedCount], [u0].[ConcurrencyStamp], [u0].[CreatedAt], [u0].[DeletedAt], [u0].[Email], [u0].[EmailConfirmed], [u0].[LastModifiedAt], [u0].[LastModifiedBy], [u0].[LockoutEnabled], [u0].[LockoutEnd], [u0].[NormalizedEmail], [u0].[NormalizedUserName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[PhoneNumberConfirmed], [u0].[SecurityStamp], [u0].[TwoFactorEnabled], [u0].[UserName], [r].[Id], [l].[Id], [l].[CreatedAt], [l].[CreatedBy], [l].[DeletedAt], [l].[IsActive], [l].[LastModifiedAt], [l].[LastModifiedBy], [l].[LecturerId], [l].[ProficiencyLevel], [l].[SkillTag], [r0].[Id], [r0].[AverageScoreGiven], [r0].[AverageTimeMinutes], [r0].[CompletedAssignments], [r0].[LastUpdated], [r0].[OnTimeRate], [r0].[QualityRating], [r0].[ReviewerId], [r0].[SemesterId], [r0].[TotalAssignments], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [user_roles] AS [u]
INNER JOIN [roles] AS [r] ON [u].[RoleId] = [r].[Id]
INNER JOIN [users] AS [u0] ON [u].[UserId] = [u0].[Id]
LEFT JOIN [lecturer_skills] AS [l] ON [u0].[Id] = [l].[LecturerId]
LEFT JOIN [reviewer_performance] AS [r0] ON [u0].[Id] = [r0].[ReviewerId]
WHERE [r].[Name] = N'Reviewer'
ORDER BY [u].[UserId], [u].[RoleId], [r].[Id], [u0].[Id], [l].[Id]
2025-10-03 18:37:45.429 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[RoleId], [u0].[Id], [u0].[AccessFailedCount], [u0].[ConcurrencyStamp], [u0].[CreatedAt], [u0].[DeletedAt], [u0].[Email], [u0].[EmailConfirmed], [u0].[LastModifiedAt], [u0].[LastModifiedBy], [u0].[LockoutEnabled], [u0].[LockoutEnd], [u0].[NormalizedEmail], [u0].[NormalizedUserName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[PhoneNumberConfirmed], [u0].[SecurityStamp], [u0].[TwoFactorEnabled], [u0].[UserName], [r].[Id], [l].[Id], [l].[CreatedAt], [l].[CreatedBy], [l].[DeletedAt], [l].[IsActive], [l].[LastModifiedAt], [l].[LastModifiedBy], [l].[LecturerId], [l].[ProficiencyLevel], [l].[SkillTag], [r0].[Id], [r0].[AverageScoreGiven], [r0].[AverageTimeMinutes], [r0].[CompletedAssignments], [r0].[LastUpdated], [r0].[OnTimeRate], [r0].[QualityRating], [r0].[ReviewerId], [r0].[SemesterId], [r0].[TotalAssignments], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [user_roles] AS [u]
INNER JOIN [roles] AS [r] ON [u].[RoleId] = [r].[Id]
INNER JOIN [users] AS [u0] ON [u].[UserId] = [u0].[Id]
LEFT JOIN [lecturer_skills] AS [l] ON [u0].[Id] = [l].[LecturerId]
LEFT JOIN [reviewer_performance] AS [r0] ON [u0].[Id] = [r0].[ReviewerId]
WHERE [r].[Name] = N'Reviewer'
ORDER BY [u].[UserId], [u].[RoleId], [r].[Id], [u0].[Id], [l].[Id]
2025-10-03 18:37:45.433 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 18:37:45.434 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 4ms reading results.
2025-10-03 18:37:45.434 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:37:45.434 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 18:37:45.437 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:37:45.438 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:37:45.438 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 18:37:45.438 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:37:45.438 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:37:45.439 +07:00 [DBG] Executing DbCommand [Parameters=[@__8__locals2_reviewerIds_0='?' (Size = 4000), @__sid_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId], [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Abbreviation], [t].[CategoryId], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[EN_Title], [t].[IsActive], [t].[IsApproved], [t].[IsLegacy], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[MaxStudents], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[SemesterId], [t].[SupervisorId], [t].[VN_title], [t0].[Id], [t0].[Content], [t0].[Context], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[DocumentUrl], [t0].[EN_Title], [t0].[ExpectedOutcomes], [t0].[IsActive], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[Methodology], [t0].[Objectives], [t0].[PotentialDuplicate], [t0].[Problem], [t0].[Requirements], [t0].[Status], [t0].[SubmittedAt], [t0].[SubmittedBy], [t0].[TopicId], [t0].[VN_title], [t0].[VersionNumber], [t1].[Id], [t1].[Abbreviation], [t1].[CategoryId], [t1].[Content], [t1].[Context], [t1].[CreatedAt], [t1].[CreatedBy], [t1].[DeletedAt], [t1].[Description], [t1].[EN_Title], [t1].[IsActive], [t1].[IsApproved], [t1].[IsLegacy], [t1].[LastModifiedAt], [t1].[LastModifiedBy], [t1].[MaxStudents], [t1].[Objectives], [t1].[PotentialDuplicate], [t1].[Problem], [t1].[SemesterId], [t1].[SupervisorId], [t1].[VN_title]
FROM [reviewer_assignments] AS [r]
INNER JOIN [submissions] AS [s] ON [r].[SubmissionId] = [s].[Id]
LEFT JOIN [topics] AS [t] ON [s].[TopicId] = [t].[Id]
LEFT JOIN [topic_versions] AS [t0] ON [s].[TopicVersionId] = [t0].[Id]
LEFT JOIN [topics] AS [t1] ON [t0].[TopicId] = [t1].[Id]
WHERE [r].[ReviewerId] IN (
    SELECT [8].[value]
    FROM OPENJSON(@__8__locals2_reviewerIds_0) WITH ([value] int '$') AS [8]
) AND (([t].[Id] IS NOT NULL AND [t].[SemesterId] = @__sid_1) OR ([t0].[Id] IS NOT NULL AND [t1].[Id] IS NOT NULL AND [t1].[SemesterId] = @__sid_1))
2025-10-03 18:37:45.441 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__8__locals2_reviewerIds_0='?' (Size = 4000), @__sid_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId], [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Abbreviation], [t].[CategoryId], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[EN_Title], [t].[IsActive], [t].[IsApproved], [t].[IsLegacy], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[MaxStudents], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[SemesterId], [t].[SupervisorId], [t].[VN_title], [t0].[Id], [t0].[Content], [t0].[Context], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[DocumentUrl], [t0].[EN_Title], [t0].[ExpectedOutcomes], [t0].[IsActive], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[Methodology], [t0].[Objectives], [t0].[PotentialDuplicate], [t0].[Problem], [t0].[Requirements], [t0].[Status], [t0].[SubmittedAt], [t0].[SubmittedBy], [t0].[TopicId], [t0].[VN_title], [t0].[VersionNumber], [t1].[Id], [t1].[Abbreviation], [t1].[CategoryId], [t1].[Content], [t1].[Context], [t1].[CreatedAt], [t1].[CreatedBy], [t1].[DeletedAt], [t1].[Description], [t1].[EN_Title], [t1].[IsActive], [t1].[IsApproved], [t1].[IsLegacy], [t1].[LastModifiedAt], [t1].[LastModifiedBy], [t1].[MaxStudents], [t1].[Objectives], [t1].[PotentialDuplicate], [t1].[Problem], [t1].[SemesterId], [t1].[SupervisorId], [t1].[VN_title]
FROM [reviewer_assignments] AS [r]
INNER JOIN [submissions] AS [s] ON [r].[SubmissionId] = [s].[Id]
LEFT JOIN [topics] AS [t] ON [s].[TopicId] = [t].[Id]
LEFT JOIN [topic_versions] AS [t0] ON [s].[TopicVersionId] = [t0].[Id]
LEFT JOIN [topics] AS [t1] ON [t0].[TopicId] = [t1].[Id]
WHERE [r].[ReviewerId] IN (
    SELECT [8].[value]
    FROM OPENJSON(@__8__locals2_reviewerIds_0) WITH ([value] int '$') AS [8]
) AND (([t].[Id] IS NOT NULL AND [t].[SemesterId] = @__sid_1) OR ([t0].[Id] IS NOT NULL AND [t1].[Id] IS NOT NULL AND [t1].[SemesterId] = @__sid_1))
2025-10-03 18:37:45.443 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 18:37:45.443 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 1ms reading results.
2025-10-03 18:37:45.443 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:37:45.443 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 18:37:45.444 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:37:45.444 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:37:45.444 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 18:37:45.444 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:37:45.444 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:37:45.444 +07:00 [DBG] Executing DbCommand [Parameters=[@__reviewerIds_0='?' (Size = 4000), @__8__locals1_semesterId_Value_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AverageScoreGiven], [r].[AverageTimeMinutes], [r].[CompletedAssignments], [r].[LastUpdated], [r].[OnTimeRate], [r].[QualityRating], [r].[ReviewerId], [r].[SemesterId], [r].[TotalAssignments]
FROM [reviewer_performance] AS [r]
WHERE [r].[ReviewerId] IN (
    SELECT [r0].[value]
    FROM OPENJSON(@__reviewerIds_0) WITH ([value] int '$') AS [r0]
) AND [r].[SemesterId] = @__8__locals1_semesterId_Value_1
2025-10-03 18:37:45.446 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__reviewerIds_0='?' (Size = 4000), @__8__locals1_semesterId_Value_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AverageScoreGiven], [r].[AverageTimeMinutes], [r].[CompletedAssignments], [r].[LastUpdated], [r].[OnTimeRate], [r].[QualityRating], [r].[ReviewerId], [r].[SemesterId], [r].[TotalAssignments]
FROM [reviewer_performance] AS [r]
WHERE [r].[ReviewerId] IN (
    SELECT [r0].[value]
    FROM OPENJSON(@__reviewerIds_0) WITH ([value] int '$') AS [r0]
) AND [r].[SemesterId] = @__8__locals1_semesterId_Value_1
2025-10-03 18:37:45.492 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 18:37:45.492 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-10-03 18:37:45.492 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:37:45.492 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 18:37:45.492 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-10-03 18:37:45.492 +07:00 [DBG] No information found on request to perform content negotiation.
2025-10-03 18:37:45.492 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-10-03 18:37:45.492 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-10-03 18:37:45.492 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-10-03 18:37:45.493 +07:00 [INF] Executing ObjectResult, writing value of type 'FS.Commons.FSResponse'.
2025-10-03 18:37:45.493 +07:00 [INF] Executed action CapBot.api.Controllers.ReviewerAssignmentController.GetReviewersWorkload (CapBot.api) in 67.7327ms
2025-10-03 18:37:45.493 +07:00 [INF] Executed endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetReviewersWorkload (CapBot.api)'
2025-10-03 18:37:45.493 +07:00 [DBG] Connection id "0HNG2E4HE1RSS" completed keep alive response.
2025-10-03 18:37:45.493 +07:00 [DBG] 'MyDbContext' disposed.
2025-10-03 18:37:45.493 +07:00 [DBG] Disposing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:37:45.493 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-10-03 18:37:45.493 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5207/api/reviewer-assignments/workload?semesterId=1 - 200 null application/json; charset=utf-8 70.0944ms
2025-10-03 18:37:45.701 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5207/api/reviewer-assignments/workload?semesterId=1 - null null
2025-10-03 18:37:45.701 +07:00 [DBG] The request path /api/reviewer-assignments/workload does not match a supported file type
2025-10-03 18:37:45.701 +07:00 [DBG] The request path /api/reviewer-assignments/workload does not match a supported file type
2025-10-03 18:37:45.701 +07:00 [DBG] 1 candidate(s) found for the request path '/api/reviewer-assignments/workload'
2025-10-03 18:37:45.701 +07:00 [DBG] Endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetReviewersWorkload (CapBot.api)' with route pattern 'api/reviewer-assignments/workload' is valid for the request path '/api/reviewer-assignments/workload'
2025-10-03 18:37:45.701 +07:00 [DBG] Request matched endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetReviewersWorkload (CapBot.api)'
2025-10-03 18:37:45.702 +07:00 [DBG] Successfully validated the token.
2025-10-03 18:37:45.702 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-10-03 18:37:45.702 +07:00 [DBG] Authorization was successful.
2025-10-03 18:37:45.703 +07:00 [INF] Executing endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetReviewersWorkload (CapBot.api)'
2025-10-03 18:37:45.703 +07:00 [INF] Route matched with {action = "GetReviewersWorkload", controller = "ReviewerAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetReviewersWorkload(System.Nullable`1[System.Int32]) on controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api).
2025-10-03 18:37:45.703 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-10-03 18:37:45.703 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-10-03 18:37:45.703 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2025-10-03 18:37:45.703 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-10-03 18:37:45.703 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-10-03 18:37:45.703 +07:00 [DBG] Executing controller factory for controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api)
2025-10-03 18:37:45.704 +07:00 [DBG] Executed controller factory for controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api)
2025-10-03 18:37:45.704 +07:00 [DBG] Attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]' ...
2025-10-03 18:37:45.704 +07:00 [DBG] Attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]' using the name 'semesterId' in request data ...
2025-10-03 18:37:45.704 +07:00 [DBG] Done attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]'.
2025-10-03 18:37:45.704 +07:00 [DBG] Done attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]'.
2025-10-03 18:37:45.704 +07:00 [DBG] Attempting to validate the bound parameter 'semesterId' of type 'System.Nullable`1[System.Int32]' ...
2025-10-03 18:37:45.704 +07:00 [DBG] Done attempting to validate the bound parameter 'semesterId' of type 'System.Nullable`1[System.Int32]'.
2025-10-03 18:37:45.705 +07:00 [DBG] Entity Framework Core 8.0.16 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: MigrationsAssembly=App.DAL 
2025-10-03 18:37:45.706 +07:00 [DBG] Creating DbConnection.
2025-10-03 18:37:45.706 +07:00 [DBG] Created DbConnection. (0ms).
2025-10-03 18:37:45.706 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:37:45.706 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:37:45.706 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 18:37:45.706 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:37:45.706 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:37:45.707 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[RoleId], [u0].[Id], [u0].[AccessFailedCount], [u0].[ConcurrencyStamp], [u0].[CreatedAt], [u0].[DeletedAt], [u0].[Email], [u0].[EmailConfirmed], [u0].[LastModifiedAt], [u0].[LastModifiedBy], [u0].[LockoutEnabled], [u0].[LockoutEnd], [u0].[NormalizedEmail], [u0].[NormalizedUserName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[PhoneNumberConfirmed], [u0].[SecurityStamp], [u0].[TwoFactorEnabled], [u0].[UserName], [r].[Id], [l].[Id], [l].[CreatedAt], [l].[CreatedBy], [l].[DeletedAt], [l].[IsActive], [l].[LastModifiedAt], [l].[LastModifiedBy], [l].[LecturerId], [l].[ProficiencyLevel], [l].[SkillTag], [r0].[Id], [r0].[AverageScoreGiven], [r0].[AverageTimeMinutes], [r0].[CompletedAssignments], [r0].[LastUpdated], [r0].[OnTimeRate], [r0].[QualityRating], [r0].[ReviewerId], [r0].[SemesterId], [r0].[TotalAssignments], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [user_roles] AS [u]
INNER JOIN [roles] AS [r] ON [u].[RoleId] = [r].[Id]
INNER JOIN [users] AS [u0] ON [u].[UserId] = [u0].[Id]
LEFT JOIN [lecturer_skills] AS [l] ON [u0].[Id] = [l].[LecturerId]
LEFT JOIN [reviewer_performance] AS [r0] ON [u0].[Id] = [r0].[ReviewerId]
WHERE [r].[Name] = N'Reviewer'
ORDER BY [u].[UserId], [u].[RoleId], [r].[Id], [u0].[Id], [l].[Id]
2025-10-03 18:37:45.708 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[RoleId], [u0].[Id], [u0].[AccessFailedCount], [u0].[ConcurrencyStamp], [u0].[CreatedAt], [u0].[DeletedAt], [u0].[Email], [u0].[EmailConfirmed], [u0].[LastModifiedAt], [u0].[LastModifiedBy], [u0].[LockoutEnabled], [u0].[LockoutEnd], [u0].[NormalizedEmail], [u0].[NormalizedUserName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[PhoneNumberConfirmed], [u0].[SecurityStamp], [u0].[TwoFactorEnabled], [u0].[UserName], [r].[Id], [l].[Id], [l].[CreatedAt], [l].[CreatedBy], [l].[DeletedAt], [l].[IsActive], [l].[LastModifiedAt], [l].[LastModifiedBy], [l].[LecturerId], [l].[ProficiencyLevel], [l].[SkillTag], [r0].[Id], [r0].[AverageScoreGiven], [r0].[AverageTimeMinutes], [r0].[CompletedAssignments], [r0].[LastUpdated], [r0].[OnTimeRate], [r0].[QualityRating], [r0].[ReviewerId], [r0].[SemesterId], [r0].[TotalAssignments], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [user_roles] AS [u]
INNER JOIN [roles] AS [r] ON [u].[RoleId] = [r].[Id]
INNER JOIN [users] AS [u0] ON [u].[UserId] = [u0].[Id]
LEFT JOIN [lecturer_skills] AS [l] ON [u0].[Id] = [l].[LecturerId]
LEFT JOIN [reviewer_performance] AS [r0] ON [u0].[Id] = [r0].[ReviewerId]
WHERE [r].[Name] = N'Reviewer'
ORDER BY [u].[UserId], [u].[RoleId], [r].[Id], [u0].[Id], [l].[Id]
2025-10-03 18:37:45.710 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 18:37:45.710 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 1ms reading results.
2025-10-03 18:37:45.710 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:37:45.710 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 18:37:45.711 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:37:45.711 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:37:45.711 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 18:37:45.711 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:37:45.711 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:37:45.711 +07:00 [DBG] Executing DbCommand [Parameters=[@__8__locals2_reviewerIds_0='?' (Size = 4000), @__sid_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId], [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Abbreviation], [t].[CategoryId], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[EN_Title], [t].[IsActive], [t].[IsApproved], [t].[IsLegacy], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[MaxStudents], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[SemesterId], [t].[SupervisorId], [t].[VN_title], [t0].[Id], [t0].[Content], [t0].[Context], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[DocumentUrl], [t0].[EN_Title], [t0].[ExpectedOutcomes], [t0].[IsActive], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[Methodology], [t0].[Objectives], [t0].[PotentialDuplicate], [t0].[Problem], [t0].[Requirements], [t0].[Status], [t0].[SubmittedAt], [t0].[SubmittedBy], [t0].[TopicId], [t0].[VN_title], [t0].[VersionNumber], [t1].[Id], [t1].[Abbreviation], [t1].[CategoryId], [t1].[Content], [t1].[Context], [t1].[CreatedAt], [t1].[CreatedBy], [t1].[DeletedAt], [t1].[Description], [t1].[EN_Title], [t1].[IsActive], [t1].[IsApproved], [t1].[IsLegacy], [t1].[LastModifiedAt], [t1].[LastModifiedBy], [t1].[MaxStudents], [t1].[Objectives], [t1].[PotentialDuplicate], [t1].[Problem], [t1].[SemesterId], [t1].[SupervisorId], [t1].[VN_title]
FROM [reviewer_assignments] AS [r]
INNER JOIN [submissions] AS [s] ON [r].[SubmissionId] = [s].[Id]
LEFT JOIN [topics] AS [t] ON [s].[TopicId] = [t].[Id]
LEFT JOIN [topic_versions] AS [t0] ON [s].[TopicVersionId] = [t0].[Id]
LEFT JOIN [topics] AS [t1] ON [t0].[TopicId] = [t1].[Id]
WHERE [r].[ReviewerId] IN (
    SELECT [8].[value]
    FROM OPENJSON(@__8__locals2_reviewerIds_0) WITH ([value] int '$') AS [8]
) AND (([t].[Id] IS NOT NULL AND [t].[SemesterId] = @__sid_1) OR ([t0].[Id] IS NOT NULL AND [t1].[Id] IS NOT NULL AND [t1].[SemesterId] = @__sid_1))
2025-10-03 18:37:45.717 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__8__locals2_reviewerIds_0='?' (Size = 4000), @__sid_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId], [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Abbreviation], [t].[CategoryId], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[EN_Title], [t].[IsActive], [t].[IsApproved], [t].[IsLegacy], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[MaxStudents], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[SemesterId], [t].[SupervisorId], [t].[VN_title], [t0].[Id], [t0].[Content], [t0].[Context], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[DocumentUrl], [t0].[EN_Title], [t0].[ExpectedOutcomes], [t0].[IsActive], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[Methodology], [t0].[Objectives], [t0].[PotentialDuplicate], [t0].[Problem], [t0].[Requirements], [t0].[Status], [t0].[SubmittedAt], [t0].[SubmittedBy], [t0].[TopicId], [t0].[VN_title], [t0].[VersionNumber], [t1].[Id], [t1].[Abbreviation], [t1].[CategoryId], [t1].[Content], [t1].[Context], [t1].[CreatedAt], [t1].[CreatedBy], [t1].[DeletedAt], [t1].[Description], [t1].[EN_Title], [t1].[IsActive], [t1].[IsApproved], [t1].[IsLegacy], [t1].[LastModifiedAt], [t1].[LastModifiedBy], [t1].[MaxStudents], [t1].[Objectives], [t1].[PotentialDuplicate], [t1].[Problem], [t1].[SemesterId], [t1].[SupervisorId], [t1].[VN_title]
FROM [reviewer_assignments] AS [r]
INNER JOIN [submissions] AS [s] ON [r].[SubmissionId] = [s].[Id]
LEFT JOIN [topics] AS [t] ON [s].[TopicId] = [t].[Id]
LEFT JOIN [topic_versions] AS [t0] ON [s].[TopicVersionId] = [t0].[Id]
LEFT JOIN [topics] AS [t1] ON [t0].[TopicId] = [t1].[Id]
WHERE [r].[ReviewerId] IN (
    SELECT [8].[value]
    FROM OPENJSON(@__8__locals2_reviewerIds_0) WITH ([value] int '$') AS [8]
) AND (([t].[Id] IS NOT NULL AND [t].[SemesterId] = @__sid_1) OR ([t0].[Id] IS NOT NULL AND [t1].[Id] IS NOT NULL AND [t1].[SemesterId] = @__sid_1))
2025-10-03 18:37:45.721 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 18:37:45.721 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 2ms reading results.
2025-10-03 18:37:45.721 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:37:45.721 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 18:37:45.722 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:37:45.722 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:37:45.722 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 18:37:45.722 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:37:45.722 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:37:45.722 +07:00 [DBG] Executing DbCommand [Parameters=[@__reviewerIds_0='?' (Size = 4000), @__8__locals1_semesterId_Value_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AverageScoreGiven], [r].[AverageTimeMinutes], [r].[CompletedAssignments], [r].[LastUpdated], [r].[OnTimeRate], [r].[QualityRating], [r].[ReviewerId], [r].[SemesterId], [r].[TotalAssignments]
FROM [reviewer_performance] AS [r]
WHERE [r].[ReviewerId] IN (
    SELECT [r0].[value]
    FROM OPENJSON(@__reviewerIds_0) WITH ([value] int '$') AS [r0]
) AND [r].[SemesterId] = @__8__locals1_semesterId_Value_1
2025-10-03 18:37:45.724 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__reviewerIds_0='?' (Size = 4000), @__8__locals1_semesterId_Value_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AverageScoreGiven], [r].[AverageTimeMinutes], [r].[CompletedAssignments], [r].[LastUpdated], [r].[OnTimeRate], [r].[QualityRating], [r].[ReviewerId], [r].[SemesterId], [r].[TotalAssignments]
FROM [reviewer_performance] AS [r]
WHERE [r].[ReviewerId] IN (
    SELECT [r0].[value]
    FROM OPENJSON(@__reviewerIds_0) WITH ([value] int '$') AS [r0]
) AND [r].[SemesterId] = @__8__locals1_semesterId_Value_1
2025-10-03 18:37:45.724 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 18:37:45.724 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-10-03 18:37:45.725 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:37:45.725 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 18:37:45.725 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-10-03 18:37:45.725 +07:00 [DBG] No information found on request to perform content negotiation.
2025-10-03 18:37:45.725 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-10-03 18:37:45.725 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-10-03 18:37:45.725 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-10-03 18:37:45.726 +07:00 [INF] Executing ObjectResult, writing value of type 'FS.Commons.FSResponse'.
2025-10-03 18:37:45.726 +07:00 [INF] Executed action CapBot.api.Controllers.ReviewerAssignmentController.GetReviewersWorkload (CapBot.api) in 22.8694ms
2025-10-03 18:37:45.726 +07:00 [INF] Executed endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetReviewersWorkload (CapBot.api)'
2025-10-03 18:37:45.726 +07:00 [DBG] Connection id "0HNG2E4HE1RSS" completed keep alive response.
2025-10-03 18:37:45.726 +07:00 [DBG] 'MyDbContext' disposed.
2025-10-03 18:37:45.726 +07:00 [DBG] Disposing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:37:45.726 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-10-03 18:37:45.727 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5207/api/reviewer-assignments/workload?semesterId=1 - 200 null application/json; charset=utf-8 25.6955ms
2025-10-03 18:37:45.892 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5207/api/reviewer-assignments/workload?semesterId=1 - null null
2025-10-03 18:37:45.893 +07:00 [DBG] The request path /api/reviewer-assignments/workload does not match a supported file type
2025-10-03 18:37:45.893 +07:00 [DBG] The request path /api/reviewer-assignments/workload does not match a supported file type
2025-10-03 18:37:45.893 +07:00 [DBG] 1 candidate(s) found for the request path '/api/reviewer-assignments/workload'
2025-10-03 18:37:45.893 +07:00 [DBG] Endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetReviewersWorkload (CapBot.api)' with route pattern 'api/reviewer-assignments/workload' is valid for the request path '/api/reviewer-assignments/workload'
2025-10-03 18:37:45.893 +07:00 [DBG] Request matched endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetReviewersWorkload (CapBot.api)'
2025-10-03 18:37:45.893 +07:00 [DBG] Successfully validated the token.
2025-10-03 18:37:45.893 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-10-03 18:37:45.894 +07:00 [DBG] Authorization was successful.
2025-10-03 18:37:45.894 +07:00 [INF] Executing endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetReviewersWorkload (CapBot.api)'
2025-10-03 18:37:45.894 +07:00 [INF] Route matched with {action = "GetReviewersWorkload", controller = "ReviewerAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetReviewersWorkload(System.Nullable`1[System.Int32]) on controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api).
2025-10-03 18:37:45.894 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-10-03 18:37:45.894 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-10-03 18:37:45.894 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2025-10-03 18:37:45.894 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-10-03 18:37:45.894 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-10-03 18:37:45.894 +07:00 [DBG] Executing controller factory for controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api)
2025-10-03 18:37:45.895 +07:00 [DBG] Executed controller factory for controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api)
2025-10-03 18:37:45.895 +07:00 [DBG] Attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]' ...
2025-10-03 18:37:45.895 +07:00 [DBG] Attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]' using the name 'semesterId' in request data ...
2025-10-03 18:37:45.895 +07:00 [DBG] Done attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]'.
2025-10-03 18:37:45.895 +07:00 [DBG] Done attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]'.
2025-10-03 18:37:45.895 +07:00 [DBG] Attempting to validate the bound parameter 'semesterId' of type 'System.Nullable`1[System.Int32]' ...
2025-10-03 18:37:45.896 +07:00 [DBG] Done attempting to validate the bound parameter 'semesterId' of type 'System.Nullable`1[System.Int32]'.
2025-10-03 18:37:45.897 +07:00 [DBG] Entity Framework Core 8.0.16 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: MigrationsAssembly=App.DAL 
2025-10-03 18:37:45.898 +07:00 [DBG] Creating DbConnection.
2025-10-03 18:37:45.898 +07:00 [DBG] Created DbConnection. (0ms).
2025-10-03 18:37:45.899 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:37:45.899 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:37:45.899 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 18:37:45.899 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:37:45.899 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:37:45.899 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[RoleId], [u0].[Id], [u0].[AccessFailedCount], [u0].[ConcurrencyStamp], [u0].[CreatedAt], [u0].[DeletedAt], [u0].[Email], [u0].[EmailConfirmed], [u0].[LastModifiedAt], [u0].[LastModifiedBy], [u0].[LockoutEnabled], [u0].[LockoutEnd], [u0].[NormalizedEmail], [u0].[NormalizedUserName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[PhoneNumberConfirmed], [u0].[SecurityStamp], [u0].[TwoFactorEnabled], [u0].[UserName], [r].[Id], [l].[Id], [l].[CreatedAt], [l].[CreatedBy], [l].[DeletedAt], [l].[IsActive], [l].[LastModifiedAt], [l].[LastModifiedBy], [l].[LecturerId], [l].[ProficiencyLevel], [l].[SkillTag], [r0].[Id], [r0].[AverageScoreGiven], [r0].[AverageTimeMinutes], [r0].[CompletedAssignments], [r0].[LastUpdated], [r0].[OnTimeRate], [r0].[QualityRating], [r0].[ReviewerId], [r0].[SemesterId], [r0].[TotalAssignments], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [user_roles] AS [u]
INNER JOIN [roles] AS [r] ON [u].[RoleId] = [r].[Id]
INNER JOIN [users] AS [u0] ON [u].[UserId] = [u0].[Id]
LEFT JOIN [lecturer_skills] AS [l] ON [u0].[Id] = [l].[LecturerId]
LEFT JOIN [reviewer_performance] AS [r0] ON [u0].[Id] = [r0].[ReviewerId]
WHERE [r].[Name] = N'Reviewer'
ORDER BY [u].[UserId], [u].[RoleId], [r].[Id], [u0].[Id], [l].[Id]
2025-10-03 18:37:45.901 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[RoleId], [u0].[Id], [u0].[AccessFailedCount], [u0].[ConcurrencyStamp], [u0].[CreatedAt], [u0].[DeletedAt], [u0].[Email], [u0].[EmailConfirmed], [u0].[LastModifiedAt], [u0].[LastModifiedBy], [u0].[LockoutEnabled], [u0].[LockoutEnd], [u0].[NormalizedEmail], [u0].[NormalizedUserName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[PhoneNumberConfirmed], [u0].[SecurityStamp], [u0].[TwoFactorEnabled], [u0].[UserName], [r].[Id], [l].[Id], [l].[CreatedAt], [l].[CreatedBy], [l].[DeletedAt], [l].[IsActive], [l].[LastModifiedAt], [l].[LastModifiedBy], [l].[LecturerId], [l].[ProficiencyLevel], [l].[SkillTag], [r0].[Id], [r0].[AverageScoreGiven], [r0].[AverageTimeMinutes], [r0].[CompletedAssignments], [r0].[LastUpdated], [r0].[OnTimeRate], [r0].[QualityRating], [r0].[ReviewerId], [r0].[SemesterId], [r0].[TotalAssignments], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [user_roles] AS [u]
INNER JOIN [roles] AS [r] ON [u].[RoleId] = [r].[Id]
INNER JOIN [users] AS [u0] ON [u].[UserId] = [u0].[Id]
LEFT JOIN [lecturer_skills] AS [l] ON [u0].[Id] = [l].[LecturerId]
LEFT JOIN [reviewer_performance] AS [r0] ON [u0].[Id] = [r0].[ReviewerId]
WHERE [r].[Name] = N'Reviewer'
ORDER BY [u].[UserId], [u].[RoleId], [r].[Id], [u0].[Id], [l].[Id]
2025-10-03 18:37:45.903 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 18:37:45.903 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 1ms reading results.
2025-10-03 18:37:45.903 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:37:45.903 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 18:37:45.904 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:37:45.905 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:37:45.905 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 18:37:45.905 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:37:45.905 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:37:45.905 +07:00 [DBG] Executing DbCommand [Parameters=[@__8__locals2_reviewerIds_0='?' (Size = 4000), @__sid_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId], [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Abbreviation], [t].[CategoryId], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[EN_Title], [t].[IsActive], [t].[IsApproved], [t].[IsLegacy], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[MaxStudents], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[SemesterId], [t].[SupervisorId], [t].[VN_title], [t0].[Id], [t0].[Content], [t0].[Context], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[DocumentUrl], [t0].[EN_Title], [t0].[ExpectedOutcomes], [t0].[IsActive], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[Methodology], [t0].[Objectives], [t0].[PotentialDuplicate], [t0].[Problem], [t0].[Requirements], [t0].[Status], [t0].[SubmittedAt], [t0].[SubmittedBy], [t0].[TopicId], [t0].[VN_title], [t0].[VersionNumber], [t1].[Id], [t1].[Abbreviation], [t1].[CategoryId], [t1].[Content], [t1].[Context], [t1].[CreatedAt], [t1].[CreatedBy], [t1].[DeletedAt], [t1].[Description], [t1].[EN_Title], [t1].[IsActive], [t1].[IsApproved], [t1].[IsLegacy], [t1].[LastModifiedAt], [t1].[LastModifiedBy], [t1].[MaxStudents], [t1].[Objectives], [t1].[PotentialDuplicate], [t1].[Problem], [t1].[SemesterId], [t1].[SupervisorId], [t1].[VN_title]
FROM [reviewer_assignments] AS [r]
INNER JOIN [submissions] AS [s] ON [r].[SubmissionId] = [s].[Id]
LEFT JOIN [topics] AS [t] ON [s].[TopicId] = [t].[Id]
LEFT JOIN [topic_versions] AS [t0] ON [s].[TopicVersionId] = [t0].[Id]
LEFT JOIN [topics] AS [t1] ON [t0].[TopicId] = [t1].[Id]
WHERE [r].[ReviewerId] IN (
    SELECT [8].[value]
    FROM OPENJSON(@__8__locals2_reviewerIds_0) WITH ([value] int '$') AS [8]
) AND (([t].[Id] IS NOT NULL AND [t].[SemesterId] = @__sid_1) OR ([t0].[Id] IS NOT NULL AND [t1].[Id] IS NOT NULL AND [t1].[SemesterId] = @__sid_1))
2025-10-03 18:37:45.928 +07:00 [INF] Executed DbCommand (23ms) [Parameters=[@__8__locals2_reviewerIds_0='?' (Size = 4000), @__sid_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId], [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Abbreviation], [t].[CategoryId], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[EN_Title], [t].[IsActive], [t].[IsApproved], [t].[IsLegacy], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[MaxStudents], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[SemesterId], [t].[SupervisorId], [t].[VN_title], [t0].[Id], [t0].[Content], [t0].[Context], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[DocumentUrl], [t0].[EN_Title], [t0].[ExpectedOutcomes], [t0].[IsActive], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[Methodology], [t0].[Objectives], [t0].[PotentialDuplicate], [t0].[Problem], [t0].[Requirements], [t0].[Status], [t0].[SubmittedAt], [t0].[SubmittedBy], [t0].[TopicId], [t0].[VN_title], [t0].[VersionNumber], [t1].[Id], [t1].[Abbreviation], [t1].[CategoryId], [t1].[Content], [t1].[Context], [t1].[CreatedAt], [t1].[CreatedBy], [t1].[DeletedAt], [t1].[Description], [t1].[EN_Title], [t1].[IsActive], [t1].[IsApproved], [t1].[IsLegacy], [t1].[LastModifiedAt], [t1].[LastModifiedBy], [t1].[MaxStudents], [t1].[Objectives], [t1].[PotentialDuplicate], [t1].[Problem], [t1].[SemesterId], [t1].[SupervisorId], [t1].[VN_title]
FROM [reviewer_assignments] AS [r]
INNER JOIN [submissions] AS [s] ON [r].[SubmissionId] = [s].[Id]
LEFT JOIN [topics] AS [t] ON [s].[TopicId] = [t].[Id]
LEFT JOIN [topic_versions] AS [t0] ON [s].[TopicVersionId] = [t0].[Id]
LEFT JOIN [topics] AS [t1] ON [t0].[TopicId] = [t1].[Id]
WHERE [r].[ReviewerId] IN (
    SELECT [8].[value]
    FROM OPENJSON(@__8__locals2_reviewerIds_0) WITH ([value] int '$') AS [8]
) AND (([t].[Id] IS NOT NULL AND [t].[SemesterId] = @__sid_1) OR ([t0].[Id] IS NOT NULL AND [t1].[Id] IS NOT NULL AND [t1].[SemesterId] = @__sid_1))
2025-10-03 18:37:45.960 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 18:37:45.960 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 31ms reading results.
2025-10-03 18:37:45.960 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:37:45.960 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 18:37:45.961 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:37:45.961 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:37:45.961 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 18:37:45.961 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:37:45.961 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:37:45.962 +07:00 [DBG] Executing DbCommand [Parameters=[@__reviewerIds_0='?' (Size = 4000), @__8__locals1_semesterId_Value_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AverageScoreGiven], [r].[AverageTimeMinutes], [r].[CompletedAssignments], [r].[LastUpdated], [r].[OnTimeRate], [r].[QualityRating], [r].[ReviewerId], [r].[SemesterId], [r].[TotalAssignments]
FROM [reviewer_performance] AS [r]
WHERE [r].[ReviewerId] IN (
    SELECT [r0].[value]
    FROM OPENJSON(@__reviewerIds_0) WITH ([value] int '$') AS [r0]
) AND [r].[SemesterId] = @__8__locals1_semesterId_Value_1
2025-10-03 18:37:45.963 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__reviewerIds_0='?' (Size = 4000), @__8__locals1_semesterId_Value_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AverageScoreGiven], [r].[AverageTimeMinutes], [r].[CompletedAssignments], [r].[LastUpdated], [r].[OnTimeRate], [r].[QualityRating], [r].[ReviewerId], [r].[SemesterId], [r].[TotalAssignments]
FROM [reviewer_performance] AS [r]
WHERE [r].[ReviewerId] IN (
    SELECT [r0].[value]
    FROM OPENJSON(@__reviewerIds_0) WITH ([value] int '$') AS [r0]
) AND [r].[SemesterId] = @__8__locals1_semesterId_Value_1
2025-10-03 18:37:45.965 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 18:37:45.965 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-10-03 18:37:45.965 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:37:45.967 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (1ms).
2025-10-03 18:37:45.968 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-10-03 18:37:45.968 +07:00 [DBG] No information found on request to perform content negotiation.
2025-10-03 18:37:45.968 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-10-03 18:37:45.968 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-10-03 18:37:45.968 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-10-03 18:37:45.968 +07:00 [INF] Executing ObjectResult, writing value of type 'FS.Commons.FSResponse'.
2025-10-03 18:37:45.969 +07:00 [INF] Executed action CapBot.api.Controllers.ReviewerAssignmentController.GetReviewersWorkload (CapBot.api) in 74.3855ms
2025-10-03 18:37:45.969 +07:00 [INF] Executed endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetReviewersWorkload (CapBot.api)'
2025-10-03 18:37:45.969 +07:00 [DBG] Connection id "0HNG2E4HE1RSS" completed keep alive response.
2025-10-03 18:37:45.969 +07:00 [DBG] 'MyDbContext' disposed.
2025-10-03 18:37:45.969 +07:00 [DBG] Disposing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:37:45.969 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-10-03 18:37:45.970 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5207/api/reviewer-assignments/workload?semesterId=1 - 200 null application/json; charset=utf-8 77.3008ms
2025-10-03 18:37:46.167 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5207/api/reviewer-assignments/workload?semesterId=1 - null null
2025-10-03 18:37:46.167 +07:00 [DBG] The request path /api/reviewer-assignments/workload does not match a supported file type
2025-10-03 18:37:46.167 +07:00 [DBG] The request path /api/reviewer-assignments/workload does not match a supported file type
2025-10-03 18:37:46.167 +07:00 [DBG] 1 candidate(s) found for the request path '/api/reviewer-assignments/workload'
2025-10-03 18:37:46.167 +07:00 [DBG] Endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetReviewersWorkload (CapBot.api)' with route pattern 'api/reviewer-assignments/workload' is valid for the request path '/api/reviewer-assignments/workload'
2025-10-03 18:37:46.167 +07:00 [DBG] Request matched endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetReviewersWorkload (CapBot.api)'
2025-10-03 18:37:46.168 +07:00 [DBG] Successfully validated the token.
2025-10-03 18:37:46.168 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-10-03 18:37:46.168 +07:00 [DBG] Authorization was successful.
2025-10-03 18:37:46.168 +07:00 [INF] Executing endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetReviewersWorkload (CapBot.api)'
2025-10-03 18:37:46.169 +07:00 [INF] Route matched with {action = "GetReviewersWorkload", controller = "ReviewerAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetReviewersWorkload(System.Nullable`1[System.Int32]) on controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api).
2025-10-03 18:37:46.169 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-10-03 18:37:46.169 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-10-03 18:37:46.169 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2025-10-03 18:37:46.169 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-10-03 18:37:46.169 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-10-03 18:37:46.169 +07:00 [DBG] Executing controller factory for controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api)
2025-10-03 18:37:46.169 +07:00 [DBG] Executed controller factory for controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api)
2025-10-03 18:37:46.169 +07:00 [DBG] Attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]' ...
2025-10-03 18:37:46.170 +07:00 [DBG] Attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]' using the name 'semesterId' in request data ...
2025-10-03 18:37:46.170 +07:00 [DBG] Done attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]'.
2025-10-03 18:37:46.170 +07:00 [DBG] Done attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]'.
2025-10-03 18:37:46.170 +07:00 [DBG] Attempting to validate the bound parameter 'semesterId' of type 'System.Nullable`1[System.Int32]' ...
2025-10-03 18:37:46.170 +07:00 [DBG] Done attempting to validate the bound parameter 'semesterId' of type 'System.Nullable`1[System.Int32]'.
2025-10-03 18:37:46.171 +07:00 [DBG] Entity Framework Core 8.0.16 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: MigrationsAssembly=App.DAL 
2025-10-03 18:37:46.171 +07:00 [DBG] Creating DbConnection.
2025-10-03 18:37:46.172 +07:00 [DBG] Created DbConnection. (0ms).
2025-10-03 18:37:46.172 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:37:46.172 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:37:46.172 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 18:37:46.172 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:37:46.172 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:37:46.172 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[RoleId], [u0].[Id], [u0].[AccessFailedCount], [u0].[ConcurrencyStamp], [u0].[CreatedAt], [u0].[DeletedAt], [u0].[Email], [u0].[EmailConfirmed], [u0].[LastModifiedAt], [u0].[LastModifiedBy], [u0].[LockoutEnabled], [u0].[LockoutEnd], [u0].[NormalizedEmail], [u0].[NormalizedUserName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[PhoneNumberConfirmed], [u0].[SecurityStamp], [u0].[TwoFactorEnabled], [u0].[UserName], [r].[Id], [l].[Id], [l].[CreatedAt], [l].[CreatedBy], [l].[DeletedAt], [l].[IsActive], [l].[LastModifiedAt], [l].[LastModifiedBy], [l].[LecturerId], [l].[ProficiencyLevel], [l].[SkillTag], [r0].[Id], [r0].[AverageScoreGiven], [r0].[AverageTimeMinutes], [r0].[CompletedAssignments], [r0].[LastUpdated], [r0].[OnTimeRate], [r0].[QualityRating], [r0].[ReviewerId], [r0].[SemesterId], [r0].[TotalAssignments], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [user_roles] AS [u]
INNER JOIN [roles] AS [r] ON [u].[RoleId] = [r].[Id]
INNER JOIN [users] AS [u0] ON [u].[UserId] = [u0].[Id]
LEFT JOIN [lecturer_skills] AS [l] ON [u0].[Id] = [l].[LecturerId]
LEFT JOIN [reviewer_performance] AS [r0] ON [u0].[Id] = [r0].[ReviewerId]
WHERE [r].[Name] = N'Reviewer'
ORDER BY [u].[UserId], [u].[RoleId], [r].[Id], [u0].[Id], [l].[Id]
2025-10-03 18:37:46.174 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[RoleId], [u0].[Id], [u0].[AccessFailedCount], [u0].[ConcurrencyStamp], [u0].[CreatedAt], [u0].[DeletedAt], [u0].[Email], [u0].[EmailConfirmed], [u0].[LastModifiedAt], [u0].[LastModifiedBy], [u0].[LockoutEnabled], [u0].[LockoutEnd], [u0].[NormalizedEmail], [u0].[NormalizedUserName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[PhoneNumberConfirmed], [u0].[SecurityStamp], [u0].[TwoFactorEnabled], [u0].[UserName], [r].[Id], [l].[Id], [l].[CreatedAt], [l].[CreatedBy], [l].[DeletedAt], [l].[IsActive], [l].[LastModifiedAt], [l].[LastModifiedBy], [l].[LecturerId], [l].[ProficiencyLevel], [l].[SkillTag], [r0].[Id], [r0].[AverageScoreGiven], [r0].[AverageTimeMinutes], [r0].[CompletedAssignments], [r0].[LastUpdated], [r0].[OnTimeRate], [r0].[QualityRating], [r0].[ReviewerId], [r0].[SemesterId], [r0].[TotalAssignments], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [user_roles] AS [u]
INNER JOIN [roles] AS [r] ON [u].[RoleId] = [r].[Id]
INNER JOIN [users] AS [u0] ON [u].[UserId] = [u0].[Id]
LEFT JOIN [lecturer_skills] AS [l] ON [u0].[Id] = [l].[LecturerId]
LEFT JOIN [reviewer_performance] AS [r0] ON [u0].[Id] = [r0].[ReviewerId]
WHERE [r].[Name] = N'Reviewer'
ORDER BY [u].[UserId], [u].[RoleId], [r].[Id], [u0].[Id], [l].[Id]
2025-10-03 18:37:46.175 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 18:37:46.175 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 1ms reading results.
2025-10-03 18:37:46.175 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:37:46.176 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 18:37:46.176 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:37:46.176 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:37:46.176 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 18:37:46.177 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:37:46.177 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:37:46.177 +07:00 [DBG] Executing DbCommand [Parameters=[@__8__locals2_reviewerIds_0='?' (Size = 4000), @__sid_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId], [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Abbreviation], [t].[CategoryId], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[EN_Title], [t].[IsActive], [t].[IsApproved], [t].[IsLegacy], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[MaxStudents], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[SemesterId], [t].[SupervisorId], [t].[VN_title], [t0].[Id], [t0].[Content], [t0].[Context], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[DocumentUrl], [t0].[EN_Title], [t0].[ExpectedOutcomes], [t0].[IsActive], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[Methodology], [t0].[Objectives], [t0].[PotentialDuplicate], [t0].[Problem], [t0].[Requirements], [t0].[Status], [t0].[SubmittedAt], [t0].[SubmittedBy], [t0].[TopicId], [t0].[VN_title], [t0].[VersionNumber], [t1].[Id], [t1].[Abbreviation], [t1].[CategoryId], [t1].[Content], [t1].[Context], [t1].[CreatedAt], [t1].[CreatedBy], [t1].[DeletedAt], [t1].[Description], [t1].[EN_Title], [t1].[IsActive], [t1].[IsApproved], [t1].[IsLegacy], [t1].[LastModifiedAt], [t1].[LastModifiedBy], [t1].[MaxStudents], [t1].[Objectives], [t1].[PotentialDuplicate], [t1].[Problem], [t1].[SemesterId], [t1].[SupervisorId], [t1].[VN_title]
FROM [reviewer_assignments] AS [r]
INNER JOIN [submissions] AS [s] ON [r].[SubmissionId] = [s].[Id]
LEFT JOIN [topics] AS [t] ON [s].[TopicId] = [t].[Id]
LEFT JOIN [topic_versions] AS [t0] ON [s].[TopicVersionId] = [t0].[Id]
LEFT JOIN [topics] AS [t1] ON [t0].[TopicId] = [t1].[Id]
WHERE [r].[ReviewerId] IN (
    SELECT [8].[value]
    FROM OPENJSON(@__8__locals2_reviewerIds_0) WITH ([value] int '$') AS [8]
) AND (([t].[Id] IS NOT NULL AND [t].[SemesterId] = @__sid_1) OR ([t0].[Id] IS NOT NULL AND [t1].[Id] IS NOT NULL AND [t1].[SemesterId] = @__sid_1))
2025-10-03 18:37:46.179 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__8__locals2_reviewerIds_0='?' (Size = 4000), @__sid_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId], [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Abbreviation], [t].[CategoryId], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[EN_Title], [t].[IsActive], [t].[IsApproved], [t].[IsLegacy], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[MaxStudents], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[SemesterId], [t].[SupervisorId], [t].[VN_title], [t0].[Id], [t0].[Content], [t0].[Context], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[DocumentUrl], [t0].[EN_Title], [t0].[ExpectedOutcomes], [t0].[IsActive], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[Methodology], [t0].[Objectives], [t0].[PotentialDuplicate], [t0].[Problem], [t0].[Requirements], [t0].[Status], [t0].[SubmittedAt], [t0].[SubmittedBy], [t0].[TopicId], [t0].[VN_title], [t0].[VersionNumber], [t1].[Id], [t1].[Abbreviation], [t1].[CategoryId], [t1].[Content], [t1].[Context], [t1].[CreatedAt], [t1].[CreatedBy], [t1].[DeletedAt], [t1].[Description], [t1].[EN_Title], [t1].[IsActive], [t1].[IsApproved], [t1].[IsLegacy], [t1].[LastModifiedAt], [t1].[LastModifiedBy], [t1].[MaxStudents], [t1].[Objectives], [t1].[PotentialDuplicate], [t1].[Problem], [t1].[SemesterId], [t1].[SupervisorId], [t1].[VN_title]
FROM [reviewer_assignments] AS [r]
INNER JOIN [submissions] AS [s] ON [r].[SubmissionId] = [s].[Id]
LEFT JOIN [topics] AS [t] ON [s].[TopicId] = [t].[Id]
LEFT JOIN [topic_versions] AS [t0] ON [s].[TopicVersionId] = [t0].[Id]
LEFT JOIN [topics] AS [t1] ON [t0].[TopicId] = [t1].[Id]
WHERE [r].[ReviewerId] IN (
    SELECT [8].[value]
    FROM OPENJSON(@__8__locals2_reviewerIds_0) WITH ([value] int '$') AS [8]
) AND (([t].[Id] IS NOT NULL AND [t].[SemesterId] = @__sid_1) OR ([t0].[Id] IS NOT NULL AND [t1].[Id] IS NOT NULL AND [t1].[SemesterId] = @__sid_1))
2025-10-03 18:37:46.185 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 18:37:46.186 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 6ms reading results.
2025-10-03 18:37:46.186 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:37:46.186 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 18:37:46.187 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:37:46.187 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:37:46.187 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 18:37:46.187 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:37:46.187 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:37:46.188 +07:00 [DBG] Executing DbCommand [Parameters=[@__reviewerIds_0='?' (Size = 4000), @__8__locals1_semesterId_Value_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AverageScoreGiven], [r].[AverageTimeMinutes], [r].[CompletedAssignments], [r].[LastUpdated], [r].[OnTimeRate], [r].[QualityRating], [r].[ReviewerId], [r].[SemesterId], [r].[TotalAssignments]
FROM [reviewer_performance] AS [r]
WHERE [r].[ReviewerId] IN (
    SELECT [r0].[value]
    FROM OPENJSON(@__reviewerIds_0) WITH ([value] int '$') AS [r0]
) AND [r].[SemesterId] = @__8__locals1_semesterId_Value_1
2025-10-03 18:37:46.189 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__reviewerIds_0='?' (Size = 4000), @__8__locals1_semesterId_Value_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AverageScoreGiven], [r].[AverageTimeMinutes], [r].[CompletedAssignments], [r].[LastUpdated], [r].[OnTimeRate], [r].[QualityRating], [r].[ReviewerId], [r].[SemesterId], [r].[TotalAssignments]
FROM [reviewer_performance] AS [r]
WHERE [r].[ReviewerId] IN (
    SELECT [r0].[value]
    FROM OPENJSON(@__reviewerIds_0) WITH ([value] int '$') AS [r0]
) AND [r].[SemesterId] = @__8__locals1_semesterId_Value_1
2025-10-03 18:37:46.189 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 18:37:46.190 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-10-03 18:37:46.190 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:37:46.190 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 18:37:46.190 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-10-03 18:37:46.191 +07:00 [DBG] No information found on request to perform content negotiation.
2025-10-03 18:37:46.191 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-10-03 18:37:46.191 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-10-03 18:37:46.191 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-10-03 18:37:46.191 +07:00 [INF] Executing ObjectResult, writing value of type 'FS.Commons.FSResponse'.
2025-10-03 18:37:46.191 +07:00 [INF] Executed action CapBot.api.Controllers.ReviewerAssignmentController.GetReviewersWorkload (CapBot.api) in 22.4342ms
2025-10-03 18:37:46.192 +07:00 [INF] Executed endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetReviewersWorkload (CapBot.api)'
2025-10-03 18:37:46.192 +07:00 [DBG] Connection id "0HNG2E4HE1RSS" completed keep alive response.
2025-10-03 18:37:46.192 +07:00 [DBG] 'MyDbContext' disposed.
2025-10-03 18:37:46.192 +07:00 [DBG] Disposing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:37:46.192 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-10-03 18:37:46.192 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5207/api/reviewer-assignments/workload?semesterId=1 - 200 null application/json; charset=utf-8 25.3236ms
2025-10-03 18:37:46.363 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5207/api/reviewer-assignments/workload?semesterId=1 - null null
2025-10-03 18:37:46.363 +07:00 [DBG] The request path /api/reviewer-assignments/workload does not match a supported file type
2025-10-03 18:37:46.363 +07:00 [DBG] The request path /api/reviewer-assignments/workload does not match a supported file type
2025-10-03 18:37:46.364 +07:00 [DBG] 1 candidate(s) found for the request path '/api/reviewer-assignments/workload'
2025-10-03 18:37:46.364 +07:00 [DBG] Endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetReviewersWorkload (CapBot.api)' with route pattern 'api/reviewer-assignments/workload' is valid for the request path '/api/reviewer-assignments/workload'
2025-10-03 18:37:46.364 +07:00 [DBG] Request matched endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetReviewersWorkload (CapBot.api)'
2025-10-03 18:37:46.365 +07:00 [DBG] Successfully validated the token.
2025-10-03 18:37:46.365 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-10-03 18:37:46.365 +07:00 [DBG] Authorization was successful.
2025-10-03 18:37:46.365 +07:00 [INF] Executing endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetReviewersWorkload (CapBot.api)'
2025-10-03 18:37:46.365 +07:00 [INF] Route matched with {action = "GetReviewersWorkload", controller = "ReviewerAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetReviewersWorkload(System.Nullable`1[System.Int32]) on controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api).
2025-10-03 18:37:46.366 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-10-03 18:37:46.366 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-10-03 18:37:46.366 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2025-10-03 18:37:46.366 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-10-03 18:37:46.366 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-10-03 18:37:46.366 +07:00 [DBG] Executing controller factory for controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api)
2025-10-03 18:37:46.366 +07:00 [DBG] Executed controller factory for controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api)
2025-10-03 18:37:46.367 +07:00 [DBG] Attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]' ...
2025-10-03 18:37:46.367 +07:00 [DBG] Attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]' using the name 'semesterId' in request data ...
2025-10-03 18:37:46.367 +07:00 [DBG] Done attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]'.
2025-10-03 18:37:46.367 +07:00 [DBG] Done attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]'.
2025-10-03 18:37:46.367 +07:00 [DBG] Attempting to validate the bound parameter 'semesterId' of type 'System.Nullable`1[System.Int32]' ...
2025-10-03 18:37:46.367 +07:00 [DBG] Done attempting to validate the bound parameter 'semesterId' of type 'System.Nullable`1[System.Int32]'.
2025-10-03 18:37:46.368 +07:00 [DBG] Entity Framework Core 8.0.16 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: MigrationsAssembly=App.DAL 
2025-10-03 18:37:46.369 +07:00 [DBG] Creating DbConnection.
2025-10-03 18:37:46.369 +07:00 [DBG] Created DbConnection. (0ms).
2025-10-03 18:37:46.369 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:37:46.369 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:37:46.370 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 18:37:46.370 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:37:46.370 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:37:46.370 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[RoleId], [u0].[Id], [u0].[AccessFailedCount], [u0].[ConcurrencyStamp], [u0].[CreatedAt], [u0].[DeletedAt], [u0].[Email], [u0].[EmailConfirmed], [u0].[LastModifiedAt], [u0].[LastModifiedBy], [u0].[LockoutEnabled], [u0].[LockoutEnd], [u0].[NormalizedEmail], [u0].[NormalizedUserName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[PhoneNumberConfirmed], [u0].[SecurityStamp], [u0].[TwoFactorEnabled], [u0].[UserName], [r].[Id], [l].[Id], [l].[CreatedAt], [l].[CreatedBy], [l].[DeletedAt], [l].[IsActive], [l].[LastModifiedAt], [l].[LastModifiedBy], [l].[LecturerId], [l].[ProficiencyLevel], [l].[SkillTag], [r0].[Id], [r0].[AverageScoreGiven], [r0].[AverageTimeMinutes], [r0].[CompletedAssignments], [r0].[LastUpdated], [r0].[OnTimeRate], [r0].[QualityRating], [r0].[ReviewerId], [r0].[SemesterId], [r0].[TotalAssignments], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [user_roles] AS [u]
INNER JOIN [roles] AS [r] ON [u].[RoleId] = [r].[Id]
INNER JOIN [users] AS [u0] ON [u].[UserId] = [u0].[Id]
LEFT JOIN [lecturer_skills] AS [l] ON [u0].[Id] = [l].[LecturerId]
LEFT JOIN [reviewer_performance] AS [r0] ON [u0].[Id] = [r0].[ReviewerId]
WHERE [r].[Name] = N'Reviewer'
ORDER BY [u].[UserId], [u].[RoleId], [r].[Id], [u0].[Id], [l].[Id]
2025-10-03 18:37:46.372 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[RoleId], [u0].[Id], [u0].[AccessFailedCount], [u0].[ConcurrencyStamp], [u0].[CreatedAt], [u0].[DeletedAt], [u0].[Email], [u0].[EmailConfirmed], [u0].[LastModifiedAt], [u0].[LastModifiedBy], [u0].[LockoutEnabled], [u0].[LockoutEnd], [u0].[NormalizedEmail], [u0].[NormalizedUserName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[PhoneNumberConfirmed], [u0].[SecurityStamp], [u0].[TwoFactorEnabled], [u0].[UserName], [r].[Id], [l].[Id], [l].[CreatedAt], [l].[CreatedBy], [l].[DeletedAt], [l].[IsActive], [l].[LastModifiedAt], [l].[LastModifiedBy], [l].[LecturerId], [l].[ProficiencyLevel], [l].[SkillTag], [r0].[Id], [r0].[AverageScoreGiven], [r0].[AverageTimeMinutes], [r0].[CompletedAssignments], [r0].[LastUpdated], [r0].[OnTimeRate], [r0].[QualityRating], [r0].[ReviewerId], [r0].[SemesterId], [r0].[TotalAssignments], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [user_roles] AS [u]
INNER JOIN [roles] AS [r] ON [u].[RoleId] = [r].[Id]
INNER JOIN [users] AS [u0] ON [u].[UserId] = [u0].[Id]
LEFT JOIN [lecturer_skills] AS [l] ON [u0].[Id] = [l].[LecturerId]
LEFT JOIN [reviewer_performance] AS [r0] ON [u0].[Id] = [r0].[ReviewerId]
WHERE [r].[Name] = N'Reviewer'
ORDER BY [u].[UserId], [u].[RoleId], [r].[Id], [u0].[Id], [l].[Id]
2025-10-03 18:37:46.375 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 18:37:46.375 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 2ms reading results.
2025-10-03 18:37:46.375 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:37:46.375 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 18:37:46.376 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:37:46.376 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:37:46.376 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 18:37:46.377 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:37:46.377 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:37:46.377 +07:00 [DBG] Executing DbCommand [Parameters=[@__8__locals2_reviewerIds_0='?' (Size = 4000), @__sid_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId], [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Abbreviation], [t].[CategoryId], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[EN_Title], [t].[IsActive], [t].[IsApproved], [t].[IsLegacy], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[MaxStudents], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[SemesterId], [t].[SupervisorId], [t].[VN_title], [t0].[Id], [t0].[Content], [t0].[Context], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[DocumentUrl], [t0].[EN_Title], [t0].[ExpectedOutcomes], [t0].[IsActive], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[Methodology], [t0].[Objectives], [t0].[PotentialDuplicate], [t0].[Problem], [t0].[Requirements], [t0].[Status], [t0].[SubmittedAt], [t0].[SubmittedBy], [t0].[TopicId], [t0].[VN_title], [t0].[VersionNumber], [t1].[Id], [t1].[Abbreviation], [t1].[CategoryId], [t1].[Content], [t1].[Context], [t1].[CreatedAt], [t1].[CreatedBy], [t1].[DeletedAt], [t1].[Description], [t1].[EN_Title], [t1].[IsActive], [t1].[IsApproved], [t1].[IsLegacy], [t1].[LastModifiedAt], [t1].[LastModifiedBy], [t1].[MaxStudents], [t1].[Objectives], [t1].[PotentialDuplicate], [t1].[Problem], [t1].[SemesterId], [t1].[SupervisorId], [t1].[VN_title]
FROM [reviewer_assignments] AS [r]
INNER JOIN [submissions] AS [s] ON [r].[SubmissionId] = [s].[Id]
LEFT JOIN [topics] AS [t] ON [s].[TopicId] = [t].[Id]
LEFT JOIN [topic_versions] AS [t0] ON [s].[TopicVersionId] = [t0].[Id]
LEFT JOIN [topics] AS [t1] ON [t0].[TopicId] = [t1].[Id]
WHERE [r].[ReviewerId] IN (
    SELECT [8].[value]
    FROM OPENJSON(@__8__locals2_reviewerIds_0) WITH ([value] int '$') AS [8]
) AND (([t].[Id] IS NOT NULL AND [t].[SemesterId] = @__sid_1) OR ([t0].[Id] IS NOT NULL AND [t1].[Id] IS NOT NULL AND [t1].[SemesterId] = @__sid_1))
2025-10-03 18:37:46.379 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__8__locals2_reviewerIds_0='?' (Size = 4000), @__sid_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId], [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Abbreviation], [t].[CategoryId], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[EN_Title], [t].[IsActive], [t].[IsApproved], [t].[IsLegacy], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[MaxStudents], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[SemesterId], [t].[SupervisorId], [t].[VN_title], [t0].[Id], [t0].[Content], [t0].[Context], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[DocumentUrl], [t0].[EN_Title], [t0].[ExpectedOutcomes], [t0].[IsActive], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[Methodology], [t0].[Objectives], [t0].[PotentialDuplicate], [t0].[Problem], [t0].[Requirements], [t0].[Status], [t0].[SubmittedAt], [t0].[SubmittedBy], [t0].[TopicId], [t0].[VN_title], [t0].[VersionNumber], [t1].[Id], [t1].[Abbreviation], [t1].[CategoryId], [t1].[Content], [t1].[Context], [t1].[CreatedAt], [t1].[CreatedBy], [t1].[DeletedAt], [t1].[Description], [t1].[EN_Title], [t1].[IsActive], [t1].[IsApproved], [t1].[IsLegacy], [t1].[LastModifiedAt], [t1].[LastModifiedBy], [t1].[MaxStudents], [t1].[Objectives], [t1].[PotentialDuplicate], [t1].[Problem], [t1].[SemesterId], [t1].[SupervisorId], [t1].[VN_title]
FROM [reviewer_assignments] AS [r]
INNER JOIN [submissions] AS [s] ON [r].[SubmissionId] = [s].[Id]
LEFT JOIN [topics] AS [t] ON [s].[TopicId] = [t].[Id]
LEFT JOIN [topic_versions] AS [t0] ON [s].[TopicVersionId] = [t0].[Id]
LEFT JOIN [topics] AS [t1] ON [t0].[TopicId] = [t1].[Id]
WHERE [r].[ReviewerId] IN (
    SELECT [8].[value]
    FROM OPENJSON(@__8__locals2_reviewerIds_0) WITH ([value] int '$') AS [8]
) AND (([t].[Id] IS NOT NULL AND [t].[SemesterId] = @__sid_1) OR ([t0].[Id] IS NOT NULL AND [t1].[Id] IS NOT NULL AND [t1].[SemesterId] = @__sid_1))
2025-10-03 18:37:46.387 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 18:37:46.389 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 6ms reading results.
2025-10-03 18:37:46.389 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:37:46.389 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 18:37:46.390 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:37:46.390 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:37:46.390 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 18:37:46.390 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:37:46.391 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:37:46.391 +07:00 [DBG] Executing DbCommand [Parameters=[@__reviewerIds_0='?' (Size = 4000), @__8__locals1_semesterId_Value_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AverageScoreGiven], [r].[AverageTimeMinutes], [r].[CompletedAssignments], [r].[LastUpdated], [r].[OnTimeRate], [r].[QualityRating], [r].[ReviewerId], [r].[SemesterId], [r].[TotalAssignments]
FROM [reviewer_performance] AS [r]
WHERE [r].[ReviewerId] IN (
    SELECT [r0].[value]
    FROM OPENJSON(@__reviewerIds_0) WITH ([value] int '$') AS [r0]
) AND [r].[SemesterId] = @__8__locals1_semesterId_Value_1
2025-10-03 18:37:46.392 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__reviewerIds_0='?' (Size = 4000), @__8__locals1_semesterId_Value_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AverageScoreGiven], [r].[AverageTimeMinutes], [r].[CompletedAssignments], [r].[LastUpdated], [r].[OnTimeRate], [r].[QualityRating], [r].[ReviewerId], [r].[SemesterId], [r].[TotalAssignments]
FROM [reviewer_performance] AS [r]
WHERE [r].[ReviewerId] IN (
    SELECT [r0].[value]
    FROM OPENJSON(@__reviewerIds_0) WITH ([value] int '$') AS [r0]
) AND [r].[SemesterId] = @__8__locals1_semesterId_Value_1
2025-10-03 18:37:46.393 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 18:37:46.393 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-10-03 18:37:46.393 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:37:46.393 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 18:37:46.393 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-10-03 18:37:46.393 +07:00 [DBG] No information found on request to perform content negotiation.
2025-10-03 18:37:46.393 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-10-03 18:37:46.394 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-10-03 18:37:46.394 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-10-03 18:37:46.394 +07:00 [INF] Executing ObjectResult, writing value of type 'FS.Commons.FSResponse'.
2025-10-03 18:37:46.394 +07:00 [INF] Executed action CapBot.api.Controllers.ReviewerAssignmentController.GetReviewersWorkload (CapBot.api) in 28.1289ms
2025-10-03 18:37:46.394 +07:00 [INF] Executed endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetReviewersWorkload (CapBot.api)'
2025-10-03 18:37:46.395 +07:00 [DBG] Connection id "0HNG2E4HE1RSS" completed keep alive response.
2025-10-03 18:37:46.395 +07:00 [DBG] 'MyDbContext' disposed.
2025-10-03 18:37:46.395 +07:00 [DBG] Disposing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:37:46.395 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-10-03 18:37:46.395 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5207/api/reviewer-assignments/workload?semesterId=1 - 200 null application/json; charset=utf-8 32.6065ms
2025-10-03 18:37:46.585 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5207/api/reviewer-assignments/workload?semesterId=1 - null null
2025-10-03 18:37:46.586 +07:00 [DBG] The request path /api/reviewer-assignments/workload does not match a supported file type
2025-10-03 18:37:46.586 +07:00 [DBG] The request path /api/reviewer-assignments/workload does not match a supported file type
2025-10-03 18:37:46.586 +07:00 [DBG] 1 candidate(s) found for the request path '/api/reviewer-assignments/workload'
2025-10-03 18:37:46.586 +07:00 [DBG] Endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetReviewersWorkload (CapBot.api)' with route pattern 'api/reviewer-assignments/workload' is valid for the request path '/api/reviewer-assignments/workload'
2025-10-03 18:37:46.586 +07:00 [DBG] Request matched endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetReviewersWorkload (CapBot.api)'
2025-10-03 18:37:46.586 +07:00 [DBG] Successfully validated the token.
2025-10-03 18:37:46.586 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-10-03 18:37:46.587 +07:00 [DBG] Authorization was successful.
2025-10-03 18:37:46.587 +07:00 [INF] Executing endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetReviewersWorkload (CapBot.api)'
2025-10-03 18:37:46.587 +07:00 [INF] Route matched with {action = "GetReviewersWorkload", controller = "ReviewerAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetReviewersWorkload(System.Nullable`1[System.Int32]) on controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api).
2025-10-03 18:37:46.587 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-10-03 18:37:46.587 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-10-03 18:37:46.587 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2025-10-03 18:37:46.587 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-10-03 18:37:46.587 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-10-03 18:37:46.587 +07:00 [DBG] Executing controller factory for controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api)
2025-10-03 18:37:46.588 +07:00 [DBG] Executed controller factory for controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api)
2025-10-03 18:37:46.588 +07:00 [DBG] Attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]' ...
2025-10-03 18:37:46.588 +07:00 [DBG] Attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]' using the name 'semesterId' in request data ...
2025-10-03 18:37:46.588 +07:00 [DBG] Done attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]'.
2025-10-03 18:37:46.588 +07:00 [DBG] Done attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]'.
2025-10-03 18:37:46.588 +07:00 [DBG] Attempting to validate the bound parameter 'semesterId' of type 'System.Nullable`1[System.Int32]' ...
2025-10-03 18:37:46.588 +07:00 [DBG] Done attempting to validate the bound parameter 'semesterId' of type 'System.Nullable`1[System.Int32]'.
2025-10-03 18:37:46.589 +07:00 [DBG] Entity Framework Core 8.0.16 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: MigrationsAssembly=App.DAL 
2025-10-03 18:37:46.589 +07:00 [DBG] Creating DbConnection.
2025-10-03 18:37:46.590 +07:00 [DBG] Created DbConnection. (0ms).
2025-10-03 18:37:46.590 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:37:46.590 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:37:46.590 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 18:37:46.590 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:37:46.590 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:37:46.590 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[RoleId], [u0].[Id], [u0].[AccessFailedCount], [u0].[ConcurrencyStamp], [u0].[CreatedAt], [u0].[DeletedAt], [u0].[Email], [u0].[EmailConfirmed], [u0].[LastModifiedAt], [u0].[LastModifiedBy], [u0].[LockoutEnabled], [u0].[LockoutEnd], [u0].[NormalizedEmail], [u0].[NormalizedUserName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[PhoneNumberConfirmed], [u0].[SecurityStamp], [u0].[TwoFactorEnabled], [u0].[UserName], [r].[Id], [l].[Id], [l].[CreatedAt], [l].[CreatedBy], [l].[DeletedAt], [l].[IsActive], [l].[LastModifiedAt], [l].[LastModifiedBy], [l].[LecturerId], [l].[ProficiencyLevel], [l].[SkillTag], [r0].[Id], [r0].[AverageScoreGiven], [r0].[AverageTimeMinutes], [r0].[CompletedAssignments], [r0].[LastUpdated], [r0].[OnTimeRate], [r0].[QualityRating], [r0].[ReviewerId], [r0].[SemesterId], [r0].[TotalAssignments], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [user_roles] AS [u]
INNER JOIN [roles] AS [r] ON [u].[RoleId] = [r].[Id]
INNER JOIN [users] AS [u0] ON [u].[UserId] = [u0].[Id]
LEFT JOIN [lecturer_skills] AS [l] ON [u0].[Id] = [l].[LecturerId]
LEFT JOIN [reviewer_performance] AS [r0] ON [u0].[Id] = [r0].[ReviewerId]
WHERE [r].[Name] = N'Reviewer'
ORDER BY [u].[UserId], [u].[RoleId], [r].[Id], [u0].[Id], [l].[Id]
2025-10-03 18:37:46.592 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[RoleId], [u0].[Id], [u0].[AccessFailedCount], [u0].[ConcurrencyStamp], [u0].[CreatedAt], [u0].[DeletedAt], [u0].[Email], [u0].[EmailConfirmed], [u0].[LastModifiedAt], [u0].[LastModifiedBy], [u0].[LockoutEnabled], [u0].[LockoutEnd], [u0].[NormalizedEmail], [u0].[NormalizedUserName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[PhoneNumberConfirmed], [u0].[SecurityStamp], [u0].[TwoFactorEnabled], [u0].[UserName], [r].[Id], [l].[Id], [l].[CreatedAt], [l].[CreatedBy], [l].[DeletedAt], [l].[IsActive], [l].[LastModifiedAt], [l].[LastModifiedBy], [l].[LecturerId], [l].[ProficiencyLevel], [l].[SkillTag], [r0].[Id], [r0].[AverageScoreGiven], [r0].[AverageTimeMinutes], [r0].[CompletedAssignments], [r0].[LastUpdated], [r0].[OnTimeRate], [r0].[QualityRating], [r0].[ReviewerId], [r0].[SemesterId], [r0].[TotalAssignments], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [user_roles] AS [u]
INNER JOIN [roles] AS [r] ON [u].[RoleId] = [r].[Id]
INNER JOIN [users] AS [u0] ON [u].[UserId] = [u0].[Id]
LEFT JOIN [lecturer_skills] AS [l] ON [u0].[Id] = [l].[LecturerId]
LEFT JOIN [reviewer_performance] AS [r0] ON [u0].[Id] = [r0].[ReviewerId]
WHERE [r].[Name] = N'Reviewer'
ORDER BY [u].[UserId], [u].[RoleId], [r].[Id], [u0].[Id], [l].[Id]
2025-10-03 18:37:46.593 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 18:37:46.594 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 1ms reading results.
2025-10-03 18:37:46.594 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:37:46.594 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 18:37:46.595 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:37:46.595 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:37:46.595 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 18:37:46.595 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:37:46.596 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:37:46.596 +07:00 [DBG] Executing DbCommand [Parameters=[@__8__locals2_reviewerIds_0='?' (Size = 4000), @__sid_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId], [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Abbreviation], [t].[CategoryId], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[EN_Title], [t].[IsActive], [t].[IsApproved], [t].[IsLegacy], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[MaxStudents], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[SemesterId], [t].[SupervisorId], [t].[VN_title], [t0].[Id], [t0].[Content], [t0].[Context], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[DocumentUrl], [t0].[EN_Title], [t0].[ExpectedOutcomes], [t0].[IsActive], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[Methodology], [t0].[Objectives], [t0].[PotentialDuplicate], [t0].[Problem], [t0].[Requirements], [t0].[Status], [t0].[SubmittedAt], [t0].[SubmittedBy], [t0].[TopicId], [t0].[VN_title], [t0].[VersionNumber], [t1].[Id], [t1].[Abbreviation], [t1].[CategoryId], [t1].[Content], [t1].[Context], [t1].[CreatedAt], [t1].[CreatedBy], [t1].[DeletedAt], [t1].[Description], [t1].[EN_Title], [t1].[IsActive], [t1].[IsApproved], [t1].[IsLegacy], [t1].[LastModifiedAt], [t1].[LastModifiedBy], [t1].[MaxStudents], [t1].[Objectives], [t1].[PotentialDuplicate], [t1].[Problem], [t1].[SemesterId], [t1].[SupervisorId], [t1].[VN_title]
FROM [reviewer_assignments] AS [r]
INNER JOIN [submissions] AS [s] ON [r].[SubmissionId] = [s].[Id]
LEFT JOIN [topics] AS [t] ON [s].[TopicId] = [t].[Id]
LEFT JOIN [topic_versions] AS [t0] ON [s].[TopicVersionId] = [t0].[Id]
LEFT JOIN [topics] AS [t1] ON [t0].[TopicId] = [t1].[Id]
WHERE [r].[ReviewerId] IN (
    SELECT [8].[value]
    FROM OPENJSON(@__8__locals2_reviewerIds_0) WITH ([value] int '$') AS [8]
) AND (([t].[Id] IS NOT NULL AND [t].[SemesterId] = @__sid_1) OR ([t0].[Id] IS NOT NULL AND [t1].[Id] IS NOT NULL AND [t1].[SemesterId] = @__sid_1))
2025-10-03 18:37:46.602 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__8__locals2_reviewerIds_0='?' (Size = 4000), @__sid_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId], [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Abbreviation], [t].[CategoryId], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[EN_Title], [t].[IsActive], [t].[IsApproved], [t].[IsLegacy], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[MaxStudents], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[SemesterId], [t].[SupervisorId], [t].[VN_title], [t0].[Id], [t0].[Content], [t0].[Context], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[DocumentUrl], [t0].[EN_Title], [t0].[ExpectedOutcomes], [t0].[IsActive], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[Methodology], [t0].[Objectives], [t0].[PotentialDuplicate], [t0].[Problem], [t0].[Requirements], [t0].[Status], [t0].[SubmittedAt], [t0].[SubmittedBy], [t0].[TopicId], [t0].[VN_title], [t0].[VersionNumber], [t1].[Id], [t1].[Abbreviation], [t1].[CategoryId], [t1].[Content], [t1].[Context], [t1].[CreatedAt], [t1].[CreatedBy], [t1].[DeletedAt], [t1].[Description], [t1].[EN_Title], [t1].[IsActive], [t1].[IsApproved], [t1].[IsLegacy], [t1].[LastModifiedAt], [t1].[LastModifiedBy], [t1].[MaxStudents], [t1].[Objectives], [t1].[PotentialDuplicate], [t1].[Problem], [t1].[SemesterId], [t1].[SupervisorId], [t1].[VN_title]
FROM [reviewer_assignments] AS [r]
INNER JOIN [submissions] AS [s] ON [r].[SubmissionId] = [s].[Id]
LEFT JOIN [topics] AS [t] ON [s].[TopicId] = [t].[Id]
LEFT JOIN [topic_versions] AS [t0] ON [s].[TopicVersionId] = [t0].[Id]
LEFT JOIN [topics] AS [t1] ON [t0].[TopicId] = [t1].[Id]
WHERE [r].[ReviewerId] IN (
    SELECT [8].[value]
    FROM OPENJSON(@__8__locals2_reviewerIds_0) WITH ([value] int '$') AS [8]
) AND (([t].[Id] IS NOT NULL AND [t].[SemesterId] = @__sid_1) OR ([t0].[Id] IS NOT NULL AND [t1].[Id] IS NOT NULL AND [t1].[SemesterId] = @__sid_1))
2025-10-03 18:37:46.605 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 18:37:46.605 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 2ms reading results.
2025-10-03 18:37:46.605 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:37:46.605 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 18:37:46.606 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:37:46.606 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:37:46.606 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 18:37:46.606 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:37:46.607 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:37:46.607 +07:00 [DBG] Executing DbCommand [Parameters=[@__reviewerIds_0='?' (Size = 4000), @__8__locals1_semesterId_Value_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AverageScoreGiven], [r].[AverageTimeMinutes], [r].[CompletedAssignments], [r].[LastUpdated], [r].[OnTimeRate], [r].[QualityRating], [r].[ReviewerId], [r].[SemesterId], [r].[TotalAssignments]
FROM [reviewer_performance] AS [r]
WHERE [r].[ReviewerId] IN (
    SELECT [r0].[value]
    FROM OPENJSON(@__reviewerIds_0) WITH ([value] int '$') AS [r0]
) AND [r].[SemesterId] = @__8__locals1_semesterId_Value_1
2025-10-03 18:37:46.609 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__reviewerIds_0='?' (Size = 4000), @__8__locals1_semesterId_Value_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AverageScoreGiven], [r].[AverageTimeMinutes], [r].[CompletedAssignments], [r].[LastUpdated], [r].[OnTimeRate], [r].[QualityRating], [r].[ReviewerId], [r].[SemesterId], [r].[TotalAssignments]
FROM [reviewer_performance] AS [r]
WHERE [r].[ReviewerId] IN (
    SELECT [r0].[value]
    FROM OPENJSON(@__reviewerIds_0) WITH ([value] int '$') AS [r0]
) AND [r].[SemesterId] = @__8__locals1_semesterId_Value_1
2025-10-03 18:37:46.609 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 18:37:46.610 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-10-03 18:37:46.610 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:37:46.610 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 18:37:46.610 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-10-03 18:37:46.610 +07:00 [DBG] No information found on request to perform content negotiation.
2025-10-03 18:37:46.610 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-10-03 18:37:46.610 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-10-03 18:37:46.610 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-10-03 18:37:46.611 +07:00 [INF] Executing ObjectResult, writing value of type 'FS.Commons.FSResponse'.
2025-10-03 18:37:46.611 +07:00 [INF] Executed action CapBot.api.Controllers.ReviewerAssignmentController.GetReviewersWorkload (CapBot.api) in 23.5206ms
2025-10-03 18:37:46.611 +07:00 [INF] Executed endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetReviewersWorkload (CapBot.api)'
2025-10-03 18:37:46.611 +07:00 [DBG] Connection id "0HNG2E4HE1RSS" completed keep alive response.
2025-10-03 18:37:46.611 +07:00 [DBG] 'MyDbContext' disposed.
2025-10-03 18:37:46.611 +07:00 [DBG] Disposing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:37:46.612 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-10-03 18:37:46.612 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5207/api/reviewer-assignments/workload?semesterId=1 - 200 null application/json; charset=utf-8 26.4583ms
2025-10-03 18:39:58.137 +07:00 [DBG] Connection id "0HNG2E4HE1RSS" disconnecting.
2025-10-03 18:39:58.137 +07:00 [DBG] Connection id "0HNG2E4HE1RSS" stopped.
2025-10-03 18:39:58.138 +07:00 [DBG] Connection id "0HNG2E4HE1RSS" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-10-03 18:42:00.135 +07:00 [INF] Bắt đầu kiểm tra deadline notifications lúc "2025-10-03T18:42:00.1355615+07:00"
2025-10-03 18:42:00.137 +07:00 [DBG] Entity Framework Core 8.0.16 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: MigrationsAssembly=App.DAL 
2025-10-03 18:42:00.137 +07:00 [DBG] Creating DbConnection.
2025-10-03 18:42:00.138 +07:00 [DBG] Created DbConnection. (0ms).
2025-10-03 18:42:00.138 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:42:00.138 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:42:00.138 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 18:42:00.138 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:42:00.138 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:42:00.138 +07:00 [DBG] Executing DbCommand [Parameters=[@__tomorrow_0='?' (DbType = DateTime2), @__dayAfterTomorrow_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[DocumentUrl], [t].[EN_Title], [t].[ExpectedOutcomes], [t].[IsActive], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[Methodology], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[Requirements], [t].[Status], [t].[SubmittedAt], [t].[SubmittedBy], [t].[TopicId], [t].[VN_title], [t].[VersionNumber], [t0].[Id], [t0].[Abbreviation], [t0].[CategoryId], [t0].[Content], [t0].[Context], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[EN_Title], [t0].[IsActive], [t0].[IsApproved], [t0].[IsLegacy], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[MaxStudents], [t0].[Objectives], [t0].[PotentialDuplicate], [t0].[Problem], [t0].[SemesterId], [t0].[SupervisorId], [t0].[VN_title]
FROM [reviewer_assignments] AS [r]
INNER JOIN [users] AS [u] ON [r].[ReviewerId] = [u].[Id]
INNER JOIN [submissions] AS [s] ON [r].[SubmissionId] = [s].[Id]
LEFT JOIN [topic_versions] AS [t] ON [s].[TopicVersionId] = [t].[Id]
LEFT JOIN [topics] AS [t0] ON [s].[TopicId] = [t0].[Id]
WHERE [r].[Deadline] IS NOT NULL AND CONVERT(date, [r].[Deadline]) >= @__tomorrow_0 AND CONVERT(date, [r].[Deadline]) <= @__dayAfterTomorrow_1 AND [r].[Status] IN (1, 2)
2025-10-03 18:42:00.149 +07:00 [INF] Executed DbCommand (11ms) [Parameters=[@__tomorrow_0='?' (DbType = DateTime2), @__dayAfterTomorrow_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[DocumentUrl], [t].[EN_Title], [t].[ExpectedOutcomes], [t].[IsActive], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[Methodology], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[Requirements], [t].[Status], [t].[SubmittedAt], [t].[SubmittedBy], [t].[TopicId], [t].[VN_title], [t].[VersionNumber], [t0].[Id], [t0].[Abbreviation], [t0].[CategoryId], [t0].[Content], [t0].[Context], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[EN_Title], [t0].[IsActive], [t0].[IsApproved], [t0].[IsLegacy], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[MaxStudents], [t0].[Objectives], [t0].[PotentialDuplicate], [t0].[Problem], [t0].[SemesterId], [t0].[SupervisorId], [t0].[VN_title]
FROM [reviewer_assignments] AS [r]
INNER JOIN [users] AS [u] ON [r].[ReviewerId] = [u].[Id]
INNER JOIN [submissions] AS [s] ON [r].[SubmissionId] = [s].[Id]
LEFT JOIN [topic_versions] AS [t] ON [s].[TopicVersionId] = [t].[Id]
LEFT JOIN [topics] AS [t0] ON [s].[TopicId] = [t0].[Id]
WHERE [r].[Deadline] IS NOT NULL AND CONVERT(date, [r].[Deadline]) >= @__tomorrow_0 AND CONVERT(date, [r].[Deadline]) <= @__dayAfterTomorrow_1 AND [r].[Status] IN (1, 2)
2025-10-03 18:42:00.150 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 18:42:00.150 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-10-03 18:42:00.150 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:42:00.150 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 18:42:00.150 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:42:00.150 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:42:00.150 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 18:42:00.150 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:42:00.150 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:42:00.151 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[DocumentUrl], [t].[EN_Title], [t].[ExpectedOutcomes], [t].[IsActive], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[Methodology], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[Requirements], [t].[Status], [t].[SubmittedAt], [t].[SubmittedBy], [t].[TopicId], [t].[VN_title], [t].[VersionNumber], [t0].[Id], [t0].[Abbreviation], [t0].[CategoryId], [t0].[Content], [t0].[Context], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[EN_Title], [t0].[IsActive], [t0].[IsApproved], [t0].[IsLegacy], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[MaxStudents], [t0].[Objectives], [t0].[PotentialDuplicate], [t0].[Problem], [t0].[SemesterId], [t0].[SupervisorId], [t0].[VN_title]
FROM [reviewer_assignments] AS [r]
INNER JOIN [users] AS [u] ON [r].[ReviewerId] = [u].[Id]
INNER JOIN [submissions] AS [s] ON [r].[SubmissionId] = [s].[Id]
LEFT JOIN [topic_versions] AS [t] ON [s].[TopicVersionId] = [t].[Id]
LEFT JOIN [topics] AS [t0] ON [s].[TopicId] = [t0].[Id]
WHERE [r].[Deadline] IS NOT NULL AND CONVERT(date, [r].[Deadline]) < CONVERT(date, GETDATE()) AND [r].[Status] IN (1, 2)
2025-10-03 18:42:00.160 +07:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[DocumentUrl], [t].[EN_Title], [t].[ExpectedOutcomes], [t].[IsActive], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[Methodology], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[Requirements], [t].[Status], [t].[SubmittedAt], [t].[SubmittedBy], [t].[TopicId], [t].[VN_title], [t].[VersionNumber], [t0].[Id], [t0].[Abbreviation], [t0].[CategoryId], [t0].[Content], [t0].[Context], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[EN_Title], [t0].[IsActive], [t0].[IsApproved], [t0].[IsLegacy], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[MaxStudents], [t0].[Objectives], [t0].[PotentialDuplicate], [t0].[Problem], [t0].[SemesterId], [t0].[SupervisorId], [t0].[VN_title]
FROM [reviewer_assignments] AS [r]
INNER JOIN [users] AS [u] ON [r].[ReviewerId] = [u].[Id]
INNER JOIN [submissions] AS [s] ON [r].[SubmissionId] = [s].[Id]
LEFT JOIN [topic_versions] AS [t] ON [s].[TopicVersionId] = [t].[Id]
LEFT JOIN [topics] AS [t0] ON [s].[TopicId] = [t0].[Id]
WHERE [r].[Deadline] IS NOT NULL AND CONVERT(date, [r].[Deadline]) < CONVERT(date, GETDATE()) AND [r].[Status] IN (1, 2)
2025-10-03 18:42:00.160 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 18:42:00.160 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-10-03 18:42:00.160 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:42:00.160 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 18:42:00.161 +07:00 [DBG] 'MyDbContext' generated a temporary value for the property 'SystemNotification.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 18:42:00.161 +07:00 [DBG] Context 'MyDbContext' started tracking 'SystemNotification' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 18:42:00.162 +07:00 [DBG] SaveChanges starting for 'MyDbContext'.
2025-10-03 18:42:00.162 +07:00 [DBG] DetectChanges starting for 'MyDbContext'.
2025-10-03 18:42:00.162 +07:00 [DBG] DetectChanges completed for 'MyDbContext'.
2025-10-03 18:42:00.163 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:42:00.163 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:42:00.163 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 18:42:00.163 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:42:00.163 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:42:00.163 +07:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (Size = 50), @p5='?' (Size = 255), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [system_notifications] ([CreatedAt], [Message], [ReadAt], [RelatedEntityId], [RelatedEntityType], [Title], [Type], [UserId])
OUTPUT INSERTED.[Id], INSERTED.[IsRead]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-10-03 18:42:00.170 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (Size = 50), @p5='?' (Size = 255), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [system_notifications] ([CreatedAt], [Message], [ReadAt], [RelatedEntityId], [RelatedEntityType], [Title], [Type], [UserId])
OUTPUT INSERTED.[Id], INSERTED.[IsRead]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-10-03 18:42:00.170 +07:00 [DBG] The foreign key property 'SystemNotification.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-10-03 18:42:00.171 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 18:42:00.171 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-10-03 18:42:00.171 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:42:00.171 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 18:42:00.171 +07:00 [DBG] An entity of type 'SystemNotification' tracked by 'MyDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 18:42:00.171 +07:00 [DBG] SaveChanges completed for 'MyDbContext' with 1 entities written to the database.
2025-10-03 18:42:00.171 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:42:00.172 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:42:00.172 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 18:42:00.172 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:42:00.172 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:42:00.172 +07:00 [DBG] Executing DbCommand [Parameters=[@__entity_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [system_notifications] AS [s]
WHERE [s].[UserId] = @__entity_UserId_0 AND [s].[IsRead] = CAST(0 AS bit)
2025-10-03 18:42:00.174 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__entity_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [system_notifications] AS [s]
WHERE [s].[UserId] = @__entity_UserId_0 AND [s].[IsRead] = CAST(0 AS bit)
2025-10-03 18:42:00.174 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 18:42:00.174 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-10-03 18:42:00.174 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:42:00.174 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 18:42:02.763 +07:00 [ERR] 5.4.5 Daily user sending limit exceeded. For more information on Gmail
5.4.5 sending limits go to
5.4.5  https://support.google.com/a/answer/166852 d9443c01a7336-28e8d113036sm48091925ad.27 - gsmtp
2025-10-03 18:42:02.989 +07:00 [WRN] Không thể gửi email sắp đến hạn cho reviewer hieptmse140293@fpt.edu.vn, assignment 31
2025-10-03 18:42:02.989 +07:00 [INF] Đã gửi thông báo sắp đến hạn cho reviewer 27, assignment 31
2025-10-03 18:42:02.989 +07:00 [DBG] 'MyDbContext' generated a temporary value for the property 'SystemNotification.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 18:42:02.989 +07:00 [DBG] Context 'MyDbContext' started tracking 'SystemNotification' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 18:42:02.990 +07:00 [DBG] SaveChanges starting for 'MyDbContext'.
2025-10-03 18:42:02.990 +07:00 [DBG] DetectChanges starting for 'MyDbContext'.
2025-10-03 18:42:02.990 +07:00 [DBG] DetectChanges completed for 'MyDbContext'.
2025-10-03 18:42:02.990 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:42:02.990 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:42:02.990 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 18:42:02.991 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:42:02.991 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:42:02.991 +07:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (Size = 50), @p5='?' (Size = 255), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [system_notifications] ([CreatedAt], [Message], [ReadAt], [RelatedEntityId], [RelatedEntityType], [Title], [Type], [UserId])
OUTPUT INSERTED.[Id], INSERTED.[IsRead]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-10-03 18:42:02.996 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (Size = 50), @p5='?' (Size = 255), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [system_notifications] ([CreatedAt], [Message], [ReadAt], [RelatedEntityId], [RelatedEntityType], [Title], [Type], [UserId])
OUTPUT INSERTED.[Id], INSERTED.[IsRead]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-10-03 18:42:02.996 +07:00 [DBG] The foreign key property 'SystemNotification.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-10-03 18:42:02.996 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 18:42:02.996 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-10-03 18:42:02.996 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:42:02.996 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 18:42:02.997 +07:00 [DBG] An entity of type 'SystemNotification' tracked by 'MyDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 18:42:02.997 +07:00 [DBG] SaveChanges completed for 'MyDbContext' with 1 entities written to the database.
2025-10-03 18:42:02.997 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:42:02.997 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:42:02.997 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 18:42:02.997 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:42:02.997 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:42:02.997 +07:00 [DBG] Executing DbCommand [Parameters=[@__entity_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [system_notifications] AS [s]
WHERE [s].[UserId] = @__entity_UserId_0 AND [s].[IsRead] = CAST(0 AS bit)
2025-10-03 18:42:02.999 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__entity_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [system_notifications] AS [s]
WHERE [s].[UserId] = @__entity_UserId_0 AND [s].[IsRead] = CAST(0 AS bit)
2025-10-03 18:42:02.999 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 18:42:02.999 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-10-03 18:42:02.999 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:42:02.999 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 18:42:04.845 +07:00 [ERR] 5.4.5 Daily user sending limit exceeded. For more information on Gmail
5.4.5 sending limits go to
5.4.5  https://support.google.com/a/answer/166852 98e67ed59e1d1-339a6ebd987sm7814989a91.7 - gsmtp
2025-10-03 18:42:05.067 +07:00 [WRN] Không thể gửi email quá hạn cho reviewer supervisor@gmail.com, assignment 1
2025-10-03 18:42:05.067 +07:00 [INF] Đã gửi thông báo quá hạn cho reviewer 6, assignment 1
2025-10-03 18:42:05.068 +07:00 [DBG] 'MyDbContext' generated a temporary value for the property 'SystemNotification.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 18:42:05.068 +07:00 [DBG] Context 'MyDbContext' started tracking 'SystemNotification' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 18:42:05.068 +07:00 [DBG] SaveChanges starting for 'MyDbContext'.
2025-10-03 18:42:05.068 +07:00 [DBG] DetectChanges starting for 'MyDbContext'.
2025-10-03 18:42:05.068 +07:00 [DBG] DetectChanges completed for 'MyDbContext'.
2025-10-03 18:42:05.068 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:42:05.068 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:42:05.069 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 18:42:05.069 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:42:05.069 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:42:05.069 +07:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (Size = 50), @p5='?' (Size = 255), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [system_notifications] ([CreatedAt], [Message], [ReadAt], [RelatedEntityId], [RelatedEntityType], [Title], [Type], [UserId])
OUTPUT INSERTED.[Id], INSERTED.[IsRead]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-10-03 18:42:05.074 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (Size = 50), @p5='?' (Size = 255), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [system_notifications] ([CreatedAt], [Message], [ReadAt], [RelatedEntityId], [RelatedEntityType], [Title], [Type], [UserId])
OUTPUT INSERTED.[Id], INSERTED.[IsRead]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-10-03 18:42:05.074 +07:00 [DBG] The foreign key property 'SystemNotification.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-10-03 18:42:05.074 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 18:42:05.074 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-10-03 18:42:05.074 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:42:05.074 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 18:42:05.074 +07:00 [DBG] An entity of type 'SystemNotification' tracked by 'MyDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 18:42:05.075 +07:00 [DBG] SaveChanges completed for 'MyDbContext' with 1 entities written to the database.
2025-10-03 18:42:05.075 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:42:05.075 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:42:05.075 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 18:42:05.075 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:42:05.075 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:42:05.075 +07:00 [DBG] Executing DbCommand [Parameters=[@__entity_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [system_notifications] AS [s]
WHERE [s].[UserId] = @__entity_UserId_0 AND [s].[IsRead] = CAST(0 AS bit)
2025-10-03 18:42:05.076 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__entity_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [system_notifications] AS [s]
WHERE [s].[UserId] = @__entity_UserId_0 AND [s].[IsRead] = CAST(0 AS bit)
2025-10-03 18:42:05.077 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 18:42:05.077 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-10-03 18:42:05.077 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:42:05.077 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 18:42:07.519 +07:00 [ERR] 5.4.5 Daily user sending limit exceeded. For more information on Gmail
5.4.5 sending limits go to
5.4.5  https://support.google.com/a/answer/166852 d9443c01a7336-28e8d1b878bsm48259365ad.81 - gsmtp
2025-10-03 18:42:07.729 +07:00 [WRN] Không thể gửi email quá hạn cho reviewer reviewer2@gmail.com, assignment 2
2025-10-03 18:42:07.729 +07:00 [INF] Đã gửi thông báo quá hạn cho reviewer 7, assignment 2
2025-10-03 18:42:07.729 +07:00 [DBG] 'MyDbContext' generated a temporary value for the property 'SystemNotification.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 18:42:07.729 +07:00 [DBG] Context 'MyDbContext' started tracking 'SystemNotification' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 18:42:07.730 +07:00 [DBG] SaveChanges starting for 'MyDbContext'.
2025-10-03 18:42:07.730 +07:00 [DBG] DetectChanges starting for 'MyDbContext'.
2025-10-03 18:42:07.730 +07:00 [DBG] DetectChanges completed for 'MyDbContext'.
2025-10-03 18:42:07.730 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:42:07.730 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:42:07.730 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 18:42:07.730 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:42:07.730 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:42:07.731 +07:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (Size = 50), @p5='?' (Size = 255), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [system_notifications] ([CreatedAt], [Message], [ReadAt], [RelatedEntityId], [RelatedEntityType], [Title], [Type], [UserId])
OUTPUT INSERTED.[Id], INSERTED.[IsRead]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-10-03 18:42:07.735 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (Size = 50), @p5='?' (Size = 255), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [system_notifications] ([CreatedAt], [Message], [ReadAt], [RelatedEntityId], [RelatedEntityType], [Title], [Type], [UserId])
OUTPUT INSERTED.[Id], INSERTED.[IsRead]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-10-03 18:42:07.736 +07:00 [DBG] The foreign key property 'SystemNotification.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-10-03 18:42:07.736 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 18:42:07.736 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-10-03 18:42:07.736 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:42:07.736 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 18:42:07.736 +07:00 [DBG] An entity of type 'SystemNotification' tracked by 'MyDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 18:42:07.736 +07:00 [DBG] SaveChanges completed for 'MyDbContext' with 1 entities written to the database.
2025-10-03 18:42:07.736 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:42:07.737 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:42:07.737 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 18:42:07.737 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:42:07.737 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:42:07.737 +07:00 [DBG] Executing DbCommand [Parameters=[@__entity_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [system_notifications] AS [s]
WHERE [s].[UserId] = @__entity_UserId_0 AND [s].[IsRead] = CAST(0 AS bit)
2025-10-03 18:42:07.738 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__entity_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [system_notifications] AS [s]
WHERE [s].[UserId] = @__entity_UserId_0 AND [s].[IsRead] = CAST(0 AS bit)
2025-10-03 18:42:07.738 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 18:42:07.738 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-10-03 18:42:07.738 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:42:07.738 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 18:42:09.613 +07:00 [ERR] 5.4.5 Daily user sending limit exceeded. For more information on Gmail
5.4.5 sending limits go to
5.4.5  https://support.google.com/a/answer/166852 d2e1a72fcca58-78b01fb280dsm4741752b3a.34 - gsmtp
2025-10-03 18:42:09.837 +07:00 [WRN] Không thể gửi email quá hạn cho reviewer reviewer2@gmail.com, assignment 3
2025-10-03 18:42:09.837 +07:00 [INF] Đã gửi thông báo quá hạn cho reviewer 7, assignment 3
2025-10-03 18:42:09.838 +07:00 [DBG] 'MyDbContext' generated a temporary value for the property 'SystemNotification.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 18:42:09.838 +07:00 [DBG] Context 'MyDbContext' started tracking 'SystemNotification' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 18:42:09.838 +07:00 [DBG] SaveChanges starting for 'MyDbContext'.
2025-10-03 18:42:09.838 +07:00 [DBG] DetectChanges starting for 'MyDbContext'.
2025-10-03 18:42:09.838 +07:00 [DBG] DetectChanges completed for 'MyDbContext'.
2025-10-03 18:42:09.839 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:42:09.839 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:42:09.839 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 18:42:09.839 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:42:09.839 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:42:09.839 +07:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (Size = 50), @p5='?' (Size = 255), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [system_notifications] ([CreatedAt], [Message], [ReadAt], [RelatedEntityId], [RelatedEntityType], [Title], [Type], [UserId])
OUTPUT INSERTED.[Id], INSERTED.[IsRead]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-10-03 18:42:09.840 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (Size = 50), @p5='?' (Size = 255), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [system_notifications] ([CreatedAt], [Message], [ReadAt], [RelatedEntityId], [RelatedEntityType], [Title], [Type], [UserId])
OUTPUT INSERTED.[Id], INSERTED.[IsRead]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-10-03 18:42:09.841 +07:00 [DBG] The foreign key property 'SystemNotification.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-10-03 18:42:09.841 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 18:42:09.841 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-10-03 18:42:09.841 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:42:09.841 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 18:42:09.841 +07:00 [DBG] An entity of type 'SystemNotification' tracked by 'MyDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 18:42:09.841 +07:00 [DBG] SaveChanges completed for 'MyDbContext' with 1 entities written to the database.
2025-10-03 18:42:09.841 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:42:09.842 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:42:09.842 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 18:42:09.842 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:42:09.842 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 18:42:09.842 +07:00 [DBG] Executing DbCommand [Parameters=[@__entity_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [system_notifications] AS [s]
WHERE [s].[UserId] = @__entity_UserId_0 AND [s].[IsRead] = CAST(0 AS bit)
2025-10-03 18:42:09.843 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__entity_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [system_notifications] AS [s]
WHERE [s].[UserId] = @__entity_UserId_0 AND [s].[IsRead] = CAST(0 AS bit)
2025-10-03 18:42:09.844 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 18:42:09.844 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-10-03 18:42:09.844 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:42:09.844 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 18:42:11.669 +07:00 [ERR] 5.4.5 Daily user sending limit exceeded. For more information on Gmail
5.4.5 sending limits go to
5.4.5  https://support.google.com/a/answer/166852 d2e1a72fcca58-78b0205341esm4709811b3a.42 - gsmtp
2025-10-03 18:42:11.884 +07:00 [WRN] Không thể gửi email quá hạn cho reviewer supervisor@gmail.com, assignment 4
2025-10-03 18:42:11.884 +07:00 [INF] Đã gửi thông báo quá hạn cho reviewer 6, assignment 4
2025-10-03 18:42:11.884 +07:00 [INF] Hoàn thành kiểm tra deadline: 1 sắp đến hạn, 4 quá hạn
2025-10-03 18:42:11.884 +07:00 [DBG] 'MyDbContext' disposed.
2025-10-03 18:42:11.884 +07:00 [DBG] Disposing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 18:42:11.884 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-10-03 18:46:22.579 +07:00 [INF] Application is shutting down...
2025-10-03 18:46:22.580 +07:00 [DBG] Hosting stopping
2025-10-03 18:46:22.588 +07:00 [ERR] Lỗi khi kiểm tra deadline notifications
System.Threading.Tasks.TaskCanceledException: A task was canceled.
   at CapBot.api.Services.DeadlineNotificationService.ExecuteAsync(CancellationToken stoppingToken) in C:\Users\acer\Downloads\CBAI_API\CapBot.api\Services\DeadlineNotificationService.cs:line 41
2025-10-03 18:46:22.607 +07:00 [DBG] Hosting stopped
2025-10-03 19:00:29.107 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-10-03 19:00:29.219 +07:00 [INF] User profile is available. Using 'C:\Users\acer\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-10-03 19:00:29.507 +07:00 [DBG] No relationship from 'ReviewerAssignment' to 'User' has been configured by convention because there are multiple properties on one entity type - {'AssignedByUser', 'Reviewer'} that could be matched with the properties on the other entity type - {'ReviewerAssignments'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-10-03 19:00:29.529 +07:00 [DBG] No relationship from 'SubmissionWorkflowLog' to 'WorkflowState' has been configured by convention because there are multiple properties on one entity type - {'FromState', 'ToState'} that could be matched with the properties on the other entity type - {'FromStateLogs', 'ToStateLogs'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-10-03 19:00:29.547 +07:00 [DBG] No relationship from 'User' to 'ReviewerAssignment' has been configured by convention because there are multiple properties on one entity type - {'ReviewerAssignments'} that could be matched with the properties on the other entity type - {'AssignedByUser', 'Reviewer'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-10-03 19:00:29.549 +07:00 [DBG] No relationship from 'WorkflowState' to 'SubmissionWorkflowLog' has been configured by convention because there are multiple properties on one entity type - {'FromStateLogs', 'ToStateLogs'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-10-03 19:00:29.549 +07:00 [DBG] No relationship from 'WorkflowState' to 'WorkflowTransition' has been configured by convention because there are multiple properties on one entity type - {'FromTransitions', 'ToTransitions'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-10-03 19:00:29.551 +07:00 [DBG] No relationship from 'WorkflowTransition' to 'WorkflowState' has been configured by convention because there are multiple properties on one entity type - {'FromState', 'ToState'} that could be matched with the properties on the other entity type - {'FromTransitions', 'ToTransitions'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-10-03 19:00:29.839 +07:00 [DBG] No relationship from 'ReviewerAssignment' to 'User' has been configured by convention because there are multiple properties on one entity type - {'AssignedByUser', 'Reviewer'} that could be matched with the properties on the other entity type - {'ReviewerAssignments'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-10-03 19:00:29.840 +07:00 [DBG] No relationship from 'User' to 'ReviewerAssignment' has been configured by convention because there are multiple properties on one entity type - {'ReviewerAssignments'} that could be matched with the properties on the other entity type - {'AssignedByUser', 'Reviewer'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-10-03 19:00:29.862 +07:00 [DBG] No relationship from 'WorkflowTransition' to 'WorkflowState' has been configured by convention because there are multiple properties on one entity type - {'FromState', 'ToState'} that could be matched with the properties on the other entity type - {'FromTransitions', 'ToTransitions'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-10-03 19:00:29.863 +07:00 [DBG] No relationship from 'WorkflowState' to 'SubmissionWorkflowLog' has been configured by convention because there are multiple properties on one entity type - {'FromStateLogs', 'ToStateLogs'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-10-03 19:00:29.863 +07:00 [DBG] No relationship from 'WorkflowState' to 'WorkflowTransition' has been configured by convention because there are multiple properties on one entity type - {'FromTransitions', 'ToTransitions'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-10-03 19:00:29.866 +07:00 [DBG] No relationship from 'WorkflowState' to 'SubmissionWorkflowLog' has been configured by convention because there are multiple properties on one entity type - {'FromStateLogs', 'ToStateLogs'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-10-03 19:00:29.875 +07:00 [DBG] No relationship from 'SubmissionWorkflowLog' to 'WorkflowState' has been configured by convention because there are multiple properties on one entity type - {'FromState', 'ToState'} that could be matched with the properties on the other entity type - {'FromStateLogs', 'ToStateLogs'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-10-03 19:00:29.877 +07:00 [DBG] No relationship from 'WorkflowState' to 'SubmissionWorkflowLog' has been configured by convention because there are multiple properties on one entity type - {'FromStateLogs', 'ToStateLogs'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-10-03 19:00:29.940 +07:00 [DBG] The index {'LecturerId'} was not created on entity type 'LecturerSkill' as the properties are already covered by the index {'LecturerId', 'SkillTag'}.
2025-10-03 19:00:29.940 +07:00 [DBG] The index {'SemesterId'} was not created on entity type 'Phase' as the properties are already covered by the index {'SemesterId', 'PhaseTypeId'}.
2025-10-03 19:00:29.940 +07:00 [DBG] The index {'AssignmentId'} was not created on entity type 'Review' as the properties are already covered by the index {'AssignmentId', 'Status'}.
2025-10-03 19:00:29.941 +07:00 [DBG] The index {'ReviewId'} was not created on entity type 'ReviewComment' as the properties are already covered by the index {'ReviewId', 'SectionName'}.
2025-10-03 19:00:29.941 +07:00 [DBG] The index {'ReviewId'} was not created on entity type 'ReviewCriteriaScore' as the properties are already covered by the index {'ReviewId', 'CriteriaId'}.
2025-10-03 19:00:29.941 +07:00 [DBG] The index {'ReviewerId'} was not created on entity type 'ReviewerAssignment' as the properties are already covered by the index {'ReviewerId', 'Status'}.
2025-10-03 19:00:29.941 +07:00 [DBG] The index {'SubmissionId'} was not created on entity type 'ReviewerAssignment' as the properties are already covered by the index {'SubmissionId', 'ReviewerId'}.
2025-10-03 19:00:29.941 +07:00 [DBG] The index {'ReviewerId'} was not created on entity type 'ReviewerPerformance' as the properties are already covered by the index {'ReviewerId', 'SemesterId'}.
2025-10-03 19:00:29.941 +07:00 [DBG] The index {'PhaseId'} was not created on entity type 'Submission' as the properties are already covered by the index {'PhaseId', 'Status'}.
2025-10-03 19:00:29.942 +07:00 [DBG] The index {'PhaseId'} was not created on entity type 'Submission' as the properties are already covered by the index {'PhaseId', 'Status', 'SubmittedAt'}.
2025-10-03 19:00:29.942 +07:00 [DBG] The index {'TopicId'} was not created on entity type 'Submission' as the properties are already covered by the index {'TopicId', 'PhaseId', 'SubmissionRound'}.
2025-10-03 19:00:29.942 +07:00 [DBG] The index {'SubmissionId'} was not created on entity type 'SubmissionWorkflowLog' as the properties are already covered by the index {'SubmissionId', 'CreatedAt'}.
2025-10-03 19:00:29.942 +07:00 [DBG] The index {'UserId'} was not created on entity type 'SystemNotification' as the properties are already covered by the index {'UserId', 'IsRead', 'CreatedAt'}.
2025-10-03 19:00:29.942 +07:00 [DBG] The index {'SemesterId'} was not created on entity type 'Topic' as the properties are already covered by the index {'SemesterId', 'IsApproved'}.
2025-10-03 19:00:29.942 +07:00 [DBG] The index {'SupervisorId'} was not created on entity type 'Topic' as the properties are already covered by the index {'SupervisorId', 'SemesterId'}.
2025-10-03 19:00:29.942 +07:00 [DBG] The index {'TopicId'} was not created on entity type 'TopicVersion' as the properties are already covered by the index {'TopicId', 'Status'}.
2025-10-03 19:00:29.943 +07:00 [DBG] The index {'TopicId'} was not created on entity type 'TopicVersion' as the properties are already covered by the index {'TopicId', 'VersionNumber'}.
2025-10-03 19:00:29.943 +07:00 [DBG] The index {'UserId'} was not created on entity type 'UserRole' as the properties are already covered by the index {'UserId', 'RoleId'}.
2025-10-03 19:00:29.943 +07:00 [DBG] The index {'UserId'} was not created on entity type 'UserToken' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2025-10-03 19:00:30.142 +07:00 [WRN] The 'ProficiencyLevels' property 'ProficiencyLevel' on entity type 'LecturerSkill' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'ProficiencyLevels' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-10-03 19:00:30.143 +07:00 [WRN] The 'ReviewRecommendations' property 'Recommendation' on entity type 'Review' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'ReviewRecommendations' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-10-03 19:00:30.143 +07:00 [WRN] The 'ReviewStatus' property 'Status' on entity type 'Review' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'ReviewStatus' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-10-03 19:00:30.143 +07:00 [WRN] The 'CommentTypes' property 'CommentType' on entity type 'ReviewComment' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'CommentTypes' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-10-03 19:00:30.143 +07:00 [WRN] The 'PriorityLevels' property 'Priority' on entity type 'ReviewComment' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'PriorityLevels' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-10-03 19:00:30.144 +07:00 [WRN] The 'AssignmentTypes' property 'AssignmentType' on entity type 'ReviewerAssignment' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'AssignmentTypes' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-10-03 19:00:30.144 +07:00 [WRN] The 'AssignmentStatus' property 'Status' on entity type 'ReviewerAssignment' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'AssignmentStatus' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-10-03 19:00:30.144 +07:00 [WRN] The 'AiCheckStatus' property 'AiCheckStatus' on entity type 'Submission' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'AiCheckStatus' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-10-03 19:00:30.144 +07:00 [WRN] The 'SubmissionStatus' property 'Status' on entity type 'Submission' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'SubmissionStatus' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-10-03 19:00:30.144 +07:00 [WRN] The 'NotificationTypes' property 'Type' on entity type 'SystemNotification' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'NotificationTypes' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-10-03 19:00:30.144 +07:00 [WRN] The 'TopicStatus' property 'Status' on entity type 'TopicVersion' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'TopicStatus' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-10-03 19:00:30.333 +07:00 [DBG] Entity Framework Core 8.0.16 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: MigrationsAssembly=App.DAL 
2025-10-03 19:00:30.412 +07:00 [DBG] Compiling query expression: 
'DbSet<Role>()
    .FirstOrDefault(r => r.NormalizedName == __normalizedName_0)'
2025-10-03 19:00:30.633 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Role>(
    asyncEnumerable: new SingleQueryingEnumerable<Role>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Role.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Role.ConcurrencyStamp (string), 1], [Property: Role.IsAdmin (bool) Required, 2], [Property: Role.Name (string), 3], [Property: Role.NormalizedName (string), 4] }
            SELECT TOP(1) r.Id, r.ConcurrencyStamp, r.IsAdmin, r.Name, r.NormalizedName
            FROM roles AS r
            WHERE r.NormalizedName == @__normalizedName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Role>, 
        App.DAL.Context.MyDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-10-03 19:00:30.677 +07:00 [DBG] Creating DbConnection.
2025-10-03 19:00:30.695 +07:00 [DBG] Created DbConnection. (15ms).
2025-10-03 19:00:30.698 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:00:30.854 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:00:30.856 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 19:00:30.862 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-10-03 19:00:30.872 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (15ms).
2025-10-03 19:00:30.881 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-10-03 19:00:30.935 +07:00 [INF] Executed DbCommand (55ms) [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-10-03 19:00:30.978 +07:00 [DBG] Context 'MyDbContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 19:00:30.999 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 19:00:31.006 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 65ms reading results.
2025-10-03 19:00:31.008 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:00:31.012 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (3ms).
2025-10-03 19:00:31.016 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:00:31.018 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:00:31.018 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 19:00:31.018 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:00:31.019 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:00:31.019 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-10-03 19:00:31.022 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-10-03 19:00:31.023 +07:00 [DBG] Context 'MyDbContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 19:00:31.024 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 19:00:31.024 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 1ms reading results.
2025-10-03 19:00:31.024 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:00:31.024 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 19:00:31.025 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:00:31.025 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:00:31.025 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 19:00:31.025 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:00:31.025 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:00:31.025 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-10-03 19:00:31.026 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-10-03 19:00:31.027 +07:00 [DBG] Context 'MyDbContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 19:00:31.027 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 19:00:31.027 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-10-03 19:00:31.027 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:00:31.027 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 19:00:31.028 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:00:31.028 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:00:31.028 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 19:00:31.028 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:00:31.028 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:00:31.028 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-10-03 19:00:31.029 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-10-03 19:00:31.029 +07:00 [DBG] Context 'MyDbContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 19:00:31.029 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 19:00:31.030 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-10-03 19:00:31.030 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:00:31.030 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 19:00:31.039 +07:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .SingleOrDefault(u => u.NormalizedEmail == __normalizedEmail_0)'
2025-10-03 19:00:31.045 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.ConcurrencyStamp (string), 2], [Property: User.CreatedAt (DateTime) Required, 3], [Property: User.DeletedAt (DateTime?), 4], [Property: User.Email (string), 5], [Property: User.EmailConfirmed (bool) Required, 6], [Property: User.LastModifiedAt (DateTime) Required, 7], [Property: User.LastModifiedBy (string), 8], [Property: User.LockoutEnabled (bool) Required, 9], [Property: User.LockoutEnd (DateTimeOffset?), 10], [Property: User.NormalizedEmail (string), 11], [Property: User.NormalizedUserName (string), 12], [Property: User.PasswordHash (string), 13], [Property: User.PhoneNumber (string), 14], [Property: User.PhoneNumberConfirmed (bool) Required, 15], [Property: User.SecurityStamp (string), 16], [Property: User.TwoFactorEnabled (bool) Required, 17], [Property: User.UserName (string), 18] }
            SELECT TOP(2) u.Id, u.AccessFailedCount, u.ConcurrencyStamp, u.CreatedAt, u.DeletedAt, u.Email, u.EmailConfirmed, u.LastModifiedAt, u.LastModifiedBy, u.LockoutEnabled, u.LockoutEnd, u.NormalizedEmail, u.NormalizedUserName, u.PasswordHash, u.PhoneNumber, u.PhoneNumberConfirmed, u.SecurityStamp, u.TwoFactorEnabled, u.UserName
            FROM users AS u
            WHERE u.NormalizedEmail == @__normalizedEmail_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        App.DAL.Context.MyDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-10-03 19:00:31.046 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:00:31.046 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:00:31.046 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 19:00:31.046 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:00:31.046 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:00:31.046 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-10-03 19:00:31.050 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-10-03 19:00:31.077 +07:00 [DBG] Context 'MyDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 19:00:31.109 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 19:00:31.109 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 58ms reading results.
2025-10-03 19:00:31.109 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:00:31.110 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 19:00:31.112 +07:00 [INF] Admin user 'admin.capbot@gmail.com' already exists
2025-10-03 19:00:31.115 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:00:31.115 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:00:31.115 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 19:00:31.115 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:00:31.115 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:00:31.115 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-10-03 19:00:31.117 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-10-03 19:00:31.117 +07:00 [DBG] Context 'MyDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 19:00:31.118 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 19:00:31.118 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 1ms reading results.
2025-10-03 19:00:31.119 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:00:31.119 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 19:00:31.119 +07:00 [INF] Sample moderator 'moderator@example.com' already exists
2025-10-03 19:00:31.120 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:00:31.120 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:00:31.120 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 19:00:31.121 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:00:31.121 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:00:31.121 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-10-03 19:00:31.122 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-10-03 19:00:31.123 +07:00 [DBG] Context 'MyDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 19:00:31.123 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 19:00:31.124 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 1ms reading results.
2025-10-03 19:00:31.124 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:00:31.124 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 19:00:31.125 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:00:31.125 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:00:31.125 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 19:00:31.126 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:00:31.126 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:00:31.126 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-10-03 19:00:31.127 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-10-03 19:00:31.128 +07:00 [DBG] Context 'MyDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 19:00:31.128 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 19:00:31.128 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-10-03 19:00:31.128 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:00:31.128 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 19:00:31.128 +07:00 [INF] Data seeding completed successfully
2025-10-03 19:00:31.130 +07:00 [DBG] 'MyDbContext' disposed.
2025-10-03 19:00:31.133 +07:00 [DBG] Disposing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:00:31.135 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-10-03 19:00:31.158 +07:00 [DBG] Registered SignalR Protocol: json, implemented by Microsoft.AspNetCore.SignalR.Protocol.JsonHubProtocol.
2025-10-03 19:00:31.321 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
2025-10-03 19:00:31.452 +07:00 [DBG] Hosting starting
2025-10-03 19:00:31.461 +07:00 [DBG] Reading data from file 'C:\Users\acer\AppData\Local\ASP.NET\DataProtection-Keys\key-30a711c8-7ddc-4a0d-8c07-4439effde9db.xml'.
2025-10-03 19:00:31.464 +07:00 [DBG] Reading data from file 'C:\Users\acer\AppData\Local\ASP.NET\DataProtection-Keys\key-732ee668-a56c-4fc9-b9d2-4188dc372919.xml'.
2025-10-03 19:00:31.465 +07:00 [DBG] Reading data from file 'C:\Users\acer\AppData\Local\ASP.NET\DataProtection-Keys\key-ad0e504d-5eaf-4fbc-adde-d8f26319af02.xml'.
2025-10-03 19:00:31.472 +07:00 [DBG] Found key {30a711c8-7ddc-4a0d-8c07-4439effde9db}.
2025-10-03 19:00:31.475 +07:00 [DBG] Found key {732ee668-a56c-4fc9-b9d2-4188dc372919}.
2025-10-03 19:00:31.475 +07:00 [DBG] Found key {ad0e504d-5eaf-4fbc-adde-d8f26319af02}.
2025-10-03 19:00:31.480 +07:00 [DBG] Considering key {30a711c8-7ddc-4a0d-8c07-4439effde9db} with expiration date 2025-11-11 18:32:26Z as default key.
2025-10-03 19:00:31.485 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-10-03 19:00:31.486 +07:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-10-03 19:00:31.488 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-10-03 19:00:31.489 +07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-10-03 19:00:31.493 +07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-10-03 19:00:31.495 +07:00 [DBG] Using key {30a711c8-7ddc-4a0d-8c07-4439effde9db} as the default key.
2025-10-03 19:00:31.496 +07:00 [DBG] Key ring with default key {30a711c8-7ddc-4a0d-8c07-4439effde9db} was loaded during application startup.
2025-10-03 19:00:31.497 +07:00 [INF] Bắt đầu kiểm tra deadline notifications lúc "2025-10-03T19:00:31.4978243+07:00"
2025-10-03 19:00:31.560 +07:00 [DBG] Entity Framework Core 8.0.16 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: MigrationsAssembly=App.DAL 
2025-10-03 19:00:31.573 +07:00 [DBG] Compiling query expression: 
'DbSet<ReviewerAssignment>()
    .AsNoTracking()
    .Include(ra => ra.Reviewer)
    .Include(ra => ra.Submission)
    .Include(ra => ra.Submission.TopicVersion)
    .Include(ra => ra.Submission.Topic)
    .Where(ra => ra.Deadline.HasValue && ra.Deadline.Value.Date >= __tomorrow_0 && ra.Deadline.Value.Date <= __dayAfterTomorrow_1 && (int)ra.Status == 1 || (int)ra.Status == 2)'
2025-10-03 19:00:31.585 +07:00 [DBG] Including navigation: 'ReviewerAssignment.Reviewer'.
2025-10-03 19:00:31.587 +07:00 [DBG] Including navigation: 'ReviewerAssignment.Submission'.
2025-10-03 19:00:31.590 +07:00 [DBG] Including navigation: 'Submission.TopicVersion'.
2025-10-03 19:00:31.591 +07:00 [DBG] Including navigation: 'Submission.Topic'.
2025-10-03 19:00:31.672 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<ReviewerAssignment>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: ReviewerAssignment.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ReviewerAssignment.AssignedAt (DateTime) Required ValueGenerated.OnAdd, 1], [Property: ReviewerAssignment.AssignedBy (int) Required FK Index, 2], [Property: ReviewerAssignment.AssignmentType (AssignmentTypes) Required ValueGenerated.OnAdd, 3], [Property: ReviewerAssignment.CompletedAt (DateTime?), 4], [Property: ReviewerAssignment.Deadline (DateTime?) Index, 5], [Property: ReviewerAssignment.ReviewerId (int) Required FK Index, 6], [Property: ReviewerAssignment.SkillMatchScore (decimal?), 7], [Property: ReviewerAssignment.StartedAt (DateTime?), 8], [Property: ReviewerAssignment.Status (AssignmentStatus) Required Index ValueGenerated.OnAdd, 9], [Property: ReviewerAssignment.SubmissionId (int) Required FK Index, 10] }
            1 -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 11], [Property: User.AccessFailedCount (int) Required, 12], [Property: User.ConcurrencyStamp (string), 13], [Property: User.CreatedAt (DateTime) Required, 14], [Property: User.DeletedAt (DateTime?), 15], [Property: User.Email (string), 16], [Property: User.EmailConfirmed (bool) Required, 17], [Property: User.LastModifiedAt (DateTime) Required, 18], [Property: User.LastModifiedBy (string), 19], [Property: User.LockoutEnabled (bool) Required, 20], [Property: User.LockoutEnd (DateTimeOffset?), 21], [Property: User.NormalizedEmail (string), 22], [Property: User.NormalizedUserName (string), 23], [Property: User.PasswordHash (string), 24], [Property: User.PhoneNumber (string), 25], [Property: User.PhoneNumberConfirmed (bool) Required, 26], [Property: User.SecurityStamp (string), 27], [Property: User.TwoFactorEnabled (bool) Required, 28], [Property: User.UserName (string), 29] }
            2 -> Dictionary<IProperty, int> { [Property: Submission.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 30], [Property: Submission.AdditionalNotes (string), 31], [Property: Submission.AiCheckDetails (string), 32], [Property: Submission.AiCheckScore (decimal?), 33], [Property: Submission.AiCheckStatus (AiCheckStatus) Required ValueGenerated.OnAdd, 34], [Property: Submission.CreatedAt (DateTime) Required, 35], [Property: Submission.CreatedBy (string), 36], [Property: Submission.DeletedAt (DateTime?), 37], [Property: Submission.DocumentUrl (string) MaxLength(500), 38], [Property: Submission.IsActive (bool) Required, 39], [Property: Submission.LastModifiedAt (DateTime?), 40], [Property: Submission.LastModifiedBy (string), 41], [Property: Submission.PhaseId (int) Required FK Index, 42], [Property: Submission.Status (SubmissionStatus) Required Index ValueGenerated.OnAdd, 43], [Property: Submission.SubmissionRound (int) Required Index ValueGenerated.OnAdd, 44], [Property: Submission.SubmittedAt (DateTime?) Index ValueGenerated.OnAdd, 45], [Property: Submission.SubmittedBy (int) Required FK Index, 46], [Property: Submission.TopicId (int) Required FK Index, 47], [Property: Submission.TopicVersionId (int?) FK Index, 48] }
            3 -> Dictionary<IProperty, int> { [Property: TopicVersion.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 49], [Property: TopicVersion.Content (string), 50], [Property: TopicVersion.Context (string), 51], [Property: TopicVersion.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 52], [Property: TopicVersion.CreatedBy (string), 53], [Property: TopicVersion.DeletedAt (DateTime?), 54], [Property: TopicVersion.Description (string), 55], [Property: TopicVersion.DocumentUrl (string) MaxLength(500), 56], [Property: TopicVersion.EN_Title (string) Required MaxLength(500), 57], [Property: TopicVersion.ExpectedOutcomes (string), 58], [Property: TopicVersion.IsActive (bool) Required, 59], [Property: TopicVersion.LastModifiedAt (DateTime?), 60], [Property: TopicVersion.LastModifiedBy (string), 61], [Property: TopicVersion.Methodology (string), 62], [Property: TopicVersion.Objectives (string), 63], [Property: TopicVersion.PotentialDuplicate (string), 64], [Property: TopicVersion.Problem (string), 65], [Property: TopicVersion.Requirements (string), 66], [Property: TopicVersion.Status (TopicStatus) Required Index ValueGenerated.OnAdd, 67], [Property: TopicVersion.SubmittedAt (DateTime?), 68], [Property: TopicVersion.SubmittedBy (int?) FK Index, 69], [Property: TopicVersion.TopicId (int) Required FK Index, 70], [Property: TopicVersion.VN_title (string), 71], [Property: TopicVersion.VersionNumber (int) Required Index, 72] }
            4 -> Dictionary<IProperty, int> { [Property: Topic.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 73], [Property: Topic.Abbreviation (string), 74], [Property: Topic.CategoryId (int?) FK Index, 75], [Property: Topic.Content (string), 76], [Property: Topic.Context (string), 77], [Property: Topic.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 78], [Property: Topic.CreatedBy (string), 79], [Property: Topic.DeletedAt (DateTime?), 80], [Property: Topic.Description (string), 81], [Property: Topic.EN_Title (string) Required MaxLength(500), 82], [Property: Topic.IsActive (bool) Required, 83], [Property: Topic.IsApproved (bool) Required Index Sentinel:True ValueGenerated.OnAdd, 84], [Property: Topic.IsLegacy (bool) Required Index ValueGenerated.OnAdd, 85], [Property: Topic.LastModifiedAt (DateTime?), 86], [Property: Topic.LastModifiedBy (string), 87], [Property: Topic.MaxStudents (int) Required ValueGenerated.OnAdd, 88], [Property: Topic.Objectives (string), 89], [Property: Topic.PotentialDuplicate (string), 90], [Property: Topic.Problem (string), 91], [Property: Topic.SemesterId (int) Required FK Index, 92], [Property: Topic.SupervisorId (int) Required FK Index, 93], [Property: Topic.VN_title (string), 94] }
        SELECT r.Id, r.AssignedAt, r.AssignedBy, r.AssignmentType, r.CompletedAt, r.Deadline, r.ReviewerId, r.SkillMatchScore, r.StartedAt, r.Status, r.SubmissionId, u.Id, u.AccessFailedCount, u.ConcurrencyStamp, u.CreatedAt, u.DeletedAt, u.Email, u.EmailConfirmed, u.LastModifiedAt, u.LastModifiedBy, u.LockoutEnabled, u.LockoutEnd, u.NormalizedEmail, u.NormalizedUserName, u.PasswordHash, u.PhoneNumber, u.PhoneNumberConfirmed, u.SecurityStamp, u.TwoFactorEnabled, u.UserName, s.Id, s.AdditionalNotes, s.AiCheckDetails, s.AiCheckScore, s.AiCheckStatus, s.CreatedAt, s.CreatedBy, s.DeletedAt, s.DocumentUrl, s.IsActive, s.LastModifiedAt, s.LastModifiedBy, s.PhaseId, s.Status, s.SubmissionRound, s.SubmittedAt, s.SubmittedBy, s.TopicId, s.TopicVersionId, t.Id, t.Content, t.Context, t.CreatedAt, t.CreatedBy, t.DeletedAt, t.Description, t.DocumentUrl, t.EN_Title, t.ExpectedOutcomes, t.IsActive, t.LastModifiedAt, t.LastModifiedBy, t.Methodology, t.Objectives, t.PotentialDuplicate, t.Problem, t.Requirements, t.Status, t.SubmittedAt, t.SubmittedBy, t.TopicId, t.VN_title, t.VersionNumber, t0.Id, t0.Abbreviation, t0.CategoryId, t0.Content, t0.Context, t0.CreatedAt, t0.CreatedBy, t0.DeletedAt, t0.Description, t0.EN_Title, t0.IsActive, t0.IsApproved, t0.IsLegacy, t0.LastModifiedAt, t0.LastModifiedBy, t0.MaxStudents, t0.Objectives, t0.PotentialDuplicate, t0.Problem, t0.SemesterId, t0.SupervisorId, t0.VN_title
        FROM reviewer_assignments AS r
        INNER JOIN users AS u ON r.ReviewerId == u.Id
        INNER JOIN submissions AS s ON r.SubmissionId == s.Id
        LEFT JOIN topic_versions AS t ON s.TopicVersionId == t.Id
        LEFT JOIN topics AS t0 ON s.TopicId == t0.Id
        WHERE ((r.Deadline IS NOT NULL && (CONVERT(date, r.Deadline) >= @__tomorrow_0)) && (CONVERT(date, r.Deadline) <= @__dayAfterTomorrow_1)) && r.Status IN (1, 2)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ReviewerAssignment>, 
    App.DAL.Context.MyDbContext, 
    False, 
    False, 
    True
)'
2025-10-03 19:00:31.688 +07:00 [DBG] Creating DbConnection.
2025-10-03 19:00:31.689 +07:00 [DBG] Created DbConnection. (0ms).
2025-10-03 19:00:31.689 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:00:31.689 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:00:31.689 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 19:00:31.689 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:00:31.690 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:00:31.691 +07:00 [DBG] Executing DbCommand [Parameters=[@__tomorrow_0='?' (DbType = DateTime2), @__dayAfterTomorrow_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[DocumentUrl], [t].[EN_Title], [t].[ExpectedOutcomes], [t].[IsActive], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[Methodology], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[Requirements], [t].[Status], [t].[SubmittedAt], [t].[SubmittedBy], [t].[TopicId], [t].[VN_title], [t].[VersionNumber], [t0].[Id], [t0].[Abbreviation], [t0].[CategoryId], [t0].[Content], [t0].[Context], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[EN_Title], [t0].[IsActive], [t0].[IsApproved], [t0].[IsLegacy], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[MaxStudents], [t0].[Objectives], [t0].[PotentialDuplicate], [t0].[Problem], [t0].[SemesterId], [t0].[SupervisorId], [t0].[VN_title]
FROM [reviewer_assignments] AS [r]
INNER JOIN [users] AS [u] ON [r].[ReviewerId] = [u].[Id]
INNER JOIN [submissions] AS [s] ON [r].[SubmissionId] = [s].[Id]
LEFT JOIN [topic_versions] AS [t] ON [s].[TopicVersionId] = [t].[Id]
LEFT JOIN [topics] AS [t0] ON [s].[TopicId] = [t0].[Id]
WHERE [r].[Deadline] IS NOT NULL AND CONVERT(date, [r].[Deadline]) >= @__tomorrow_0 AND CONVERT(date, [r].[Deadline]) <= @__dayAfterTomorrow_1 AND [r].[Status] IN (1, 2)
2025-10-03 19:00:31.709 +07:00 [INF] Executed DbCommand (18ms) [Parameters=[@__tomorrow_0='?' (DbType = DateTime2), @__dayAfterTomorrow_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[DocumentUrl], [t].[EN_Title], [t].[ExpectedOutcomes], [t].[IsActive], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[Methodology], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[Requirements], [t].[Status], [t].[SubmittedAt], [t].[SubmittedBy], [t].[TopicId], [t].[VN_title], [t].[VersionNumber], [t0].[Id], [t0].[Abbreviation], [t0].[CategoryId], [t0].[Content], [t0].[Context], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[EN_Title], [t0].[IsActive], [t0].[IsApproved], [t0].[IsLegacy], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[MaxStudents], [t0].[Objectives], [t0].[PotentialDuplicate], [t0].[Problem], [t0].[SemesterId], [t0].[SupervisorId], [t0].[VN_title]
FROM [reviewer_assignments] AS [r]
INNER JOIN [users] AS [u] ON [r].[ReviewerId] = [u].[Id]
INNER JOIN [submissions] AS [s] ON [r].[SubmissionId] = [s].[Id]
LEFT JOIN [topic_versions] AS [t] ON [s].[TopicVersionId] = [t].[Id]
LEFT JOIN [topics] AS [t0] ON [s].[TopicId] = [t0].[Id]
WHERE [r].[Deadline] IS NOT NULL AND CONVERT(date, [r].[Deadline]) >= @__tomorrow_0 AND CONVERT(date, [r].[Deadline]) <= @__dayAfterTomorrow_1 AND [r].[Status] IN (1, 2)
2025-10-03 19:00:31.715 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 19:00:31.715 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 5ms reading results.
2025-10-03 19:00:31.715 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:00:31.715 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 19:00:31.717 +07:00 [DBG] Compiling query expression: 
'DbSet<ReviewerAssignment>()
    .AsNoTracking()
    .Include(ra => ra.Reviewer)
    .Include(ra => ra.Submission)
    .Include(ra => ra.Submission.TopicVersion)
    .Include(ra => ra.Submission.Topic)
    .Where(ra => ra.Deadline.HasValue && ra.Deadline.Value.Date < DateTime.Today && (int)ra.Status == 1 || (int)ra.Status == 2)'
2025-10-03 19:00:31.718 +07:00 [DBG] Including navigation: 'ReviewerAssignment.Reviewer'.
2025-10-03 19:00:31.719 +07:00 [DBG] Including navigation: 'ReviewerAssignment.Submission'.
2025-10-03 19:00:31.719 +07:00 [DBG] Including navigation: 'Submission.TopicVersion'.
2025-10-03 19:00:31.720 +07:00 [DBG] Including navigation: 'Submission.Topic'.
2025-10-03 19:00:31.741 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<ReviewerAssignment>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: ReviewerAssignment.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ReviewerAssignment.AssignedAt (DateTime) Required ValueGenerated.OnAdd, 1], [Property: ReviewerAssignment.AssignedBy (int) Required FK Index, 2], [Property: ReviewerAssignment.AssignmentType (AssignmentTypes) Required ValueGenerated.OnAdd, 3], [Property: ReviewerAssignment.CompletedAt (DateTime?), 4], [Property: ReviewerAssignment.Deadline (DateTime?) Index, 5], [Property: ReviewerAssignment.ReviewerId (int) Required FK Index, 6], [Property: ReviewerAssignment.SkillMatchScore (decimal?), 7], [Property: ReviewerAssignment.StartedAt (DateTime?), 8], [Property: ReviewerAssignment.Status (AssignmentStatus) Required Index ValueGenerated.OnAdd, 9], [Property: ReviewerAssignment.SubmissionId (int) Required FK Index, 10] }
            1 -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 11], [Property: User.AccessFailedCount (int) Required, 12], [Property: User.ConcurrencyStamp (string), 13], [Property: User.CreatedAt (DateTime) Required, 14], [Property: User.DeletedAt (DateTime?), 15], [Property: User.Email (string), 16], [Property: User.EmailConfirmed (bool) Required, 17], [Property: User.LastModifiedAt (DateTime) Required, 18], [Property: User.LastModifiedBy (string), 19], [Property: User.LockoutEnabled (bool) Required, 20], [Property: User.LockoutEnd (DateTimeOffset?), 21], [Property: User.NormalizedEmail (string), 22], [Property: User.NormalizedUserName (string), 23], [Property: User.PasswordHash (string), 24], [Property: User.PhoneNumber (string), 25], [Property: User.PhoneNumberConfirmed (bool) Required, 26], [Property: User.SecurityStamp (string), 27], [Property: User.TwoFactorEnabled (bool) Required, 28], [Property: User.UserName (string), 29] }
            2 -> Dictionary<IProperty, int> { [Property: Submission.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 30], [Property: Submission.AdditionalNotes (string), 31], [Property: Submission.AiCheckDetails (string), 32], [Property: Submission.AiCheckScore (decimal?), 33], [Property: Submission.AiCheckStatus (AiCheckStatus) Required ValueGenerated.OnAdd, 34], [Property: Submission.CreatedAt (DateTime) Required, 35], [Property: Submission.CreatedBy (string), 36], [Property: Submission.DeletedAt (DateTime?), 37], [Property: Submission.DocumentUrl (string) MaxLength(500), 38], [Property: Submission.IsActive (bool) Required, 39], [Property: Submission.LastModifiedAt (DateTime?), 40], [Property: Submission.LastModifiedBy (string), 41], [Property: Submission.PhaseId (int) Required FK Index, 42], [Property: Submission.Status (SubmissionStatus) Required Index ValueGenerated.OnAdd, 43], [Property: Submission.SubmissionRound (int) Required Index ValueGenerated.OnAdd, 44], [Property: Submission.SubmittedAt (DateTime?) Index ValueGenerated.OnAdd, 45], [Property: Submission.SubmittedBy (int) Required FK Index, 46], [Property: Submission.TopicId (int) Required FK Index, 47], [Property: Submission.TopicVersionId (int?) FK Index, 48] }
            3 -> Dictionary<IProperty, int> { [Property: TopicVersion.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 49], [Property: TopicVersion.Content (string), 50], [Property: TopicVersion.Context (string), 51], [Property: TopicVersion.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 52], [Property: TopicVersion.CreatedBy (string), 53], [Property: TopicVersion.DeletedAt (DateTime?), 54], [Property: TopicVersion.Description (string), 55], [Property: TopicVersion.DocumentUrl (string) MaxLength(500), 56], [Property: TopicVersion.EN_Title (string) Required MaxLength(500), 57], [Property: TopicVersion.ExpectedOutcomes (string), 58], [Property: TopicVersion.IsActive (bool) Required, 59], [Property: TopicVersion.LastModifiedAt (DateTime?), 60], [Property: TopicVersion.LastModifiedBy (string), 61], [Property: TopicVersion.Methodology (string), 62], [Property: TopicVersion.Objectives (string), 63], [Property: TopicVersion.PotentialDuplicate (string), 64], [Property: TopicVersion.Problem (string), 65], [Property: TopicVersion.Requirements (string), 66], [Property: TopicVersion.Status (TopicStatus) Required Index ValueGenerated.OnAdd, 67], [Property: TopicVersion.SubmittedAt (DateTime?), 68], [Property: TopicVersion.SubmittedBy (int?) FK Index, 69], [Property: TopicVersion.TopicId (int) Required FK Index, 70], [Property: TopicVersion.VN_title (string), 71], [Property: TopicVersion.VersionNumber (int) Required Index, 72] }
            4 -> Dictionary<IProperty, int> { [Property: Topic.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 73], [Property: Topic.Abbreviation (string), 74], [Property: Topic.CategoryId (int?) FK Index, 75], [Property: Topic.Content (string), 76], [Property: Topic.Context (string), 77], [Property: Topic.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 78], [Property: Topic.CreatedBy (string), 79], [Property: Topic.DeletedAt (DateTime?), 80], [Property: Topic.Description (string), 81], [Property: Topic.EN_Title (string) Required MaxLength(500), 82], [Property: Topic.IsActive (bool) Required, 83], [Property: Topic.IsApproved (bool) Required Index Sentinel:True ValueGenerated.OnAdd, 84], [Property: Topic.IsLegacy (bool) Required Index ValueGenerated.OnAdd, 85], [Property: Topic.LastModifiedAt (DateTime?), 86], [Property: Topic.LastModifiedBy (string), 87], [Property: Topic.MaxStudents (int) Required ValueGenerated.OnAdd, 88], [Property: Topic.Objectives (string), 89], [Property: Topic.PotentialDuplicate (string), 90], [Property: Topic.Problem (string), 91], [Property: Topic.SemesterId (int) Required FK Index, 92], [Property: Topic.SupervisorId (int) Required FK Index, 93], [Property: Topic.VN_title (string), 94] }
        SELECT r.Id, r.AssignedAt, r.AssignedBy, r.AssignmentType, r.CompletedAt, r.Deadline, r.ReviewerId, r.SkillMatchScore, r.StartedAt, r.Status, r.SubmissionId, u.Id, u.AccessFailedCount, u.ConcurrencyStamp, u.CreatedAt, u.DeletedAt, u.Email, u.EmailConfirmed, u.LastModifiedAt, u.LastModifiedBy, u.LockoutEnabled, u.LockoutEnd, u.NormalizedEmail, u.NormalizedUserName, u.PasswordHash, u.PhoneNumber, u.PhoneNumberConfirmed, u.SecurityStamp, u.TwoFactorEnabled, u.UserName, s.Id, s.AdditionalNotes, s.AiCheckDetails, s.AiCheckScore, s.AiCheckStatus, s.CreatedAt, s.CreatedBy, s.DeletedAt, s.DocumentUrl, s.IsActive, s.LastModifiedAt, s.LastModifiedBy, s.PhaseId, s.Status, s.SubmissionRound, s.SubmittedAt, s.SubmittedBy, s.TopicId, s.TopicVersionId, t.Id, t.Content, t.Context, t.CreatedAt, t.CreatedBy, t.DeletedAt, t.Description, t.DocumentUrl, t.EN_Title, t.ExpectedOutcomes, t.IsActive, t.LastModifiedAt, t.LastModifiedBy, t.Methodology, t.Objectives, t.PotentialDuplicate, t.Problem, t.Requirements, t.Status, t.SubmittedAt, t.SubmittedBy, t.TopicId, t.VN_title, t.VersionNumber, t0.Id, t0.Abbreviation, t0.CategoryId, t0.Content, t0.Context, t0.CreatedAt, t0.CreatedBy, t0.DeletedAt, t0.Description, t0.EN_Title, t0.IsActive, t0.IsApproved, t0.IsLegacy, t0.LastModifiedAt, t0.LastModifiedBy, t0.MaxStudents, t0.Objectives, t0.PotentialDuplicate, t0.Problem, t0.SemesterId, t0.SupervisorId, t0.VN_title
        FROM reviewer_assignments AS r
        INNER JOIN users AS u ON r.ReviewerId == u.Id
        INNER JOIN submissions AS s ON r.SubmissionId == s.Id
        LEFT JOIN topic_versions AS t ON s.TopicVersionId == t.Id
        LEFT JOIN topics AS t0 ON s.TopicId == t0.Id
        WHERE (r.Deadline IS NOT NULL && (CONVERT(date, r.Deadline) < CONVERT(date, GETDATE()))) && r.Status IN (1, 2)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ReviewerAssignment>, 
    App.DAL.Context.MyDbContext, 
    False, 
    False, 
    True
)'
2025-10-03 19:00:31.743 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:00:31.743 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:00:31.744 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 19:00:31.744 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:00:31.744 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:00:31.744 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[DocumentUrl], [t].[EN_Title], [t].[ExpectedOutcomes], [t].[IsActive], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[Methodology], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[Requirements], [t].[Status], [t].[SubmittedAt], [t].[SubmittedBy], [t].[TopicId], [t].[VN_title], [t].[VersionNumber], [t0].[Id], [t0].[Abbreviation], [t0].[CategoryId], [t0].[Content], [t0].[Context], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[EN_Title], [t0].[IsActive], [t0].[IsApproved], [t0].[IsLegacy], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[MaxStudents], [t0].[Objectives], [t0].[PotentialDuplicate], [t0].[Problem], [t0].[SemesterId], [t0].[SupervisorId], [t0].[VN_title]
FROM [reviewer_assignments] AS [r]
INNER JOIN [users] AS [u] ON [r].[ReviewerId] = [u].[Id]
INNER JOIN [submissions] AS [s] ON [r].[SubmissionId] = [s].[Id]
LEFT JOIN [topic_versions] AS [t] ON [s].[TopicVersionId] = [t].[Id]
LEFT JOIN [topics] AS [t0] ON [s].[TopicId] = [t0].[Id]
WHERE [r].[Deadline] IS NOT NULL AND CONVERT(date, [r].[Deadline]) < CONVERT(date, GETDATE()) AND [r].[Status] IN (1, 2)
2025-10-03 19:00:31.756 +07:00 [INF] Now listening on: http://localhost:5207
2025-10-03 19:00:31.757 +07:00 [DBG] Loaded hosting startup assembly CapBot.api
2025-10-03 19:00:31.758 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-10-03 19:00:31.759 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-03 19:00:31.759 +07:00 [INF] Hosting environment: Development
2025-10-03 19:00:31.760 +07:00 [INF] Content root path: C:\Users\acer\Downloads\CBAI_API\capbot.api
2025-10-03 19:00:31.762 +07:00 [DBG] Hosting started
2025-10-03 19:00:31.764 +07:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[DocumentUrl], [t].[EN_Title], [t].[ExpectedOutcomes], [t].[IsActive], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[Methodology], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[Requirements], [t].[Status], [t].[SubmittedAt], [t].[SubmittedBy], [t].[TopicId], [t].[VN_title], [t].[VersionNumber], [t0].[Id], [t0].[Abbreviation], [t0].[CategoryId], [t0].[Content], [t0].[Context], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[EN_Title], [t0].[IsActive], [t0].[IsApproved], [t0].[IsLegacy], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[MaxStudents], [t0].[Objectives], [t0].[PotentialDuplicate], [t0].[Problem], [t0].[SemesterId], [t0].[SupervisorId], [t0].[VN_title]
FROM [reviewer_assignments] AS [r]
INNER JOIN [users] AS [u] ON [r].[ReviewerId] = [u].[Id]
INNER JOIN [submissions] AS [s] ON [r].[SubmissionId] = [s].[Id]
LEFT JOIN [topic_versions] AS [t] ON [s].[TopicVersionId] = [t].[Id]
LEFT JOIN [topics] AS [t0] ON [s].[TopicId] = [t0].[Id]
WHERE [r].[Deadline] IS NOT NULL AND CONVERT(date, [r].[Deadline]) < CONVERT(date, GETDATE()) AND [r].[Status] IN (1, 2)
2025-10-03 19:00:31.770 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 19:00:31.770 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 4ms reading results.
2025-10-03 19:00:31.770 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:00:31.770 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 19:00:31.811 +07:00 [DBG] 'MyDbContext' generated a temporary value for the property 'SystemNotification.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 19:00:31.838 +07:00 [DBG] Context 'MyDbContext' started tracking 'SystemNotification' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 19:00:31.841 +07:00 [DBG] SaveChanges starting for 'MyDbContext'.
2025-10-03 19:00:31.843 +07:00 [DBG] DetectChanges starting for 'MyDbContext'.
2025-10-03 19:00:31.861 +07:00 [DBG] DetectChanges completed for 'MyDbContext'.
2025-10-03 19:00:31.930 +07:00 [DBG] Connection id "0HNG2EHQ0F03E" accepted.
2025-10-03 19:00:31.931 +07:00 [DBG] Connection id "0HNG2EHQ0F03E" started.
2025-10-03 19:00:31.978 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:00:31.979 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:00:31.982 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 19:00:31.983 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:00:31.986 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-10-03 19:00:31.987 +07:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (Size = 50), @p5='?' (Size = 255), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [system_notifications] ([CreatedAt], [Message], [ReadAt], [RelatedEntityId], [RelatedEntityType], [Title], [Type], [UserId])
OUTPUT INSERTED.[Id], INSERTED.[IsRead]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-10-03 19:00:32.024 +07:00 [INF] Executed DbCommand (37ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (Size = 50), @p5='?' (Size = 255), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [system_notifications] ([CreatedAt], [Message], [ReadAt], [RelatedEntityId], [RelatedEntityType], [Title], [Type], [UserId])
OUTPUT INSERTED.[Id], INSERTED.[IsRead]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-10-03 19:00:32.028 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5207/index.html - null null
2025-10-03 19:00:32.072 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-10-03 19:00:32.076 +07:00 [DBG] The foreign key property 'SystemNotification.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-10-03 19:00:32.092 +07:00 [DBG] Connection id "0HNG2EHQ0F03F" accepted.
2025-10-03 19:00:32.094 +07:00 [DBG] Connection id "0HNG2EHQ0F03F" started.
2025-10-03 19:00:32.128 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 19:00:32.129 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 104ms reading results.
2025-10-03 19:00:32.134 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:00:32.137 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (2ms).
2025-10-03 19:00:32.226 +07:00 [DBG] An entity of type 'SystemNotification' tracked by 'MyDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 19:00:32.229 +07:00 [DBG] SaveChanges completed for 'MyDbContext' with 1 entities written to the database.
2025-10-03 19:00:32.242 +07:00 [DBG] Compiling query expression: 
'DbSet<SystemNotification>()
    .AsNoTracking()
    .Where(x => x.UserId == __entity_UserId_0 && !(x.IsRead))
    .Count()'
2025-10-03 19:00:32.311 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<int>(
    asyncEnumerable: new SingleQueryingEnumerable<int>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM system_notifications AS s
            WHERE (s.UserId == @__entity_UserId_0) && Not(s.IsRead)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, int>, 
        App.DAL.Context.MyDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-10-03 19:00:32.325 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:00:32.326 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:00:32.326 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 19:00:32.326 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:00:32.327 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:00:32.327 +07:00 [DBG] Executing DbCommand [Parameters=[@__entity_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [system_notifications] AS [s]
WHERE [s].[UserId] = @__entity_UserId_0 AND [s].[IsRead] = CAST(0 AS bit)
2025-10-03 19:00:32.617 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-10-03 19:00:32.824 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-10-03 19:00:32.825 +07:00 [DBG] Connection id "0HNG2EHQ0F03E" completed keep alive response.
2025-10-03 19:00:32.829 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5207/index.html - 200 null text/html;charset=utf-8 804.543ms
2025-10-03 19:00:32.831 +07:00 [INF] Executed DbCommand (504ms) [Parameters=[@__entity_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [system_notifications] AS [s]
WHERE [s].[UserId] = @__entity_UserId_0 AND [s].[IsRead] = CAST(0 AS bit)
2025-10-03 19:00:32.843 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 19:00:32.844 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 8ms reading results.
2025-10-03 19:00:32.845 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:00:32.848 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (2ms).
2025-10-03 19:00:33.626 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5207/_framework/aspnetcore-browser-refresh.js - null null
2025-10-03 19:00:33.631 +07:00 [DBG] Connection id "0HNG2EHQ0F03E" completed keep alive response.
2025-10-03 19:00:33.632 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5207/_framework/aspnetcore-browser-refresh.js - 200 13732 application/javascript; charset=utf-8 4.7744ms
2025-10-03 19:00:33.939 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5207/swagger/v1/swagger.json - null null
2025-10-03 19:00:34.410 +07:00 [DBG] Connection id "0HNG2EHQ0F03E" completed keep alive response.
2025-10-03 19:00:34.411 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5207/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 471.8673ms
2025-10-03 19:00:35.668 +07:00 [ERR] 5.4.5 Daily user sending limit exceeded. For more information on Gmail
5.4.5 sending limits go to
5.4.5  https://support.google.com/a/answer/166852 98e67ed59e1d1-339c4a4674dsm2032415a91.20 - gsmtp
2025-10-03 19:00:35.872 +07:00 [WRN] Không thể gửi email sắp đến hạn cho reviewer hieptmse140293@fpt.edu.vn, assignment 31
2025-10-03 19:00:35.873 +07:00 [INF] Đã gửi thông báo sắp đến hạn cho reviewer 27, assignment 31
2025-10-03 19:00:35.876 +07:00 [DBG] 'MyDbContext' generated a temporary value for the property 'SystemNotification.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 19:00:35.877 +07:00 [DBG] Context 'MyDbContext' started tracking 'SystemNotification' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 19:00:35.877 +07:00 [DBG] SaveChanges starting for 'MyDbContext'.
2025-10-03 19:00:35.877 +07:00 [DBG] DetectChanges starting for 'MyDbContext'.
2025-10-03 19:00:35.880 +07:00 [DBG] DetectChanges completed for 'MyDbContext'.
2025-10-03 19:00:35.882 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:00:35.883 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:00:35.883 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 19:00:35.884 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:00:35.884 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-10-03 19:00:35.885 +07:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (Size = 50), @p5='?' (Size = 255), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [system_notifications] ([CreatedAt], [Message], [ReadAt], [RelatedEntityId], [RelatedEntityType], [Title], [Type], [UserId])
OUTPUT INSERTED.[Id], INSERTED.[IsRead]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-10-03 19:00:35.919 +07:00 [INF] Executed DbCommand (34ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (Size = 50), @p5='?' (Size = 255), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [system_notifications] ([CreatedAt], [Message], [ReadAt], [RelatedEntityId], [RelatedEntityType], [Title], [Type], [UserId])
OUTPUT INSERTED.[Id], INSERTED.[IsRead]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-10-03 19:00:35.919 +07:00 [DBG] The foreign key property 'SystemNotification.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-10-03 19:00:35.920 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 19:00:35.921 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 1ms reading results.
2025-10-03 19:00:35.921 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:00:35.921 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 19:00:35.921 +07:00 [DBG] An entity of type 'SystemNotification' tracked by 'MyDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 19:00:35.922 +07:00 [DBG] SaveChanges completed for 'MyDbContext' with 1 entities written to the database.
2025-10-03 19:00:35.923 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:00:35.923 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:00:35.923 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 19:00:35.923 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:00:35.923 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:00:35.924 +07:00 [DBG] Executing DbCommand [Parameters=[@__entity_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [system_notifications] AS [s]
WHERE [s].[UserId] = @__entity_UserId_0 AND [s].[IsRead] = CAST(0 AS bit)
2025-10-03 19:00:35.933 +07:00 [INF] Executed DbCommand (9ms) [Parameters=[@__entity_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [system_notifications] AS [s]
WHERE [s].[UserId] = @__entity_UserId_0 AND [s].[IsRead] = CAST(0 AS bit)
2025-10-03 19:00:35.934 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 19:00:35.934 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-10-03 19:00:35.934 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:00:35.934 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 19:00:38.467 +07:00 [ERR] 5.4.5 Daily user sending limit exceeded. For more information on Gmail
5.4.5 sending limits go to
5.4.5  https://support.google.com/a/answer/166852 98e67ed59e1d1-339a6ec12fdsm7885390a91.10 - gsmtp
2025-10-03 19:00:38.670 +07:00 [WRN] Không thể gửi email quá hạn cho reviewer supervisor@gmail.com, assignment 1
2025-10-03 19:00:38.671 +07:00 [INF] Đã gửi thông báo quá hạn cho reviewer 6, assignment 1
2025-10-03 19:00:38.672 +07:00 [DBG] 'MyDbContext' generated a temporary value for the property 'SystemNotification.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 19:00:38.672 +07:00 [DBG] Context 'MyDbContext' started tracking 'SystemNotification' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 19:00:38.673 +07:00 [DBG] SaveChanges starting for 'MyDbContext'.
2025-10-03 19:00:38.673 +07:00 [DBG] DetectChanges starting for 'MyDbContext'.
2025-10-03 19:00:38.673 +07:00 [DBG] DetectChanges completed for 'MyDbContext'.
2025-10-03 19:00:38.674 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:00:38.674 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:00:38.674 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 19:00:38.674 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:00:38.675 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:00:38.675 +07:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (Size = 50), @p5='?' (Size = 255), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [system_notifications] ([CreatedAt], [Message], [ReadAt], [RelatedEntityId], [RelatedEntityType], [Title], [Type], [UserId])
OUTPUT INSERTED.[Id], INSERTED.[IsRead]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-10-03 19:00:38.682 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (Size = 50), @p5='?' (Size = 255), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [system_notifications] ([CreatedAt], [Message], [ReadAt], [RelatedEntityId], [RelatedEntityType], [Title], [Type], [UserId])
OUTPUT INSERTED.[Id], INSERTED.[IsRead]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-10-03 19:00:38.682 +07:00 [DBG] The foreign key property 'SystemNotification.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-10-03 19:00:38.682 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 19:00:38.682 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-10-03 19:00:38.683 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:00:38.683 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 19:00:38.683 +07:00 [DBG] An entity of type 'SystemNotification' tracked by 'MyDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 19:00:38.683 +07:00 [DBG] SaveChanges completed for 'MyDbContext' with 1 entities written to the database.
2025-10-03 19:00:38.684 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:00:38.684 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:00:38.684 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 19:00:38.684 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:00:38.685 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:00:38.685 +07:00 [DBG] Executing DbCommand [Parameters=[@__entity_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [system_notifications] AS [s]
WHERE [s].[UserId] = @__entity_UserId_0 AND [s].[IsRead] = CAST(0 AS bit)
2025-10-03 19:00:38.687 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__entity_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [system_notifications] AS [s]
WHERE [s].[UserId] = @__entity_UserId_0 AND [s].[IsRead] = CAST(0 AS bit)
2025-10-03 19:00:38.687 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 19:00:38.687 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-10-03 19:00:38.687 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:00:38.688 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 19:00:41.082 +07:00 [ERR] 5.4.5 Daily user sending limit exceeded. For more information on Gmail
5.4.5 sending limits go to
5.4.5  https://support.google.com/a/answer/166852 d2e1a72fcca58-78b02053a45sm4785968b3a.55 - gsmtp
2025-10-03 19:00:41.284 +07:00 [WRN] Không thể gửi email quá hạn cho reviewer reviewer2@gmail.com, assignment 2
2025-10-03 19:00:41.285 +07:00 [INF] Đã gửi thông báo quá hạn cho reviewer 7, assignment 2
2025-10-03 19:00:41.285 +07:00 [DBG] 'MyDbContext' generated a temporary value for the property 'SystemNotification.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 19:00:41.285 +07:00 [DBG] Context 'MyDbContext' started tracking 'SystemNotification' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 19:00:41.285 +07:00 [DBG] SaveChanges starting for 'MyDbContext'.
2025-10-03 19:00:41.285 +07:00 [DBG] DetectChanges starting for 'MyDbContext'.
2025-10-03 19:00:41.286 +07:00 [DBG] DetectChanges completed for 'MyDbContext'.
2025-10-03 19:00:41.286 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:00:41.286 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:00:41.286 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 19:00:41.286 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:00:41.287 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:00:41.287 +07:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (Size = 50), @p5='?' (Size = 255), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [system_notifications] ([CreatedAt], [Message], [ReadAt], [RelatedEntityId], [RelatedEntityType], [Title], [Type], [UserId])
OUTPUT INSERTED.[Id], INSERTED.[IsRead]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-10-03 19:00:41.294 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (Size = 50), @p5='?' (Size = 255), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [system_notifications] ([CreatedAt], [Message], [ReadAt], [RelatedEntityId], [RelatedEntityType], [Title], [Type], [UserId])
OUTPUT INSERTED.[Id], INSERTED.[IsRead]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-10-03 19:00:41.295 +07:00 [DBG] The foreign key property 'SystemNotification.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-10-03 19:00:41.296 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 19:00:41.298 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 3ms reading results.
2025-10-03 19:00:41.299 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:00:41.300 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (1ms).
2025-10-03 19:00:41.301 +07:00 [DBG] An entity of type 'SystemNotification' tracked by 'MyDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 19:00:41.302 +07:00 [DBG] SaveChanges completed for 'MyDbContext' with 1 entities written to the database.
2025-10-03 19:00:41.304 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:00:41.304 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:00:41.304 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 19:00:41.304 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:00:41.304 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:00:41.305 +07:00 [DBG] Executing DbCommand [Parameters=[@__entity_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [system_notifications] AS [s]
WHERE [s].[UserId] = @__entity_UserId_0 AND [s].[IsRead] = CAST(0 AS bit)
2025-10-03 19:00:41.307 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__entity_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [system_notifications] AS [s]
WHERE [s].[UserId] = @__entity_UserId_0 AND [s].[IsRead] = CAST(0 AS bit)
2025-10-03 19:00:41.308 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 19:00:41.308 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-10-03 19:00:41.308 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:00:41.308 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 19:00:43.735 +07:00 [ERR] 5.4.5 Daily user sending limit exceeded. For more information on Gmail
5.4.5 sending limits go to
5.4.5  https://support.google.com/a/answer/166852 98e67ed59e1d1-3399cd35addsm5091695a91.3 - gsmtp
2025-10-03 19:00:43.937 +07:00 [WRN] Không thể gửi email quá hạn cho reviewer reviewer2@gmail.com, assignment 3
2025-10-03 19:00:43.937 +07:00 [INF] Đã gửi thông báo quá hạn cho reviewer 7, assignment 3
2025-10-03 19:00:43.937 +07:00 [DBG] 'MyDbContext' generated a temporary value for the property 'SystemNotification.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 19:00:43.937 +07:00 [DBG] Context 'MyDbContext' started tracking 'SystemNotification' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 19:00:43.937 +07:00 [DBG] SaveChanges starting for 'MyDbContext'.
2025-10-03 19:00:43.937 +07:00 [DBG] DetectChanges starting for 'MyDbContext'.
2025-10-03 19:00:43.938 +07:00 [DBG] DetectChanges completed for 'MyDbContext'.
2025-10-03 19:00:43.938 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:00:43.938 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:00:43.938 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 19:00:43.938 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:00:43.939 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:00:43.939 +07:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (Size = 50), @p5='?' (Size = 255), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [system_notifications] ([CreatedAt], [Message], [ReadAt], [RelatedEntityId], [RelatedEntityType], [Title], [Type], [UserId])
OUTPUT INSERTED.[Id], INSERTED.[IsRead]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-10-03 19:00:43.942 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (Size = 50), @p5='?' (Size = 255), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [system_notifications] ([CreatedAt], [Message], [ReadAt], [RelatedEntityId], [RelatedEntityType], [Title], [Type], [UserId])
OUTPUT INSERTED.[Id], INSERTED.[IsRead]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-10-03 19:00:43.942 +07:00 [DBG] The foreign key property 'SystemNotification.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-10-03 19:00:43.943 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 19:00:43.943 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-10-03 19:00:43.943 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:00:43.943 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 19:00:43.943 +07:00 [DBG] An entity of type 'SystemNotification' tracked by 'MyDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 19:00:43.943 +07:00 [DBG] SaveChanges completed for 'MyDbContext' with 1 entities written to the database.
2025-10-03 19:00:43.944 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:00:43.944 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:00:43.944 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 19:00:43.944 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:00:43.944 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:00:43.944 +07:00 [DBG] Executing DbCommand [Parameters=[@__entity_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [system_notifications] AS [s]
WHERE [s].[UserId] = @__entity_UserId_0 AND [s].[IsRead] = CAST(0 AS bit)
2025-10-03 19:00:43.946 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__entity_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [system_notifications] AS [s]
WHERE [s].[UserId] = @__entity_UserId_0 AND [s].[IsRead] = CAST(0 AS bit)
2025-10-03 19:00:43.946 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 19:00:43.946 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-10-03 19:00:43.946 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:00:43.946 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 19:00:45.805 +07:00 [ERR] 5.4.5 Daily user sending limit exceeded. For more information on Gmail
5.4.5 sending limits go to
5.4.5  https://support.google.com/a/answer/166852 d9443c01a7336-28e8d1d582asm48472385ad.113 - gsmtp
2025-10-03 19:00:46.003 +07:00 [WRN] Không thể gửi email quá hạn cho reviewer supervisor@gmail.com, assignment 4
2025-10-03 19:00:46.004 +07:00 [INF] Đã gửi thông báo quá hạn cho reviewer 6, assignment 4
2025-10-03 19:00:46.004 +07:00 [INF] Hoàn thành kiểm tra deadline: 1 sắp đến hạn, 4 quá hạn
2025-10-03 19:00:46.005 +07:00 [DBG] 'MyDbContext' disposed.
2025-10-03 19:00:46.005 +07:00 [DBG] Disposing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:00:46.005 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-10-03 19:00:57.216 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5207/api/reviewer-assignments/workload?semesterId=1 - null null
2025-10-03 19:00:57.219 +07:00 [DBG] The request path /api/reviewer-assignments/workload does not match a supported file type
2025-10-03 19:00:57.221 +07:00 [WRN] Failed to determine the https port for redirect.
2025-10-03 19:00:57.221 +07:00 [DBG] The request path /api/reviewer-assignments/workload does not match a supported file type
2025-10-03 19:00:57.297 +07:00 [DBG] 1 candidate(s) found for the request path '/api/reviewer-assignments/workload'
2025-10-03 19:00:57.298 +07:00 [DBG] Endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetReviewersWorkload (CapBot.api)' with route pattern 'api/reviewer-assignments/workload' is valid for the request path '/api/reviewer-assignments/workload'
2025-10-03 19:00:57.299 +07:00 [DBG] Request matched endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetReviewersWorkload (CapBot.api)'
2025-10-03 19:00:57.397 +07:00 [DBG] Successfully validated the token.
2025-10-03 19:00:57.398 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-10-03 19:00:57.406 +07:00 [DBG] Authorization was successful.
2025-10-03 19:00:57.413 +07:00 [INF] Executing endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetReviewersWorkload (CapBot.api)'
2025-10-03 19:00:57.432 +07:00 [INF] Route matched with {action = "GetReviewersWorkload", controller = "ReviewerAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetReviewersWorkload(System.Nullable`1[System.Int32]) on controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api).
2025-10-03 19:00:57.434 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-10-03 19:00:57.435 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-10-03 19:00:57.435 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2025-10-03 19:00:57.436 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-10-03 19:00:57.436 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-10-03 19:00:57.438 +07:00 [DBG] Executing controller factory for controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api)
2025-10-03 19:00:57.584 +07:00 [DBG] Executed controller factory for controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api)
2025-10-03 19:00:57.591 +07:00 [DBG] Attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]' ...
2025-10-03 19:00:57.595 +07:00 [DBG] Attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]' using the name 'semesterId' in request data ...
2025-10-03 19:00:57.596 +07:00 [DBG] Done attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]'.
2025-10-03 19:00:57.596 +07:00 [DBG] Done attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]'.
2025-10-03 19:00:57.596 +07:00 [DBG] Attempting to validate the bound parameter 'semesterId' of type 'System.Nullable`1[System.Int32]' ...
2025-10-03 19:00:57.598 +07:00 [DBG] Done attempting to validate the bound parameter 'semesterId' of type 'System.Nullable`1[System.Int32]'.
2025-10-03 19:00:57.626 +07:00 [DBG] Entity Framework Core 8.0.16 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: MigrationsAssembly=App.DAL 
2025-10-03 19:00:57.628 +07:00 [DBG] Compiling query expression: 
'DbSet<UserRole>()
    .AsNoTracking()
    .Include(ur => ur.User)
    .Include(ur => ur.User.LecturerSkills)
    .Include(ur => ur.User.ReviewerPerformances)
    .Include(ur => ur.Role)
    .Where(ur => ur.Role.Name == "Reviewer")'
2025-10-03 19:00:57.630 +07:00 [DBG] Including navigation: 'UserRole.User'.
2025-10-03 19:00:57.631 +07:00 [DBG] Including navigation: 'User.LecturerSkills'.
2025-10-03 19:00:57.631 +07:00 [DBG] Including navigation: 'User.ReviewerPerformances'.
2025-10-03 19:00:57.632 +07:00 [DBG] Including navigation: 'UserRole.Role'.
2025-10-03 19:00:57.677 +07:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-10-03 19:00:57.687 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<UserRole>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: UserRole.UserId (int) Required PK FK AfterSave:Throw, 0], [Property: UserRole.RoleId (int) Required PK FK Index AfterSave:Throw, 1] }
            1 -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 2], [Property: User.AccessFailedCount (int) Required, 3], [Property: User.ConcurrencyStamp (string), 4], [Property: User.CreatedAt (DateTime) Required, 5], [Property: User.DeletedAt (DateTime?), 6], [Property: User.Email (string), 7], [Property: User.EmailConfirmed (bool) Required, 8], [Property: User.LastModifiedAt (DateTime) Required, 9], [Property: User.LastModifiedBy (string), 10], [Property: User.LockoutEnabled (bool) Required, 11], [Property: User.LockoutEnd (DateTimeOffset?), 12], [Property: User.NormalizedEmail (string), 13], [Property: User.NormalizedUserName (string), 14], [Property: User.PasswordHash (string), 15], [Property: User.PhoneNumber (string), 16], [Property: User.PhoneNumberConfirmed (bool) Required, 17], [Property: User.SecurityStamp (string), 18], [Property: User.TwoFactorEnabled (bool) Required, 19], [Property: User.UserName (string), 20] }
            2 -> 0
            3 -> 1
            4 -> 21
            5 -> 2
            6 -> Dictionary<IProperty, int> { [Property: LecturerSkill.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 22], [Property: LecturerSkill.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 23], [Property: LecturerSkill.CreatedBy (string), 24], [Property: LecturerSkill.DeletedAt (DateTime?), 25], [Property: LecturerSkill.IsActive (bool) Required, 26], [Property: LecturerSkill.LastModifiedAt (DateTime?), 27], [Property: LecturerSkill.LastModifiedBy (string), 28], [Property: LecturerSkill.LecturerId (int) Required FK Index, 29], [Property: LecturerSkill.ProficiencyLevel (ProficiencyLevels) Required ValueGenerated.OnAdd, 30], [Property: LecturerSkill.SkillTag (string) Required Index MaxLength(100), 31] }
            7 -> 22
            8 -> Dictionary<IProperty, int> { [Property: ReviewerPerformance.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 32], [Property: ReviewerPerformance.AverageScoreGiven (decimal?), 33], [Property: ReviewerPerformance.AverageTimeMinutes (int) Required ValueGenerated.OnAdd, 34], [Property: ReviewerPerformance.CompletedAssignments (int) Required ValueGenerated.OnAdd, 35], [Property: ReviewerPerformance.LastUpdated (DateTime) Required ValueGenerated.OnAdd, 36], [Property: ReviewerPerformance.OnTimeRate (decimal?), 37], [Property: ReviewerPerformance.QualityRating (decimal?), 38], [Property: ReviewerPerformance.ReviewerId (int) Required FK Index, 39], [Property: ReviewerPerformance.SemesterId (int) Required FK Index, 40], [Property: ReviewerPerformance.TotalAssignments (int) Required ValueGenerated.OnAdd, 41] }
            9 -> 32
            10 -> Dictionary<IProperty, int> { [Property: Role.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 21], [Property: Role.ConcurrencyStamp (string), 42], [Property: Role.IsAdmin (bool) Required, 43], [Property: Role.Name (string), 44], [Property: Role.NormalizedName (string), 45] }
        SELECT u.UserId, u.RoleId, u0.Id, u0.AccessFailedCount, u0.ConcurrencyStamp, u0.CreatedAt, u0.DeletedAt, u0.Email, u0.EmailConfirmed, u0.LastModifiedAt, u0.LastModifiedBy, u0.LockoutEnabled, u0.LockoutEnd, u0.NormalizedEmail, u0.NormalizedUserName, u0.PasswordHash, u0.PhoneNumber, u0.PhoneNumberConfirmed, u0.SecurityStamp, u0.TwoFactorEnabled, u0.UserName, r.Id, l.Id, l.CreatedAt, l.CreatedBy, l.DeletedAt, l.IsActive, l.LastModifiedAt, l.LastModifiedBy, l.LecturerId, l.ProficiencyLevel, l.SkillTag, r0.Id, r0.AverageScoreGiven, r0.AverageTimeMinutes, r0.CompletedAssignments, r0.LastUpdated, r0.OnTimeRate, r0.QualityRating, r0.ReviewerId, r0.SemesterId, r0.TotalAssignments, r.ConcurrencyStamp, r.IsAdmin, r.Name, r.NormalizedName
        FROM user_roles AS u
        INNER JOIN roles AS r ON u.RoleId == r.Id
        INNER JOIN users AS u0 ON u.UserId == u0.Id
        LEFT JOIN lecturer_skills AS l ON u0.Id == l.LecturerId
        LEFT JOIN reviewer_performance AS r0 ON u0.Id == r0.ReviewerId
        WHERE r.Name == N'Reviewer'
        ORDER BY u.UserId ASC, u.RoleId ASC, r.Id ASC, u0.Id ASC, l.Id ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, UserRole>, 
    App.DAL.Context.MyDbContext, 
    False, 
    False, 
    True
)'
2025-10-03 19:00:57.691 +07:00 [DBG] Creating DbConnection.
2025-10-03 19:00:57.691 +07:00 [DBG] Created DbConnection. (0ms).
2025-10-03 19:00:57.691 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:00:57.691 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:00:57.692 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 19:00:57.692 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:00:57.692 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:00:57.692 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[RoleId], [u0].[Id], [u0].[AccessFailedCount], [u0].[ConcurrencyStamp], [u0].[CreatedAt], [u0].[DeletedAt], [u0].[Email], [u0].[EmailConfirmed], [u0].[LastModifiedAt], [u0].[LastModifiedBy], [u0].[LockoutEnabled], [u0].[LockoutEnd], [u0].[NormalizedEmail], [u0].[NormalizedUserName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[PhoneNumberConfirmed], [u0].[SecurityStamp], [u0].[TwoFactorEnabled], [u0].[UserName], [r].[Id], [l].[Id], [l].[CreatedAt], [l].[CreatedBy], [l].[DeletedAt], [l].[IsActive], [l].[LastModifiedAt], [l].[LastModifiedBy], [l].[LecturerId], [l].[ProficiencyLevel], [l].[SkillTag], [r0].[Id], [r0].[AverageScoreGiven], [r0].[AverageTimeMinutes], [r0].[CompletedAssignments], [r0].[LastUpdated], [r0].[OnTimeRate], [r0].[QualityRating], [r0].[ReviewerId], [r0].[SemesterId], [r0].[TotalAssignments], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [user_roles] AS [u]
INNER JOIN [roles] AS [r] ON [u].[RoleId] = [r].[Id]
INNER JOIN [users] AS [u0] ON [u].[UserId] = [u0].[Id]
LEFT JOIN [lecturer_skills] AS [l] ON [u0].[Id] = [l].[LecturerId]
LEFT JOIN [reviewer_performance] AS [r0] ON [u0].[Id] = [r0].[ReviewerId]
WHERE [r].[Name] = N'Reviewer'
ORDER BY [u].[UserId], [u].[RoleId], [r].[Id], [u0].[Id], [l].[Id]
2025-10-03 19:00:57.715 +07:00 [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[RoleId], [u0].[Id], [u0].[AccessFailedCount], [u0].[ConcurrencyStamp], [u0].[CreatedAt], [u0].[DeletedAt], [u0].[Email], [u0].[EmailConfirmed], [u0].[LastModifiedAt], [u0].[LastModifiedBy], [u0].[LockoutEnabled], [u0].[LockoutEnd], [u0].[NormalizedEmail], [u0].[NormalizedUserName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[PhoneNumberConfirmed], [u0].[SecurityStamp], [u0].[TwoFactorEnabled], [u0].[UserName], [r].[Id], [l].[Id], [l].[CreatedAt], [l].[CreatedBy], [l].[DeletedAt], [l].[IsActive], [l].[LastModifiedAt], [l].[LastModifiedBy], [l].[LecturerId], [l].[ProficiencyLevel], [l].[SkillTag], [r0].[Id], [r0].[AverageScoreGiven], [r0].[AverageTimeMinutes], [r0].[CompletedAssignments], [r0].[LastUpdated], [r0].[OnTimeRate], [r0].[QualityRating], [r0].[ReviewerId], [r0].[SemesterId], [r0].[TotalAssignments], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [user_roles] AS [u]
INNER JOIN [roles] AS [r] ON [u].[RoleId] = [r].[Id]
INNER JOIN [users] AS [u0] ON [u].[UserId] = [u0].[Id]
LEFT JOIN [lecturer_skills] AS [l] ON [u0].[Id] = [l].[LecturerId]
LEFT JOIN [reviewer_performance] AS [r0] ON [u0].[Id] = [r0].[ReviewerId]
WHERE [r].[Name] = N'Reviewer'
ORDER BY [u].[UserId], [u].[RoleId], [r].[Id], [u0].[Id], [l].[Id]
2025-10-03 19:00:57.724 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 19:00:57.724 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 8ms reading results.
2025-10-03 19:00:57.724 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:00:57.725 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 19:00:57.730 +07:00 [DBG] Compiling query expression: 
'DbSet<ReviewerAssignment>()
    .AsNoTracking()
    .Include(ra => ra.Submission)
    .Include(ra => ra.Submission.Topic)
    .Include(ra => ra.Submission.TopicVersion)
    .Include(ra => ra.Submission.TopicVersion.Topic)
    .Where(ra => __8__locals2_reviewerIds_0.Contains(ra.ReviewerId) && ra.Submission != null && ra.Submission.Topic != null && ra.Submission.Topic.SemesterId == __sid_1 || ra.Submission != null && ra.Submission.TopicVersion != null && ra.Submission.TopicVersion.Topic != null && ra.Submission.TopicVersion.Topic.SemesterId == __sid_1)'
2025-10-03 19:00:57.737 +07:00 [DBG] Including navigation: 'ReviewerAssignment.Submission'.
2025-10-03 19:00:57.737 +07:00 [DBG] Including navigation: 'Submission.Topic'.
2025-10-03 19:00:57.737 +07:00 [DBG] Including navigation: 'Submission.TopicVersion'.
2025-10-03 19:00:57.738 +07:00 [DBG] Including navigation: 'TopicVersion.Topic'.
2025-10-03 19:00:57.785 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<ReviewerAssignment>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: ReviewerAssignment.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ReviewerAssignment.AssignedAt (DateTime) Required ValueGenerated.OnAdd, 1], [Property: ReviewerAssignment.AssignedBy (int) Required FK Index, 2], [Property: ReviewerAssignment.AssignmentType (AssignmentTypes) Required ValueGenerated.OnAdd, 3], [Property: ReviewerAssignment.CompletedAt (DateTime?), 4], [Property: ReviewerAssignment.Deadline (DateTime?) Index, 5], [Property: ReviewerAssignment.ReviewerId (int) Required FK Index, 6], [Property: ReviewerAssignment.SkillMatchScore (decimal?), 7], [Property: ReviewerAssignment.StartedAt (DateTime?), 8], [Property: ReviewerAssignment.Status (AssignmentStatus) Required Index ValueGenerated.OnAdd, 9], [Property: ReviewerAssignment.SubmissionId (int) Required FK Index, 10] }
            1 -> Dictionary<IProperty, int> { [Property: Submission.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 11], [Property: Submission.AdditionalNotes (string), 12], [Property: Submission.AiCheckDetails (string), 13], [Property: Submission.AiCheckScore (decimal?), 14], [Property: Submission.AiCheckStatus (AiCheckStatus) Required ValueGenerated.OnAdd, 15], [Property: Submission.CreatedAt (DateTime) Required, 16], [Property: Submission.CreatedBy (string), 17], [Property: Submission.DeletedAt (DateTime?), 18], [Property: Submission.DocumentUrl (string) MaxLength(500), 19], [Property: Submission.IsActive (bool) Required, 20], [Property: Submission.LastModifiedAt (DateTime?), 21], [Property: Submission.LastModifiedBy (string), 22], [Property: Submission.PhaseId (int) Required FK Index, 23], [Property: Submission.Status (SubmissionStatus) Required Index ValueGenerated.OnAdd, 24], [Property: Submission.SubmissionRound (int) Required Index ValueGenerated.OnAdd, 25], [Property: Submission.SubmittedAt (DateTime?) Index ValueGenerated.OnAdd, 26], [Property: Submission.SubmittedBy (int) Required FK Index, 27], [Property: Submission.TopicId (int) Required FK Index, 28], [Property: Submission.TopicVersionId (int?) FK Index, 29] }
            2 -> Dictionary<IProperty, int> { [Property: Topic.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 30], [Property: Topic.Abbreviation (string), 31], [Property: Topic.CategoryId (int?) FK Index, 32], [Property: Topic.Content (string), 33], [Property: Topic.Context (string), 34], [Property: Topic.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 35], [Property: Topic.CreatedBy (string), 36], [Property: Topic.DeletedAt (DateTime?), 37], [Property: Topic.Description (string), 38], [Property: Topic.EN_Title (string) Required MaxLength(500), 39], [Property: Topic.IsActive (bool) Required, 40], [Property: Topic.IsApproved (bool) Required Index Sentinel:True ValueGenerated.OnAdd, 41], [Property: Topic.IsLegacy (bool) Required Index ValueGenerated.OnAdd, 42], [Property: Topic.LastModifiedAt (DateTime?), 43], [Property: Topic.LastModifiedBy (string), 44], [Property: Topic.MaxStudents (int) Required ValueGenerated.OnAdd, 45], [Property: Topic.Objectives (string), 46], [Property: Topic.PotentialDuplicate (string), 47], [Property: Topic.Problem (string), 48], [Property: Topic.SemesterId (int) Required FK Index, 49], [Property: Topic.SupervisorId (int) Required FK Index, 50], [Property: Topic.VN_title (string), 51] }
            3 -> Dictionary<IProperty, int> { [Property: TopicVersion.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 52], [Property: TopicVersion.Content (string), 53], [Property: TopicVersion.Context (string), 54], [Property: TopicVersion.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 55], [Property: TopicVersion.CreatedBy (string), 56], [Property: TopicVersion.DeletedAt (DateTime?), 57], [Property: TopicVersion.Description (string), 58], [Property: TopicVersion.DocumentUrl (string) MaxLength(500), 59], [Property: TopicVersion.EN_Title (string) Required MaxLength(500), 60], [Property: TopicVersion.ExpectedOutcomes (string), 61], [Property: TopicVersion.IsActive (bool) Required, 62], [Property: TopicVersion.LastModifiedAt (DateTime?), 63], [Property: TopicVersion.LastModifiedBy (string), 64], [Property: TopicVersion.Methodology (string), 65], [Property: TopicVersion.Objectives (string), 66], [Property: TopicVersion.PotentialDuplicate (string), 67], [Property: TopicVersion.Problem (string), 68], [Property: TopicVersion.Requirements (string), 69], [Property: TopicVersion.Status (TopicStatus) Required Index ValueGenerated.OnAdd, 70], [Property: TopicVersion.SubmittedAt (DateTime?), 71], [Property: TopicVersion.SubmittedBy (int?) FK Index, 72], [Property: TopicVersion.TopicId (int) Required FK Index, 73], [Property: TopicVersion.VN_title (string), 74], [Property: TopicVersion.VersionNumber (int) Required Index, 75] }
            4 -> Dictionary<IProperty, int> { [Property: Topic.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 76], [Property: Topic.Abbreviation (string), 77], [Property: Topic.CategoryId (int?) FK Index, 78], [Property: Topic.Content (string), 79], [Property: Topic.Context (string), 80], [Property: Topic.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 81], [Property: Topic.CreatedBy (string), 82], [Property: Topic.DeletedAt (DateTime?), 83], [Property: Topic.Description (string), 84], [Property: Topic.EN_Title (string) Required MaxLength(500), 85], [Property: Topic.IsActive (bool) Required, 86], [Property: Topic.IsApproved (bool) Required Index Sentinel:True ValueGenerated.OnAdd, 87], [Property: Topic.IsLegacy (bool) Required Index ValueGenerated.OnAdd, 88], [Property: Topic.LastModifiedAt (DateTime?), 89], [Property: Topic.LastModifiedBy (string), 90], [Property: Topic.MaxStudents (int) Required ValueGenerated.OnAdd, 91], [Property: Topic.Objectives (string), 92], [Property: Topic.PotentialDuplicate (string), 93], [Property: Topic.Problem (string), 94], [Property: Topic.SemesterId (int) Required FK Index, 95], [Property: Topic.SupervisorId (int) Required FK Index, 96], [Property: Topic.VN_title (string), 97] }
        SELECT r.Id, r.AssignedAt, r.AssignedBy, r.AssignmentType, r.CompletedAt, r.Deadline, r.ReviewerId, r.SkillMatchScore, r.StartedAt, r.Status, r.SubmissionId, s.Id, s.AdditionalNotes, s.AiCheckDetails, s.AiCheckScore, s.AiCheckStatus, s.CreatedAt, s.CreatedBy, s.DeletedAt, s.DocumentUrl, s.IsActive, s.LastModifiedAt, s.LastModifiedBy, s.PhaseId, s.Status, s.SubmissionRound, s.SubmittedAt, s.SubmittedBy, s.TopicId, s.TopicVersionId, t.Id, t.Abbreviation, t.CategoryId, t.Content, t.Context, t.CreatedAt, t.CreatedBy, t.DeletedAt, t.Description, t.EN_Title, t.IsActive, t.IsApproved, t.IsLegacy, t.LastModifiedAt, t.LastModifiedBy, t.MaxStudents, t.Objectives, t.PotentialDuplicate, t.Problem, t.SemesterId, t.SupervisorId, t.VN_title, t0.Id, t0.Content, t0.Context, t0.CreatedAt, t0.CreatedBy, t0.DeletedAt, t0.Description, t0.DocumentUrl, t0.EN_Title, t0.ExpectedOutcomes, t0.IsActive, t0.LastModifiedAt, t0.LastModifiedBy, t0.Methodology, t0.Objectives, t0.PotentialDuplicate, t0.Problem, t0.Requirements, t0.Status, t0.SubmittedAt, t0.SubmittedBy, t0.TopicId, t0.VN_title, t0.VersionNumber, t1.Id, t1.Abbreviation, t1.CategoryId, t1.Content, t1.Context, t1.CreatedAt, t1.CreatedBy, t1.DeletedAt, t1.Description, t1.EN_Title, t1.IsActive, t1.IsApproved, t1.IsLegacy, t1.LastModifiedAt, t1.LastModifiedBy, t1.MaxStudents, t1.Objectives, t1.PotentialDuplicate, t1.Problem, t1.SemesterId, t1.SupervisorId, t1.VN_title
        FROM reviewer_assignments AS r
        INNER JOIN submissions AS s ON r.SubmissionId == s.Id
        LEFT JOIN topics AS t ON s.TopicId == t.Id
        LEFT JOIN topic_versions AS t0 ON s.TopicVersionId == t0.Id
        LEFT JOIN topics AS t1 ON t0.TopicId == t1.Id
        WHERE r.ReviewerId IN (
            SELECT 8.value
            FROM OPENJSON(@__8__locals2_reviewerIds_0) WITH (value int '') AS 8) && (((Not(s.Id == NULL) && Not(t.Id == NULL)) && (t.SemesterId == @__sid_1)) || (((Not(s.Id == NULL) && Not(t0.Id == NULL)) && Not(t1.Id == NULL)) && (t1.SemesterId == @__sid_1)))), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ReviewerAssignment>, 
    App.DAL.Context.MyDbContext, 
    False, 
    False, 
    True
)'
2025-10-03 19:00:57.794 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:00:57.794 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:00:57.794 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 19:00:57.794 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:00:57.797 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-10-03 19:00:57.797 +07:00 [DBG] Executing DbCommand [Parameters=[@__8__locals2_reviewerIds_0='?' (Size = 4000), @__sid_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId], [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Abbreviation], [t].[CategoryId], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[EN_Title], [t].[IsActive], [t].[IsApproved], [t].[IsLegacy], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[MaxStudents], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[SemesterId], [t].[SupervisorId], [t].[VN_title], [t0].[Id], [t0].[Content], [t0].[Context], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[DocumentUrl], [t0].[EN_Title], [t0].[ExpectedOutcomes], [t0].[IsActive], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[Methodology], [t0].[Objectives], [t0].[PotentialDuplicate], [t0].[Problem], [t0].[Requirements], [t0].[Status], [t0].[SubmittedAt], [t0].[SubmittedBy], [t0].[TopicId], [t0].[VN_title], [t0].[VersionNumber], [t1].[Id], [t1].[Abbreviation], [t1].[CategoryId], [t1].[Content], [t1].[Context], [t1].[CreatedAt], [t1].[CreatedBy], [t1].[DeletedAt], [t1].[Description], [t1].[EN_Title], [t1].[IsActive], [t1].[IsApproved], [t1].[IsLegacy], [t1].[LastModifiedAt], [t1].[LastModifiedBy], [t1].[MaxStudents], [t1].[Objectives], [t1].[PotentialDuplicate], [t1].[Problem], [t1].[SemesterId], [t1].[SupervisorId], [t1].[VN_title]
FROM [reviewer_assignments] AS [r]
INNER JOIN [submissions] AS [s] ON [r].[SubmissionId] = [s].[Id]
LEFT JOIN [topics] AS [t] ON [s].[TopicId] = [t].[Id]
LEFT JOIN [topic_versions] AS [t0] ON [s].[TopicVersionId] = [t0].[Id]
LEFT JOIN [topics] AS [t1] ON [t0].[TopicId] = [t1].[Id]
WHERE [r].[ReviewerId] IN (
    SELECT [8].[value]
    FROM OPENJSON(@__8__locals2_reviewerIds_0) WITH ([value] int '$') AS [8]
) AND (([t].[Id] IS NOT NULL AND [t].[SemesterId] = @__sid_1) OR ([t0].[Id] IS NOT NULL AND [t1].[Id] IS NOT NULL AND [t1].[SemesterId] = @__sid_1))
2025-10-03 19:00:57.851 +07:00 [INF] Executed DbCommand (53ms) [Parameters=[@__8__locals2_reviewerIds_0='?' (Size = 4000), @__sid_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId], [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Abbreviation], [t].[CategoryId], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[EN_Title], [t].[IsActive], [t].[IsApproved], [t].[IsLegacy], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[MaxStudents], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[SemesterId], [t].[SupervisorId], [t].[VN_title], [t0].[Id], [t0].[Content], [t0].[Context], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[DocumentUrl], [t0].[EN_Title], [t0].[ExpectedOutcomes], [t0].[IsActive], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[Methodology], [t0].[Objectives], [t0].[PotentialDuplicate], [t0].[Problem], [t0].[Requirements], [t0].[Status], [t0].[SubmittedAt], [t0].[SubmittedBy], [t0].[TopicId], [t0].[VN_title], [t0].[VersionNumber], [t1].[Id], [t1].[Abbreviation], [t1].[CategoryId], [t1].[Content], [t1].[Context], [t1].[CreatedAt], [t1].[CreatedBy], [t1].[DeletedAt], [t1].[Description], [t1].[EN_Title], [t1].[IsActive], [t1].[IsApproved], [t1].[IsLegacy], [t1].[LastModifiedAt], [t1].[LastModifiedBy], [t1].[MaxStudents], [t1].[Objectives], [t1].[PotentialDuplicate], [t1].[Problem], [t1].[SemesterId], [t1].[SupervisorId], [t1].[VN_title]
FROM [reviewer_assignments] AS [r]
INNER JOIN [submissions] AS [s] ON [r].[SubmissionId] = [s].[Id]
LEFT JOIN [topics] AS [t] ON [s].[TopicId] = [t].[Id]
LEFT JOIN [topic_versions] AS [t0] ON [s].[TopicVersionId] = [t0].[Id]
LEFT JOIN [topics] AS [t1] ON [t0].[TopicId] = [t1].[Id]
WHERE [r].[ReviewerId] IN (
    SELECT [8].[value]
    FROM OPENJSON(@__8__locals2_reviewerIds_0) WITH ([value] int '$') AS [8]
) AND (([t].[Id] IS NOT NULL AND [t].[SemesterId] = @__sid_1) OR ([t0].[Id] IS NOT NULL AND [t1].[Id] IS NOT NULL AND [t1].[SemesterId] = @__sid_1))
2025-10-03 19:00:57.856 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 19:00:57.856 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 4ms reading results.
2025-10-03 19:00:57.856 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:00:57.856 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 19:00:57.866 +07:00 [DBG] Compiling query expression: 
'DbSet<ReviewerPerformance>()
    .AsNoTracking()
    .Where(rp => __reviewerIds_0.Contains(rp.ReviewerId) && False || rp.SemesterId == __8__locals1_semesterId_Value_1)'
2025-10-03 19:00:57.874 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<ReviewerPerformance>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ReviewerPerformance.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ReviewerPerformance.AverageScoreGiven (decimal?), 1], [Property: ReviewerPerformance.AverageTimeMinutes (int) Required ValueGenerated.OnAdd, 2], [Property: ReviewerPerformance.CompletedAssignments (int) Required ValueGenerated.OnAdd, 3], [Property: ReviewerPerformance.LastUpdated (DateTime) Required ValueGenerated.OnAdd, 4], [Property: ReviewerPerformance.OnTimeRate (decimal?), 5], [Property: ReviewerPerformance.QualityRating (decimal?), 6], [Property: ReviewerPerformance.ReviewerId (int) Required FK Index, 7], [Property: ReviewerPerformance.SemesterId (int) Required FK Index, 8], [Property: ReviewerPerformance.TotalAssignments (int) Required ValueGenerated.OnAdd, 9] }
        SELECT r.Id, r.AverageScoreGiven, r.AverageTimeMinutes, r.CompletedAssignments, r.LastUpdated, r.OnTimeRate, r.QualityRating, r.ReviewerId, r.SemesterId, r.TotalAssignments
        FROM reviewer_performance AS r
        WHERE r.ReviewerId IN (
            SELECT r0.value
            FROM OPENJSON(@__reviewerIds_0) WITH (value int '') AS r0) && (CAST(0 AS bit) || (r.SemesterId == @__8__locals1_semesterId_Value_1))), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ReviewerPerformance>, 
    App.DAL.Context.MyDbContext, 
    False, 
    False, 
    True
)'
2025-10-03 19:00:57.876 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:00:57.876 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:00:57.876 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 19:00:57.876 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:00:57.877 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:00:57.877 +07:00 [DBG] Executing DbCommand [Parameters=[@__reviewerIds_0='?' (Size = 4000), @__8__locals1_semesterId_Value_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AverageScoreGiven], [r].[AverageTimeMinutes], [r].[CompletedAssignments], [r].[LastUpdated], [r].[OnTimeRate], [r].[QualityRating], [r].[ReviewerId], [r].[SemesterId], [r].[TotalAssignments]
FROM [reviewer_performance] AS [r]
WHERE [r].[ReviewerId] IN (
    SELECT [r0].[value]
    FROM OPENJSON(@__reviewerIds_0) WITH ([value] int '$') AS [r0]
) AND [r].[SemesterId] = @__8__locals1_semesterId_Value_1
2025-10-03 19:00:57.883 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__reviewerIds_0='?' (Size = 4000), @__8__locals1_semesterId_Value_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AverageScoreGiven], [r].[AverageTimeMinutes], [r].[CompletedAssignments], [r].[LastUpdated], [r].[OnTimeRate], [r].[QualityRating], [r].[ReviewerId], [r].[SemesterId], [r].[TotalAssignments]
FROM [reviewer_performance] AS [r]
WHERE [r].[ReviewerId] IN (
    SELECT [r0].[value]
    FROM OPENJSON(@__reviewerIds_0) WITH ([value] int '$') AS [r0]
) AND [r].[SemesterId] = @__8__locals1_semesterId_Value_1
2025-10-03 19:00:57.886 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 19:00:57.886 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 2ms reading results.
2025-10-03 19:00:57.887 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:00:57.887 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 19:00:57.898 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-10-03 19:00:57.900 +07:00 [DBG] No information found on request to perform content negotiation.
2025-10-03 19:00:57.900 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-10-03 19:00:57.901 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-10-03 19:00:57.909 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-10-03 19:00:57.910 +07:00 [INF] Executing ObjectResult, writing value of type 'FS.Commons.FSResponse'.
2025-10-03 19:00:57.986 +07:00 [INF] Executed action CapBot.api.Controllers.ReviewerAssignmentController.GetReviewersWorkload (CapBot.api) in 544.7058ms
2025-10-03 19:00:57.990 +07:00 [INF] Executed endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetReviewersWorkload (CapBot.api)'
2025-10-03 19:00:57.993 +07:00 [DBG] Connection id "0HNG2EHQ0F03E" completed keep alive response.
2025-10-03 19:00:57.993 +07:00 [DBG] 'MyDbContext' disposed.
2025-10-03 19:00:57.994 +07:00 [DBG] Disposing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:00:57.994 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-10-03 19:00:57.995 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5207/api/reviewer-assignments/workload?semesterId=1 - 200 null application/json; charset=utf-8 778.8447ms
2025-10-03 19:02:43.787 +07:00 [DBG] Connection id "0HNG2EHQ0F03F" disconnecting.
2025-10-03 19:02:43.789 +07:00 [DBG] Connection id "0HNG2EHQ0F03F" stopped.
2025-10-03 19:02:43.790 +07:00 [DBG] Connection id "0HNG2EHQ0F03F" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-10-03 19:03:09.962 +07:00 [DBG] Connection id "0HNG2EHQ0F03E" disconnecting.
2025-10-03 19:03:09.963 +07:00 [DBG] Connection id "0HNG2EHQ0F03E" stopped.
2025-10-03 19:03:09.963 +07:00 [DBG] Connection id "0HNG2EHQ0F03E" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-10-03 19:05:46.017 +07:00 [INF] Bắt đầu kiểm tra deadline notifications lúc "2025-10-03T19:05:46.0171732+07:00"
2025-10-03 19:05:46.019 +07:00 [DBG] Entity Framework Core 8.0.16 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: MigrationsAssembly=App.DAL 
2025-10-03 19:05:46.020 +07:00 [DBG] Creating DbConnection.
2025-10-03 19:05:46.020 +07:00 [DBG] Created DbConnection. (0ms).
2025-10-03 19:05:46.020 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:05:46.020 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:05:46.020 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 19:05:46.020 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:05:46.021 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:05:46.021 +07:00 [DBG] Executing DbCommand [Parameters=[@__tomorrow_0='?' (DbType = DateTime2), @__dayAfterTomorrow_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[DocumentUrl], [t].[EN_Title], [t].[ExpectedOutcomes], [t].[IsActive], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[Methodology], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[Requirements], [t].[Status], [t].[SubmittedAt], [t].[SubmittedBy], [t].[TopicId], [t].[VN_title], [t].[VersionNumber], [t0].[Id], [t0].[Abbreviation], [t0].[CategoryId], [t0].[Content], [t0].[Context], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[EN_Title], [t0].[IsActive], [t0].[IsApproved], [t0].[IsLegacy], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[MaxStudents], [t0].[Objectives], [t0].[PotentialDuplicate], [t0].[Problem], [t0].[SemesterId], [t0].[SupervisorId], [t0].[VN_title]
FROM [reviewer_assignments] AS [r]
INNER JOIN [users] AS [u] ON [r].[ReviewerId] = [u].[Id]
INNER JOIN [submissions] AS [s] ON [r].[SubmissionId] = [s].[Id]
LEFT JOIN [topic_versions] AS [t] ON [s].[TopicVersionId] = [t].[Id]
LEFT JOIN [topics] AS [t0] ON [s].[TopicId] = [t0].[Id]
WHERE [r].[Deadline] IS NOT NULL AND CONVERT(date, [r].[Deadline]) >= @__tomorrow_0 AND CONVERT(date, [r].[Deadline]) <= @__dayAfterTomorrow_1 AND [r].[Status] IN (1, 2)
2025-10-03 19:05:46.061 +07:00 [INF] Executed DbCommand (40ms) [Parameters=[@__tomorrow_0='?' (DbType = DateTime2), @__dayAfterTomorrow_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[DocumentUrl], [t].[EN_Title], [t].[ExpectedOutcomes], [t].[IsActive], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[Methodology], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[Requirements], [t].[Status], [t].[SubmittedAt], [t].[SubmittedBy], [t].[TopicId], [t].[VN_title], [t].[VersionNumber], [t0].[Id], [t0].[Abbreviation], [t0].[CategoryId], [t0].[Content], [t0].[Context], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[EN_Title], [t0].[IsActive], [t0].[IsApproved], [t0].[IsLegacy], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[MaxStudents], [t0].[Objectives], [t0].[PotentialDuplicate], [t0].[Problem], [t0].[SemesterId], [t0].[SupervisorId], [t0].[VN_title]
FROM [reviewer_assignments] AS [r]
INNER JOIN [users] AS [u] ON [r].[ReviewerId] = [u].[Id]
INNER JOIN [submissions] AS [s] ON [r].[SubmissionId] = [s].[Id]
LEFT JOIN [topic_versions] AS [t] ON [s].[TopicVersionId] = [t].[Id]
LEFT JOIN [topics] AS [t0] ON [s].[TopicId] = [t0].[Id]
WHERE [r].[Deadline] IS NOT NULL AND CONVERT(date, [r].[Deadline]) >= @__tomorrow_0 AND CONVERT(date, [r].[Deadline]) <= @__dayAfterTomorrow_1 AND [r].[Status] IN (1, 2)
2025-10-03 19:05:46.062 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 19:05:46.062 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-10-03 19:05:46.062 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:05:46.062 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 19:05:46.063 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:05:46.063 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:05:46.063 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 19:05:46.063 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:05:46.063 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:05:46.063 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[DocumentUrl], [t].[EN_Title], [t].[ExpectedOutcomes], [t].[IsActive], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[Methodology], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[Requirements], [t].[Status], [t].[SubmittedAt], [t].[SubmittedBy], [t].[TopicId], [t].[VN_title], [t].[VersionNumber], [t0].[Id], [t0].[Abbreviation], [t0].[CategoryId], [t0].[Content], [t0].[Context], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[EN_Title], [t0].[IsActive], [t0].[IsApproved], [t0].[IsLegacy], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[MaxStudents], [t0].[Objectives], [t0].[PotentialDuplicate], [t0].[Problem], [t0].[SemesterId], [t0].[SupervisorId], [t0].[VN_title]
FROM [reviewer_assignments] AS [r]
INNER JOIN [users] AS [u] ON [r].[ReviewerId] = [u].[Id]
INNER JOIN [submissions] AS [s] ON [r].[SubmissionId] = [s].[Id]
LEFT JOIN [topic_versions] AS [t] ON [s].[TopicVersionId] = [t].[Id]
LEFT JOIN [topics] AS [t0] ON [s].[TopicId] = [t0].[Id]
WHERE [r].[Deadline] IS NOT NULL AND CONVERT(date, [r].[Deadline]) < CONVERT(date, GETDATE()) AND [r].[Status] IN (1, 2)
2025-10-03 19:05:46.077 +07:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[DocumentUrl], [t].[EN_Title], [t].[ExpectedOutcomes], [t].[IsActive], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[Methodology], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[Requirements], [t].[Status], [t].[SubmittedAt], [t].[SubmittedBy], [t].[TopicId], [t].[VN_title], [t].[VersionNumber], [t0].[Id], [t0].[Abbreviation], [t0].[CategoryId], [t0].[Content], [t0].[Context], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[EN_Title], [t0].[IsActive], [t0].[IsApproved], [t0].[IsLegacy], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[MaxStudents], [t0].[Objectives], [t0].[PotentialDuplicate], [t0].[Problem], [t0].[SemesterId], [t0].[SupervisorId], [t0].[VN_title]
FROM [reviewer_assignments] AS [r]
INNER JOIN [users] AS [u] ON [r].[ReviewerId] = [u].[Id]
INNER JOIN [submissions] AS [s] ON [r].[SubmissionId] = [s].[Id]
LEFT JOIN [topic_versions] AS [t] ON [s].[TopicVersionId] = [t].[Id]
LEFT JOIN [topics] AS [t0] ON [s].[TopicId] = [t0].[Id]
WHERE [r].[Deadline] IS NOT NULL AND CONVERT(date, [r].[Deadline]) < CONVERT(date, GETDATE()) AND [r].[Status] IN (1, 2)
2025-10-03 19:05:46.079 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 19:05:46.079 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 1ms reading results.
2025-10-03 19:05:46.079 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:05:46.079 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 19:05:46.079 +07:00 [DBG] 'MyDbContext' generated a temporary value for the property 'SystemNotification.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 19:05:46.080 +07:00 [DBG] Context 'MyDbContext' started tracking 'SystemNotification' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 19:05:46.080 +07:00 [DBG] SaveChanges starting for 'MyDbContext'.
2025-10-03 19:05:46.080 +07:00 [DBG] DetectChanges starting for 'MyDbContext'.
2025-10-03 19:05:46.080 +07:00 [DBG] DetectChanges completed for 'MyDbContext'.
2025-10-03 19:05:46.081 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:05:46.081 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:05:46.081 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 19:05:46.081 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:05:46.081 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:05:46.081 +07:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (Size = 50), @p5='?' (Size = 255), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [system_notifications] ([CreatedAt], [Message], [ReadAt], [RelatedEntityId], [RelatedEntityType], [Title], [Type], [UserId])
OUTPUT INSERTED.[Id], INSERTED.[IsRead]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-10-03 19:05:46.087 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (Size = 50), @p5='?' (Size = 255), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [system_notifications] ([CreatedAt], [Message], [ReadAt], [RelatedEntityId], [RelatedEntityType], [Title], [Type], [UserId])
OUTPUT INSERTED.[Id], INSERTED.[IsRead]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-10-03 19:05:46.088 +07:00 [DBG] The foreign key property 'SystemNotification.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-10-03 19:05:46.088 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 19:05:46.088 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-10-03 19:05:46.088 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:05:46.088 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 19:05:46.088 +07:00 [DBG] An entity of type 'SystemNotification' tracked by 'MyDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 19:05:46.088 +07:00 [DBG] SaveChanges completed for 'MyDbContext' with 1 entities written to the database.
2025-10-03 19:05:46.089 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:05:46.089 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:05:46.089 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 19:05:46.089 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:05:46.089 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:05:46.089 +07:00 [DBG] Executing DbCommand [Parameters=[@__entity_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [system_notifications] AS [s]
WHERE [s].[UserId] = @__entity_UserId_0 AND [s].[IsRead] = CAST(0 AS bit)
2025-10-03 19:05:46.092 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__entity_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [system_notifications] AS [s]
WHERE [s].[UserId] = @__entity_UserId_0 AND [s].[IsRead] = CAST(0 AS bit)
2025-10-03 19:05:46.092 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 19:05:46.092 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-10-03 19:05:46.093 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:05:46.093 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 19:05:47.947 +07:00 [ERR] 5.4.5 Daily user sending limit exceeded. For more information on Gmail
5.4.5 sending limits go to
5.4.5  https://support.google.com/a/answer/166852 98e67ed59e1d1-339c4a0c666sm2090327a91.1 - gsmtp
2025-10-03 19:05:48.162 +07:00 [WRN] Không thể gửi email sắp đến hạn cho reviewer hieptmse140293@fpt.edu.vn, assignment 31
2025-10-03 19:05:48.163 +07:00 [INF] Đã gửi thông báo sắp đến hạn cho reviewer 27, assignment 31
2025-10-03 19:05:48.163 +07:00 [DBG] 'MyDbContext' generated a temporary value for the property 'SystemNotification.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 19:05:48.163 +07:00 [DBG] Context 'MyDbContext' started tracking 'SystemNotification' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 19:05:48.163 +07:00 [DBG] SaveChanges starting for 'MyDbContext'.
2025-10-03 19:05:48.163 +07:00 [DBG] DetectChanges starting for 'MyDbContext'.
2025-10-03 19:05:48.163 +07:00 [DBG] DetectChanges completed for 'MyDbContext'.
2025-10-03 19:05:48.164 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:05:48.164 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:05:48.164 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 19:05:48.164 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:05:48.164 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:05:48.164 +07:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (Size = 50), @p5='?' (Size = 255), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [system_notifications] ([CreatedAt], [Message], [ReadAt], [RelatedEntityId], [RelatedEntityType], [Title], [Type], [UserId])
OUTPUT INSERTED.[Id], INSERTED.[IsRead]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-10-03 19:05:48.170 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (Size = 50), @p5='?' (Size = 255), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [system_notifications] ([CreatedAt], [Message], [ReadAt], [RelatedEntityId], [RelatedEntityType], [Title], [Type], [UserId])
OUTPUT INSERTED.[Id], INSERTED.[IsRead]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-10-03 19:05:48.170 +07:00 [DBG] The foreign key property 'SystemNotification.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-10-03 19:05:48.170 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 19:05:48.170 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-10-03 19:05:48.171 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:05:48.171 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 19:05:48.171 +07:00 [DBG] An entity of type 'SystemNotification' tracked by 'MyDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 19:05:48.171 +07:00 [DBG] SaveChanges completed for 'MyDbContext' with 1 entities written to the database.
2025-10-03 19:05:48.172 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:05:48.172 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:05:48.172 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 19:05:48.172 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:05:48.173 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:05:48.173 +07:00 [DBG] Executing DbCommand [Parameters=[@__entity_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [system_notifications] AS [s]
WHERE [s].[UserId] = @__entity_UserId_0 AND [s].[IsRead] = CAST(0 AS bit)
2025-10-03 19:05:48.176 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__entity_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [system_notifications] AS [s]
WHERE [s].[UserId] = @__entity_UserId_0 AND [s].[IsRead] = CAST(0 AS bit)
2025-10-03 19:05:48.177 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 19:05:48.177 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-10-03 19:05:48.177 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:05:48.177 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 19:05:50.087 +07:00 [ERR] 5.4.5 Daily user sending limit exceeded. For more information on Gmail
5.4.5 sending limits go to
5.4.5  https://support.google.com/a/answer/166852 d9443c01a7336-28e8d1d582asm48613915ad.113 - gsmtp
2025-10-03 19:05:50.302 +07:00 [WRN] Không thể gửi email quá hạn cho reviewer supervisor@gmail.com, assignment 1
2025-10-03 19:05:50.302 +07:00 [INF] Đã gửi thông báo quá hạn cho reviewer 6, assignment 1
2025-10-03 19:05:50.302 +07:00 [DBG] 'MyDbContext' generated a temporary value for the property 'SystemNotification.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 19:05:50.303 +07:00 [DBG] Context 'MyDbContext' started tracking 'SystemNotification' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 19:05:50.303 +07:00 [DBG] SaveChanges starting for 'MyDbContext'.
2025-10-03 19:05:50.303 +07:00 [DBG] DetectChanges starting for 'MyDbContext'.
2025-10-03 19:05:50.303 +07:00 [DBG] DetectChanges completed for 'MyDbContext'.
2025-10-03 19:05:50.303 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:05:50.303 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:05:50.304 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 19:05:50.304 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:05:50.304 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:05:50.304 +07:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (Size = 50), @p5='?' (Size = 255), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [system_notifications] ([CreatedAt], [Message], [ReadAt], [RelatedEntityId], [RelatedEntityType], [Title], [Type], [UserId])
OUTPUT INSERTED.[Id], INSERTED.[IsRead]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-10-03 19:05:50.306 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (Size = 50), @p5='?' (Size = 255), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [system_notifications] ([CreatedAt], [Message], [ReadAt], [RelatedEntityId], [RelatedEntityType], [Title], [Type], [UserId])
OUTPUT INSERTED.[Id], INSERTED.[IsRead]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-10-03 19:05:50.306 +07:00 [DBG] The foreign key property 'SystemNotification.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-10-03 19:05:50.306 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 19:05:50.306 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-10-03 19:05:50.306 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:05:50.306 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 19:05:50.306 +07:00 [DBG] An entity of type 'SystemNotification' tracked by 'MyDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 19:05:50.306 +07:00 [DBG] SaveChanges completed for 'MyDbContext' with 1 entities written to the database.
2025-10-03 19:05:50.307 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:05:50.307 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:05:50.307 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 19:05:50.307 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:05:50.307 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:05:50.307 +07:00 [DBG] Executing DbCommand [Parameters=[@__entity_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [system_notifications] AS [s]
WHERE [s].[UserId] = @__entity_UserId_0 AND [s].[IsRead] = CAST(0 AS bit)
2025-10-03 19:05:50.309 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__entity_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [system_notifications] AS [s]
WHERE [s].[UserId] = @__entity_UserId_0 AND [s].[IsRead] = CAST(0 AS bit)
2025-10-03 19:05:50.309 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 19:05:50.309 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-10-03 19:05:50.309 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:05:50.309 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 19:05:52.119 +07:00 [ERR] 5.4.5 Daily user sending limit exceeded. For more information on Gmail
5.4.5 sending limits go to
5.4.5  https://support.google.com/a/answer/166852 41be03b00d2f7-b6099ad8bbasm4499584a12.7 - gsmtp
2025-10-03 19:05:52.335 +07:00 [WRN] Không thể gửi email quá hạn cho reviewer reviewer2@gmail.com, assignment 2
2025-10-03 19:05:52.335 +07:00 [INF] Đã gửi thông báo quá hạn cho reviewer 7, assignment 2
2025-10-03 19:05:52.335 +07:00 [DBG] 'MyDbContext' generated a temporary value for the property 'SystemNotification.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 19:05:52.335 +07:00 [DBG] Context 'MyDbContext' started tracking 'SystemNotification' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 19:05:52.336 +07:00 [DBG] SaveChanges starting for 'MyDbContext'.
2025-10-03 19:05:52.336 +07:00 [DBG] DetectChanges starting for 'MyDbContext'.
2025-10-03 19:05:52.336 +07:00 [DBG] DetectChanges completed for 'MyDbContext'.
2025-10-03 19:05:52.336 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:05:52.336 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:05:52.336 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 19:05:52.336 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:05:52.336 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:05:52.337 +07:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (Size = 50), @p5='?' (Size = 255), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [system_notifications] ([CreatedAt], [Message], [ReadAt], [RelatedEntityId], [RelatedEntityType], [Title], [Type], [UserId])
OUTPUT INSERTED.[Id], INSERTED.[IsRead]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-10-03 19:05:52.341 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (Size = 50), @p5='?' (Size = 255), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [system_notifications] ([CreatedAt], [Message], [ReadAt], [RelatedEntityId], [RelatedEntityType], [Title], [Type], [UserId])
OUTPUT INSERTED.[Id], INSERTED.[IsRead]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-10-03 19:05:52.341 +07:00 [DBG] The foreign key property 'SystemNotification.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-10-03 19:05:52.342 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 19:05:52.342 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-10-03 19:05:52.342 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:05:52.342 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 19:05:52.342 +07:00 [DBG] An entity of type 'SystemNotification' tracked by 'MyDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 19:05:52.342 +07:00 [DBG] SaveChanges completed for 'MyDbContext' with 1 entities written to the database.
2025-10-03 19:05:52.343 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:05:52.343 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:05:52.343 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 19:05:52.343 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:05:52.343 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:05:52.343 +07:00 [DBG] Executing DbCommand [Parameters=[@__entity_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [system_notifications] AS [s]
WHERE [s].[UserId] = @__entity_UserId_0 AND [s].[IsRead] = CAST(0 AS bit)
2025-10-03 19:05:52.344 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__entity_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [system_notifications] AS [s]
WHERE [s].[UserId] = @__entity_UserId_0 AND [s].[IsRead] = CAST(0 AS bit)
2025-10-03 19:05:52.345 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 19:05:52.345 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-10-03 19:05:52.345 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:05:52.345 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 19:05:54.246 +07:00 [ERR] 5.4.5 Daily user sending limit exceeded. For more information on Gmail
5.4.5 sending limits go to
5.4.5  https://support.google.com/a/answer/166852 d9443c01a7336-28e8d135d71sm49063125ad.58 - gsmtp
2025-10-03 19:05:54.460 +07:00 [WRN] Không thể gửi email quá hạn cho reviewer reviewer2@gmail.com, assignment 3
2025-10-03 19:05:54.461 +07:00 [INF] Đã gửi thông báo quá hạn cho reviewer 7, assignment 3
2025-10-03 19:05:54.461 +07:00 [DBG] 'MyDbContext' generated a temporary value for the property 'SystemNotification.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 19:05:54.461 +07:00 [DBG] Context 'MyDbContext' started tracking 'SystemNotification' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 19:05:54.461 +07:00 [DBG] SaveChanges starting for 'MyDbContext'.
2025-10-03 19:05:54.461 +07:00 [DBG] DetectChanges starting for 'MyDbContext'.
2025-10-03 19:05:54.461 +07:00 [DBG] DetectChanges completed for 'MyDbContext'.
2025-10-03 19:05:54.462 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:05:54.462 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:05:54.462 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 19:05:54.462 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:05:54.462 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:05:54.462 +07:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (Size = 50), @p5='?' (Size = 255), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [system_notifications] ([CreatedAt], [Message], [ReadAt], [RelatedEntityId], [RelatedEntityType], [Title], [Type], [UserId])
OUTPUT INSERTED.[Id], INSERTED.[IsRead]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-10-03 19:05:54.467 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (Size = 50), @p5='?' (Size = 255), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [system_notifications] ([CreatedAt], [Message], [ReadAt], [RelatedEntityId], [RelatedEntityType], [Title], [Type], [UserId])
OUTPUT INSERTED.[Id], INSERTED.[IsRead]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-10-03 19:05:54.467 +07:00 [DBG] The foreign key property 'SystemNotification.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-10-03 19:05:54.468 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 19:05:54.468 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-10-03 19:05:54.468 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:05:54.468 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 19:05:54.468 +07:00 [DBG] An entity of type 'SystemNotification' tracked by 'MyDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 19:05:54.468 +07:00 [DBG] SaveChanges completed for 'MyDbContext' with 1 entities written to the database.
2025-10-03 19:05:54.469 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:05:54.469 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:05:54.469 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 19:05:54.469 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:05:54.469 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:05:54.470 +07:00 [DBG] Executing DbCommand [Parameters=[@__entity_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [system_notifications] AS [s]
WHERE [s].[UserId] = @__entity_UserId_0 AND [s].[IsRead] = CAST(0 AS bit)
2025-10-03 19:05:54.471 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__entity_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [system_notifications] AS [s]
WHERE [s].[UserId] = @__entity_UserId_0 AND [s].[IsRead] = CAST(0 AS bit)
2025-10-03 19:05:54.471 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 19:05:54.471 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-10-03 19:05:54.471 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:05:54.471 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 19:05:56.449 +07:00 [INF] Application is shutting down...
2025-10-03 19:05:56.451 +07:00 [DBG] Hosting stopping
2025-10-03 19:05:56.462 +07:00 [ERR] 5.4.5 Daily user sending limit exceeded. For more information on Gmail
5.4.5 sending limits go to
5.4.5  https://support.google.com/a/answer/166852 98e67ed59e1d1-3399c125cf5sm4263189a91.5 - gsmtp
2025-10-03 19:05:56.679 +07:00 [WRN] Không thể gửi email quá hạn cho reviewer supervisor@gmail.com, assignment 4
2025-10-03 19:05:56.679 +07:00 [INF] Đã gửi thông báo quá hạn cho reviewer 6, assignment 4
2025-10-03 19:05:56.679 +07:00 [INF] Hoàn thành kiểm tra deadline: 1 sắp đến hạn, 4 quá hạn
2025-10-03 19:05:56.679 +07:00 [DBG] 'MyDbContext' disposed.
2025-10-03 19:05:56.679 +07:00 [DBG] Disposing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:05:56.679 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-10-03 19:05:56.679 +07:00 [ERR] Lỗi khi kiểm tra deadline notifications
System.Threading.Tasks.TaskCanceledException: A task was canceled.
   at CapBot.api.Services.DeadlineNotificationService.ExecuteAsync(CancellationToken stoppingToken) in C:\Users\acer\Downloads\CBAI_API\capbot.api\Services\DeadlineNotificationService.cs:line 41
2025-10-03 19:05:56.695 +07:00 [DBG] Hosting stopped
2025-10-03 19:10:28.613 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-10-03 19:10:28.721 +07:00 [INF] User profile is available. Using 'C:\Users\acer\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-10-03 19:10:29.037 +07:00 [DBG] No relationship from 'ReviewerAssignment' to 'User' has been configured by convention because there are multiple properties on one entity type - {'AssignedByUser', 'Reviewer'} that could be matched with the properties on the other entity type - {'ReviewerAssignments'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-10-03 19:10:29.060 +07:00 [DBG] No relationship from 'SubmissionWorkflowLog' to 'WorkflowState' has been configured by convention because there are multiple properties on one entity type - {'FromState', 'ToState'} that could be matched with the properties on the other entity type - {'FromStateLogs', 'ToStateLogs'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-10-03 19:10:29.081 +07:00 [DBG] No relationship from 'User' to 'ReviewerAssignment' has been configured by convention because there are multiple properties on one entity type - {'ReviewerAssignments'} that could be matched with the properties on the other entity type - {'AssignedByUser', 'Reviewer'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-10-03 19:10:29.083 +07:00 [DBG] No relationship from 'WorkflowState' to 'SubmissionWorkflowLog' has been configured by convention because there are multiple properties on one entity type - {'FromStateLogs', 'ToStateLogs'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-10-03 19:10:29.083 +07:00 [DBG] No relationship from 'WorkflowState' to 'WorkflowTransition' has been configured by convention because there are multiple properties on one entity type - {'FromTransitions', 'ToTransitions'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-10-03 19:10:29.085 +07:00 [DBG] No relationship from 'WorkflowTransition' to 'WorkflowState' has been configured by convention because there are multiple properties on one entity type - {'FromState', 'ToState'} that could be matched with the properties on the other entity type - {'FromTransitions', 'ToTransitions'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-10-03 19:10:29.342 +07:00 [DBG] No relationship from 'ReviewerAssignment' to 'User' has been configured by convention because there are multiple properties on one entity type - {'AssignedByUser', 'Reviewer'} that could be matched with the properties on the other entity type - {'ReviewerAssignments'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-10-03 19:10:29.343 +07:00 [DBG] No relationship from 'User' to 'ReviewerAssignment' has been configured by convention because there are multiple properties on one entity type - {'ReviewerAssignments'} that could be matched with the properties on the other entity type - {'AssignedByUser', 'Reviewer'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-10-03 19:10:29.365 +07:00 [DBG] No relationship from 'WorkflowTransition' to 'WorkflowState' has been configured by convention because there are multiple properties on one entity type - {'FromState', 'ToState'} that could be matched with the properties on the other entity type - {'FromTransitions', 'ToTransitions'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-10-03 19:10:29.366 +07:00 [DBG] No relationship from 'WorkflowState' to 'SubmissionWorkflowLog' has been configured by convention because there are multiple properties on one entity type - {'FromStateLogs', 'ToStateLogs'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-10-03 19:10:29.366 +07:00 [DBG] No relationship from 'WorkflowState' to 'WorkflowTransition' has been configured by convention because there are multiple properties on one entity type - {'FromTransitions', 'ToTransitions'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-10-03 19:10:29.368 +07:00 [DBG] No relationship from 'WorkflowState' to 'SubmissionWorkflowLog' has been configured by convention because there are multiple properties on one entity type - {'FromStateLogs', 'ToStateLogs'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-10-03 19:10:29.380 +07:00 [DBG] No relationship from 'SubmissionWorkflowLog' to 'WorkflowState' has been configured by convention because there are multiple properties on one entity type - {'FromState', 'ToState'} that could be matched with the properties on the other entity type - {'FromStateLogs', 'ToStateLogs'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-10-03 19:10:29.381 +07:00 [DBG] No relationship from 'WorkflowState' to 'SubmissionWorkflowLog' has been configured by convention because there are multiple properties on one entity type - {'FromStateLogs', 'ToStateLogs'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-10-03 19:10:29.453 +07:00 [DBG] The index {'LecturerId'} was not created on entity type 'LecturerSkill' as the properties are already covered by the index {'LecturerId', 'SkillTag'}.
2025-10-03 19:10:29.453 +07:00 [DBG] The index {'SemesterId'} was not created on entity type 'Phase' as the properties are already covered by the index {'SemesterId', 'PhaseTypeId'}.
2025-10-03 19:10:29.454 +07:00 [DBG] The index {'AssignmentId'} was not created on entity type 'Review' as the properties are already covered by the index {'AssignmentId', 'Status'}.
2025-10-03 19:10:29.454 +07:00 [DBG] The index {'ReviewId'} was not created on entity type 'ReviewComment' as the properties are already covered by the index {'ReviewId', 'SectionName'}.
2025-10-03 19:10:29.454 +07:00 [DBG] The index {'ReviewId'} was not created on entity type 'ReviewCriteriaScore' as the properties are already covered by the index {'ReviewId', 'CriteriaId'}.
2025-10-03 19:10:29.454 +07:00 [DBG] The index {'ReviewerId'} was not created on entity type 'ReviewerAssignment' as the properties are already covered by the index {'ReviewerId', 'Status'}.
2025-10-03 19:10:29.454 +07:00 [DBG] The index {'SubmissionId'} was not created on entity type 'ReviewerAssignment' as the properties are already covered by the index {'SubmissionId', 'ReviewerId'}.
2025-10-03 19:10:29.455 +07:00 [DBG] The index {'ReviewerId'} was not created on entity type 'ReviewerPerformance' as the properties are already covered by the index {'ReviewerId', 'SemesterId'}.
2025-10-03 19:10:29.455 +07:00 [DBG] The index {'PhaseId'} was not created on entity type 'Submission' as the properties are already covered by the index {'PhaseId', 'Status'}.
2025-10-03 19:10:29.455 +07:00 [DBG] The index {'PhaseId'} was not created on entity type 'Submission' as the properties are already covered by the index {'PhaseId', 'Status', 'SubmittedAt'}.
2025-10-03 19:10:29.455 +07:00 [DBG] The index {'TopicId'} was not created on entity type 'Submission' as the properties are already covered by the index {'TopicId', 'PhaseId', 'SubmissionRound'}.
2025-10-03 19:10:29.455 +07:00 [DBG] The index {'SubmissionId'} was not created on entity type 'SubmissionWorkflowLog' as the properties are already covered by the index {'SubmissionId', 'CreatedAt'}.
2025-10-03 19:10:29.455 +07:00 [DBG] The index {'UserId'} was not created on entity type 'SystemNotification' as the properties are already covered by the index {'UserId', 'IsRead', 'CreatedAt'}.
2025-10-03 19:10:29.456 +07:00 [DBG] The index {'SemesterId'} was not created on entity type 'Topic' as the properties are already covered by the index {'SemesterId', 'IsApproved'}.
2025-10-03 19:10:29.456 +07:00 [DBG] The index {'SupervisorId'} was not created on entity type 'Topic' as the properties are already covered by the index {'SupervisorId', 'SemesterId'}.
2025-10-03 19:10:29.456 +07:00 [DBG] The index {'TopicId'} was not created on entity type 'TopicVersion' as the properties are already covered by the index {'TopicId', 'Status'}.
2025-10-03 19:10:29.456 +07:00 [DBG] The index {'TopicId'} was not created on entity type 'TopicVersion' as the properties are already covered by the index {'TopicId', 'VersionNumber'}.
2025-10-03 19:10:29.456 +07:00 [DBG] The index {'UserId'} was not created on entity type 'UserRole' as the properties are already covered by the index {'UserId', 'RoleId'}.
2025-10-03 19:10:29.456 +07:00 [DBG] The index {'UserId'} was not created on entity type 'UserToken' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2025-10-03 19:10:29.642 +07:00 [WRN] The 'ProficiencyLevels' property 'ProficiencyLevel' on entity type 'LecturerSkill' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'ProficiencyLevels' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-10-03 19:10:29.643 +07:00 [WRN] The 'ReviewRecommendations' property 'Recommendation' on entity type 'Review' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'ReviewRecommendations' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-10-03 19:10:29.643 +07:00 [WRN] The 'ReviewStatus' property 'Status' on entity type 'Review' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'ReviewStatus' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-10-03 19:10:29.643 +07:00 [WRN] The 'CommentTypes' property 'CommentType' on entity type 'ReviewComment' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'CommentTypes' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-10-03 19:10:29.643 +07:00 [WRN] The 'PriorityLevels' property 'Priority' on entity type 'ReviewComment' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'PriorityLevels' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-10-03 19:10:29.643 +07:00 [WRN] The 'AssignmentTypes' property 'AssignmentType' on entity type 'ReviewerAssignment' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'AssignmentTypes' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-10-03 19:10:29.644 +07:00 [WRN] The 'AssignmentStatus' property 'Status' on entity type 'ReviewerAssignment' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'AssignmentStatus' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-10-03 19:10:29.644 +07:00 [WRN] The 'AiCheckStatus' property 'AiCheckStatus' on entity type 'Submission' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'AiCheckStatus' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-10-03 19:10:29.644 +07:00 [WRN] The 'SubmissionStatus' property 'Status' on entity type 'Submission' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'SubmissionStatus' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-10-03 19:10:29.644 +07:00 [WRN] The 'NotificationTypes' property 'Type' on entity type 'SystemNotification' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'NotificationTypes' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-10-03 19:10:29.644 +07:00 [WRN] The 'TopicStatus' property 'Status' on entity type 'TopicVersion' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'TopicStatus' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-10-03 19:10:29.837 +07:00 [DBG] Entity Framework Core 8.0.16 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: MigrationsAssembly=App.DAL 
2025-10-03 19:10:29.937 +07:00 [DBG] Compiling query expression: 
'DbSet<Role>()
    .FirstOrDefault(r => r.NormalizedName == __normalizedName_0)'
2025-10-03 19:10:30.109 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Role>(
    asyncEnumerable: new SingleQueryingEnumerable<Role>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Role.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Role.ConcurrencyStamp (string), 1], [Property: Role.IsAdmin (bool) Required, 2], [Property: Role.Name (string), 3], [Property: Role.NormalizedName (string), 4] }
            SELECT TOP(1) r.Id, r.ConcurrencyStamp, r.IsAdmin, r.Name, r.NormalizedName
            FROM roles AS r
            WHERE r.NormalizedName == @__normalizedName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Role>, 
        App.DAL.Context.MyDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-10-03 19:10:30.147 +07:00 [DBG] Creating DbConnection.
2025-10-03 19:10:30.177 +07:00 [DBG] Created DbConnection. (27ms).
2025-10-03 19:10:30.182 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:10:30.393 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:10:30.396 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 19:10:30.402 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-10-03 19:10:30.410 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (14ms).
2025-10-03 19:10:30.417 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-10-03 19:10:30.475 +07:00 [INF] Executed DbCommand (56ms) [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-10-03 19:10:30.516 +07:00 [DBG] Context 'MyDbContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 19:10:30.538 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 19:10:30.544 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 65ms reading results.
2025-10-03 19:10:30.546 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:10:30.550 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (3ms).
2025-10-03 19:10:30.556 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:10:30.556 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:10:30.557 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 19:10:30.557 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:10:30.557 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:10:30.557 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-10-03 19:10:30.560 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-10-03 19:10:30.560 +07:00 [DBG] Context 'MyDbContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 19:10:30.560 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 19:10:30.561 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-10-03 19:10:30.561 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:10:30.561 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 19:10:30.561 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:10:30.562 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:10:30.562 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 19:10:30.562 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:10:30.562 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:10:30.562 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-10-03 19:10:30.563 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-10-03 19:10:30.563 +07:00 [DBG] Context 'MyDbContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 19:10:30.563 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 19:10:30.564 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-10-03 19:10:30.564 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:10:30.564 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 19:10:30.564 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:10:30.565 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:10:30.565 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 19:10:30.565 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:10:30.565 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:10:30.565 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-10-03 19:10:30.566 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-10-03 19:10:30.566 +07:00 [DBG] Context 'MyDbContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 19:10:30.566 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 19:10:30.566 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-10-03 19:10:30.566 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:10:30.567 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 19:10:30.575 +07:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .SingleOrDefault(u => u.NormalizedEmail == __normalizedEmail_0)'
2025-10-03 19:10:30.583 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.ConcurrencyStamp (string), 2], [Property: User.CreatedAt (DateTime) Required, 3], [Property: User.DeletedAt (DateTime?), 4], [Property: User.Email (string), 5], [Property: User.EmailConfirmed (bool) Required, 6], [Property: User.LastModifiedAt (DateTime) Required, 7], [Property: User.LastModifiedBy (string), 8], [Property: User.LockoutEnabled (bool) Required, 9], [Property: User.LockoutEnd (DateTimeOffset?), 10], [Property: User.NormalizedEmail (string), 11], [Property: User.NormalizedUserName (string), 12], [Property: User.PasswordHash (string), 13], [Property: User.PhoneNumber (string), 14], [Property: User.PhoneNumberConfirmed (bool) Required, 15], [Property: User.SecurityStamp (string), 16], [Property: User.TwoFactorEnabled (bool) Required, 17], [Property: User.UserName (string), 18] }
            SELECT TOP(2) u.Id, u.AccessFailedCount, u.ConcurrencyStamp, u.CreatedAt, u.DeletedAt, u.Email, u.EmailConfirmed, u.LastModifiedAt, u.LastModifiedBy, u.LockoutEnabled, u.LockoutEnd, u.NormalizedEmail, u.NormalizedUserName, u.PasswordHash, u.PhoneNumber, u.PhoneNumberConfirmed, u.SecurityStamp, u.TwoFactorEnabled, u.UserName
            FROM users AS u
            WHERE u.NormalizedEmail == @__normalizedEmail_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        App.DAL.Context.MyDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-10-03 19:10:30.586 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:10:30.586 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:10:30.586 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 19:10:30.586 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:10:30.587 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:10:30.587 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-10-03 19:10:30.599 +07:00 [INF] Executed DbCommand (12ms) [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-10-03 19:10:30.630 +07:00 [DBG] Context 'MyDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 19:10:30.663 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 19:10:30.663 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 64ms reading results.
2025-10-03 19:10:30.663 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:10:30.663 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 19:10:30.666 +07:00 [INF] Admin user 'admin.capbot@gmail.com' already exists
2025-10-03 19:10:30.671 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:10:30.671 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:10:30.671 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 19:10:30.671 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:10:30.671 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:10:30.672 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-10-03 19:10:30.673 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-10-03 19:10:30.673 +07:00 [DBG] Context 'MyDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 19:10:30.673 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 19:10:30.673 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-10-03 19:10:30.674 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:10:30.674 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 19:10:30.674 +07:00 [INF] Sample moderator 'moderator@example.com' already exists
2025-10-03 19:10:30.674 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:10:30.675 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:10:30.675 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 19:10:30.675 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:10:30.675 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:10:30.675 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-10-03 19:10:30.676 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-10-03 19:10:30.677 +07:00 [DBG] Context 'MyDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 19:10:30.677 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 19:10:30.677 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-10-03 19:10:30.677 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:10:30.677 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 19:10:30.678 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:10:30.678 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:10:30.678 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 19:10:30.678 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:10:30.678 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:10:30.678 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-10-03 19:10:30.679 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-10-03 19:10:30.680 +07:00 [DBG] Context 'MyDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 19:10:30.680 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 19:10:30.680 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-10-03 19:10:30.680 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:10:30.680 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 19:10:30.680 +07:00 [INF] Data seeding completed successfully
2025-10-03 19:10:30.682 +07:00 [DBG] 'MyDbContext' disposed.
2025-10-03 19:10:30.683 +07:00 [DBG] Disposing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:10:30.685 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-10-03 19:10:30.713 +07:00 [DBG] Registered SignalR Protocol: json, implemented by Microsoft.AspNetCore.SignalR.Protocol.JsonHubProtocol.
2025-10-03 19:10:30.981 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
2025-10-03 19:10:31.134 +07:00 [DBG] Hosting starting
2025-10-03 19:10:31.143 +07:00 [DBG] Reading data from file 'C:\Users\acer\AppData\Local\ASP.NET\DataProtection-Keys\key-30a711c8-7ddc-4a0d-8c07-4439effde9db.xml'.
2025-10-03 19:10:31.146 +07:00 [DBG] Reading data from file 'C:\Users\acer\AppData\Local\ASP.NET\DataProtection-Keys\key-732ee668-a56c-4fc9-b9d2-4188dc372919.xml'.
2025-10-03 19:10:31.147 +07:00 [DBG] Reading data from file 'C:\Users\acer\AppData\Local\ASP.NET\DataProtection-Keys\key-ad0e504d-5eaf-4fbc-adde-d8f26319af02.xml'.
2025-10-03 19:10:31.156 +07:00 [DBG] Found key {30a711c8-7ddc-4a0d-8c07-4439effde9db}.
2025-10-03 19:10:31.160 +07:00 [DBG] Found key {732ee668-a56c-4fc9-b9d2-4188dc372919}.
2025-10-03 19:10:31.161 +07:00 [DBG] Found key {ad0e504d-5eaf-4fbc-adde-d8f26319af02}.
2025-10-03 19:10:31.166 +07:00 [DBG] Considering key {30a711c8-7ddc-4a0d-8c07-4439effde9db} with expiration date 2025-11-11 18:32:26Z as default key.
2025-10-03 19:10:31.171 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-10-03 19:10:31.172 +07:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-10-03 19:10:31.173 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-10-03 19:10:31.175 +07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-10-03 19:10:31.178 +07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-10-03 19:10:31.180 +07:00 [DBG] Using key {30a711c8-7ddc-4a0d-8c07-4439effde9db} as the default key.
2025-10-03 19:10:31.181 +07:00 [DBG] Key ring with default key {30a711c8-7ddc-4a0d-8c07-4439effde9db} was loaded during application startup.
2025-10-03 19:10:31.182 +07:00 [INF] Bắt đầu kiểm tra deadline notifications lúc "2025-10-03T19:10:31.1822984+07:00"
2025-10-03 19:10:31.243 +07:00 [DBG] Entity Framework Core 8.0.16 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: MigrationsAssembly=App.DAL 
2025-10-03 19:10:31.256 +07:00 [DBG] Compiling query expression: 
'DbSet<ReviewerAssignment>()
    .AsNoTracking()
    .Include(ra => ra.Reviewer)
    .Include(ra => ra.Submission)
    .Include(ra => ra.Submission.TopicVersion)
    .Include(ra => ra.Submission.Topic)
    .Where(ra => ra.Deadline.HasValue && ra.Deadline.Value.Date >= __tomorrow_0 && ra.Deadline.Value.Date <= __dayAfterTomorrow_1 && (int)ra.Status == 1 || (int)ra.Status == 2)'
2025-10-03 19:10:31.268 +07:00 [DBG] Including navigation: 'ReviewerAssignment.Reviewer'.
2025-10-03 19:10:31.269 +07:00 [DBG] Including navigation: 'ReviewerAssignment.Submission'.
2025-10-03 19:10:31.270 +07:00 [DBG] Including navigation: 'Submission.TopicVersion'.
2025-10-03 19:10:31.271 +07:00 [DBG] Including navigation: 'Submission.Topic'.
2025-10-03 19:10:31.346 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<ReviewerAssignment>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: ReviewerAssignment.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ReviewerAssignment.AssignedAt (DateTime) Required ValueGenerated.OnAdd, 1], [Property: ReviewerAssignment.AssignedBy (int) Required FK Index, 2], [Property: ReviewerAssignment.AssignmentType (AssignmentTypes) Required ValueGenerated.OnAdd, 3], [Property: ReviewerAssignment.CompletedAt (DateTime?), 4], [Property: ReviewerAssignment.Deadline (DateTime?) Index, 5], [Property: ReviewerAssignment.ReviewerId (int) Required FK Index, 6], [Property: ReviewerAssignment.SkillMatchScore (decimal?), 7], [Property: ReviewerAssignment.StartedAt (DateTime?), 8], [Property: ReviewerAssignment.Status (AssignmentStatus) Required Index ValueGenerated.OnAdd, 9], [Property: ReviewerAssignment.SubmissionId (int) Required FK Index, 10] }
            1 -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 11], [Property: User.AccessFailedCount (int) Required, 12], [Property: User.ConcurrencyStamp (string), 13], [Property: User.CreatedAt (DateTime) Required, 14], [Property: User.DeletedAt (DateTime?), 15], [Property: User.Email (string), 16], [Property: User.EmailConfirmed (bool) Required, 17], [Property: User.LastModifiedAt (DateTime) Required, 18], [Property: User.LastModifiedBy (string), 19], [Property: User.LockoutEnabled (bool) Required, 20], [Property: User.LockoutEnd (DateTimeOffset?), 21], [Property: User.NormalizedEmail (string), 22], [Property: User.NormalizedUserName (string), 23], [Property: User.PasswordHash (string), 24], [Property: User.PhoneNumber (string), 25], [Property: User.PhoneNumberConfirmed (bool) Required, 26], [Property: User.SecurityStamp (string), 27], [Property: User.TwoFactorEnabled (bool) Required, 28], [Property: User.UserName (string), 29] }
            2 -> Dictionary<IProperty, int> { [Property: Submission.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 30], [Property: Submission.AdditionalNotes (string), 31], [Property: Submission.AiCheckDetails (string), 32], [Property: Submission.AiCheckScore (decimal?), 33], [Property: Submission.AiCheckStatus (AiCheckStatus) Required ValueGenerated.OnAdd, 34], [Property: Submission.CreatedAt (DateTime) Required, 35], [Property: Submission.CreatedBy (string), 36], [Property: Submission.DeletedAt (DateTime?), 37], [Property: Submission.DocumentUrl (string) MaxLength(500), 38], [Property: Submission.IsActive (bool) Required, 39], [Property: Submission.LastModifiedAt (DateTime?), 40], [Property: Submission.LastModifiedBy (string), 41], [Property: Submission.PhaseId (int) Required FK Index, 42], [Property: Submission.Status (SubmissionStatus) Required Index ValueGenerated.OnAdd, 43], [Property: Submission.SubmissionRound (int) Required Index ValueGenerated.OnAdd, 44], [Property: Submission.SubmittedAt (DateTime?) Index ValueGenerated.OnAdd, 45], [Property: Submission.SubmittedBy (int) Required FK Index, 46], [Property: Submission.TopicId (int) Required FK Index, 47], [Property: Submission.TopicVersionId (int?) FK Index, 48] }
            3 -> Dictionary<IProperty, int> { [Property: TopicVersion.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 49], [Property: TopicVersion.Content (string), 50], [Property: TopicVersion.Context (string), 51], [Property: TopicVersion.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 52], [Property: TopicVersion.CreatedBy (string), 53], [Property: TopicVersion.DeletedAt (DateTime?), 54], [Property: TopicVersion.Description (string), 55], [Property: TopicVersion.DocumentUrl (string) MaxLength(500), 56], [Property: TopicVersion.EN_Title (string) Required MaxLength(500), 57], [Property: TopicVersion.ExpectedOutcomes (string), 58], [Property: TopicVersion.IsActive (bool) Required, 59], [Property: TopicVersion.LastModifiedAt (DateTime?), 60], [Property: TopicVersion.LastModifiedBy (string), 61], [Property: TopicVersion.Methodology (string), 62], [Property: TopicVersion.Objectives (string), 63], [Property: TopicVersion.PotentialDuplicate (string), 64], [Property: TopicVersion.Problem (string), 65], [Property: TopicVersion.Requirements (string), 66], [Property: TopicVersion.Status (TopicStatus) Required Index ValueGenerated.OnAdd, 67], [Property: TopicVersion.SubmittedAt (DateTime?), 68], [Property: TopicVersion.SubmittedBy (int?) FK Index, 69], [Property: TopicVersion.TopicId (int) Required FK Index, 70], [Property: TopicVersion.VN_title (string), 71], [Property: TopicVersion.VersionNumber (int) Required Index, 72] }
            4 -> Dictionary<IProperty, int> { [Property: Topic.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 73], [Property: Topic.Abbreviation (string), 74], [Property: Topic.CategoryId (int?) FK Index, 75], [Property: Topic.Content (string), 76], [Property: Topic.Context (string), 77], [Property: Topic.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 78], [Property: Topic.CreatedBy (string), 79], [Property: Topic.DeletedAt (DateTime?), 80], [Property: Topic.Description (string), 81], [Property: Topic.EN_Title (string) Required MaxLength(500), 82], [Property: Topic.IsActive (bool) Required, 83], [Property: Topic.IsApproved (bool) Required Index Sentinel:True ValueGenerated.OnAdd, 84], [Property: Topic.IsLegacy (bool) Required Index ValueGenerated.OnAdd, 85], [Property: Topic.LastModifiedAt (DateTime?), 86], [Property: Topic.LastModifiedBy (string), 87], [Property: Topic.MaxStudents (int) Required ValueGenerated.OnAdd, 88], [Property: Topic.Objectives (string), 89], [Property: Topic.PotentialDuplicate (string), 90], [Property: Topic.Problem (string), 91], [Property: Topic.SemesterId (int) Required FK Index, 92], [Property: Topic.SupervisorId (int) Required FK Index, 93], [Property: Topic.VN_title (string), 94] }
        SELECT r.Id, r.AssignedAt, r.AssignedBy, r.AssignmentType, r.CompletedAt, r.Deadline, r.ReviewerId, r.SkillMatchScore, r.StartedAt, r.Status, r.SubmissionId, u.Id, u.AccessFailedCount, u.ConcurrencyStamp, u.CreatedAt, u.DeletedAt, u.Email, u.EmailConfirmed, u.LastModifiedAt, u.LastModifiedBy, u.LockoutEnabled, u.LockoutEnd, u.NormalizedEmail, u.NormalizedUserName, u.PasswordHash, u.PhoneNumber, u.PhoneNumberConfirmed, u.SecurityStamp, u.TwoFactorEnabled, u.UserName, s.Id, s.AdditionalNotes, s.AiCheckDetails, s.AiCheckScore, s.AiCheckStatus, s.CreatedAt, s.CreatedBy, s.DeletedAt, s.DocumentUrl, s.IsActive, s.LastModifiedAt, s.LastModifiedBy, s.PhaseId, s.Status, s.SubmissionRound, s.SubmittedAt, s.SubmittedBy, s.TopicId, s.TopicVersionId, t.Id, t.Content, t.Context, t.CreatedAt, t.CreatedBy, t.DeletedAt, t.Description, t.DocumentUrl, t.EN_Title, t.ExpectedOutcomes, t.IsActive, t.LastModifiedAt, t.LastModifiedBy, t.Methodology, t.Objectives, t.PotentialDuplicate, t.Problem, t.Requirements, t.Status, t.SubmittedAt, t.SubmittedBy, t.TopicId, t.VN_title, t.VersionNumber, t0.Id, t0.Abbreviation, t0.CategoryId, t0.Content, t0.Context, t0.CreatedAt, t0.CreatedBy, t0.DeletedAt, t0.Description, t0.EN_Title, t0.IsActive, t0.IsApproved, t0.IsLegacy, t0.LastModifiedAt, t0.LastModifiedBy, t0.MaxStudents, t0.Objectives, t0.PotentialDuplicate, t0.Problem, t0.SemesterId, t0.SupervisorId, t0.VN_title
        FROM reviewer_assignments AS r
        INNER JOIN users AS u ON r.ReviewerId == u.Id
        INNER JOIN submissions AS s ON r.SubmissionId == s.Id
        LEFT JOIN topic_versions AS t ON s.TopicVersionId == t.Id
        LEFT JOIN topics AS t0 ON s.TopicId == t0.Id
        WHERE ((r.Deadline IS NOT NULL && (CONVERT(date, r.Deadline) >= @__tomorrow_0)) && (CONVERT(date, r.Deadline) <= @__dayAfterTomorrow_1)) && r.Status IN (1, 2)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ReviewerAssignment>, 
    App.DAL.Context.MyDbContext, 
    False, 
    False, 
    True
)'
2025-10-03 19:10:31.363 +07:00 [DBG] Creating DbConnection.
2025-10-03 19:10:31.364 +07:00 [DBG] Created DbConnection. (0ms).
2025-10-03 19:10:31.364 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:10:31.364 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:10:31.364 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 19:10:31.364 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:10:31.365 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:10:31.366 +07:00 [DBG] Executing DbCommand [Parameters=[@__tomorrow_0='?' (DbType = DateTime2), @__dayAfterTomorrow_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[DocumentUrl], [t].[EN_Title], [t].[ExpectedOutcomes], [t].[IsActive], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[Methodology], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[Requirements], [t].[Status], [t].[SubmittedAt], [t].[SubmittedBy], [t].[TopicId], [t].[VN_title], [t].[VersionNumber], [t0].[Id], [t0].[Abbreviation], [t0].[CategoryId], [t0].[Content], [t0].[Context], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[EN_Title], [t0].[IsActive], [t0].[IsApproved], [t0].[IsLegacy], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[MaxStudents], [t0].[Objectives], [t0].[PotentialDuplicate], [t0].[Problem], [t0].[SemesterId], [t0].[SupervisorId], [t0].[VN_title]
FROM [reviewer_assignments] AS [r]
INNER JOIN [users] AS [u] ON [r].[ReviewerId] = [u].[Id]
INNER JOIN [submissions] AS [s] ON [r].[SubmissionId] = [s].[Id]
LEFT JOIN [topic_versions] AS [t] ON [s].[TopicVersionId] = [t].[Id]
LEFT JOIN [topics] AS [t0] ON [s].[TopicId] = [t0].[Id]
WHERE [r].[Deadline] IS NOT NULL AND CONVERT(date, [r].[Deadline]) >= @__tomorrow_0 AND CONVERT(date, [r].[Deadline]) <= @__dayAfterTomorrow_1 AND [r].[Status] IN (1, 2)
2025-10-03 19:10:31.395 +07:00 [INF] Executed DbCommand (30ms) [Parameters=[@__tomorrow_0='?' (DbType = DateTime2), @__dayAfterTomorrow_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[DocumentUrl], [t].[EN_Title], [t].[ExpectedOutcomes], [t].[IsActive], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[Methodology], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[Requirements], [t].[Status], [t].[SubmittedAt], [t].[SubmittedBy], [t].[TopicId], [t].[VN_title], [t].[VersionNumber], [t0].[Id], [t0].[Abbreviation], [t0].[CategoryId], [t0].[Content], [t0].[Context], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[EN_Title], [t0].[IsActive], [t0].[IsApproved], [t0].[IsLegacy], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[MaxStudents], [t0].[Objectives], [t0].[PotentialDuplicate], [t0].[Problem], [t0].[SemesterId], [t0].[SupervisorId], [t0].[VN_title]
FROM [reviewer_assignments] AS [r]
INNER JOIN [users] AS [u] ON [r].[ReviewerId] = [u].[Id]
INNER JOIN [submissions] AS [s] ON [r].[SubmissionId] = [s].[Id]
LEFT JOIN [topic_versions] AS [t] ON [s].[TopicVersionId] = [t].[Id]
LEFT JOIN [topics] AS [t0] ON [s].[TopicId] = [t0].[Id]
WHERE [r].[Deadline] IS NOT NULL AND CONVERT(date, [r].[Deadline]) >= @__tomorrow_0 AND CONVERT(date, [r].[Deadline]) <= @__dayAfterTomorrow_1 AND [r].[Status] IN (1, 2)
2025-10-03 19:10:31.403 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 19:10:31.403 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 7ms reading results.
2025-10-03 19:10:31.403 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:10:31.404 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 19:10:31.405 +07:00 [DBG] Compiling query expression: 
'DbSet<ReviewerAssignment>()
    .AsNoTracking()
    .Include(ra => ra.Reviewer)
    .Include(ra => ra.Submission)
    .Include(ra => ra.Submission.TopicVersion)
    .Include(ra => ra.Submission.Topic)
    .Where(ra => ra.Deadline.HasValue && ra.Deadline.Value.Date < DateTime.Today && (int)ra.Status == 1 || (int)ra.Status == 2)'
2025-10-03 19:10:31.405 +07:00 [DBG] Including navigation: 'ReviewerAssignment.Reviewer'.
2025-10-03 19:10:31.405 +07:00 [DBG] Including navigation: 'ReviewerAssignment.Submission'.
2025-10-03 19:10:31.406 +07:00 [DBG] Including navigation: 'Submission.TopicVersion'.
2025-10-03 19:10:31.406 +07:00 [DBG] Including navigation: 'Submission.Topic'.
2025-10-03 19:10:31.424 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<ReviewerAssignment>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: ReviewerAssignment.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ReviewerAssignment.AssignedAt (DateTime) Required ValueGenerated.OnAdd, 1], [Property: ReviewerAssignment.AssignedBy (int) Required FK Index, 2], [Property: ReviewerAssignment.AssignmentType (AssignmentTypes) Required ValueGenerated.OnAdd, 3], [Property: ReviewerAssignment.CompletedAt (DateTime?), 4], [Property: ReviewerAssignment.Deadline (DateTime?) Index, 5], [Property: ReviewerAssignment.ReviewerId (int) Required FK Index, 6], [Property: ReviewerAssignment.SkillMatchScore (decimal?), 7], [Property: ReviewerAssignment.StartedAt (DateTime?), 8], [Property: ReviewerAssignment.Status (AssignmentStatus) Required Index ValueGenerated.OnAdd, 9], [Property: ReviewerAssignment.SubmissionId (int) Required FK Index, 10] }
            1 -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 11], [Property: User.AccessFailedCount (int) Required, 12], [Property: User.ConcurrencyStamp (string), 13], [Property: User.CreatedAt (DateTime) Required, 14], [Property: User.DeletedAt (DateTime?), 15], [Property: User.Email (string), 16], [Property: User.EmailConfirmed (bool) Required, 17], [Property: User.LastModifiedAt (DateTime) Required, 18], [Property: User.LastModifiedBy (string), 19], [Property: User.LockoutEnabled (bool) Required, 20], [Property: User.LockoutEnd (DateTimeOffset?), 21], [Property: User.NormalizedEmail (string), 22], [Property: User.NormalizedUserName (string), 23], [Property: User.PasswordHash (string), 24], [Property: User.PhoneNumber (string), 25], [Property: User.PhoneNumberConfirmed (bool) Required, 26], [Property: User.SecurityStamp (string), 27], [Property: User.TwoFactorEnabled (bool) Required, 28], [Property: User.UserName (string), 29] }
            2 -> Dictionary<IProperty, int> { [Property: Submission.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 30], [Property: Submission.AdditionalNotes (string), 31], [Property: Submission.AiCheckDetails (string), 32], [Property: Submission.AiCheckScore (decimal?), 33], [Property: Submission.AiCheckStatus (AiCheckStatus) Required ValueGenerated.OnAdd, 34], [Property: Submission.CreatedAt (DateTime) Required, 35], [Property: Submission.CreatedBy (string), 36], [Property: Submission.DeletedAt (DateTime?), 37], [Property: Submission.DocumentUrl (string) MaxLength(500), 38], [Property: Submission.IsActive (bool) Required, 39], [Property: Submission.LastModifiedAt (DateTime?), 40], [Property: Submission.LastModifiedBy (string), 41], [Property: Submission.PhaseId (int) Required FK Index, 42], [Property: Submission.Status (SubmissionStatus) Required Index ValueGenerated.OnAdd, 43], [Property: Submission.SubmissionRound (int) Required Index ValueGenerated.OnAdd, 44], [Property: Submission.SubmittedAt (DateTime?) Index ValueGenerated.OnAdd, 45], [Property: Submission.SubmittedBy (int) Required FK Index, 46], [Property: Submission.TopicId (int) Required FK Index, 47], [Property: Submission.TopicVersionId (int?) FK Index, 48] }
            3 -> Dictionary<IProperty, int> { [Property: TopicVersion.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 49], [Property: TopicVersion.Content (string), 50], [Property: TopicVersion.Context (string), 51], [Property: TopicVersion.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 52], [Property: TopicVersion.CreatedBy (string), 53], [Property: TopicVersion.DeletedAt (DateTime?), 54], [Property: TopicVersion.Description (string), 55], [Property: TopicVersion.DocumentUrl (string) MaxLength(500), 56], [Property: TopicVersion.EN_Title (string) Required MaxLength(500), 57], [Property: TopicVersion.ExpectedOutcomes (string), 58], [Property: TopicVersion.IsActive (bool) Required, 59], [Property: TopicVersion.LastModifiedAt (DateTime?), 60], [Property: TopicVersion.LastModifiedBy (string), 61], [Property: TopicVersion.Methodology (string), 62], [Property: TopicVersion.Objectives (string), 63], [Property: TopicVersion.PotentialDuplicate (string), 64], [Property: TopicVersion.Problem (string), 65], [Property: TopicVersion.Requirements (string), 66], [Property: TopicVersion.Status (TopicStatus) Required Index ValueGenerated.OnAdd, 67], [Property: TopicVersion.SubmittedAt (DateTime?), 68], [Property: TopicVersion.SubmittedBy (int?) FK Index, 69], [Property: TopicVersion.TopicId (int) Required FK Index, 70], [Property: TopicVersion.VN_title (string), 71], [Property: TopicVersion.VersionNumber (int) Required Index, 72] }
            4 -> Dictionary<IProperty, int> { [Property: Topic.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 73], [Property: Topic.Abbreviation (string), 74], [Property: Topic.CategoryId (int?) FK Index, 75], [Property: Topic.Content (string), 76], [Property: Topic.Context (string), 77], [Property: Topic.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 78], [Property: Topic.CreatedBy (string), 79], [Property: Topic.DeletedAt (DateTime?), 80], [Property: Topic.Description (string), 81], [Property: Topic.EN_Title (string) Required MaxLength(500), 82], [Property: Topic.IsActive (bool) Required, 83], [Property: Topic.IsApproved (bool) Required Index Sentinel:True ValueGenerated.OnAdd, 84], [Property: Topic.IsLegacy (bool) Required Index ValueGenerated.OnAdd, 85], [Property: Topic.LastModifiedAt (DateTime?), 86], [Property: Topic.LastModifiedBy (string), 87], [Property: Topic.MaxStudents (int) Required ValueGenerated.OnAdd, 88], [Property: Topic.Objectives (string), 89], [Property: Topic.PotentialDuplicate (string), 90], [Property: Topic.Problem (string), 91], [Property: Topic.SemesterId (int) Required FK Index, 92], [Property: Topic.SupervisorId (int) Required FK Index, 93], [Property: Topic.VN_title (string), 94] }
        SELECT r.Id, r.AssignedAt, r.AssignedBy, r.AssignmentType, r.CompletedAt, r.Deadline, r.ReviewerId, r.SkillMatchScore, r.StartedAt, r.Status, r.SubmissionId, u.Id, u.AccessFailedCount, u.ConcurrencyStamp, u.CreatedAt, u.DeletedAt, u.Email, u.EmailConfirmed, u.LastModifiedAt, u.LastModifiedBy, u.LockoutEnabled, u.LockoutEnd, u.NormalizedEmail, u.NormalizedUserName, u.PasswordHash, u.PhoneNumber, u.PhoneNumberConfirmed, u.SecurityStamp, u.TwoFactorEnabled, u.UserName, s.Id, s.AdditionalNotes, s.AiCheckDetails, s.AiCheckScore, s.AiCheckStatus, s.CreatedAt, s.CreatedBy, s.DeletedAt, s.DocumentUrl, s.IsActive, s.LastModifiedAt, s.LastModifiedBy, s.PhaseId, s.Status, s.SubmissionRound, s.SubmittedAt, s.SubmittedBy, s.TopicId, s.TopicVersionId, t.Id, t.Content, t.Context, t.CreatedAt, t.CreatedBy, t.DeletedAt, t.Description, t.DocumentUrl, t.EN_Title, t.ExpectedOutcomes, t.IsActive, t.LastModifiedAt, t.LastModifiedBy, t.Methodology, t.Objectives, t.PotentialDuplicate, t.Problem, t.Requirements, t.Status, t.SubmittedAt, t.SubmittedBy, t.TopicId, t.VN_title, t.VersionNumber, t0.Id, t0.Abbreviation, t0.CategoryId, t0.Content, t0.Context, t0.CreatedAt, t0.CreatedBy, t0.DeletedAt, t0.Description, t0.EN_Title, t0.IsActive, t0.IsApproved, t0.IsLegacy, t0.LastModifiedAt, t0.LastModifiedBy, t0.MaxStudents, t0.Objectives, t0.PotentialDuplicate, t0.Problem, t0.SemesterId, t0.SupervisorId, t0.VN_title
        FROM reviewer_assignments AS r
        INNER JOIN users AS u ON r.ReviewerId == u.Id
        INNER JOIN submissions AS s ON r.SubmissionId == s.Id
        LEFT JOIN topic_versions AS t ON s.TopicVersionId == t.Id
        LEFT JOIN topics AS t0 ON s.TopicId == t0.Id
        WHERE (r.Deadline IS NOT NULL && (CONVERT(date, r.Deadline) < CONVERT(date, GETDATE()))) && r.Status IN (1, 2)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ReviewerAssignment>, 
    App.DAL.Context.MyDbContext, 
    False, 
    False, 
    True
)'
2025-10-03 19:10:31.427 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:10:31.427 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:10:31.427 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 19:10:31.427 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:10:31.427 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:10:31.428 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[DocumentUrl], [t].[EN_Title], [t].[ExpectedOutcomes], [t].[IsActive], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[Methodology], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[Requirements], [t].[Status], [t].[SubmittedAt], [t].[SubmittedBy], [t].[TopicId], [t].[VN_title], [t].[VersionNumber], [t0].[Id], [t0].[Abbreviation], [t0].[CategoryId], [t0].[Content], [t0].[Context], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[EN_Title], [t0].[IsActive], [t0].[IsApproved], [t0].[IsLegacy], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[MaxStudents], [t0].[Objectives], [t0].[PotentialDuplicate], [t0].[Problem], [t0].[SemesterId], [t0].[SupervisorId], [t0].[VN_title]
FROM [reviewer_assignments] AS [r]
INNER JOIN [users] AS [u] ON [r].[ReviewerId] = [u].[Id]
INNER JOIN [submissions] AS [s] ON [r].[SubmissionId] = [s].[Id]
LEFT JOIN [topic_versions] AS [t] ON [s].[TopicVersionId] = [t].[Id]
LEFT JOIN [topics] AS [t0] ON [s].[TopicId] = [t0].[Id]
WHERE [r].[Deadline] IS NOT NULL AND CONVERT(date, [r].[Deadline]) < CONVERT(date, GETDATE()) AND [r].[Status] IN (1, 2)
2025-10-03 19:10:31.443 +07:00 [INF] Now listening on: http://localhost:5207
2025-10-03 19:10:31.443 +07:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[DocumentUrl], [t].[EN_Title], [t].[ExpectedOutcomes], [t].[IsActive], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[Methodology], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[Requirements], [t].[Status], [t].[SubmittedAt], [t].[SubmittedBy], [t].[TopicId], [t].[VN_title], [t].[VersionNumber], [t0].[Id], [t0].[Abbreviation], [t0].[CategoryId], [t0].[Content], [t0].[Context], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[EN_Title], [t0].[IsActive], [t0].[IsApproved], [t0].[IsLegacy], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[MaxStudents], [t0].[Objectives], [t0].[PotentialDuplicate], [t0].[Problem], [t0].[SemesterId], [t0].[SupervisorId], [t0].[VN_title]
FROM [reviewer_assignments] AS [r]
INNER JOIN [users] AS [u] ON [r].[ReviewerId] = [u].[Id]
INNER JOIN [submissions] AS [s] ON [r].[SubmissionId] = [s].[Id]
LEFT JOIN [topic_versions] AS [t] ON [s].[TopicVersionId] = [t].[Id]
LEFT JOIN [topics] AS [t0] ON [s].[TopicId] = [t0].[Id]
WHERE [r].[Deadline] IS NOT NULL AND CONVERT(date, [r].[Deadline]) < CONVERT(date, GETDATE()) AND [r].[Status] IN (1, 2)
2025-10-03 19:10:31.443 +07:00 [DBG] Loaded hosting startup assembly CapBot.api
2025-10-03 19:10:31.444 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-10-03 19:10:31.444 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-03 19:10:31.444 +07:00 [INF] Hosting environment: Development
2025-10-03 19:10:31.444 +07:00 [INF] Content root path: C:\Users\acer\Downloads\CBAI_API\capbot.api
2025-10-03 19:10:31.446 +07:00 [DBG] Hosting started
2025-10-03 19:10:31.447 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 19:10:31.448 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 4ms reading results.
2025-10-03 19:10:31.448 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:10:31.448 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 19:10:31.487 +07:00 [DBG] 'MyDbContext' generated a temporary value for the property 'SystemNotification.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 19:10:31.514 +07:00 [DBG] Context 'MyDbContext' started tracking 'SystemNotification' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 19:10:31.517 +07:00 [DBG] SaveChanges starting for 'MyDbContext'.
2025-10-03 19:10:31.520 +07:00 [DBG] DetectChanges starting for 'MyDbContext'.
2025-10-03 19:10:31.539 +07:00 [DBG] DetectChanges completed for 'MyDbContext'.
2025-10-03 19:10:31.595 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:10:31.595 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:10:31.597 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 19:10:31.597 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:10:31.598 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-10-03 19:10:31.599 +07:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (Size = 50), @p5='?' (Size = 255), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [system_notifications] ([CreatedAt], [Message], [ReadAt], [RelatedEntityId], [RelatedEntityType], [Title], [Type], [UserId])
OUTPUT INSERTED.[Id], INSERTED.[IsRead]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-10-03 19:10:31.626 +07:00 [INF] Executed DbCommand (28ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (Size = 50), @p5='?' (Size = 255), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [system_notifications] ([CreatedAt], [Message], [ReadAt], [RelatedEntityId], [RelatedEntityType], [Title], [Type], [UserId])
OUTPUT INSERTED.[Id], INSERTED.[IsRead]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-10-03 19:10:31.641 +07:00 [DBG] The foreign key property 'SystemNotification.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-10-03 19:10:31.647 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 19:10:31.647 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 20ms reading results.
2025-10-03 19:10:31.648 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:10:31.648 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 19:10:31.667 +07:00 [DBG] An entity of type 'SystemNotification' tracked by 'MyDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 19:10:31.671 +07:00 [DBG] SaveChanges completed for 'MyDbContext' with 1 entities written to the database.
2025-10-03 19:10:31.674 +07:00 [DBG] Compiling query expression: 
'DbSet<SystemNotification>()
    .AsNoTracking()
    .Where(x => x.UserId == __entity_UserId_0 && !(x.IsRead))
    .Count()'
2025-10-03 19:10:31.696 +07:00 [DBG] Connection id "0HNG2ENCO971L" accepted.
2025-10-03 19:10:31.697 +07:00 [DBG] Connection id "0HNG2ENCO971L" started.
2025-10-03 19:10:31.722 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<int>(
    asyncEnumerable: new SingleQueryingEnumerable<int>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM system_notifications AS s
            WHERE (s.UserId == @__entity_UserId_0) && Not(s.IsRead)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, int>, 
        App.DAL.Context.MyDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-10-03 19:10:31.747 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:10:31.748 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:10:31.748 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 19:10:31.749 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:10:31.749 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:10:31.749 +07:00 [DBG] Executing DbCommand [Parameters=[@__entity_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [system_notifications] AS [s]
WHERE [s].[UserId] = @__entity_UserId_0 AND [s].[IsRead] = CAST(0 AS bit)
2025-10-03 19:10:31.765 +07:00 [INF] Executed DbCommand (16ms) [Parameters=[@__entity_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [system_notifications] AS [s]
WHERE [s].[UserId] = @__entity_UserId_0 AND [s].[IsRead] = CAST(0 AS bit)
2025-10-03 19:10:31.772 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 19:10:31.772 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 6ms reading results.
2025-10-03 19:10:31.772 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:10:31.774 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 19:10:32.093 +07:00 [DBG] Connection id "0HNG2ENCO971M" accepted.
2025-10-03 19:10:32.114 +07:00 [DBG] Connection id "0HNG2ENCO971M" started.
2025-10-03 19:10:32.122 +07:00 [DBG] Connection id "0HNG2ENCO971M" received FIN.
2025-10-03 19:10:32.129 +07:00 [DBG] Connection id "0HNG2ENCO971M" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-10-03 19:10:32.140 +07:00 [DBG] Connection id "0HNG2ENCO971M" disconnecting.
2025-10-03 19:10:32.143 +07:00 [DBG] Connection id "0HNG2ENCO971M" stopped.
2025-10-03 19:10:32.164 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5207/index.html - null null
2025-10-03 19:10:32.178 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-10-03 19:10:32.448 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-10-03 19:10:32.481 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-10-03 19:10:32.481 +07:00 [DBG] Connection id "0HNG2ENCO971L" completed keep alive response.
2025-10-03 19:10:32.490 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5207/index.html - 200 null text/html;charset=utf-8 325.0541ms
2025-10-03 19:10:32.529 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5207/_framework/aspnetcore-browser-refresh.js - null null
2025-10-03 19:10:32.536 +07:00 [DBG] Connection id "0HNG2ENCO971L" completed keep alive response.
2025-10-03 19:10:32.538 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5207/_framework/aspnetcore-browser-refresh.js - 200 13732 application/javascript; charset=utf-8 8.337ms
2025-10-03 19:10:32.687 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5207/swagger/v1/swagger.json - null null
2025-10-03 19:10:33.855 +07:00 [DBG] Connection id "0HNG2ENCO971L" completed keep alive response.
2025-10-03 19:10:33.858 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5207/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 1171.3338ms
2025-10-03 19:10:34.279 +07:00 [ERR] 5.4.5 Daily user sending limit exceeded. For more information on Gmail
5.4.5 sending limits go to
5.4.5  https://support.google.com/a/answer/166852 d9443c01a7336-28e8d110d0bsm49000125ad.29 - gsmtp
2025-10-03 19:10:34.481 +07:00 [WRN] Không thể gửi email sắp đến hạn cho reviewer hieptmse140293@fpt.edu.vn, assignment 31
2025-10-03 19:10:34.481 +07:00 [INF] Đã gửi thông báo sắp đến hạn cho reviewer 27, assignment 31
2025-10-03 19:10:34.484 +07:00 [DBG] 'MyDbContext' generated a temporary value for the property 'SystemNotification.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 19:10:34.484 +07:00 [DBG] Context 'MyDbContext' started tracking 'SystemNotification' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 19:10:34.484 +07:00 [DBG] SaveChanges starting for 'MyDbContext'.
2025-10-03 19:10:34.485 +07:00 [DBG] DetectChanges starting for 'MyDbContext'.
2025-10-03 19:10:34.486 +07:00 [DBG] DetectChanges completed for 'MyDbContext'.
2025-10-03 19:10:34.488 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:10:34.488 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:10:34.488 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 19:10:34.489 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:10:34.489 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:10:34.489 +07:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (Size = 50), @p5='?' (Size = 255), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [system_notifications] ([CreatedAt], [Message], [ReadAt], [RelatedEntityId], [RelatedEntityType], [Title], [Type], [UserId])
OUTPUT INSERTED.[Id], INSERTED.[IsRead]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-10-03 19:10:34.497 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (Size = 50), @p5='?' (Size = 255), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [system_notifications] ([CreatedAt], [Message], [ReadAt], [RelatedEntityId], [RelatedEntityType], [Title], [Type], [UserId])
OUTPUT INSERTED.[Id], INSERTED.[IsRead]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-10-03 19:10:34.498 +07:00 [DBG] The foreign key property 'SystemNotification.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-10-03 19:10:34.498 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 19:10:34.499 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 1ms reading results.
2025-10-03 19:10:34.499 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:10:34.500 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 19:10:34.501 +07:00 [DBG] An entity of type 'SystemNotification' tracked by 'MyDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 19:10:34.501 +07:00 [DBG] SaveChanges completed for 'MyDbContext' with 1 entities written to the database.
2025-10-03 19:10:34.503 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:10:34.503 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:10:34.503 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 19:10:34.503 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:10:34.504 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:10:34.504 +07:00 [DBG] Executing DbCommand [Parameters=[@__entity_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [system_notifications] AS [s]
WHERE [s].[UserId] = @__entity_UserId_0 AND [s].[IsRead] = CAST(0 AS bit)
2025-10-03 19:10:34.507 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__entity_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [system_notifications] AS [s]
WHERE [s].[UserId] = @__entity_UserId_0 AND [s].[IsRead] = CAST(0 AS bit)
2025-10-03 19:10:34.508 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 19:10:34.508 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-10-03 19:10:34.508 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:10:34.508 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 19:10:36.278 +07:00 [ERR] 5.4.5 Daily user sending limit exceeded. For more information on Gmail
5.4.5 sending limits go to
5.4.5  https://support.google.com/a/answer/166852 d9443c01a7336-28e8d1d1ba4sm48295335ad.109 - gsmtp
2025-10-03 19:10:36.483 +07:00 [WRN] Không thể gửi email quá hạn cho reviewer supervisor@gmail.com, assignment 1
2025-10-03 19:10:36.483 +07:00 [INF] Đã gửi thông báo quá hạn cho reviewer 6, assignment 1
2025-10-03 19:10:36.484 +07:00 [DBG] 'MyDbContext' generated a temporary value for the property 'SystemNotification.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 19:10:36.484 +07:00 [DBG] Context 'MyDbContext' started tracking 'SystemNotification' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 19:10:36.485 +07:00 [DBG] SaveChanges starting for 'MyDbContext'.
2025-10-03 19:10:36.485 +07:00 [DBG] DetectChanges starting for 'MyDbContext'.
2025-10-03 19:10:36.485 +07:00 [DBG] DetectChanges completed for 'MyDbContext'.
2025-10-03 19:10:36.486 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:10:36.486 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:10:36.486 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 19:10:36.486 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:10:36.486 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:10:36.486 +07:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (Size = 50), @p5='?' (Size = 255), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [system_notifications] ([CreatedAt], [Message], [ReadAt], [RelatedEntityId], [RelatedEntityType], [Title], [Type], [UserId])
OUTPUT INSERTED.[Id], INSERTED.[IsRead]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-10-03 19:10:36.494 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (Size = 50), @p5='?' (Size = 255), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [system_notifications] ([CreatedAt], [Message], [ReadAt], [RelatedEntityId], [RelatedEntityType], [Title], [Type], [UserId])
OUTPUT INSERTED.[Id], INSERTED.[IsRead]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-10-03 19:10:36.495 +07:00 [DBG] The foreign key property 'SystemNotification.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-10-03 19:10:36.495 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 19:10:36.495 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-10-03 19:10:36.496 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:10:36.496 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 19:10:36.496 +07:00 [DBG] An entity of type 'SystemNotification' tracked by 'MyDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 19:10:36.496 +07:00 [DBG] SaveChanges completed for 'MyDbContext' with 1 entities written to the database.
2025-10-03 19:10:36.498 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:10:36.499 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:10:36.500 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 19:10:36.501 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:10:36.503 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-10-03 19:10:36.505 +07:00 [DBG] Executing DbCommand [Parameters=[@__entity_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [system_notifications] AS [s]
WHERE [s].[UserId] = @__entity_UserId_0 AND [s].[IsRead] = CAST(0 AS bit)
2025-10-03 19:10:36.511 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__entity_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [system_notifications] AS [s]
WHERE [s].[UserId] = @__entity_UserId_0 AND [s].[IsRead] = CAST(0 AS bit)
2025-10-03 19:10:36.511 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 19:10:36.512 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-10-03 19:10:36.512 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:10:36.512 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 19:10:38.216 +07:00 [ERR] 5.4.5 Daily user sending limit exceeded. For more information on Gmail
5.4.5 sending limits go to
5.4.5  https://support.google.com/a/answer/166852 98e67ed59e1d1-339c4a32507sm2082525a91.15 - gsmtp
2025-10-03 19:10:38.415 +07:00 [WRN] Không thể gửi email quá hạn cho reviewer reviewer2@gmail.com, assignment 2
2025-10-03 19:10:38.415 +07:00 [INF] Đã gửi thông báo quá hạn cho reviewer 7, assignment 2
2025-10-03 19:10:38.415 +07:00 [DBG] 'MyDbContext' generated a temporary value for the property 'SystemNotification.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 19:10:38.415 +07:00 [DBG] Context 'MyDbContext' started tracking 'SystemNotification' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 19:10:38.415 +07:00 [DBG] SaveChanges starting for 'MyDbContext'.
2025-10-03 19:10:38.415 +07:00 [DBG] DetectChanges starting for 'MyDbContext'.
2025-10-03 19:10:38.416 +07:00 [DBG] DetectChanges completed for 'MyDbContext'.
2025-10-03 19:10:38.416 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:10:38.416 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:10:38.416 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 19:10:38.416 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:10:38.416 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:10:38.417 +07:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (Size = 50), @p5='?' (Size = 255), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [system_notifications] ([CreatedAt], [Message], [ReadAt], [RelatedEntityId], [RelatedEntityType], [Title], [Type], [UserId])
OUTPUT INSERTED.[Id], INSERTED.[IsRead]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-10-03 19:10:38.421 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (Size = 50), @p5='?' (Size = 255), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [system_notifications] ([CreatedAt], [Message], [ReadAt], [RelatedEntityId], [RelatedEntityType], [Title], [Type], [UserId])
OUTPUT INSERTED.[Id], INSERTED.[IsRead]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-10-03 19:10:38.421 +07:00 [DBG] The foreign key property 'SystemNotification.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-10-03 19:10:38.422 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 19:10:38.422 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-10-03 19:10:38.422 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:10:38.422 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 19:10:38.422 +07:00 [DBG] An entity of type 'SystemNotification' tracked by 'MyDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 19:10:38.422 +07:00 [DBG] SaveChanges completed for 'MyDbContext' with 1 entities written to the database.
2025-10-03 19:10:38.423 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:10:38.423 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:10:38.423 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 19:10:38.423 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:10:38.423 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:10:38.424 +07:00 [DBG] Executing DbCommand [Parameters=[@__entity_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [system_notifications] AS [s]
WHERE [s].[UserId] = @__entity_UserId_0 AND [s].[IsRead] = CAST(0 AS bit)
2025-10-03 19:10:38.427 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__entity_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [system_notifications] AS [s]
WHERE [s].[UserId] = @__entity_UserId_0 AND [s].[IsRead] = CAST(0 AS bit)
2025-10-03 19:10:38.427 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 19:10:38.427 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-10-03 19:10:38.427 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:10:38.427 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 19:10:40.205 +07:00 [ERR] 5.4.5 Daily user sending limit exceeded. For more information on Gmail
5.4.5 sending limits go to
5.4.5  https://support.google.com/a/answer/166852 d9443c01a7336-28e8d1d5cc6sm49136015ad.111 - gsmtp
2025-10-03 19:10:40.413 +07:00 [WRN] Không thể gửi email quá hạn cho reviewer reviewer2@gmail.com, assignment 3
2025-10-03 19:10:40.413 +07:00 [INF] Đã gửi thông báo quá hạn cho reviewer 7, assignment 3
2025-10-03 19:10:40.414 +07:00 [DBG] 'MyDbContext' generated a temporary value for the property 'SystemNotification.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 19:10:40.414 +07:00 [DBG] Context 'MyDbContext' started tracking 'SystemNotification' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 19:10:40.414 +07:00 [DBG] SaveChanges starting for 'MyDbContext'.
2025-10-03 19:10:40.414 +07:00 [DBG] DetectChanges starting for 'MyDbContext'.
2025-10-03 19:10:40.415 +07:00 [DBG] DetectChanges completed for 'MyDbContext'.
2025-10-03 19:10:40.415 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:10:40.415 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:10:40.415 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 19:10:40.416 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:10:40.416 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:10:40.416 +07:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (Size = 50), @p5='?' (Size = 255), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [system_notifications] ([CreatedAt], [Message], [ReadAt], [RelatedEntityId], [RelatedEntityType], [Title], [Type], [UserId])
OUTPUT INSERTED.[Id], INSERTED.[IsRead]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-10-03 19:10:40.425 +07:00 [INF] Executed DbCommand (10ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (Size = 50), @p5='?' (Size = 255), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [system_notifications] ([CreatedAt], [Message], [ReadAt], [RelatedEntityId], [RelatedEntityType], [Title], [Type], [UserId])
OUTPUT INSERTED.[Id], INSERTED.[IsRead]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-10-03 19:10:40.426 +07:00 [DBG] The foreign key property 'SystemNotification.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-10-03 19:10:40.426 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 19:10:40.426 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-10-03 19:10:40.426 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:10:40.426 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 19:10:40.426 +07:00 [DBG] An entity of type 'SystemNotification' tracked by 'MyDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 19:10:40.427 +07:00 [DBG] SaveChanges completed for 'MyDbContext' with 1 entities written to the database.
2025-10-03 19:10:40.427 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:10:40.428 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:10:40.428 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 19:10:40.428 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:10:40.428 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:10:40.428 +07:00 [DBG] Executing DbCommand [Parameters=[@__entity_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [system_notifications] AS [s]
WHERE [s].[UserId] = @__entity_UserId_0 AND [s].[IsRead] = CAST(0 AS bit)
2025-10-03 19:10:40.433 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__entity_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [system_notifications] AS [s]
WHERE [s].[UserId] = @__entity_UserId_0 AND [s].[IsRead] = CAST(0 AS bit)
2025-10-03 19:10:40.433 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 19:10:40.433 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-10-03 19:10:40.433 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:10:40.433 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 19:10:42.315 +07:00 [ERR] 5.4.5 Daily user sending limit exceeded. For more information on Gmail
5.4.5 sending limits go to
5.4.5  https://support.google.com/a/answer/166852 d2e1a72fcca58-78b02053584sm4790740b3a.50 - gsmtp
2025-10-03 19:10:42.353 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5207/api/reviewer-assignments/workload?semesterId=1 - null null
2025-10-03 19:10:42.357 +07:00 [DBG] The request path /api/reviewer-assignments/workload does not match a supported file type
2025-10-03 19:10:42.358 +07:00 [WRN] Failed to determine the https port for redirect.
2025-10-03 19:10:42.358 +07:00 [DBG] The request path /api/reviewer-assignments/workload does not match a supported file type
2025-10-03 19:10:42.437 +07:00 [DBG] 1 candidate(s) found for the request path '/api/reviewer-assignments/workload'
2025-10-03 19:10:42.438 +07:00 [DBG] Endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetReviewersWorkload (CapBot.api)' with route pattern 'api/reviewer-assignments/workload' is valid for the request path '/api/reviewer-assignments/workload'
2025-10-03 19:10:42.438 +07:00 [DBG] Request matched endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetReviewersWorkload (CapBot.api)'
2025-10-03 19:10:42.518 +07:00 [WRN] Không thể gửi email quá hạn cho reviewer supervisor@gmail.com, assignment 4
2025-10-03 19:10:42.518 +07:00 [INF] Đã gửi thông báo quá hạn cho reviewer 6, assignment 4
2025-10-03 19:10:42.518 +07:00 [INF] Hoàn thành kiểm tra deadline: 1 sắp đến hạn, 4 quá hạn
2025-10-03 19:10:42.519 +07:00 [DBG] 'MyDbContext' disposed.
2025-10-03 19:10:42.519 +07:00 [DBG] Disposing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:10:42.519 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-10-03 19:10:42.537 +07:00 [DBG] Successfully validated the token.
2025-10-03 19:10:42.539 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-10-03 19:10:42.549 +07:00 [DBG] Authorization was successful.
2025-10-03 19:10:42.556 +07:00 [INF] Executing endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetReviewersWorkload (CapBot.api)'
2025-10-03 19:10:42.589 +07:00 [INF] Route matched with {action = "GetReviewersWorkload", controller = "ReviewerAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetReviewersWorkload(System.Nullable`1[System.Int32]) on controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api).
2025-10-03 19:10:42.591 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-10-03 19:10:42.592 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-10-03 19:10:42.592 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2025-10-03 19:10:42.592 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-10-03 19:10:42.593 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-10-03 19:10:42.598 +07:00 [DBG] Executing controller factory for controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api)
2025-10-03 19:10:42.732 +07:00 [DBG] Executed controller factory for controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api)
2025-10-03 19:10:42.738 +07:00 [DBG] Attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]' ...
2025-10-03 19:10:42.740 +07:00 [DBG] Attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]' using the name 'semesterId' in request data ...
2025-10-03 19:10:42.742 +07:00 [DBG] Done attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]'.
2025-10-03 19:10:42.742 +07:00 [DBG] Done attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]'.
2025-10-03 19:10:42.742 +07:00 [DBG] Attempting to validate the bound parameter 'semesterId' of type 'System.Nullable`1[System.Int32]' ...
2025-10-03 19:10:42.747 +07:00 [DBG] Done attempting to validate the bound parameter 'semesterId' of type 'System.Nullable`1[System.Int32]'.
2025-10-03 19:10:42.769 +07:00 [DBG] Entity Framework Core 8.0.16 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: MigrationsAssembly=App.DAL 
2025-10-03 19:10:42.771 +07:00 [DBG] Compiling query expression: 
'DbSet<UserRole>()
    .AsNoTracking()
    .Include(ur => ur.User)
    .Include(ur => ur.User.LecturerSkills)
    .Include(ur => ur.User.ReviewerPerformances)
    .Include(ur => ur.Role)
    .Where(ur => ur.Role.Name == "Reviewer")'
2025-10-03 19:10:42.773 +07:00 [DBG] Including navigation: 'UserRole.User'.
2025-10-03 19:10:42.774 +07:00 [DBG] Including navigation: 'User.LecturerSkills'.
2025-10-03 19:10:42.774 +07:00 [DBG] Including navigation: 'User.ReviewerPerformances'.
2025-10-03 19:10:42.775 +07:00 [DBG] Including navigation: 'UserRole.Role'.
2025-10-03 19:10:42.813 +07:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-10-03 19:10:42.821 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<UserRole>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: UserRole.UserId (int) Required PK FK AfterSave:Throw, 0], [Property: UserRole.RoleId (int) Required PK FK Index AfterSave:Throw, 1] }
            1 -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 2], [Property: User.AccessFailedCount (int) Required, 3], [Property: User.ConcurrencyStamp (string), 4], [Property: User.CreatedAt (DateTime) Required, 5], [Property: User.DeletedAt (DateTime?), 6], [Property: User.Email (string), 7], [Property: User.EmailConfirmed (bool) Required, 8], [Property: User.LastModifiedAt (DateTime) Required, 9], [Property: User.LastModifiedBy (string), 10], [Property: User.LockoutEnabled (bool) Required, 11], [Property: User.LockoutEnd (DateTimeOffset?), 12], [Property: User.NormalizedEmail (string), 13], [Property: User.NormalizedUserName (string), 14], [Property: User.PasswordHash (string), 15], [Property: User.PhoneNumber (string), 16], [Property: User.PhoneNumberConfirmed (bool) Required, 17], [Property: User.SecurityStamp (string), 18], [Property: User.TwoFactorEnabled (bool) Required, 19], [Property: User.UserName (string), 20] }
            2 -> 0
            3 -> 1
            4 -> 21
            5 -> 2
            6 -> Dictionary<IProperty, int> { [Property: LecturerSkill.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 22], [Property: LecturerSkill.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 23], [Property: LecturerSkill.CreatedBy (string), 24], [Property: LecturerSkill.DeletedAt (DateTime?), 25], [Property: LecturerSkill.IsActive (bool) Required, 26], [Property: LecturerSkill.LastModifiedAt (DateTime?), 27], [Property: LecturerSkill.LastModifiedBy (string), 28], [Property: LecturerSkill.LecturerId (int) Required FK Index, 29], [Property: LecturerSkill.ProficiencyLevel (ProficiencyLevels) Required ValueGenerated.OnAdd, 30], [Property: LecturerSkill.SkillTag (string) Required Index MaxLength(100), 31] }
            7 -> 22
            8 -> Dictionary<IProperty, int> { [Property: ReviewerPerformance.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 32], [Property: ReviewerPerformance.AverageScoreGiven (decimal?), 33], [Property: ReviewerPerformance.AverageTimeMinutes (int) Required ValueGenerated.OnAdd, 34], [Property: ReviewerPerformance.CompletedAssignments (int) Required ValueGenerated.OnAdd, 35], [Property: ReviewerPerformance.LastUpdated (DateTime) Required ValueGenerated.OnAdd, 36], [Property: ReviewerPerformance.OnTimeRate (decimal?), 37], [Property: ReviewerPerformance.QualityRating (decimal?), 38], [Property: ReviewerPerformance.ReviewerId (int) Required FK Index, 39], [Property: ReviewerPerformance.SemesterId (int) Required FK Index, 40], [Property: ReviewerPerformance.TotalAssignments (int) Required ValueGenerated.OnAdd, 41] }
            9 -> 32
            10 -> Dictionary<IProperty, int> { [Property: Role.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 21], [Property: Role.ConcurrencyStamp (string), 42], [Property: Role.IsAdmin (bool) Required, 43], [Property: Role.Name (string), 44], [Property: Role.NormalizedName (string), 45] }
        SELECT u.UserId, u.RoleId, u0.Id, u0.AccessFailedCount, u0.ConcurrencyStamp, u0.CreatedAt, u0.DeletedAt, u0.Email, u0.EmailConfirmed, u0.LastModifiedAt, u0.LastModifiedBy, u0.LockoutEnabled, u0.LockoutEnd, u0.NormalizedEmail, u0.NormalizedUserName, u0.PasswordHash, u0.PhoneNumber, u0.PhoneNumberConfirmed, u0.SecurityStamp, u0.TwoFactorEnabled, u0.UserName, r.Id, l.Id, l.CreatedAt, l.CreatedBy, l.DeletedAt, l.IsActive, l.LastModifiedAt, l.LastModifiedBy, l.LecturerId, l.ProficiencyLevel, l.SkillTag, r0.Id, r0.AverageScoreGiven, r0.AverageTimeMinutes, r0.CompletedAssignments, r0.LastUpdated, r0.OnTimeRate, r0.QualityRating, r0.ReviewerId, r0.SemesterId, r0.TotalAssignments, r.ConcurrencyStamp, r.IsAdmin, r.Name, r.NormalizedName
        FROM user_roles AS u
        INNER JOIN roles AS r ON u.RoleId == r.Id
        INNER JOIN users AS u0 ON u.UserId == u0.Id
        LEFT JOIN lecturer_skills AS l ON u0.Id == l.LecturerId
        LEFT JOIN reviewer_performance AS r0 ON u0.Id == r0.ReviewerId
        WHERE r.Name == N'Reviewer'
        ORDER BY u.UserId ASC, u.RoleId ASC, r.Id ASC, u0.Id ASC, l.Id ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, UserRole>, 
    App.DAL.Context.MyDbContext, 
    False, 
    False, 
    True
)'
2025-10-03 19:10:42.824 +07:00 [DBG] Creating DbConnection.
2025-10-03 19:10:42.824 +07:00 [DBG] Created DbConnection. (0ms).
2025-10-03 19:10:42.824 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:10:42.824 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:10:42.824 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 19:10:42.824 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:10:42.824 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:10:42.824 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[RoleId], [u0].[Id], [u0].[AccessFailedCount], [u0].[ConcurrencyStamp], [u0].[CreatedAt], [u0].[DeletedAt], [u0].[Email], [u0].[EmailConfirmed], [u0].[LastModifiedAt], [u0].[LastModifiedBy], [u0].[LockoutEnabled], [u0].[LockoutEnd], [u0].[NormalizedEmail], [u0].[NormalizedUserName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[PhoneNumberConfirmed], [u0].[SecurityStamp], [u0].[TwoFactorEnabled], [u0].[UserName], [r].[Id], [l].[Id], [l].[CreatedAt], [l].[CreatedBy], [l].[DeletedAt], [l].[IsActive], [l].[LastModifiedAt], [l].[LastModifiedBy], [l].[LecturerId], [l].[ProficiencyLevel], [l].[SkillTag], [r0].[Id], [r0].[AverageScoreGiven], [r0].[AverageTimeMinutes], [r0].[CompletedAssignments], [r0].[LastUpdated], [r0].[OnTimeRate], [r0].[QualityRating], [r0].[ReviewerId], [r0].[SemesterId], [r0].[TotalAssignments], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [user_roles] AS [u]
INNER JOIN [roles] AS [r] ON [u].[RoleId] = [r].[Id]
INNER JOIN [users] AS [u0] ON [u].[UserId] = [u0].[Id]
LEFT JOIN [lecturer_skills] AS [l] ON [u0].[Id] = [l].[LecturerId]
LEFT JOIN [reviewer_performance] AS [r0] ON [u0].[Id] = [r0].[ReviewerId]
WHERE [r].[Name] = N'Reviewer'
ORDER BY [u].[UserId], [u].[RoleId], [r].[Id], [u0].[Id], [l].[Id]
2025-10-03 19:10:42.844 +07:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[RoleId], [u0].[Id], [u0].[AccessFailedCount], [u0].[ConcurrencyStamp], [u0].[CreatedAt], [u0].[DeletedAt], [u0].[Email], [u0].[EmailConfirmed], [u0].[LastModifiedAt], [u0].[LastModifiedBy], [u0].[LockoutEnabled], [u0].[LockoutEnd], [u0].[NormalizedEmail], [u0].[NormalizedUserName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[PhoneNumberConfirmed], [u0].[SecurityStamp], [u0].[TwoFactorEnabled], [u0].[UserName], [r].[Id], [l].[Id], [l].[CreatedAt], [l].[CreatedBy], [l].[DeletedAt], [l].[IsActive], [l].[LastModifiedAt], [l].[LastModifiedBy], [l].[LecturerId], [l].[ProficiencyLevel], [l].[SkillTag], [r0].[Id], [r0].[AverageScoreGiven], [r0].[AverageTimeMinutes], [r0].[CompletedAssignments], [r0].[LastUpdated], [r0].[OnTimeRate], [r0].[QualityRating], [r0].[ReviewerId], [r0].[SemesterId], [r0].[TotalAssignments], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [user_roles] AS [u]
INNER JOIN [roles] AS [r] ON [u].[RoleId] = [r].[Id]
INNER JOIN [users] AS [u0] ON [u].[UserId] = [u0].[Id]
LEFT JOIN [lecturer_skills] AS [l] ON [u0].[Id] = [l].[LecturerId]
LEFT JOIN [reviewer_performance] AS [r0] ON [u0].[Id] = [r0].[ReviewerId]
WHERE [r].[Name] = N'Reviewer'
ORDER BY [u].[UserId], [u].[RoleId], [r].[Id], [u0].[Id], [l].[Id]
2025-10-03 19:10:42.851 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 19:10:42.851 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 6ms reading results.
2025-10-03 19:10:42.851 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:10:42.851 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 19:10:42.855 +07:00 [DBG] Compiling query expression: 
'DbSet<ReviewerAssignment>()
    .AsNoTracking()
    .Include(ra => ra.Submission)
    .Include(ra => ra.Submission.Topic)
    .Include(ra => ra.Submission.TopicVersion)
    .Include(ra => ra.Submission.TopicVersion.Topic)
    .Where(ra => __8__locals2_reviewerIds_0.Contains(ra.ReviewerId) && ra.Submission != null && ra.Submission.Topic != null && ra.Submission.Topic.SemesterId == __sid_1 || ra.Submission != null && ra.Submission.TopicVersion != null && ra.Submission.TopicVersion.Topic != null && ra.Submission.TopicVersion.Topic.SemesterId == __sid_1)'
2025-10-03 19:10:42.861 +07:00 [DBG] Including navigation: 'ReviewerAssignment.Submission'.
2025-10-03 19:10:42.862 +07:00 [DBG] Including navigation: 'Submission.Topic'.
2025-10-03 19:10:42.862 +07:00 [DBG] Including navigation: 'Submission.TopicVersion'.
2025-10-03 19:10:42.862 +07:00 [DBG] Including navigation: 'TopicVersion.Topic'.
2025-10-03 19:10:42.907 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<ReviewerAssignment>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: ReviewerAssignment.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ReviewerAssignment.AssignedAt (DateTime) Required ValueGenerated.OnAdd, 1], [Property: ReviewerAssignment.AssignedBy (int) Required FK Index, 2], [Property: ReviewerAssignment.AssignmentType (AssignmentTypes) Required ValueGenerated.OnAdd, 3], [Property: ReviewerAssignment.CompletedAt (DateTime?), 4], [Property: ReviewerAssignment.Deadline (DateTime?) Index, 5], [Property: ReviewerAssignment.ReviewerId (int) Required FK Index, 6], [Property: ReviewerAssignment.SkillMatchScore (decimal?), 7], [Property: ReviewerAssignment.StartedAt (DateTime?), 8], [Property: ReviewerAssignment.Status (AssignmentStatus) Required Index ValueGenerated.OnAdd, 9], [Property: ReviewerAssignment.SubmissionId (int) Required FK Index, 10] }
            1 -> Dictionary<IProperty, int> { [Property: Submission.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 11], [Property: Submission.AdditionalNotes (string), 12], [Property: Submission.AiCheckDetails (string), 13], [Property: Submission.AiCheckScore (decimal?), 14], [Property: Submission.AiCheckStatus (AiCheckStatus) Required ValueGenerated.OnAdd, 15], [Property: Submission.CreatedAt (DateTime) Required, 16], [Property: Submission.CreatedBy (string), 17], [Property: Submission.DeletedAt (DateTime?), 18], [Property: Submission.DocumentUrl (string) MaxLength(500), 19], [Property: Submission.IsActive (bool) Required, 20], [Property: Submission.LastModifiedAt (DateTime?), 21], [Property: Submission.LastModifiedBy (string), 22], [Property: Submission.PhaseId (int) Required FK Index, 23], [Property: Submission.Status (SubmissionStatus) Required Index ValueGenerated.OnAdd, 24], [Property: Submission.SubmissionRound (int) Required Index ValueGenerated.OnAdd, 25], [Property: Submission.SubmittedAt (DateTime?) Index ValueGenerated.OnAdd, 26], [Property: Submission.SubmittedBy (int) Required FK Index, 27], [Property: Submission.TopicId (int) Required FK Index, 28], [Property: Submission.TopicVersionId (int?) FK Index, 29] }
            2 -> Dictionary<IProperty, int> { [Property: Topic.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 30], [Property: Topic.Abbreviation (string), 31], [Property: Topic.CategoryId (int?) FK Index, 32], [Property: Topic.Content (string), 33], [Property: Topic.Context (string), 34], [Property: Topic.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 35], [Property: Topic.CreatedBy (string), 36], [Property: Topic.DeletedAt (DateTime?), 37], [Property: Topic.Description (string), 38], [Property: Topic.EN_Title (string) Required MaxLength(500), 39], [Property: Topic.IsActive (bool) Required, 40], [Property: Topic.IsApproved (bool) Required Index Sentinel:True ValueGenerated.OnAdd, 41], [Property: Topic.IsLegacy (bool) Required Index ValueGenerated.OnAdd, 42], [Property: Topic.LastModifiedAt (DateTime?), 43], [Property: Topic.LastModifiedBy (string), 44], [Property: Topic.MaxStudents (int) Required ValueGenerated.OnAdd, 45], [Property: Topic.Objectives (string), 46], [Property: Topic.PotentialDuplicate (string), 47], [Property: Topic.Problem (string), 48], [Property: Topic.SemesterId (int) Required FK Index, 49], [Property: Topic.SupervisorId (int) Required FK Index, 50], [Property: Topic.VN_title (string), 51] }
            3 -> Dictionary<IProperty, int> { [Property: TopicVersion.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 52], [Property: TopicVersion.Content (string), 53], [Property: TopicVersion.Context (string), 54], [Property: TopicVersion.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 55], [Property: TopicVersion.CreatedBy (string), 56], [Property: TopicVersion.DeletedAt (DateTime?), 57], [Property: TopicVersion.Description (string), 58], [Property: TopicVersion.DocumentUrl (string) MaxLength(500), 59], [Property: TopicVersion.EN_Title (string) Required MaxLength(500), 60], [Property: TopicVersion.ExpectedOutcomes (string), 61], [Property: TopicVersion.IsActive (bool) Required, 62], [Property: TopicVersion.LastModifiedAt (DateTime?), 63], [Property: TopicVersion.LastModifiedBy (string), 64], [Property: TopicVersion.Methodology (string), 65], [Property: TopicVersion.Objectives (string), 66], [Property: TopicVersion.PotentialDuplicate (string), 67], [Property: TopicVersion.Problem (string), 68], [Property: TopicVersion.Requirements (string), 69], [Property: TopicVersion.Status (TopicStatus) Required Index ValueGenerated.OnAdd, 70], [Property: TopicVersion.SubmittedAt (DateTime?), 71], [Property: TopicVersion.SubmittedBy (int?) FK Index, 72], [Property: TopicVersion.TopicId (int) Required FK Index, 73], [Property: TopicVersion.VN_title (string), 74], [Property: TopicVersion.VersionNumber (int) Required Index, 75] }
            4 -> Dictionary<IProperty, int> { [Property: Topic.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 76], [Property: Topic.Abbreviation (string), 77], [Property: Topic.CategoryId (int?) FK Index, 78], [Property: Topic.Content (string), 79], [Property: Topic.Context (string), 80], [Property: Topic.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 81], [Property: Topic.CreatedBy (string), 82], [Property: Topic.DeletedAt (DateTime?), 83], [Property: Topic.Description (string), 84], [Property: Topic.EN_Title (string) Required MaxLength(500), 85], [Property: Topic.IsActive (bool) Required, 86], [Property: Topic.IsApproved (bool) Required Index Sentinel:True ValueGenerated.OnAdd, 87], [Property: Topic.IsLegacy (bool) Required Index ValueGenerated.OnAdd, 88], [Property: Topic.LastModifiedAt (DateTime?), 89], [Property: Topic.LastModifiedBy (string), 90], [Property: Topic.MaxStudents (int) Required ValueGenerated.OnAdd, 91], [Property: Topic.Objectives (string), 92], [Property: Topic.PotentialDuplicate (string), 93], [Property: Topic.Problem (string), 94], [Property: Topic.SemesterId (int) Required FK Index, 95], [Property: Topic.SupervisorId (int) Required FK Index, 96], [Property: Topic.VN_title (string), 97] }
        SELECT r.Id, r.AssignedAt, r.AssignedBy, r.AssignmentType, r.CompletedAt, r.Deadline, r.ReviewerId, r.SkillMatchScore, r.StartedAt, r.Status, r.SubmissionId, s.Id, s.AdditionalNotes, s.AiCheckDetails, s.AiCheckScore, s.AiCheckStatus, s.CreatedAt, s.CreatedBy, s.DeletedAt, s.DocumentUrl, s.IsActive, s.LastModifiedAt, s.LastModifiedBy, s.PhaseId, s.Status, s.SubmissionRound, s.SubmittedAt, s.SubmittedBy, s.TopicId, s.TopicVersionId, t.Id, t.Abbreviation, t.CategoryId, t.Content, t.Context, t.CreatedAt, t.CreatedBy, t.DeletedAt, t.Description, t.EN_Title, t.IsActive, t.IsApproved, t.IsLegacy, t.LastModifiedAt, t.LastModifiedBy, t.MaxStudents, t.Objectives, t.PotentialDuplicate, t.Problem, t.SemesterId, t.SupervisorId, t.VN_title, t0.Id, t0.Content, t0.Context, t0.CreatedAt, t0.CreatedBy, t0.DeletedAt, t0.Description, t0.DocumentUrl, t0.EN_Title, t0.ExpectedOutcomes, t0.IsActive, t0.LastModifiedAt, t0.LastModifiedBy, t0.Methodology, t0.Objectives, t0.PotentialDuplicate, t0.Problem, t0.Requirements, t0.Status, t0.SubmittedAt, t0.SubmittedBy, t0.TopicId, t0.VN_title, t0.VersionNumber, t1.Id, t1.Abbreviation, t1.CategoryId, t1.Content, t1.Context, t1.CreatedAt, t1.CreatedBy, t1.DeletedAt, t1.Description, t1.EN_Title, t1.IsActive, t1.IsApproved, t1.IsLegacy, t1.LastModifiedAt, t1.LastModifiedBy, t1.MaxStudents, t1.Objectives, t1.PotentialDuplicate, t1.Problem, t1.SemesterId, t1.SupervisorId, t1.VN_title
        FROM reviewer_assignments AS r
        INNER JOIN submissions AS s ON r.SubmissionId == s.Id
        LEFT JOIN topics AS t ON s.TopicId == t.Id
        LEFT JOIN topic_versions AS t0 ON s.TopicVersionId == t0.Id
        LEFT JOIN topics AS t1 ON t0.TopicId == t1.Id
        WHERE r.ReviewerId IN (
            SELECT 8.value
            FROM OPENJSON(@__8__locals2_reviewerIds_0) WITH (value int '') AS 8) && (((Not(s.Id == NULL) && Not(t.Id == NULL)) && (t.SemesterId == @__sid_1)) || (((Not(s.Id == NULL) && Not(t0.Id == NULL)) && Not(t1.Id == NULL)) && (t1.SemesterId == @__sid_1)))), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ReviewerAssignment>, 
    App.DAL.Context.MyDbContext, 
    False, 
    False, 
    True
)'
2025-10-03 19:10:42.916 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:10:42.916 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:10:42.916 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 19:10:42.917 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:10:42.919 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-10-03 19:10:42.919 +07:00 [DBG] Executing DbCommand [Parameters=[@__8__locals2_reviewerIds_0='?' (Size = 4000), @__sid_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId], [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Abbreviation], [t].[CategoryId], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[EN_Title], [t].[IsActive], [t].[IsApproved], [t].[IsLegacy], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[MaxStudents], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[SemesterId], [t].[SupervisorId], [t].[VN_title], [t0].[Id], [t0].[Content], [t0].[Context], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[DocumentUrl], [t0].[EN_Title], [t0].[ExpectedOutcomes], [t0].[IsActive], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[Methodology], [t0].[Objectives], [t0].[PotentialDuplicate], [t0].[Problem], [t0].[Requirements], [t0].[Status], [t0].[SubmittedAt], [t0].[SubmittedBy], [t0].[TopicId], [t0].[VN_title], [t0].[VersionNumber], [t1].[Id], [t1].[Abbreviation], [t1].[CategoryId], [t1].[Content], [t1].[Context], [t1].[CreatedAt], [t1].[CreatedBy], [t1].[DeletedAt], [t1].[Description], [t1].[EN_Title], [t1].[IsActive], [t1].[IsApproved], [t1].[IsLegacy], [t1].[LastModifiedAt], [t1].[LastModifiedBy], [t1].[MaxStudents], [t1].[Objectives], [t1].[PotentialDuplicate], [t1].[Problem], [t1].[SemesterId], [t1].[SupervisorId], [t1].[VN_title]
FROM [reviewer_assignments] AS [r]
INNER JOIN [submissions] AS [s] ON [r].[SubmissionId] = [s].[Id]
LEFT JOIN [topics] AS [t] ON [s].[TopicId] = [t].[Id]
LEFT JOIN [topic_versions] AS [t0] ON [s].[TopicVersionId] = [t0].[Id]
LEFT JOIN [topics] AS [t1] ON [t0].[TopicId] = [t1].[Id]
WHERE [r].[ReviewerId] IN (
    SELECT [8].[value]
    FROM OPENJSON(@__8__locals2_reviewerIds_0) WITH ([value] int '$') AS [8]
) AND (([t].[Id] IS NOT NULL AND [t].[SemesterId] = @__sid_1) OR ([t0].[Id] IS NOT NULL AND [t1].[Id] IS NOT NULL AND [t1].[SemesterId] = @__sid_1))
2025-10-03 19:10:42.948 +07:00 [INF] Executed DbCommand (29ms) [Parameters=[@__8__locals2_reviewerIds_0='?' (Size = 4000), @__sid_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId], [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Abbreviation], [t].[CategoryId], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[EN_Title], [t].[IsActive], [t].[IsApproved], [t].[IsLegacy], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[MaxStudents], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[SemesterId], [t].[SupervisorId], [t].[VN_title], [t0].[Id], [t0].[Content], [t0].[Context], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[DocumentUrl], [t0].[EN_Title], [t0].[ExpectedOutcomes], [t0].[IsActive], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[Methodology], [t0].[Objectives], [t0].[PotentialDuplicate], [t0].[Problem], [t0].[Requirements], [t0].[Status], [t0].[SubmittedAt], [t0].[SubmittedBy], [t0].[TopicId], [t0].[VN_title], [t0].[VersionNumber], [t1].[Id], [t1].[Abbreviation], [t1].[CategoryId], [t1].[Content], [t1].[Context], [t1].[CreatedAt], [t1].[CreatedBy], [t1].[DeletedAt], [t1].[Description], [t1].[EN_Title], [t1].[IsActive], [t1].[IsApproved], [t1].[IsLegacy], [t1].[LastModifiedAt], [t1].[LastModifiedBy], [t1].[MaxStudents], [t1].[Objectives], [t1].[PotentialDuplicate], [t1].[Problem], [t1].[SemesterId], [t1].[SupervisorId], [t1].[VN_title]
FROM [reviewer_assignments] AS [r]
INNER JOIN [submissions] AS [s] ON [r].[SubmissionId] = [s].[Id]
LEFT JOIN [topics] AS [t] ON [s].[TopicId] = [t].[Id]
LEFT JOIN [topic_versions] AS [t0] ON [s].[TopicVersionId] = [t0].[Id]
LEFT JOIN [topics] AS [t1] ON [t0].[TopicId] = [t1].[Id]
WHERE [r].[ReviewerId] IN (
    SELECT [8].[value]
    FROM OPENJSON(@__8__locals2_reviewerIds_0) WITH ([value] int '$') AS [8]
) AND (([t].[Id] IS NOT NULL AND [t].[SemesterId] = @__sid_1) OR ([t0].[Id] IS NOT NULL AND [t1].[Id] IS NOT NULL AND [t1].[SemesterId] = @__sid_1))
2025-10-03 19:10:42.951 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 19:10:42.952 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 3ms reading results.
2025-10-03 19:10:42.952 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:10:42.952 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 19:10:42.965 +07:00 [DBG] Compiling query expression: 
'DbSet<ReviewerPerformance>()
    .AsNoTracking()
    .Where(rp => __reviewerIds_0.Contains(rp.ReviewerId) && False || rp.SemesterId == __8__locals1_semesterId_Value_1)'
2025-10-03 19:10:42.968 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<ReviewerPerformance>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ReviewerPerformance.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ReviewerPerformance.AverageScoreGiven (decimal?), 1], [Property: ReviewerPerformance.AverageTimeMinutes (int) Required ValueGenerated.OnAdd, 2], [Property: ReviewerPerformance.CompletedAssignments (int) Required ValueGenerated.OnAdd, 3], [Property: ReviewerPerformance.LastUpdated (DateTime) Required ValueGenerated.OnAdd, 4], [Property: ReviewerPerformance.OnTimeRate (decimal?), 5], [Property: ReviewerPerformance.QualityRating (decimal?), 6], [Property: ReviewerPerformance.ReviewerId (int) Required FK Index, 7], [Property: ReviewerPerformance.SemesterId (int) Required FK Index, 8], [Property: ReviewerPerformance.TotalAssignments (int) Required ValueGenerated.OnAdd, 9] }
        SELECT r.Id, r.AverageScoreGiven, r.AverageTimeMinutes, r.CompletedAssignments, r.LastUpdated, r.OnTimeRate, r.QualityRating, r.ReviewerId, r.SemesterId, r.TotalAssignments
        FROM reviewer_performance AS r
        WHERE r.ReviewerId IN (
            SELECT r0.value
            FROM OPENJSON(@__reviewerIds_0) WITH (value int '') AS r0) && (CAST(0 AS bit) || (r.SemesterId == @__8__locals1_semesterId_Value_1))), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ReviewerPerformance>, 
    App.DAL.Context.MyDbContext, 
    False, 
    False, 
    True
)'
2025-10-03 19:10:42.969 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:10:42.969 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:10:42.969 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 19:10:42.969 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:10:42.969 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:10:42.970 +07:00 [DBG] Executing DbCommand [Parameters=[@__reviewerIds_0='?' (Size = 4000), @__8__locals1_semesterId_Value_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AverageScoreGiven], [r].[AverageTimeMinutes], [r].[CompletedAssignments], [r].[LastUpdated], [r].[OnTimeRate], [r].[QualityRating], [r].[ReviewerId], [r].[SemesterId], [r].[TotalAssignments]
FROM [reviewer_performance] AS [r]
WHERE [r].[ReviewerId] IN (
    SELECT [r0].[value]
    FROM OPENJSON(@__reviewerIds_0) WITH ([value] int '$') AS [r0]
) AND [r].[SemesterId] = @__8__locals1_semesterId_Value_1
2025-10-03 19:10:42.977 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@__reviewerIds_0='?' (Size = 4000), @__8__locals1_semesterId_Value_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AverageScoreGiven], [r].[AverageTimeMinutes], [r].[CompletedAssignments], [r].[LastUpdated], [r].[OnTimeRate], [r].[QualityRating], [r].[ReviewerId], [r].[SemesterId], [r].[TotalAssignments]
FROM [reviewer_performance] AS [r]
WHERE [r].[ReviewerId] IN (
    SELECT [r0].[value]
    FROM OPENJSON(@__reviewerIds_0) WITH ([value] int '$') AS [r0]
) AND [r].[SemesterId] = @__8__locals1_semesterId_Value_1
2025-10-03 19:10:42.977 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 19:10:42.978 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 1ms reading results.
2025-10-03 19:10:42.978 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:10:42.978 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 19:10:42.991 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-10-03 19:10:42.992 +07:00 [DBG] No information found on request to perform content negotiation.
2025-10-03 19:10:42.992 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-10-03 19:10:42.992 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-10-03 19:10:42.997 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-10-03 19:10:42.998 +07:00 [INF] Executing ObjectResult, writing value of type 'FS.Commons.FSResponse'.
2025-10-03 19:10:43.053 +07:00 [INF] Executed action CapBot.api.Controllers.ReviewerAssignmentController.GetReviewersWorkload (CapBot.api) in 457.0396ms
2025-10-03 19:10:43.054 +07:00 [INF] Executed endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetReviewersWorkload (CapBot.api)'
2025-10-03 19:10:43.056 +07:00 [DBG] Connection id "0HNG2ENCO971L" completed keep alive response.
2025-10-03 19:10:43.057 +07:00 [DBG] 'MyDbContext' disposed.
2025-10-03 19:10:43.057 +07:00 [DBG] Disposing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:10:43.057 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-10-03 19:10:43.058 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5207/api/reviewer-assignments/workload?semesterId=1 - 200 null application/json; charset=utf-8 705.3942ms
2025-10-03 19:10:47.123 +07:00 [DBG] Connection id "0HNG2ENCO971L" received FIN.
2025-10-03 19:10:47.124 +07:00 [DBG] Connection id "0HNG2ENCO971L" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-10-03 19:10:47.124 +07:00 [DBG] Connection id "0HNG2ENCO971L" disconnecting.
2025-10-03 19:10:47.139 +07:00 [DBG] Connection id "0HNG2ENCO971L" stopped.
2025-10-03 19:11:46.263 +07:00 [INF] Application is shutting down...
2025-10-03 19:11:46.264 +07:00 [DBG] Hosting stopping
2025-10-03 19:11:46.271 +07:00 [ERR] Lỗi khi kiểm tra deadline notifications
System.Threading.Tasks.TaskCanceledException: A task was canceled.
   at CapBot.api.Services.DeadlineNotificationService.ExecuteAsync(CancellationToken stoppingToken) in C:\Users\acer\Downloads\CBAI_API\CapBot.api\Services\DeadlineNotificationService.cs:line 41
2025-10-03 19:11:46.284 +07:00 [DBG] Hosting stopped
2025-10-03 19:16:31.609 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-10-03 19:16:31.718 +07:00 [INF] User profile is available. Using 'C:\Users\acer\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-10-03 19:16:31.959 +07:00 [DBG] No relationship from 'ReviewerAssignment' to 'User' has been configured by convention because there are multiple properties on one entity type - {'AssignedByUser', 'Reviewer'} that could be matched with the properties on the other entity type - {'ReviewerAssignments'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-10-03 19:16:31.990 +07:00 [DBG] No relationship from 'SubmissionWorkflowLog' to 'WorkflowState' has been configured by convention because there are multiple properties on one entity type - {'FromState', 'ToState'} that could be matched with the properties on the other entity type - {'FromStateLogs', 'ToStateLogs'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-10-03 19:16:32.008 +07:00 [DBG] No relationship from 'User' to 'ReviewerAssignment' has been configured by convention because there are multiple properties on one entity type - {'ReviewerAssignments'} that could be matched with the properties on the other entity type - {'AssignedByUser', 'Reviewer'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-10-03 19:16:32.010 +07:00 [DBG] No relationship from 'WorkflowState' to 'SubmissionWorkflowLog' has been configured by convention because there are multiple properties on one entity type - {'FromStateLogs', 'ToStateLogs'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-10-03 19:16:32.010 +07:00 [DBG] No relationship from 'WorkflowState' to 'WorkflowTransition' has been configured by convention because there are multiple properties on one entity type - {'FromTransitions', 'ToTransitions'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-10-03 19:16:32.012 +07:00 [DBG] No relationship from 'WorkflowTransition' to 'WorkflowState' has been configured by convention because there are multiple properties on one entity type - {'FromState', 'ToState'} that could be matched with the properties on the other entity type - {'FromTransitions', 'ToTransitions'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-10-03 19:16:32.262 +07:00 [DBG] No relationship from 'ReviewerAssignment' to 'User' has been configured by convention because there are multiple properties on one entity type - {'AssignedByUser', 'Reviewer'} that could be matched with the properties on the other entity type - {'ReviewerAssignments'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-10-03 19:16:32.263 +07:00 [DBG] No relationship from 'User' to 'ReviewerAssignment' has been configured by convention because there are multiple properties on one entity type - {'ReviewerAssignments'} that could be matched with the properties on the other entity type - {'AssignedByUser', 'Reviewer'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-10-03 19:16:32.286 +07:00 [DBG] No relationship from 'WorkflowTransition' to 'WorkflowState' has been configured by convention because there are multiple properties on one entity type - {'FromState', 'ToState'} that could be matched with the properties on the other entity type - {'FromTransitions', 'ToTransitions'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-10-03 19:16:32.287 +07:00 [DBG] No relationship from 'WorkflowState' to 'SubmissionWorkflowLog' has been configured by convention because there are multiple properties on one entity type - {'FromStateLogs', 'ToStateLogs'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-10-03 19:16:32.287 +07:00 [DBG] No relationship from 'WorkflowState' to 'WorkflowTransition' has been configured by convention because there are multiple properties on one entity type - {'FromTransitions', 'ToTransitions'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-10-03 19:16:32.289 +07:00 [DBG] No relationship from 'WorkflowState' to 'SubmissionWorkflowLog' has been configured by convention because there are multiple properties on one entity type - {'FromStateLogs', 'ToStateLogs'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-10-03 19:16:32.299 +07:00 [DBG] No relationship from 'SubmissionWorkflowLog' to 'WorkflowState' has been configured by convention because there are multiple properties on one entity type - {'FromState', 'ToState'} that could be matched with the properties on the other entity type - {'FromStateLogs', 'ToStateLogs'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-10-03 19:16:32.300 +07:00 [DBG] No relationship from 'WorkflowState' to 'SubmissionWorkflowLog' has been configured by convention because there are multiple properties on one entity type - {'FromStateLogs', 'ToStateLogs'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-10-03 19:16:32.369 +07:00 [DBG] The index {'LecturerId'} was not created on entity type 'LecturerSkill' as the properties are already covered by the index {'LecturerId', 'SkillTag'}.
2025-10-03 19:16:32.369 +07:00 [DBG] The index {'SemesterId'} was not created on entity type 'Phase' as the properties are already covered by the index {'SemesterId', 'PhaseTypeId'}.
2025-10-03 19:16:32.370 +07:00 [DBG] The index {'AssignmentId'} was not created on entity type 'Review' as the properties are already covered by the index {'AssignmentId', 'Status'}.
2025-10-03 19:16:32.370 +07:00 [DBG] The index {'ReviewId'} was not created on entity type 'ReviewComment' as the properties are already covered by the index {'ReviewId', 'SectionName'}.
2025-10-03 19:16:32.370 +07:00 [DBG] The index {'ReviewId'} was not created on entity type 'ReviewCriteriaScore' as the properties are already covered by the index {'ReviewId', 'CriteriaId'}.
2025-10-03 19:16:32.370 +07:00 [DBG] The index {'ReviewerId'} was not created on entity type 'ReviewerAssignment' as the properties are already covered by the index {'ReviewerId', 'Status'}.
2025-10-03 19:16:32.370 +07:00 [DBG] The index {'SubmissionId'} was not created on entity type 'ReviewerAssignment' as the properties are already covered by the index {'SubmissionId', 'ReviewerId'}.
2025-10-03 19:16:32.370 +07:00 [DBG] The index {'ReviewerId'} was not created on entity type 'ReviewerPerformance' as the properties are already covered by the index {'ReviewerId', 'SemesterId'}.
2025-10-03 19:16:32.370 +07:00 [DBG] The index {'PhaseId'} was not created on entity type 'Submission' as the properties are already covered by the index {'PhaseId', 'Status'}.
2025-10-03 19:16:32.371 +07:00 [DBG] The index {'PhaseId'} was not created on entity type 'Submission' as the properties are already covered by the index {'PhaseId', 'Status', 'SubmittedAt'}.
2025-10-03 19:16:32.371 +07:00 [DBG] The index {'TopicId'} was not created on entity type 'Submission' as the properties are already covered by the index {'TopicId', 'PhaseId', 'SubmissionRound'}.
2025-10-03 19:16:32.371 +07:00 [DBG] The index {'SubmissionId'} was not created on entity type 'SubmissionWorkflowLog' as the properties are already covered by the index {'SubmissionId', 'CreatedAt'}.
2025-10-03 19:16:32.371 +07:00 [DBG] The index {'UserId'} was not created on entity type 'SystemNotification' as the properties are already covered by the index {'UserId', 'IsRead', 'CreatedAt'}.
2025-10-03 19:16:32.371 +07:00 [DBG] The index {'SemesterId'} was not created on entity type 'Topic' as the properties are already covered by the index {'SemesterId', 'IsApproved'}.
2025-10-03 19:16:32.371 +07:00 [DBG] The index {'SupervisorId'} was not created on entity type 'Topic' as the properties are already covered by the index {'SupervisorId', 'SemesterId'}.
2025-10-03 19:16:32.372 +07:00 [DBG] The index {'TopicId'} was not created on entity type 'TopicVersion' as the properties are already covered by the index {'TopicId', 'Status'}.
2025-10-03 19:16:32.372 +07:00 [DBG] The index {'TopicId'} was not created on entity type 'TopicVersion' as the properties are already covered by the index {'TopicId', 'VersionNumber'}.
2025-10-03 19:16:32.372 +07:00 [DBG] The index {'UserId'} was not created on entity type 'UserRole' as the properties are already covered by the index {'UserId', 'RoleId'}.
2025-10-03 19:16:32.372 +07:00 [DBG] The index {'UserId'} was not created on entity type 'UserToken' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2025-10-03 19:16:32.551 +07:00 [WRN] The 'ProficiencyLevels' property 'ProficiencyLevel' on entity type 'LecturerSkill' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'ProficiencyLevels' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-10-03 19:16:32.553 +07:00 [WRN] The 'ReviewRecommendations' property 'Recommendation' on entity type 'Review' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'ReviewRecommendations' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-10-03 19:16:32.553 +07:00 [WRN] The 'ReviewStatus' property 'Status' on entity type 'Review' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'ReviewStatus' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-10-03 19:16:32.554 +07:00 [WRN] The 'CommentTypes' property 'CommentType' on entity type 'ReviewComment' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'CommentTypes' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-10-03 19:16:32.554 +07:00 [WRN] The 'PriorityLevels' property 'Priority' on entity type 'ReviewComment' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'PriorityLevels' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-10-03 19:16:32.554 +07:00 [WRN] The 'AssignmentTypes' property 'AssignmentType' on entity type 'ReviewerAssignment' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'AssignmentTypes' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-10-03 19:16:32.555 +07:00 [WRN] The 'AssignmentStatus' property 'Status' on entity type 'ReviewerAssignment' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'AssignmentStatus' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-10-03 19:16:32.555 +07:00 [WRN] The 'AiCheckStatus' property 'AiCheckStatus' on entity type 'Submission' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'AiCheckStatus' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-10-03 19:16:32.555 +07:00 [WRN] The 'SubmissionStatus' property 'Status' on entity type 'Submission' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'SubmissionStatus' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-10-03 19:16:32.555 +07:00 [WRN] The 'NotificationTypes' property 'Type' on entity type 'SystemNotification' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'NotificationTypes' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-10-03 19:16:32.556 +07:00 [WRN] The 'TopicStatus' property 'Status' on entity type 'TopicVersion' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'TopicStatus' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-10-03 19:16:32.746 +07:00 [DBG] Entity Framework Core 8.0.16 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: MigrationsAssembly=App.DAL 
2025-10-03 19:16:32.815 +07:00 [DBG] Compiling query expression: 
'DbSet<Role>()
    .FirstOrDefault(r => r.NormalizedName == __normalizedName_0)'
2025-10-03 19:16:32.981 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Role>(
    asyncEnumerable: new SingleQueryingEnumerable<Role>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Role.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Role.ConcurrencyStamp (string), 1], [Property: Role.IsAdmin (bool) Required, 2], [Property: Role.Name (string), 3], [Property: Role.NormalizedName (string), 4] }
            SELECT TOP(1) r.Id, r.ConcurrencyStamp, r.IsAdmin, r.Name, r.NormalizedName
            FROM roles AS r
            WHERE r.NormalizedName == @__normalizedName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Role>, 
        App.DAL.Context.MyDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-10-03 19:16:33.021 +07:00 [DBG] Creating DbConnection.
2025-10-03 19:16:33.039 +07:00 [DBG] Created DbConnection. (15ms).
2025-10-03 19:16:33.042 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:16:33.193 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:16:33.197 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 19:16:33.203 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2025-10-03 19:16:33.209 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (14ms).
2025-10-03 19:16:33.218 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-10-03 19:16:33.280 +07:00 [INF] Executed DbCommand (63ms) [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-10-03 19:16:33.324 +07:00 [DBG] Context 'MyDbContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 19:16:33.350 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 19:16:33.356 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 70ms reading results.
2025-10-03 19:16:33.358 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:16:33.364 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (4ms).
2025-10-03 19:16:33.369 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:16:33.370 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:16:33.371 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 19:16:33.371 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:16:33.372 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:16:33.372 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-10-03 19:16:33.374 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-10-03 19:16:33.375 +07:00 [DBG] Context 'MyDbContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 19:16:33.375 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 19:16:33.375 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-10-03 19:16:33.376 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:16:33.376 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 19:16:33.376 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:16:33.376 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:16:33.376 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 19:16:33.376 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:16:33.377 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:16:33.377 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-10-03 19:16:33.378 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-10-03 19:16:33.378 +07:00 [DBG] Context 'MyDbContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 19:16:33.378 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 19:16:33.378 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-10-03 19:16:33.379 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:16:33.379 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 19:16:33.379 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:16:33.379 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:16:33.380 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 19:16:33.380 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:16:33.380 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:16:33.380 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-10-03 19:16:33.382 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-10-03 19:16:33.383 +07:00 [DBG] Context 'MyDbContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 19:16:33.383 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 19:16:33.383 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-10-03 19:16:33.383 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:16:33.383 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 19:16:33.389 +07:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .SingleOrDefault(u => u.NormalizedEmail == __normalizedEmail_0)'
2025-10-03 19:16:33.394 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.ConcurrencyStamp (string), 2], [Property: User.CreatedAt (DateTime) Required, 3], [Property: User.DeletedAt (DateTime?), 4], [Property: User.Email (string), 5], [Property: User.EmailConfirmed (bool) Required, 6], [Property: User.LastModifiedAt (DateTime) Required, 7], [Property: User.LastModifiedBy (string), 8], [Property: User.LockoutEnabled (bool) Required, 9], [Property: User.LockoutEnd (DateTimeOffset?), 10], [Property: User.NormalizedEmail (string), 11], [Property: User.NormalizedUserName (string), 12], [Property: User.PasswordHash (string), 13], [Property: User.PhoneNumber (string), 14], [Property: User.PhoneNumberConfirmed (bool) Required, 15], [Property: User.SecurityStamp (string), 16], [Property: User.TwoFactorEnabled (bool) Required, 17], [Property: User.UserName (string), 18] }
            SELECT TOP(2) u.Id, u.AccessFailedCount, u.ConcurrencyStamp, u.CreatedAt, u.DeletedAt, u.Email, u.EmailConfirmed, u.LastModifiedAt, u.LastModifiedBy, u.LockoutEnabled, u.LockoutEnd, u.NormalizedEmail, u.NormalizedUserName, u.PasswordHash, u.PhoneNumber, u.PhoneNumberConfirmed, u.SecurityStamp, u.TwoFactorEnabled, u.UserName
            FROM users AS u
            WHERE u.NormalizedEmail == @__normalizedEmail_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        App.DAL.Context.MyDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-10-03 19:16:33.396 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:16:33.396 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:16:33.396 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 19:16:33.396 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:16:33.397 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:16:33.397 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-10-03 19:16:33.404 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-10-03 19:16:33.429 +07:00 [DBG] Context 'MyDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 19:16:33.461 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 19:16:33.461 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 57ms reading results.
2025-10-03 19:16:33.461 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:16:33.461 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 19:16:33.467 +07:00 [INF] Admin user 'admin.capbot@gmail.com' already exists
2025-10-03 19:16:33.469 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:16:33.470 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:16:33.470 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 19:16:33.470 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:16:33.470 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:16:33.470 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-10-03 19:16:33.471 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-10-03 19:16:33.471 +07:00 [DBG] Context 'MyDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 19:16:33.472 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 19:16:33.472 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-10-03 19:16:33.472 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:16:33.472 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 19:16:33.472 +07:00 [INF] Sample moderator 'moderator@example.com' already exists
2025-10-03 19:16:33.473 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:16:33.473 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:16:33.473 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 19:16:33.473 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:16:33.473 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:16:33.473 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-10-03 19:16:33.475 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-10-03 19:16:33.475 +07:00 [DBG] Context 'MyDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 19:16:33.476 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 19:16:33.476 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-10-03 19:16:33.476 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:16:33.476 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 19:16:33.477 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:16:33.477 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:16:33.477 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 19:16:33.477 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:16:33.477 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:16:33.477 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-10-03 19:16:33.478 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-10-03 19:16:33.479 +07:00 [DBG] Context 'MyDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 19:16:33.479 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 19:16:33.479 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-10-03 19:16:33.479 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:16:33.480 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 19:16:33.480 +07:00 [INF] Data seeding completed successfully
2025-10-03 19:16:33.483 +07:00 [DBG] 'MyDbContext' disposed.
2025-10-03 19:16:33.485 +07:00 [DBG] Disposing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:16:33.486 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-10-03 19:16:33.501 +07:00 [DBG] Registered SignalR Protocol: json, implemented by Microsoft.AspNetCore.SignalR.Protocol.JsonHubProtocol.
2025-10-03 19:16:33.662 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
2025-10-03 19:16:33.791 +07:00 [DBG] Hosting starting
2025-10-03 19:16:33.802 +07:00 [DBG] Reading data from file 'C:\Users\acer\AppData\Local\ASP.NET\DataProtection-Keys\key-30a711c8-7ddc-4a0d-8c07-4439effde9db.xml'.
2025-10-03 19:16:33.804 +07:00 [DBG] Reading data from file 'C:\Users\acer\AppData\Local\ASP.NET\DataProtection-Keys\key-732ee668-a56c-4fc9-b9d2-4188dc372919.xml'.
2025-10-03 19:16:33.805 +07:00 [DBG] Reading data from file 'C:\Users\acer\AppData\Local\ASP.NET\DataProtection-Keys\key-ad0e504d-5eaf-4fbc-adde-d8f26319af02.xml'.
2025-10-03 19:16:33.810 +07:00 [DBG] Found key {30a711c8-7ddc-4a0d-8c07-4439effde9db}.
2025-10-03 19:16:33.814 +07:00 [DBG] Found key {732ee668-a56c-4fc9-b9d2-4188dc372919}.
2025-10-03 19:16:33.815 +07:00 [DBG] Found key {ad0e504d-5eaf-4fbc-adde-d8f26319af02}.
2025-10-03 19:16:33.820 +07:00 [DBG] Considering key {30a711c8-7ddc-4a0d-8c07-4439effde9db} with expiration date 2025-11-11 18:32:26Z as default key.
2025-10-03 19:16:33.823 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-10-03 19:16:33.823 +07:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-10-03 19:16:33.825 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-10-03 19:16:33.826 +07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-10-03 19:16:33.828 +07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-10-03 19:16:33.833 +07:00 [DBG] Using key {30a711c8-7ddc-4a0d-8c07-4439effde9db} as the default key.
2025-10-03 19:16:33.834 +07:00 [DBG] Key ring with default key {30a711c8-7ddc-4a0d-8c07-4439effde9db} was loaded during application startup.
2025-10-03 19:16:33.835 +07:00 [INF] Bắt đầu kiểm tra deadline notifications lúc "2025-10-03T19:16:33.8350906+07:00"
2025-10-03 19:16:33.892 +07:00 [DBG] Entity Framework Core 8.0.16 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: MigrationsAssembly=App.DAL 
2025-10-03 19:16:33.904 +07:00 [DBG] Compiling query expression: 
'DbSet<ReviewerAssignment>()
    .AsNoTracking()
    .Include(ra => ra.Reviewer)
    .Include(ra => ra.Submission)
    .Include(ra => ra.Submission.TopicVersion)
    .Include(ra => ra.Submission.Topic)
    .Where(ra => ra.Deadline.HasValue && ra.Deadline.Value.Date >= __tomorrow_0 && ra.Deadline.Value.Date <= __dayAfterTomorrow_1 && (int)ra.Status == 1 || (int)ra.Status == 2)'
2025-10-03 19:16:33.916 +07:00 [DBG] Including navigation: 'ReviewerAssignment.Reviewer'.
2025-10-03 19:16:33.917 +07:00 [DBG] Including navigation: 'ReviewerAssignment.Submission'.
2025-10-03 19:16:33.919 +07:00 [DBG] Including navigation: 'Submission.TopicVersion'.
2025-10-03 19:16:33.920 +07:00 [DBG] Including navigation: 'Submission.Topic'.
2025-10-03 19:16:33.994 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<ReviewerAssignment>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: ReviewerAssignment.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ReviewerAssignment.AssignedAt (DateTime) Required ValueGenerated.OnAdd, 1], [Property: ReviewerAssignment.AssignedBy (int) Required FK Index, 2], [Property: ReviewerAssignment.AssignmentType (AssignmentTypes) Required ValueGenerated.OnAdd, 3], [Property: ReviewerAssignment.CompletedAt (DateTime?), 4], [Property: ReviewerAssignment.Deadline (DateTime?) Index, 5], [Property: ReviewerAssignment.ReviewerId (int) Required FK Index, 6], [Property: ReviewerAssignment.SkillMatchScore (decimal?), 7], [Property: ReviewerAssignment.StartedAt (DateTime?), 8], [Property: ReviewerAssignment.Status (AssignmentStatus) Required Index ValueGenerated.OnAdd, 9], [Property: ReviewerAssignment.SubmissionId (int) Required FK Index, 10] }
            1 -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 11], [Property: User.AccessFailedCount (int) Required, 12], [Property: User.ConcurrencyStamp (string), 13], [Property: User.CreatedAt (DateTime) Required, 14], [Property: User.DeletedAt (DateTime?), 15], [Property: User.Email (string), 16], [Property: User.EmailConfirmed (bool) Required, 17], [Property: User.LastModifiedAt (DateTime) Required, 18], [Property: User.LastModifiedBy (string), 19], [Property: User.LockoutEnabled (bool) Required, 20], [Property: User.LockoutEnd (DateTimeOffset?), 21], [Property: User.NormalizedEmail (string), 22], [Property: User.NormalizedUserName (string), 23], [Property: User.PasswordHash (string), 24], [Property: User.PhoneNumber (string), 25], [Property: User.PhoneNumberConfirmed (bool) Required, 26], [Property: User.SecurityStamp (string), 27], [Property: User.TwoFactorEnabled (bool) Required, 28], [Property: User.UserName (string), 29] }
            2 -> Dictionary<IProperty, int> { [Property: Submission.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 30], [Property: Submission.AdditionalNotes (string), 31], [Property: Submission.AiCheckDetails (string), 32], [Property: Submission.AiCheckScore (decimal?), 33], [Property: Submission.AiCheckStatus (AiCheckStatus) Required ValueGenerated.OnAdd, 34], [Property: Submission.CreatedAt (DateTime) Required, 35], [Property: Submission.CreatedBy (string), 36], [Property: Submission.DeletedAt (DateTime?), 37], [Property: Submission.DocumentUrl (string) MaxLength(500), 38], [Property: Submission.IsActive (bool) Required, 39], [Property: Submission.LastModifiedAt (DateTime?), 40], [Property: Submission.LastModifiedBy (string), 41], [Property: Submission.PhaseId (int) Required FK Index, 42], [Property: Submission.Status (SubmissionStatus) Required Index ValueGenerated.OnAdd, 43], [Property: Submission.SubmissionRound (int) Required Index ValueGenerated.OnAdd, 44], [Property: Submission.SubmittedAt (DateTime?) Index ValueGenerated.OnAdd, 45], [Property: Submission.SubmittedBy (int) Required FK Index, 46], [Property: Submission.TopicId (int) Required FK Index, 47], [Property: Submission.TopicVersionId (int?) FK Index, 48] }
            3 -> Dictionary<IProperty, int> { [Property: TopicVersion.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 49], [Property: TopicVersion.Content (string), 50], [Property: TopicVersion.Context (string), 51], [Property: TopicVersion.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 52], [Property: TopicVersion.CreatedBy (string), 53], [Property: TopicVersion.DeletedAt (DateTime?), 54], [Property: TopicVersion.Description (string), 55], [Property: TopicVersion.DocumentUrl (string) MaxLength(500), 56], [Property: TopicVersion.EN_Title (string) Required MaxLength(500), 57], [Property: TopicVersion.ExpectedOutcomes (string), 58], [Property: TopicVersion.IsActive (bool) Required, 59], [Property: TopicVersion.LastModifiedAt (DateTime?), 60], [Property: TopicVersion.LastModifiedBy (string), 61], [Property: TopicVersion.Methodology (string), 62], [Property: TopicVersion.Objectives (string), 63], [Property: TopicVersion.PotentialDuplicate (string), 64], [Property: TopicVersion.Problem (string), 65], [Property: TopicVersion.Requirements (string), 66], [Property: TopicVersion.Status (TopicStatus) Required Index ValueGenerated.OnAdd, 67], [Property: TopicVersion.SubmittedAt (DateTime?), 68], [Property: TopicVersion.SubmittedBy (int?) FK Index, 69], [Property: TopicVersion.TopicId (int) Required FK Index, 70], [Property: TopicVersion.VN_title (string), 71], [Property: TopicVersion.VersionNumber (int) Required Index, 72] }
            4 -> Dictionary<IProperty, int> { [Property: Topic.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 73], [Property: Topic.Abbreviation (string), 74], [Property: Topic.CategoryId (int?) FK Index, 75], [Property: Topic.Content (string), 76], [Property: Topic.Context (string), 77], [Property: Topic.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 78], [Property: Topic.CreatedBy (string), 79], [Property: Topic.DeletedAt (DateTime?), 80], [Property: Topic.Description (string), 81], [Property: Topic.EN_Title (string) Required MaxLength(500), 82], [Property: Topic.IsActive (bool) Required, 83], [Property: Topic.IsApproved (bool) Required Index Sentinel:True ValueGenerated.OnAdd, 84], [Property: Topic.IsLegacy (bool) Required Index ValueGenerated.OnAdd, 85], [Property: Topic.LastModifiedAt (DateTime?), 86], [Property: Topic.LastModifiedBy (string), 87], [Property: Topic.MaxStudents (int) Required ValueGenerated.OnAdd, 88], [Property: Topic.Objectives (string), 89], [Property: Topic.PotentialDuplicate (string), 90], [Property: Topic.Problem (string), 91], [Property: Topic.SemesterId (int) Required FK Index, 92], [Property: Topic.SupervisorId (int) Required FK Index, 93], [Property: Topic.VN_title (string), 94] }
        SELECT r.Id, r.AssignedAt, r.AssignedBy, r.AssignmentType, r.CompletedAt, r.Deadline, r.ReviewerId, r.SkillMatchScore, r.StartedAt, r.Status, r.SubmissionId, u.Id, u.AccessFailedCount, u.ConcurrencyStamp, u.CreatedAt, u.DeletedAt, u.Email, u.EmailConfirmed, u.LastModifiedAt, u.LastModifiedBy, u.LockoutEnabled, u.LockoutEnd, u.NormalizedEmail, u.NormalizedUserName, u.PasswordHash, u.PhoneNumber, u.PhoneNumberConfirmed, u.SecurityStamp, u.TwoFactorEnabled, u.UserName, s.Id, s.AdditionalNotes, s.AiCheckDetails, s.AiCheckScore, s.AiCheckStatus, s.CreatedAt, s.CreatedBy, s.DeletedAt, s.DocumentUrl, s.IsActive, s.LastModifiedAt, s.LastModifiedBy, s.PhaseId, s.Status, s.SubmissionRound, s.SubmittedAt, s.SubmittedBy, s.TopicId, s.TopicVersionId, t.Id, t.Content, t.Context, t.CreatedAt, t.CreatedBy, t.DeletedAt, t.Description, t.DocumentUrl, t.EN_Title, t.ExpectedOutcomes, t.IsActive, t.LastModifiedAt, t.LastModifiedBy, t.Methodology, t.Objectives, t.PotentialDuplicate, t.Problem, t.Requirements, t.Status, t.SubmittedAt, t.SubmittedBy, t.TopicId, t.VN_title, t.VersionNumber, t0.Id, t0.Abbreviation, t0.CategoryId, t0.Content, t0.Context, t0.CreatedAt, t0.CreatedBy, t0.DeletedAt, t0.Description, t0.EN_Title, t0.IsActive, t0.IsApproved, t0.IsLegacy, t0.LastModifiedAt, t0.LastModifiedBy, t0.MaxStudents, t0.Objectives, t0.PotentialDuplicate, t0.Problem, t0.SemesterId, t0.SupervisorId, t0.VN_title
        FROM reviewer_assignments AS r
        INNER JOIN users AS u ON r.ReviewerId == u.Id
        INNER JOIN submissions AS s ON r.SubmissionId == s.Id
        LEFT JOIN topic_versions AS t ON s.TopicVersionId == t.Id
        LEFT JOIN topics AS t0 ON s.TopicId == t0.Id
        WHERE ((r.Deadline IS NOT NULL && (CONVERT(date, r.Deadline) >= @__tomorrow_0)) && (CONVERT(date, r.Deadline) <= @__dayAfterTomorrow_1)) && r.Status IN (1, 2)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ReviewerAssignment>, 
    App.DAL.Context.MyDbContext, 
    False, 
    False, 
    True
)'
2025-10-03 19:16:34.009 +07:00 [DBG] Creating DbConnection.
2025-10-03 19:16:34.010 +07:00 [DBG] Created DbConnection. (0ms).
2025-10-03 19:16:34.010 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:16:34.010 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:16:34.010 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 19:16:34.010 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:16:34.011 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-10-03 19:16:34.012 +07:00 [DBG] Executing DbCommand [Parameters=[@__tomorrow_0='?' (DbType = DateTime2), @__dayAfterTomorrow_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[DocumentUrl], [t].[EN_Title], [t].[ExpectedOutcomes], [t].[IsActive], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[Methodology], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[Requirements], [t].[Status], [t].[SubmittedAt], [t].[SubmittedBy], [t].[TopicId], [t].[VN_title], [t].[VersionNumber], [t0].[Id], [t0].[Abbreviation], [t0].[CategoryId], [t0].[Content], [t0].[Context], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[EN_Title], [t0].[IsActive], [t0].[IsApproved], [t0].[IsLegacy], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[MaxStudents], [t0].[Objectives], [t0].[PotentialDuplicate], [t0].[Problem], [t0].[SemesterId], [t0].[SupervisorId], [t0].[VN_title]
FROM [reviewer_assignments] AS [r]
INNER JOIN [users] AS [u] ON [r].[ReviewerId] = [u].[Id]
INNER JOIN [submissions] AS [s] ON [r].[SubmissionId] = [s].[Id]
LEFT JOIN [topic_versions] AS [t] ON [s].[TopicVersionId] = [t].[Id]
LEFT JOIN [topics] AS [t0] ON [s].[TopicId] = [t0].[Id]
WHERE [r].[Deadline] IS NOT NULL AND CONVERT(date, [r].[Deadline]) >= @__tomorrow_0 AND CONVERT(date, [r].[Deadline]) <= @__dayAfterTomorrow_1 AND [r].[Status] IN (1, 2)
2025-10-03 19:16:34.044 +07:00 [INF] Executed DbCommand (32ms) [Parameters=[@__tomorrow_0='?' (DbType = DateTime2), @__dayAfterTomorrow_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[DocumentUrl], [t].[EN_Title], [t].[ExpectedOutcomes], [t].[IsActive], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[Methodology], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[Requirements], [t].[Status], [t].[SubmittedAt], [t].[SubmittedBy], [t].[TopicId], [t].[VN_title], [t].[VersionNumber], [t0].[Id], [t0].[Abbreviation], [t0].[CategoryId], [t0].[Content], [t0].[Context], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[EN_Title], [t0].[IsActive], [t0].[IsApproved], [t0].[IsLegacy], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[MaxStudents], [t0].[Objectives], [t0].[PotentialDuplicate], [t0].[Problem], [t0].[SemesterId], [t0].[SupervisorId], [t0].[VN_title]
FROM [reviewer_assignments] AS [r]
INNER JOIN [users] AS [u] ON [r].[ReviewerId] = [u].[Id]
INNER JOIN [submissions] AS [s] ON [r].[SubmissionId] = [s].[Id]
LEFT JOIN [topic_versions] AS [t] ON [s].[TopicVersionId] = [t].[Id]
LEFT JOIN [topics] AS [t0] ON [s].[TopicId] = [t0].[Id]
WHERE [r].[Deadline] IS NOT NULL AND CONVERT(date, [r].[Deadline]) >= @__tomorrow_0 AND CONVERT(date, [r].[Deadline]) <= @__dayAfterTomorrow_1 AND [r].[Status] IN (1, 2)
2025-10-03 19:16:34.051 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 19:16:34.052 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 7ms reading results.
2025-10-03 19:16:34.052 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:16:34.052 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 19:16:34.053 +07:00 [DBG] Compiling query expression: 
'DbSet<ReviewerAssignment>()
    .AsNoTracking()
    .Include(ra => ra.Reviewer)
    .Include(ra => ra.Submission)
    .Include(ra => ra.Submission.TopicVersion)
    .Include(ra => ra.Submission.Topic)
    .Where(ra => ra.Deadline.HasValue && ra.Deadline.Value.Date < DateTime.Today && (int)ra.Status == 1 || (int)ra.Status == 2)'
2025-10-03 19:16:34.054 +07:00 [DBG] Including navigation: 'ReviewerAssignment.Reviewer'.
2025-10-03 19:16:34.054 +07:00 [DBG] Including navigation: 'ReviewerAssignment.Submission'.
2025-10-03 19:16:34.055 +07:00 [DBG] Including navigation: 'Submission.TopicVersion'.
2025-10-03 19:16:34.055 +07:00 [DBG] Including navigation: 'Submission.Topic'.
2025-10-03 19:16:34.072 +07:00 [INF] Now listening on: http://localhost:5207
2025-10-03 19:16:34.073 +07:00 [DBG] Loaded hosting startup assembly CapBot.api
2025-10-03 19:16:34.073 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-10-03 19:16:34.073 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-03 19:16:34.073 +07:00 [INF] Hosting environment: Development
2025-10-03 19:16:34.073 +07:00 [INF] Content root path: C:\Users\acer\Downloads\CBAI_API\capbot.api
2025-10-03 19:16:34.074 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<ReviewerAssignment>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: ReviewerAssignment.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ReviewerAssignment.AssignedAt (DateTime) Required ValueGenerated.OnAdd, 1], [Property: ReviewerAssignment.AssignedBy (int) Required FK Index, 2], [Property: ReviewerAssignment.AssignmentType (AssignmentTypes) Required ValueGenerated.OnAdd, 3], [Property: ReviewerAssignment.CompletedAt (DateTime?), 4], [Property: ReviewerAssignment.Deadline (DateTime?) Index, 5], [Property: ReviewerAssignment.ReviewerId (int) Required FK Index, 6], [Property: ReviewerAssignment.SkillMatchScore (decimal?), 7], [Property: ReviewerAssignment.StartedAt (DateTime?), 8], [Property: ReviewerAssignment.Status (AssignmentStatus) Required Index ValueGenerated.OnAdd, 9], [Property: ReviewerAssignment.SubmissionId (int) Required FK Index, 10] }
            1 -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 11], [Property: User.AccessFailedCount (int) Required, 12], [Property: User.ConcurrencyStamp (string), 13], [Property: User.CreatedAt (DateTime) Required, 14], [Property: User.DeletedAt (DateTime?), 15], [Property: User.Email (string), 16], [Property: User.EmailConfirmed (bool) Required, 17], [Property: User.LastModifiedAt (DateTime) Required, 18], [Property: User.LastModifiedBy (string), 19], [Property: User.LockoutEnabled (bool) Required, 20], [Property: User.LockoutEnd (DateTimeOffset?), 21], [Property: User.NormalizedEmail (string), 22], [Property: User.NormalizedUserName (string), 23], [Property: User.PasswordHash (string), 24], [Property: User.PhoneNumber (string), 25], [Property: User.PhoneNumberConfirmed (bool) Required, 26], [Property: User.SecurityStamp (string), 27], [Property: User.TwoFactorEnabled (bool) Required, 28], [Property: User.UserName (string), 29] }
            2 -> Dictionary<IProperty, int> { [Property: Submission.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 30], [Property: Submission.AdditionalNotes (string), 31], [Property: Submission.AiCheckDetails (string), 32], [Property: Submission.AiCheckScore (decimal?), 33], [Property: Submission.AiCheckStatus (AiCheckStatus) Required ValueGenerated.OnAdd, 34], [Property: Submission.CreatedAt (DateTime) Required, 35], [Property: Submission.CreatedBy (string), 36], [Property: Submission.DeletedAt (DateTime?), 37], [Property: Submission.DocumentUrl (string) MaxLength(500), 38], [Property: Submission.IsActive (bool) Required, 39], [Property: Submission.LastModifiedAt (DateTime?), 40], [Property: Submission.LastModifiedBy (string), 41], [Property: Submission.PhaseId (int) Required FK Index, 42], [Property: Submission.Status (SubmissionStatus) Required Index ValueGenerated.OnAdd, 43], [Property: Submission.SubmissionRound (int) Required Index ValueGenerated.OnAdd, 44], [Property: Submission.SubmittedAt (DateTime?) Index ValueGenerated.OnAdd, 45], [Property: Submission.SubmittedBy (int) Required FK Index, 46], [Property: Submission.TopicId (int) Required FK Index, 47], [Property: Submission.TopicVersionId (int?) FK Index, 48] }
            3 -> Dictionary<IProperty, int> { [Property: TopicVersion.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 49], [Property: TopicVersion.Content (string), 50], [Property: TopicVersion.Context (string), 51], [Property: TopicVersion.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 52], [Property: TopicVersion.CreatedBy (string), 53], [Property: TopicVersion.DeletedAt (DateTime?), 54], [Property: TopicVersion.Description (string), 55], [Property: TopicVersion.DocumentUrl (string) MaxLength(500), 56], [Property: TopicVersion.EN_Title (string) Required MaxLength(500), 57], [Property: TopicVersion.ExpectedOutcomes (string), 58], [Property: TopicVersion.IsActive (bool) Required, 59], [Property: TopicVersion.LastModifiedAt (DateTime?), 60], [Property: TopicVersion.LastModifiedBy (string), 61], [Property: TopicVersion.Methodology (string), 62], [Property: TopicVersion.Objectives (string), 63], [Property: TopicVersion.PotentialDuplicate (string), 64], [Property: TopicVersion.Problem (string), 65], [Property: TopicVersion.Requirements (string), 66], [Property: TopicVersion.Status (TopicStatus) Required Index ValueGenerated.OnAdd, 67], [Property: TopicVersion.SubmittedAt (DateTime?), 68], [Property: TopicVersion.SubmittedBy (int?) FK Index, 69], [Property: TopicVersion.TopicId (int) Required FK Index, 70], [Property: TopicVersion.VN_title (string), 71], [Property: TopicVersion.VersionNumber (int) Required Index, 72] }
            4 -> Dictionary<IProperty, int> { [Property: Topic.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 73], [Property: Topic.Abbreviation (string), 74], [Property: Topic.CategoryId (int?) FK Index, 75], [Property: Topic.Content (string), 76], [Property: Topic.Context (string), 77], [Property: Topic.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 78], [Property: Topic.CreatedBy (string), 79], [Property: Topic.DeletedAt (DateTime?), 80], [Property: Topic.Description (string), 81], [Property: Topic.EN_Title (string) Required MaxLength(500), 82], [Property: Topic.IsActive (bool) Required, 83], [Property: Topic.IsApproved (bool) Required Index Sentinel:True ValueGenerated.OnAdd, 84], [Property: Topic.IsLegacy (bool) Required Index ValueGenerated.OnAdd, 85], [Property: Topic.LastModifiedAt (DateTime?), 86], [Property: Topic.LastModifiedBy (string), 87], [Property: Topic.MaxStudents (int) Required ValueGenerated.OnAdd, 88], [Property: Topic.Objectives (string), 89], [Property: Topic.PotentialDuplicate (string), 90], [Property: Topic.Problem (string), 91], [Property: Topic.SemesterId (int) Required FK Index, 92], [Property: Topic.SupervisorId (int) Required FK Index, 93], [Property: Topic.VN_title (string), 94] }
        SELECT r.Id, r.AssignedAt, r.AssignedBy, r.AssignmentType, r.CompletedAt, r.Deadline, r.ReviewerId, r.SkillMatchScore, r.StartedAt, r.Status, r.SubmissionId, u.Id, u.AccessFailedCount, u.ConcurrencyStamp, u.CreatedAt, u.DeletedAt, u.Email, u.EmailConfirmed, u.LastModifiedAt, u.LastModifiedBy, u.LockoutEnabled, u.LockoutEnd, u.NormalizedEmail, u.NormalizedUserName, u.PasswordHash, u.PhoneNumber, u.PhoneNumberConfirmed, u.SecurityStamp, u.TwoFactorEnabled, u.UserName, s.Id, s.AdditionalNotes, s.AiCheckDetails, s.AiCheckScore, s.AiCheckStatus, s.CreatedAt, s.CreatedBy, s.DeletedAt, s.DocumentUrl, s.IsActive, s.LastModifiedAt, s.LastModifiedBy, s.PhaseId, s.Status, s.SubmissionRound, s.SubmittedAt, s.SubmittedBy, s.TopicId, s.TopicVersionId, t.Id, t.Content, t.Context, t.CreatedAt, t.CreatedBy, t.DeletedAt, t.Description, t.DocumentUrl, t.EN_Title, t.ExpectedOutcomes, t.IsActive, t.LastModifiedAt, t.LastModifiedBy, t.Methodology, t.Objectives, t.PotentialDuplicate, t.Problem, t.Requirements, t.Status, t.SubmittedAt, t.SubmittedBy, t.TopicId, t.VN_title, t.VersionNumber, t0.Id, t0.Abbreviation, t0.CategoryId, t0.Content, t0.Context, t0.CreatedAt, t0.CreatedBy, t0.DeletedAt, t0.Description, t0.EN_Title, t0.IsActive, t0.IsApproved, t0.IsLegacy, t0.LastModifiedAt, t0.LastModifiedBy, t0.MaxStudents, t0.Objectives, t0.PotentialDuplicate, t0.Problem, t0.SemesterId, t0.SupervisorId, t0.VN_title
        FROM reviewer_assignments AS r
        INNER JOIN users AS u ON r.ReviewerId == u.Id
        INNER JOIN submissions AS s ON r.SubmissionId == s.Id
        LEFT JOIN topic_versions AS t ON s.TopicVersionId == t.Id
        LEFT JOIN topics AS t0 ON s.TopicId == t0.Id
        WHERE (r.Deadline IS NOT NULL && (CONVERT(date, r.Deadline) < CONVERT(date, GETDATE()))) && r.Status IN (1, 2)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ReviewerAssignment>, 
    App.DAL.Context.MyDbContext, 
    False, 
    False, 
    True
)'
2025-10-03 19:16:34.075 +07:00 [DBG] Hosting started
2025-10-03 19:16:34.154 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:16:34.154 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:16:34.154 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 19:16:34.155 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:16:34.155 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:16:34.155 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[DocumentUrl], [t].[EN_Title], [t].[ExpectedOutcomes], [t].[IsActive], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[Methodology], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[Requirements], [t].[Status], [t].[SubmittedAt], [t].[SubmittedBy], [t].[TopicId], [t].[VN_title], [t].[VersionNumber], [t0].[Id], [t0].[Abbreviation], [t0].[CategoryId], [t0].[Content], [t0].[Context], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[EN_Title], [t0].[IsActive], [t0].[IsApproved], [t0].[IsLegacy], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[MaxStudents], [t0].[Objectives], [t0].[PotentialDuplicate], [t0].[Problem], [t0].[SemesterId], [t0].[SupervisorId], [t0].[VN_title]
FROM [reviewer_assignments] AS [r]
INNER JOIN [users] AS [u] ON [r].[ReviewerId] = [u].[Id]
INNER JOIN [submissions] AS [s] ON [r].[SubmissionId] = [s].[Id]
LEFT JOIN [topic_versions] AS [t] ON [s].[TopicVersionId] = [t].[Id]
LEFT JOIN [topics] AS [t0] ON [s].[TopicId] = [t0].[Id]
WHERE [r].[Deadline] IS NOT NULL AND CONVERT(date, [r].[Deadline]) < CONVERT(date, GETDATE()) AND [r].[Status] IN (1, 2)
2025-10-03 19:16:34.175 +07:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[DocumentUrl], [t].[EN_Title], [t].[ExpectedOutcomes], [t].[IsActive], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[Methodology], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[Requirements], [t].[Status], [t].[SubmittedAt], [t].[SubmittedBy], [t].[TopicId], [t].[VN_title], [t].[VersionNumber], [t0].[Id], [t0].[Abbreviation], [t0].[CategoryId], [t0].[Content], [t0].[Context], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[EN_Title], [t0].[IsActive], [t0].[IsApproved], [t0].[IsLegacy], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[MaxStudents], [t0].[Objectives], [t0].[PotentialDuplicate], [t0].[Problem], [t0].[SemesterId], [t0].[SupervisorId], [t0].[VN_title]
FROM [reviewer_assignments] AS [r]
INNER JOIN [users] AS [u] ON [r].[ReviewerId] = [u].[Id]
INNER JOIN [submissions] AS [s] ON [r].[SubmissionId] = [s].[Id]
LEFT JOIN [topic_versions] AS [t] ON [s].[TopicVersionId] = [t].[Id]
LEFT JOIN [topics] AS [t0] ON [s].[TopicId] = [t0].[Id]
WHERE [r].[Deadline] IS NOT NULL AND CONVERT(date, [r].[Deadline]) < CONVERT(date, GETDATE()) AND [r].[Status] IN (1, 2)
2025-10-03 19:16:34.180 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 19:16:34.180 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 5ms reading results.
2025-10-03 19:16:34.181 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:16:34.182 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 19:16:34.205 +07:00 [DBG] Connection id "0HNG2EQOPDV1L" accepted.
2025-10-03 19:16:34.207 +07:00 [DBG] Connection id "0HNG2EQOPDV1L" started.
2025-10-03 19:16:34.273 +07:00 [DBG] Connection id "0HNG2EQOPDV1M" accepted.
2025-10-03 19:16:34.274 +07:00 [DBG] Connection id "0HNG2EQOPDV1M" started.
2025-10-03 19:16:34.287 +07:00 [DBG] 'MyDbContext' generated a temporary value for the property 'SystemNotification.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 19:16:34.311 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5207/index.html - null null
2025-10-03 19:16:34.319 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-10-03 19:16:34.338 +07:00 [DBG] Context 'MyDbContext' started tracking 'SystemNotification' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 19:16:34.343 +07:00 [DBG] SaveChanges starting for 'MyDbContext'.
2025-10-03 19:16:34.350 +07:00 [DBG] DetectChanges starting for 'MyDbContext'.
2025-10-03 19:16:34.402 +07:00 [DBG] DetectChanges completed for 'MyDbContext'.
2025-10-03 19:16:34.555 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:16:34.556 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:16:34.556 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-10-03 19:16:34.558 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 19:16:34.559 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:16:34.561 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-10-03 19:16:34.562 +07:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (Size = 50), @p5='?' (Size = 255), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [system_notifications] ([CreatedAt], [Message], [ReadAt], [RelatedEntityId], [RelatedEntityType], [Title], [Type], [UserId])
OUTPUT INSERTED.[Id], INSERTED.[IsRead]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-10-03 19:16:34.576 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-10-03 19:16:34.577 +07:00 [DBG] Connection id "0HNG2EQOPDV1L" completed keep alive response.
2025-10-03 19:16:34.579 +07:00 [INF] Executed DbCommand (18ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (Size = 50), @p5='?' (Size = 255), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [system_notifications] ([CreatedAt], [Message], [ReadAt], [RelatedEntityId], [RelatedEntityType], [Title], [Type], [UserId])
OUTPUT INSERTED.[Id], INSERTED.[IsRead]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-10-03 19:16:34.585 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5207/index.html - 200 null text/html;charset=utf-8 271.5696ms
2025-10-03 19:16:34.615 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5207/_framework/aspnetcore-browser-refresh.js - null null
2025-10-03 19:16:34.619 +07:00 [DBG] Connection id "0HNG2EQOPDV1L" completed keep alive response.
2025-10-03 19:16:34.620 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5207/_framework/aspnetcore-browser-refresh.js - 200 13732 application/javascript; charset=utf-8 5.2943ms
2025-10-03 19:16:34.631 +07:00 [DBG] The foreign key property 'SystemNotification.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-10-03 19:16:34.637 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 19:16:34.637 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 57ms reading results.
2025-10-03 19:16:34.638 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:16:34.639 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 19:16:34.653 +07:00 [DBG] An entity of type 'SystemNotification' tracked by 'MyDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 19:16:34.656 +07:00 [DBG] SaveChanges completed for 'MyDbContext' with 1 entities written to the database.
2025-10-03 19:16:34.660 +07:00 [DBG] Compiling query expression: 
'DbSet<SystemNotification>()
    .AsNoTracking()
    .Where(x => x.UserId == __entity_UserId_0 && !(x.IsRead))
    .Count()'
2025-10-03 19:16:34.691 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<int>(
    asyncEnumerable: new SingleQueryingEnumerable<int>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM system_notifications AS s
            WHERE (s.UserId == @__entity_UserId_0) && Not(s.IsRead)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, int>, 
        App.DAL.Context.MyDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-10-03 19:16:34.703 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:16:34.704 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:16:34.704 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 19:16:34.704 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:16:34.704 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:16:34.704 +07:00 [DBG] Executing DbCommand [Parameters=[@__entity_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [system_notifications] AS [s]
WHERE [s].[UserId] = @__entity_UserId_0 AND [s].[IsRead] = CAST(0 AS bit)
2025-10-03 19:16:34.707 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__entity_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [system_notifications] AS [s]
WHERE [s].[UserId] = @__entity_UserId_0 AND [s].[IsRead] = CAST(0 AS bit)
2025-10-03 19:16:34.708 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 19:16:34.709 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 1ms reading results.
2025-10-03 19:16:34.709 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:16:34.709 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 19:16:34.732 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5207/swagger/v1/swagger.json - null null
2025-10-03 19:16:35.327 +07:00 [DBG] Connection id "0HNG2EQOPDV1L" completed keep alive response.
2025-10-03 19:16:35.328 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5207/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 595.6536ms
2025-10-03 19:16:36.833 +07:00 [ERR] 5.4.5 Daily user sending limit exceeded. For more information on Gmail
5.4.5 sending limits go to
5.4.5  https://support.google.com/a/answer/166852 d9443c01a7336-28e8d038e4asm49805245ad.0 - gsmtp
2025-10-03 19:16:37.036 +07:00 [WRN] Không thể gửi email sắp đến hạn cho reviewer hieptmse140293@fpt.edu.vn, assignment 31
2025-10-03 19:16:37.036 +07:00 [INF] Đã gửi thông báo sắp đến hạn cho reviewer 27, assignment 31
2025-10-03 19:16:37.039 +07:00 [DBG] 'MyDbContext' generated a temporary value for the property 'SystemNotification.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 19:16:37.039 +07:00 [DBG] Context 'MyDbContext' started tracking 'SystemNotification' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 19:16:37.040 +07:00 [DBG] SaveChanges starting for 'MyDbContext'.
2025-10-03 19:16:37.040 +07:00 [DBG] DetectChanges starting for 'MyDbContext'.
2025-10-03 19:16:37.041 +07:00 [DBG] DetectChanges completed for 'MyDbContext'.
2025-10-03 19:16:37.044 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:16:37.044 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:16:37.044 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 19:16:37.044 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:16:37.045 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:16:37.045 +07:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (Size = 50), @p5='?' (Size = 255), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [system_notifications] ([CreatedAt], [Message], [ReadAt], [RelatedEntityId], [RelatedEntityType], [Title], [Type], [UserId])
OUTPUT INSERTED.[Id], INSERTED.[IsRead]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-10-03 19:16:37.056 +07:00 [INF] Executed DbCommand (11ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (Size = 50), @p5='?' (Size = 255), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [system_notifications] ([CreatedAt], [Message], [ReadAt], [RelatedEntityId], [RelatedEntityType], [Title], [Type], [UserId])
OUTPUT INSERTED.[Id], INSERTED.[IsRead]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-10-03 19:16:37.057 +07:00 [DBG] The foreign key property 'SystemNotification.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-10-03 19:16:37.057 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 19:16:37.057 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 1ms reading results.
2025-10-03 19:16:37.058 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:16:37.058 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 19:16:37.058 +07:00 [DBG] An entity of type 'SystemNotification' tracked by 'MyDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 19:16:37.058 +07:00 [DBG] SaveChanges completed for 'MyDbContext' with 1 entities written to the database.
2025-10-03 19:16:37.059 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:16:37.059 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:16:37.060 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 19:16:37.060 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:16:37.060 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:16:37.060 +07:00 [DBG] Executing DbCommand [Parameters=[@__entity_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [system_notifications] AS [s]
WHERE [s].[UserId] = @__entity_UserId_0 AND [s].[IsRead] = CAST(0 AS bit)
2025-10-03 19:16:37.064 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__entity_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [system_notifications] AS [s]
WHERE [s].[UserId] = @__entity_UserId_0 AND [s].[IsRead] = CAST(0 AS bit)
2025-10-03 19:16:37.064 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 19:16:37.065 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-10-03 19:16:37.065 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:16:37.065 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 19:16:39.527 +07:00 [ERR] 5.4.5 Daily user sending limit exceeded. For more information on Gmail
5.4.5 sending limits go to
5.4.5  https://support.google.com/a/answer/166852 d2e1a72fcca58-78b01fb16e4sm4761201b3a.21 - gsmtp
2025-10-03 19:16:39.726 +07:00 [WRN] Không thể gửi email quá hạn cho reviewer supervisor@gmail.com, assignment 1
2025-10-03 19:16:39.727 +07:00 [INF] Đã gửi thông báo quá hạn cho reviewer 6, assignment 1
2025-10-03 19:16:39.728 +07:00 [DBG] 'MyDbContext' generated a temporary value for the property 'SystemNotification.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 19:16:39.729 +07:00 [DBG] Context 'MyDbContext' started tracking 'SystemNotification' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 19:16:39.729 +07:00 [DBG] SaveChanges starting for 'MyDbContext'.
2025-10-03 19:16:39.729 +07:00 [DBG] DetectChanges starting for 'MyDbContext'.
2025-10-03 19:16:39.730 +07:00 [DBG] DetectChanges completed for 'MyDbContext'.
2025-10-03 19:16:39.730 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:16:39.731 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:16:39.731 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 19:16:39.731 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:16:39.731 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:16:39.731 +07:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (Size = 50), @p5='?' (Size = 255), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [system_notifications] ([CreatedAt], [Message], [ReadAt], [RelatedEntityId], [RelatedEntityType], [Title], [Type], [UserId])
OUTPUT INSERTED.[Id], INSERTED.[IsRead]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-10-03 19:16:39.740 +07:00 [INF] Executed DbCommand (9ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (Size = 50), @p5='?' (Size = 255), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [system_notifications] ([CreatedAt], [Message], [ReadAt], [RelatedEntityId], [RelatedEntityType], [Title], [Type], [UserId])
OUTPUT INSERTED.[Id], INSERTED.[IsRead]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-10-03 19:16:39.740 +07:00 [DBG] The foreign key property 'SystemNotification.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-10-03 19:16:39.740 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 19:16:39.741 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-10-03 19:16:39.741 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:16:39.741 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 19:16:39.741 +07:00 [DBG] An entity of type 'SystemNotification' tracked by 'MyDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 19:16:39.741 +07:00 [DBG] SaveChanges completed for 'MyDbContext' with 1 entities written to the database.
2025-10-03 19:16:39.743 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:16:39.743 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:16:39.744 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 19:16:39.744 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:16:39.744 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:16:39.744 +07:00 [DBG] Executing DbCommand [Parameters=[@__entity_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [system_notifications] AS [s]
WHERE [s].[UserId] = @__entity_UserId_0 AND [s].[IsRead] = CAST(0 AS bit)
2025-10-03 19:16:39.748 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__entity_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [system_notifications] AS [s]
WHERE [s].[UserId] = @__entity_UserId_0 AND [s].[IsRead] = CAST(0 AS bit)
2025-10-03 19:16:39.748 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 19:16:39.748 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-10-03 19:16:39.748 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:16:39.749 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 19:16:41.423 +07:00 [ERR] 5.4.5 Daily user sending limit exceeded. For more information on Gmail
5.4.5 sending limits go to
5.4.5  https://support.google.com/a/answer/166852 d9443c01a7336-28e8d110d86sm49147225ad.6 - gsmtp
2025-10-03 19:16:41.623 +07:00 [WRN] Không thể gửi email quá hạn cho reviewer reviewer2@gmail.com, assignment 2
2025-10-03 19:16:41.623 +07:00 [INF] Đã gửi thông báo quá hạn cho reviewer 7, assignment 2
2025-10-03 19:16:41.623 +07:00 [DBG] 'MyDbContext' generated a temporary value for the property 'SystemNotification.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 19:16:41.624 +07:00 [DBG] Context 'MyDbContext' started tracking 'SystemNotification' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 19:16:41.624 +07:00 [DBG] SaveChanges starting for 'MyDbContext'.
2025-10-03 19:16:41.624 +07:00 [DBG] DetectChanges starting for 'MyDbContext'.
2025-10-03 19:16:41.624 +07:00 [DBG] DetectChanges completed for 'MyDbContext'.
2025-10-03 19:16:41.625 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:16:41.625 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:16:41.626 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 19:16:41.626 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:16:41.626 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:16:41.626 +07:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (Size = 50), @p5='?' (Size = 255), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [system_notifications] ([CreatedAt], [Message], [ReadAt], [RelatedEntityId], [RelatedEntityType], [Title], [Type], [UserId])
OUTPUT INSERTED.[Id], INSERTED.[IsRead]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-10-03 19:16:41.633 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (Size = 50), @p5='?' (Size = 255), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [system_notifications] ([CreatedAt], [Message], [ReadAt], [RelatedEntityId], [RelatedEntityType], [Title], [Type], [UserId])
OUTPUT INSERTED.[Id], INSERTED.[IsRead]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-10-03 19:16:41.634 +07:00 [DBG] The foreign key property 'SystemNotification.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-10-03 19:16:41.634 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 19:16:41.634 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-10-03 19:16:41.634 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:16:41.635 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 19:16:41.635 +07:00 [DBG] An entity of type 'SystemNotification' tracked by 'MyDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 19:16:41.635 +07:00 [DBG] SaveChanges completed for 'MyDbContext' with 1 entities written to the database.
2025-10-03 19:16:41.636 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:16:41.636 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:16:41.636 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 19:16:41.637 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:16:41.637 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:16:41.637 +07:00 [DBG] Executing DbCommand [Parameters=[@__entity_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [system_notifications] AS [s]
WHERE [s].[UserId] = @__entity_UserId_0 AND [s].[IsRead] = CAST(0 AS bit)
2025-10-03 19:16:41.639 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__entity_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [system_notifications] AS [s]
WHERE [s].[UserId] = @__entity_UserId_0 AND [s].[IsRead] = CAST(0 AS bit)
2025-10-03 19:16:41.639 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 19:16:41.639 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-10-03 19:16:41.639 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:16:41.639 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 19:16:43.350 +07:00 [ERR] 5.4.5 Daily user sending limit exceeded. For more information on Gmail
5.4.5 sending limits go to
5.4.5  https://support.google.com/a/answer/166852 98e67ed59e1d1-339c4a1aac7sm2112964a91.10 - gsmtp
2025-10-03 19:16:43.548 +07:00 [WRN] Không thể gửi email quá hạn cho reviewer reviewer2@gmail.com, assignment 3
2025-10-03 19:16:43.548 +07:00 [INF] Đã gửi thông báo quá hạn cho reviewer 7, assignment 3
2025-10-03 19:16:43.548 +07:00 [DBG] 'MyDbContext' generated a temporary value for the property 'SystemNotification.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 19:16:43.548 +07:00 [DBG] Context 'MyDbContext' started tracking 'SystemNotification' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 19:16:43.548 +07:00 [DBG] SaveChanges starting for 'MyDbContext'.
2025-10-03 19:16:43.549 +07:00 [DBG] DetectChanges starting for 'MyDbContext'.
2025-10-03 19:16:43.549 +07:00 [DBG] DetectChanges completed for 'MyDbContext'.
2025-10-03 19:16:43.549 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:16:43.549 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:16:43.549 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 19:16:43.550 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:16:43.550 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:16:43.550 +07:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (Size = 50), @p5='?' (Size = 255), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [system_notifications] ([CreatedAt], [Message], [ReadAt], [RelatedEntityId], [RelatedEntityType], [Title], [Type], [UserId])
OUTPUT INSERTED.[Id], INSERTED.[IsRead]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-10-03 19:16:43.555 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (Size = 50), @p5='?' (Size = 255), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [system_notifications] ([CreatedAt], [Message], [ReadAt], [RelatedEntityId], [RelatedEntityType], [Title], [Type], [UserId])
OUTPUT INSERTED.[Id], INSERTED.[IsRead]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-10-03 19:16:43.555 +07:00 [DBG] The foreign key property 'SystemNotification.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-10-03 19:16:43.555 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 19:16:43.556 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-10-03 19:16:43.556 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:16:43.556 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 19:16:43.556 +07:00 [DBG] An entity of type 'SystemNotification' tracked by 'MyDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 19:16:43.556 +07:00 [DBG] SaveChanges completed for 'MyDbContext' with 1 entities written to the database.
2025-10-03 19:16:43.557 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:16:43.557 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:16:43.557 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 19:16:43.557 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:16:43.557 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:16:43.557 +07:00 [DBG] Executing DbCommand [Parameters=[@__entity_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [system_notifications] AS [s]
WHERE [s].[UserId] = @__entity_UserId_0 AND [s].[IsRead] = CAST(0 AS bit)
2025-10-03 19:16:43.558 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__entity_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [system_notifications] AS [s]
WHERE [s].[UserId] = @__entity_UserId_0 AND [s].[IsRead] = CAST(0 AS bit)
2025-10-03 19:16:43.558 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 19:16:43.559 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-10-03 19:16:43.559 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:16:43.559 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 19:16:45.249 +07:00 [ERR] 5.4.5 Daily user sending limit exceeded. For more information on Gmail
5.4.5 sending limits go to
5.4.5  https://support.google.com/a/answer/166852 d9443c01a7336-28e8d128132sm49657835ad.44 - gsmtp
2025-10-03 19:16:45.449 +07:00 [WRN] Không thể gửi email quá hạn cho reviewer supervisor@gmail.com, assignment 4
2025-10-03 19:16:45.449 +07:00 [INF] Đã gửi thông báo quá hạn cho reviewer 6, assignment 4
2025-10-03 19:16:45.450 +07:00 [INF] Hoàn thành kiểm tra deadline: 1 sắp đến hạn, 4 quá hạn
2025-10-03 19:16:45.450 +07:00 [DBG] 'MyDbContext' disposed.
2025-10-03 19:16:45.450 +07:00 [DBG] Disposing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:16:45.451 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-10-03 19:16:51.171 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5207/api/reviewer-assignments/workload?semesterId=1 - null null
2025-10-03 19:16:51.174 +07:00 [DBG] The request path /api/reviewer-assignments/workload does not match a supported file type
2025-10-03 19:16:51.176 +07:00 [WRN] Failed to determine the https port for redirect.
2025-10-03 19:16:51.176 +07:00 [DBG] The request path /api/reviewer-assignments/workload does not match a supported file type
2025-10-03 19:16:51.243 +07:00 [DBG] 1 candidate(s) found for the request path '/api/reviewer-assignments/workload'
2025-10-03 19:16:51.244 +07:00 [DBG] Endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetReviewersWorkload (CapBot.api)' with route pattern 'api/reviewer-assignments/workload' is valid for the request path '/api/reviewer-assignments/workload'
2025-10-03 19:16:51.244 +07:00 [DBG] Request matched endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetReviewersWorkload (CapBot.api)'
2025-10-03 19:16:51.320 +07:00 [DBG] Successfully validated the token.
2025-10-03 19:16:51.321 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-10-03 19:16:51.326 +07:00 [DBG] Authorization was successful.
2025-10-03 19:16:51.333 +07:00 [INF] Executing endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetReviewersWorkload (CapBot.api)'
2025-10-03 19:16:51.350 +07:00 [INF] Route matched with {action = "GetReviewersWorkload", controller = "ReviewerAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetReviewersWorkload(System.Nullable`1[System.Int32]) on controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api).
2025-10-03 19:16:51.353 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-10-03 19:16:51.354 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-10-03 19:16:51.355 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2025-10-03 19:16:51.355 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-10-03 19:16:51.355 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-10-03 19:16:51.357 +07:00 [DBG] Executing controller factory for controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api)
2025-10-03 19:16:51.471 +07:00 [DBG] Executed controller factory for controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api)
2025-10-03 19:16:51.476 +07:00 [DBG] Attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]' ...
2025-10-03 19:16:51.478 +07:00 [DBG] Attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]' using the name 'semesterId' in request data ...
2025-10-03 19:16:51.479 +07:00 [DBG] Done attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]'.
2025-10-03 19:16:51.480 +07:00 [DBG] Done attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]'.
2025-10-03 19:16:51.480 +07:00 [DBG] Attempting to validate the bound parameter 'semesterId' of type 'System.Nullable`1[System.Int32]' ...
2025-10-03 19:16:51.482 +07:00 [DBG] Done attempting to validate the bound parameter 'semesterId' of type 'System.Nullable`1[System.Int32]'.
2025-10-03 19:16:51.507 +07:00 [DBG] Entity Framework Core 8.0.16 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: MigrationsAssembly=App.DAL 
2025-10-03 19:16:51.509 +07:00 [DBG] Compiling query expression: 
'DbSet<UserRole>()
    .AsNoTracking()
    .Include(ur => ur.User)
    .Include(ur => ur.User.LecturerSkills)
    .Include(ur => ur.User.ReviewerPerformances)
    .Include(ur => ur.Role)
    .Where(ur => ur.Role.Name == "Reviewer")'
2025-10-03 19:16:51.511 +07:00 [DBG] Including navigation: 'UserRole.User'.
2025-10-03 19:16:51.512 +07:00 [DBG] Including navigation: 'User.LecturerSkills'.
2025-10-03 19:16:51.513 +07:00 [DBG] Including navigation: 'User.ReviewerPerformances'.
2025-10-03 19:16:51.514 +07:00 [DBG] Including navigation: 'UserRole.Role'.
2025-10-03 19:16:51.549 +07:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-10-03 19:16:51.560 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<UserRole>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: UserRole.UserId (int) Required PK FK AfterSave:Throw, 0], [Property: UserRole.RoleId (int) Required PK FK Index AfterSave:Throw, 1] }
            1 -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 2], [Property: User.AccessFailedCount (int) Required, 3], [Property: User.ConcurrencyStamp (string), 4], [Property: User.CreatedAt (DateTime) Required, 5], [Property: User.DeletedAt (DateTime?), 6], [Property: User.Email (string), 7], [Property: User.EmailConfirmed (bool) Required, 8], [Property: User.LastModifiedAt (DateTime) Required, 9], [Property: User.LastModifiedBy (string), 10], [Property: User.LockoutEnabled (bool) Required, 11], [Property: User.LockoutEnd (DateTimeOffset?), 12], [Property: User.NormalizedEmail (string), 13], [Property: User.NormalizedUserName (string), 14], [Property: User.PasswordHash (string), 15], [Property: User.PhoneNumber (string), 16], [Property: User.PhoneNumberConfirmed (bool) Required, 17], [Property: User.SecurityStamp (string), 18], [Property: User.TwoFactorEnabled (bool) Required, 19], [Property: User.UserName (string), 20] }
            2 -> 0
            3 -> 1
            4 -> 21
            5 -> 2
            6 -> Dictionary<IProperty, int> { [Property: LecturerSkill.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 22], [Property: LecturerSkill.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 23], [Property: LecturerSkill.CreatedBy (string), 24], [Property: LecturerSkill.DeletedAt (DateTime?), 25], [Property: LecturerSkill.IsActive (bool) Required, 26], [Property: LecturerSkill.LastModifiedAt (DateTime?), 27], [Property: LecturerSkill.LastModifiedBy (string), 28], [Property: LecturerSkill.LecturerId (int) Required FK Index, 29], [Property: LecturerSkill.ProficiencyLevel (ProficiencyLevels) Required ValueGenerated.OnAdd, 30], [Property: LecturerSkill.SkillTag (string) Required Index MaxLength(100), 31] }
            7 -> 22
            8 -> Dictionary<IProperty, int> { [Property: ReviewerPerformance.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 32], [Property: ReviewerPerformance.AverageScoreGiven (decimal?), 33], [Property: ReviewerPerformance.AverageTimeMinutes (int) Required ValueGenerated.OnAdd, 34], [Property: ReviewerPerformance.CompletedAssignments (int) Required ValueGenerated.OnAdd, 35], [Property: ReviewerPerformance.LastUpdated (DateTime) Required ValueGenerated.OnAdd, 36], [Property: ReviewerPerformance.OnTimeRate (decimal?), 37], [Property: ReviewerPerformance.QualityRating (decimal?), 38], [Property: ReviewerPerformance.ReviewerId (int) Required FK Index, 39], [Property: ReviewerPerformance.SemesterId (int) Required FK Index, 40], [Property: ReviewerPerformance.TotalAssignments (int) Required ValueGenerated.OnAdd, 41] }
            9 -> 32
            10 -> Dictionary<IProperty, int> { [Property: Role.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 21], [Property: Role.ConcurrencyStamp (string), 42], [Property: Role.IsAdmin (bool) Required, 43], [Property: Role.Name (string), 44], [Property: Role.NormalizedName (string), 45] }
        SELECT u.UserId, u.RoleId, u0.Id, u0.AccessFailedCount, u0.ConcurrencyStamp, u0.CreatedAt, u0.DeletedAt, u0.Email, u0.EmailConfirmed, u0.LastModifiedAt, u0.LastModifiedBy, u0.LockoutEnabled, u0.LockoutEnd, u0.NormalizedEmail, u0.NormalizedUserName, u0.PasswordHash, u0.PhoneNumber, u0.PhoneNumberConfirmed, u0.SecurityStamp, u0.TwoFactorEnabled, u0.UserName, r.Id, l.Id, l.CreatedAt, l.CreatedBy, l.DeletedAt, l.IsActive, l.LastModifiedAt, l.LastModifiedBy, l.LecturerId, l.ProficiencyLevel, l.SkillTag, r0.Id, r0.AverageScoreGiven, r0.AverageTimeMinutes, r0.CompletedAssignments, r0.LastUpdated, r0.OnTimeRate, r0.QualityRating, r0.ReviewerId, r0.SemesterId, r0.TotalAssignments, r.ConcurrencyStamp, r.IsAdmin, r.Name, r.NormalizedName
        FROM user_roles AS u
        INNER JOIN roles AS r ON u.RoleId == r.Id
        INNER JOIN users AS u0 ON u.UserId == u0.Id
        LEFT JOIN lecturer_skills AS l ON u0.Id == l.LecturerId
        LEFT JOIN reviewer_performance AS r0 ON u0.Id == r0.ReviewerId
        WHERE r.Name == N'Reviewer'
        ORDER BY u.UserId ASC, u.RoleId ASC, r.Id ASC, u0.Id ASC, l.Id ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, UserRole>, 
    App.DAL.Context.MyDbContext, 
    False, 
    False, 
    True
)'
2025-10-03 19:16:51.562 +07:00 [DBG] Creating DbConnection.
2025-10-03 19:16:51.562 +07:00 [DBG] Created DbConnection. (0ms).
2025-10-03 19:16:51.562 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:16:51.563 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:16:51.563 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 19:16:51.563 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:16:51.563 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:16:51.563 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[RoleId], [u0].[Id], [u0].[AccessFailedCount], [u0].[ConcurrencyStamp], [u0].[CreatedAt], [u0].[DeletedAt], [u0].[Email], [u0].[EmailConfirmed], [u0].[LastModifiedAt], [u0].[LastModifiedBy], [u0].[LockoutEnabled], [u0].[LockoutEnd], [u0].[NormalizedEmail], [u0].[NormalizedUserName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[PhoneNumberConfirmed], [u0].[SecurityStamp], [u0].[TwoFactorEnabled], [u0].[UserName], [r].[Id], [l].[Id], [l].[CreatedAt], [l].[CreatedBy], [l].[DeletedAt], [l].[IsActive], [l].[LastModifiedAt], [l].[LastModifiedBy], [l].[LecturerId], [l].[ProficiencyLevel], [l].[SkillTag], [r0].[Id], [r0].[AverageScoreGiven], [r0].[AverageTimeMinutes], [r0].[CompletedAssignments], [r0].[LastUpdated], [r0].[OnTimeRate], [r0].[QualityRating], [r0].[ReviewerId], [r0].[SemesterId], [r0].[TotalAssignments], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [user_roles] AS [u]
INNER JOIN [roles] AS [r] ON [u].[RoleId] = [r].[Id]
INNER JOIN [users] AS [u0] ON [u].[UserId] = [u0].[Id]
LEFT JOIN [lecturer_skills] AS [l] ON [u0].[Id] = [l].[LecturerId]
LEFT JOIN [reviewer_performance] AS [r0] ON [u0].[Id] = [r0].[ReviewerId]
WHERE [r].[Name] = N'Reviewer'
ORDER BY [u].[UserId], [u].[RoleId], [r].[Id], [u0].[Id], [l].[Id]
2025-10-03 19:16:51.582 +07:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[RoleId], [u0].[Id], [u0].[AccessFailedCount], [u0].[ConcurrencyStamp], [u0].[CreatedAt], [u0].[DeletedAt], [u0].[Email], [u0].[EmailConfirmed], [u0].[LastModifiedAt], [u0].[LastModifiedBy], [u0].[LockoutEnabled], [u0].[LockoutEnd], [u0].[NormalizedEmail], [u0].[NormalizedUserName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[PhoneNumberConfirmed], [u0].[SecurityStamp], [u0].[TwoFactorEnabled], [u0].[UserName], [r].[Id], [l].[Id], [l].[CreatedAt], [l].[CreatedBy], [l].[DeletedAt], [l].[IsActive], [l].[LastModifiedAt], [l].[LastModifiedBy], [l].[LecturerId], [l].[ProficiencyLevel], [l].[SkillTag], [r0].[Id], [r0].[AverageScoreGiven], [r0].[AverageTimeMinutes], [r0].[CompletedAssignments], [r0].[LastUpdated], [r0].[OnTimeRate], [r0].[QualityRating], [r0].[ReviewerId], [r0].[SemesterId], [r0].[TotalAssignments], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [user_roles] AS [u]
INNER JOIN [roles] AS [r] ON [u].[RoleId] = [r].[Id]
INNER JOIN [users] AS [u0] ON [u].[UserId] = [u0].[Id]
LEFT JOIN [lecturer_skills] AS [l] ON [u0].[Id] = [l].[LecturerId]
LEFT JOIN [reviewer_performance] AS [r0] ON [u0].[Id] = [r0].[ReviewerId]
WHERE [r].[Name] = N'Reviewer'
ORDER BY [u].[UserId], [u].[RoleId], [r].[Id], [u0].[Id], [l].[Id]
2025-10-03 19:16:51.590 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 19:16:51.590 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 8ms reading results.
2025-10-03 19:16:51.590 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:16:51.591 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 19:16:51.595 +07:00 [DBG] Compiling query expression: 
'DbSet<ReviewerAssignment>()
    .AsNoTracking()
    .Include(ra => ra.Submission)
    .Include(ra => ra.Submission.Topic)
    .Include(ra => ra.Submission.TopicVersion)
    .Include(ra => ra.Submission.TopicVersion.Topic)
    .Where(ra => __8__locals2_reviewerIds_0.Contains(ra.ReviewerId) && ra.Submission != null && ra.Submission.Topic != null && ra.Submission.Topic.SemesterId == __sid_1 || ra.Submission != null && ra.Submission.TopicVersion != null && ra.Submission.TopicVersion.Topic != null && ra.Submission.TopicVersion.Topic.SemesterId == __sid_1)'
2025-10-03 19:16:51.599 +07:00 [DBG] Including navigation: 'ReviewerAssignment.Submission'.
2025-10-03 19:16:51.599 +07:00 [DBG] Including navigation: 'Submission.Topic'.
2025-10-03 19:16:51.599 +07:00 [DBG] Including navigation: 'Submission.TopicVersion'.
2025-10-03 19:16:51.599 +07:00 [DBG] Including navigation: 'TopicVersion.Topic'.
2025-10-03 19:16:51.642 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<ReviewerAssignment>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: ReviewerAssignment.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ReviewerAssignment.AssignedAt (DateTime) Required ValueGenerated.OnAdd, 1], [Property: ReviewerAssignment.AssignedBy (int) Required FK Index, 2], [Property: ReviewerAssignment.AssignmentType (AssignmentTypes) Required ValueGenerated.OnAdd, 3], [Property: ReviewerAssignment.CompletedAt (DateTime?), 4], [Property: ReviewerAssignment.Deadline (DateTime?) Index, 5], [Property: ReviewerAssignment.ReviewerId (int) Required FK Index, 6], [Property: ReviewerAssignment.SkillMatchScore (decimal?), 7], [Property: ReviewerAssignment.StartedAt (DateTime?), 8], [Property: ReviewerAssignment.Status (AssignmentStatus) Required Index ValueGenerated.OnAdd, 9], [Property: ReviewerAssignment.SubmissionId (int) Required FK Index, 10] }
            1 -> Dictionary<IProperty, int> { [Property: Submission.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 11], [Property: Submission.AdditionalNotes (string), 12], [Property: Submission.AiCheckDetails (string), 13], [Property: Submission.AiCheckScore (decimal?), 14], [Property: Submission.AiCheckStatus (AiCheckStatus) Required ValueGenerated.OnAdd, 15], [Property: Submission.CreatedAt (DateTime) Required, 16], [Property: Submission.CreatedBy (string), 17], [Property: Submission.DeletedAt (DateTime?), 18], [Property: Submission.DocumentUrl (string) MaxLength(500), 19], [Property: Submission.IsActive (bool) Required, 20], [Property: Submission.LastModifiedAt (DateTime?), 21], [Property: Submission.LastModifiedBy (string), 22], [Property: Submission.PhaseId (int) Required FK Index, 23], [Property: Submission.Status (SubmissionStatus) Required Index ValueGenerated.OnAdd, 24], [Property: Submission.SubmissionRound (int) Required Index ValueGenerated.OnAdd, 25], [Property: Submission.SubmittedAt (DateTime?) Index ValueGenerated.OnAdd, 26], [Property: Submission.SubmittedBy (int) Required FK Index, 27], [Property: Submission.TopicId (int) Required FK Index, 28], [Property: Submission.TopicVersionId (int?) FK Index, 29] }
            2 -> Dictionary<IProperty, int> { [Property: Topic.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 30], [Property: Topic.Abbreviation (string), 31], [Property: Topic.CategoryId (int?) FK Index, 32], [Property: Topic.Content (string), 33], [Property: Topic.Context (string), 34], [Property: Topic.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 35], [Property: Topic.CreatedBy (string), 36], [Property: Topic.DeletedAt (DateTime?), 37], [Property: Topic.Description (string), 38], [Property: Topic.EN_Title (string) Required MaxLength(500), 39], [Property: Topic.IsActive (bool) Required, 40], [Property: Topic.IsApproved (bool) Required Index Sentinel:True ValueGenerated.OnAdd, 41], [Property: Topic.IsLegacy (bool) Required Index ValueGenerated.OnAdd, 42], [Property: Topic.LastModifiedAt (DateTime?), 43], [Property: Topic.LastModifiedBy (string), 44], [Property: Topic.MaxStudents (int) Required ValueGenerated.OnAdd, 45], [Property: Topic.Objectives (string), 46], [Property: Topic.PotentialDuplicate (string), 47], [Property: Topic.Problem (string), 48], [Property: Topic.SemesterId (int) Required FK Index, 49], [Property: Topic.SupervisorId (int) Required FK Index, 50], [Property: Topic.VN_title (string), 51] }
            3 -> Dictionary<IProperty, int> { [Property: TopicVersion.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 52], [Property: TopicVersion.Content (string), 53], [Property: TopicVersion.Context (string), 54], [Property: TopicVersion.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 55], [Property: TopicVersion.CreatedBy (string), 56], [Property: TopicVersion.DeletedAt (DateTime?), 57], [Property: TopicVersion.Description (string), 58], [Property: TopicVersion.DocumentUrl (string) MaxLength(500), 59], [Property: TopicVersion.EN_Title (string) Required MaxLength(500), 60], [Property: TopicVersion.ExpectedOutcomes (string), 61], [Property: TopicVersion.IsActive (bool) Required, 62], [Property: TopicVersion.LastModifiedAt (DateTime?), 63], [Property: TopicVersion.LastModifiedBy (string), 64], [Property: TopicVersion.Methodology (string), 65], [Property: TopicVersion.Objectives (string), 66], [Property: TopicVersion.PotentialDuplicate (string), 67], [Property: TopicVersion.Problem (string), 68], [Property: TopicVersion.Requirements (string), 69], [Property: TopicVersion.Status (TopicStatus) Required Index ValueGenerated.OnAdd, 70], [Property: TopicVersion.SubmittedAt (DateTime?), 71], [Property: TopicVersion.SubmittedBy (int?) FK Index, 72], [Property: TopicVersion.TopicId (int) Required FK Index, 73], [Property: TopicVersion.VN_title (string), 74], [Property: TopicVersion.VersionNumber (int) Required Index, 75] }
            4 -> Dictionary<IProperty, int> { [Property: Topic.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 76], [Property: Topic.Abbreviation (string), 77], [Property: Topic.CategoryId (int?) FK Index, 78], [Property: Topic.Content (string), 79], [Property: Topic.Context (string), 80], [Property: Topic.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 81], [Property: Topic.CreatedBy (string), 82], [Property: Topic.DeletedAt (DateTime?), 83], [Property: Topic.Description (string), 84], [Property: Topic.EN_Title (string) Required MaxLength(500), 85], [Property: Topic.IsActive (bool) Required, 86], [Property: Topic.IsApproved (bool) Required Index Sentinel:True ValueGenerated.OnAdd, 87], [Property: Topic.IsLegacy (bool) Required Index ValueGenerated.OnAdd, 88], [Property: Topic.LastModifiedAt (DateTime?), 89], [Property: Topic.LastModifiedBy (string), 90], [Property: Topic.MaxStudents (int) Required ValueGenerated.OnAdd, 91], [Property: Topic.Objectives (string), 92], [Property: Topic.PotentialDuplicate (string), 93], [Property: Topic.Problem (string), 94], [Property: Topic.SemesterId (int) Required FK Index, 95], [Property: Topic.SupervisorId (int) Required FK Index, 96], [Property: Topic.VN_title (string), 97] }
        SELECT r.Id, r.AssignedAt, r.AssignedBy, r.AssignmentType, r.CompletedAt, r.Deadline, r.ReviewerId, r.SkillMatchScore, r.StartedAt, r.Status, r.SubmissionId, s.Id, s.AdditionalNotes, s.AiCheckDetails, s.AiCheckScore, s.AiCheckStatus, s.CreatedAt, s.CreatedBy, s.DeletedAt, s.DocumentUrl, s.IsActive, s.LastModifiedAt, s.LastModifiedBy, s.PhaseId, s.Status, s.SubmissionRound, s.SubmittedAt, s.SubmittedBy, s.TopicId, s.TopicVersionId, t.Id, t.Abbreviation, t.CategoryId, t.Content, t.Context, t.CreatedAt, t.CreatedBy, t.DeletedAt, t.Description, t.EN_Title, t.IsActive, t.IsApproved, t.IsLegacy, t.LastModifiedAt, t.LastModifiedBy, t.MaxStudents, t.Objectives, t.PotentialDuplicate, t.Problem, t.SemesterId, t.SupervisorId, t.VN_title, t0.Id, t0.Content, t0.Context, t0.CreatedAt, t0.CreatedBy, t0.DeletedAt, t0.Description, t0.DocumentUrl, t0.EN_Title, t0.ExpectedOutcomes, t0.IsActive, t0.LastModifiedAt, t0.LastModifiedBy, t0.Methodology, t0.Objectives, t0.PotentialDuplicate, t0.Problem, t0.Requirements, t0.Status, t0.SubmittedAt, t0.SubmittedBy, t0.TopicId, t0.VN_title, t0.VersionNumber, t1.Id, t1.Abbreviation, t1.CategoryId, t1.Content, t1.Context, t1.CreatedAt, t1.CreatedBy, t1.DeletedAt, t1.Description, t1.EN_Title, t1.IsActive, t1.IsApproved, t1.IsLegacy, t1.LastModifiedAt, t1.LastModifiedBy, t1.MaxStudents, t1.Objectives, t1.PotentialDuplicate, t1.Problem, t1.SemesterId, t1.SupervisorId, t1.VN_title
        FROM reviewer_assignments AS r
        INNER JOIN submissions AS s ON r.SubmissionId == s.Id
        LEFT JOIN topics AS t ON s.TopicId == t.Id
        LEFT JOIN topic_versions AS t0 ON s.TopicVersionId == t0.Id
        LEFT JOIN topics AS t1 ON t0.TopicId == t1.Id
        WHERE r.ReviewerId IN (
            SELECT 8.value
            FROM OPENJSON(@__8__locals2_reviewerIds_0) WITH (value int '') AS 8) && (((Not(s.Id == NULL) && Not(t.Id == NULL)) && (t.SemesterId == @__sid_1)) || (((Not(s.Id == NULL) && Not(t0.Id == NULL)) && Not(t1.Id == NULL)) && (t1.SemesterId == @__sid_1)))), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ReviewerAssignment>, 
    App.DAL.Context.MyDbContext, 
    False, 
    False, 
    True
)'
2025-10-03 19:16:51.650 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:16:51.650 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:16:51.650 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 19:16:51.650 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:16:51.656 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2025-10-03 19:16:51.656 +07:00 [DBG] Executing DbCommand [Parameters=[@__8__locals2_reviewerIds_0='?' (Size = 4000), @__sid_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId], [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Abbreviation], [t].[CategoryId], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[EN_Title], [t].[IsActive], [t].[IsApproved], [t].[IsLegacy], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[MaxStudents], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[SemesterId], [t].[SupervisorId], [t].[VN_title], [t0].[Id], [t0].[Content], [t0].[Context], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[DocumentUrl], [t0].[EN_Title], [t0].[ExpectedOutcomes], [t0].[IsActive], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[Methodology], [t0].[Objectives], [t0].[PotentialDuplicate], [t0].[Problem], [t0].[Requirements], [t0].[Status], [t0].[SubmittedAt], [t0].[SubmittedBy], [t0].[TopicId], [t0].[VN_title], [t0].[VersionNumber], [t1].[Id], [t1].[Abbreviation], [t1].[CategoryId], [t1].[Content], [t1].[Context], [t1].[CreatedAt], [t1].[CreatedBy], [t1].[DeletedAt], [t1].[Description], [t1].[EN_Title], [t1].[IsActive], [t1].[IsApproved], [t1].[IsLegacy], [t1].[LastModifiedAt], [t1].[LastModifiedBy], [t1].[MaxStudents], [t1].[Objectives], [t1].[PotentialDuplicate], [t1].[Problem], [t1].[SemesterId], [t1].[SupervisorId], [t1].[VN_title]
FROM [reviewer_assignments] AS [r]
INNER JOIN [submissions] AS [s] ON [r].[SubmissionId] = [s].[Id]
LEFT JOIN [topics] AS [t] ON [s].[TopicId] = [t].[Id]
LEFT JOIN [topic_versions] AS [t0] ON [s].[TopicVersionId] = [t0].[Id]
LEFT JOIN [topics] AS [t1] ON [t0].[TopicId] = [t1].[Id]
WHERE [r].[ReviewerId] IN (
    SELECT [8].[value]
    FROM OPENJSON(@__8__locals2_reviewerIds_0) WITH ([value] int '$') AS [8]
) AND (([t].[Id] IS NOT NULL AND [t].[SemesterId] = @__sid_1) OR ([t0].[Id] IS NOT NULL AND [t1].[Id] IS NOT NULL AND [t1].[SemesterId] = @__sid_1))
2025-10-03 19:16:51.683 +07:00 [INF] Executed DbCommand (27ms) [Parameters=[@__8__locals2_reviewerIds_0='?' (Size = 4000), @__sid_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId], [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Abbreviation], [t].[CategoryId], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[EN_Title], [t].[IsActive], [t].[IsApproved], [t].[IsLegacy], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[MaxStudents], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[SemesterId], [t].[SupervisorId], [t].[VN_title], [t0].[Id], [t0].[Content], [t0].[Context], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[DocumentUrl], [t0].[EN_Title], [t0].[ExpectedOutcomes], [t0].[IsActive], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[Methodology], [t0].[Objectives], [t0].[PotentialDuplicate], [t0].[Problem], [t0].[Requirements], [t0].[Status], [t0].[SubmittedAt], [t0].[SubmittedBy], [t0].[TopicId], [t0].[VN_title], [t0].[VersionNumber], [t1].[Id], [t1].[Abbreviation], [t1].[CategoryId], [t1].[Content], [t1].[Context], [t1].[CreatedAt], [t1].[CreatedBy], [t1].[DeletedAt], [t1].[Description], [t1].[EN_Title], [t1].[IsActive], [t1].[IsApproved], [t1].[IsLegacy], [t1].[LastModifiedAt], [t1].[LastModifiedBy], [t1].[MaxStudents], [t1].[Objectives], [t1].[PotentialDuplicate], [t1].[Problem], [t1].[SemesterId], [t1].[SupervisorId], [t1].[VN_title]
FROM [reviewer_assignments] AS [r]
INNER JOIN [submissions] AS [s] ON [r].[SubmissionId] = [s].[Id]
LEFT JOIN [topics] AS [t] ON [s].[TopicId] = [t].[Id]
LEFT JOIN [topic_versions] AS [t0] ON [s].[TopicVersionId] = [t0].[Id]
LEFT JOIN [topics] AS [t1] ON [t0].[TopicId] = [t1].[Id]
WHERE [r].[ReviewerId] IN (
    SELECT [8].[value]
    FROM OPENJSON(@__8__locals2_reviewerIds_0) WITH ([value] int '$') AS [8]
) AND (([t].[Id] IS NOT NULL AND [t].[SemesterId] = @__sid_1) OR ([t0].[Id] IS NOT NULL AND [t1].[Id] IS NOT NULL AND [t1].[SemesterId] = @__sid_1))
2025-10-03 19:16:51.693 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 19:16:51.693 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 9ms reading results.
2025-10-03 19:16:51.693 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:16:51.694 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 19:16:51.699 +07:00 [DBG] Compiling query expression: 
'DbSet<ReviewerPerformance>()
    .AsNoTracking()
    .Where(rp => __reviewerIds_0.Contains(rp.ReviewerId) && False || rp.SemesterId == __8__locals1_semesterId_Value_1)'
2025-10-03 19:16:51.705 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<ReviewerPerformance>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ReviewerPerformance.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ReviewerPerformance.AverageScoreGiven (decimal?), 1], [Property: ReviewerPerformance.AverageTimeMinutes (int) Required ValueGenerated.OnAdd, 2], [Property: ReviewerPerformance.CompletedAssignments (int) Required ValueGenerated.OnAdd, 3], [Property: ReviewerPerformance.LastUpdated (DateTime) Required ValueGenerated.OnAdd, 4], [Property: ReviewerPerformance.OnTimeRate (decimal?), 5], [Property: ReviewerPerformance.QualityRating (decimal?), 6], [Property: ReviewerPerformance.ReviewerId (int) Required FK Index, 7], [Property: ReviewerPerformance.SemesterId (int) Required FK Index, 8], [Property: ReviewerPerformance.TotalAssignments (int) Required ValueGenerated.OnAdd, 9] }
        SELECT r.Id, r.AverageScoreGiven, r.AverageTimeMinutes, r.CompletedAssignments, r.LastUpdated, r.OnTimeRate, r.QualityRating, r.ReviewerId, r.SemesterId, r.TotalAssignments
        FROM reviewer_performance AS r
        WHERE r.ReviewerId IN (
            SELECT r0.value
            FROM OPENJSON(@__reviewerIds_0) WITH (value int '') AS r0) && (CAST(0 AS bit) || (r.SemesterId == @__8__locals1_semesterId_Value_1))), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ReviewerPerformance>, 
    App.DAL.Context.MyDbContext, 
    False, 
    False, 
    True
)'
2025-10-03 19:16:51.707 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:16:51.707 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:16:51.707 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 19:16:51.707 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:16:51.707 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:16:51.708 +07:00 [DBG] Executing DbCommand [Parameters=[@__reviewerIds_0='?' (Size = 4000), @__8__locals1_semesterId_Value_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AverageScoreGiven], [r].[AverageTimeMinutes], [r].[CompletedAssignments], [r].[LastUpdated], [r].[OnTimeRate], [r].[QualityRating], [r].[ReviewerId], [r].[SemesterId], [r].[TotalAssignments]
FROM [reviewer_performance] AS [r]
WHERE [r].[ReviewerId] IN (
    SELECT [r0].[value]
    FROM OPENJSON(@__reviewerIds_0) WITH ([value] int '$') AS [r0]
) AND [r].[SemesterId] = @__8__locals1_semesterId_Value_1
2025-10-03 19:16:51.712 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__reviewerIds_0='?' (Size = 4000), @__8__locals1_semesterId_Value_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AverageScoreGiven], [r].[AverageTimeMinutes], [r].[CompletedAssignments], [r].[LastUpdated], [r].[OnTimeRate], [r].[QualityRating], [r].[ReviewerId], [r].[SemesterId], [r].[TotalAssignments]
FROM [reviewer_performance] AS [r]
WHERE [r].[ReviewerId] IN (
    SELECT [r0].[value]
    FROM OPENJSON(@__reviewerIds_0) WITH ([value] int '$') AS [r0]
) AND [r].[SemesterId] = @__8__locals1_semesterId_Value_1
2025-10-03 19:16:51.712 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 19:16:51.713 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-10-03 19:16:51.713 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:16:51.713 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 19:16:51.724 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-10-03 19:16:51.725 +07:00 [DBG] No information found on request to perform content negotiation.
2025-10-03 19:16:51.725 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-10-03 19:16:51.726 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-10-03 19:16:51.727 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-10-03 19:16:51.727 +07:00 [INF] Executing ObjectResult, writing value of type 'FS.Commons.FSResponse'.
2025-10-03 19:16:51.775 +07:00 [INF] Executed action CapBot.api.Controllers.ReviewerAssignmentController.GetReviewersWorkload (CapBot.api) in 416.8193ms
2025-10-03 19:16:51.775 +07:00 [INF] Executed endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetReviewersWorkload (CapBot.api)'
2025-10-03 19:16:51.778 +07:00 [DBG] Connection id "0HNG2EQOPDV1L" completed keep alive response.
2025-10-03 19:16:51.778 +07:00 [DBG] 'MyDbContext' disposed.
2025-10-03 19:16:51.778 +07:00 [DBG] Disposing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:16:51.778 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-10-03 19:16:51.779 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5207/api/reviewer-assignments/workload?semesterId=1 - 200 null application/json; charset=utf-8 608.2916ms
2025-10-03 19:17:52.460 +07:00 [DBG] Connection id "0HNG2EQOPDV1M" received FIN.
2025-10-03 19:17:52.463 +07:00 [DBG] Connection id "0HNG2EQOPDV1M" disconnecting.
2025-10-03 19:17:52.467 +07:00 [DBG] Connection id "0HNG2EQOPDV1M" stopped.
2025-10-03 19:17:52.467 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5207/api/reviewer-assignments/workload?semesterId=1 - null null
2025-10-03 19:17:52.468 +07:00 [DBG] The request path /api/reviewer-assignments/workload does not match a supported file type
2025-10-03 19:17:52.469 +07:00 [DBG] The request path /api/reviewer-assignments/workload does not match a supported file type
2025-10-03 19:17:52.472 +07:00 [DBG] Connection id "0HNG2EQOPDV1M" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-10-03 19:17:52.518 +07:00 [DBG] 1 candidate(s) found for the request path '/api/reviewer-assignments/workload'
2025-10-03 19:17:52.519 +07:00 [DBG] Endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetReviewersWorkload (CapBot.api)' with route pattern 'api/reviewer-assignments/workload' is valid for the request path '/api/reviewer-assignments/workload'
2025-10-03 19:17:52.519 +07:00 [DBG] Request matched endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetReviewersWorkload (CapBot.api)'
2025-10-03 19:17:52.522 +07:00 [DBG] Successfully validated the token.
2025-10-03 19:17:52.522 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-10-03 19:17:52.524 +07:00 [DBG] Authorization was successful.
2025-10-03 19:17:52.525 +07:00 [INF] Executing endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetReviewersWorkload (CapBot.api)'
2025-10-03 19:17:52.526 +07:00 [INF] Route matched with {action = "GetReviewersWorkload", controller = "ReviewerAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetReviewersWorkload(System.Nullable`1[System.Int32]) on controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api).
2025-10-03 19:17:52.526 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-10-03 19:17:52.527 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-10-03 19:17:52.527 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2025-10-03 19:17:52.527 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-10-03 19:17:52.527 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-10-03 19:17:52.527 +07:00 [DBG] Executing controller factory for controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api)
2025-10-03 19:17:52.530 +07:00 [DBG] Executed controller factory for controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api)
2025-10-03 19:17:52.532 +07:00 [DBG] Attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]' ...
2025-10-03 19:17:52.534 +07:00 [DBG] Attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]' using the name 'semesterId' in request data ...
2025-10-03 19:17:52.534 +07:00 [DBG] Done attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]'.
2025-10-03 19:17:52.534 +07:00 [DBG] Done attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]'.
2025-10-03 19:17:52.534 +07:00 [DBG] Attempting to validate the bound parameter 'semesterId' of type 'System.Nullable`1[System.Int32]' ...
2025-10-03 19:17:52.535 +07:00 [DBG] Done attempting to validate the bound parameter 'semesterId' of type 'System.Nullable`1[System.Int32]'.
2025-10-03 19:17:52.539 +07:00 [DBG] Entity Framework Core 8.0.16 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: MigrationsAssembly=App.DAL 
2025-10-03 19:17:52.541 +07:00 [DBG] Creating DbConnection.
2025-10-03 19:17:52.541 +07:00 [DBG] Created DbConnection. (0ms).
2025-10-03 19:17:52.542 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:17:52.542 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:17:52.542 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 19:17:52.542 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:17:52.542 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:17:52.542 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[RoleId], [u0].[Id], [u0].[AccessFailedCount], [u0].[ConcurrencyStamp], [u0].[CreatedAt], [u0].[DeletedAt], [u0].[Email], [u0].[EmailConfirmed], [u0].[LastModifiedAt], [u0].[LastModifiedBy], [u0].[LockoutEnabled], [u0].[LockoutEnd], [u0].[NormalizedEmail], [u0].[NormalizedUserName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[PhoneNumberConfirmed], [u0].[SecurityStamp], [u0].[TwoFactorEnabled], [u0].[UserName], [r].[Id], [l].[Id], [l].[CreatedAt], [l].[CreatedBy], [l].[DeletedAt], [l].[IsActive], [l].[LastModifiedAt], [l].[LastModifiedBy], [l].[LecturerId], [l].[ProficiencyLevel], [l].[SkillTag], [r0].[Id], [r0].[AverageScoreGiven], [r0].[AverageTimeMinutes], [r0].[CompletedAssignments], [r0].[LastUpdated], [r0].[OnTimeRate], [r0].[QualityRating], [r0].[ReviewerId], [r0].[SemesterId], [r0].[TotalAssignments], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [user_roles] AS [u]
INNER JOIN [roles] AS [r] ON [u].[RoleId] = [r].[Id]
INNER JOIN [users] AS [u0] ON [u].[UserId] = [u0].[Id]
LEFT JOIN [lecturer_skills] AS [l] ON [u0].[Id] = [l].[LecturerId]
LEFT JOIN [reviewer_performance] AS [r0] ON [u0].[Id] = [r0].[ReviewerId]
WHERE [r].[Name] = N'Reviewer'
ORDER BY [u].[UserId], [u].[RoleId], [r].[Id], [u0].[Id], [l].[Id]
2025-10-03 19:17:52.599 +07:00 [INF] Executed DbCommand (57ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[RoleId], [u0].[Id], [u0].[AccessFailedCount], [u0].[ConcurrencyStamp], [u0].[CreatedAt], [u0].[DeletedAt], [u0].[Email], [u0].[EmailConfirmed], [u0].[LastModifiedAt], [u0].[LastModifiedBy], [u0].[LockoutEnabled], [u0].[LockoutEnd], [u0].[NormalizedEmail], [u0].[NormalizedUserName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[PhoneNumberConfirmed], [u0].[SecurityStamp], [u0].[TwoFactorEnabled], [u0].[UserName], [r].[Id], [l].[Id], [l].[CreatedAt], [l].[CreatedBy], [l].[DeletedAt], [l].[IsActive], [l].[LastModifiedAt], [l].[LastModifiedBy], [l].[LecturerId], [l].[ProficiencyLevel], [l].[SkillTag], [r0].[Id], [r0].[AverageScoreGiven], [r0].[AverageTimeMinutes], [r0].[CompletedAssignments], [r0].[LastUpdated], [r0].[OnTimeRate], [r0].[QualityRating], [r0].[ReviewerId], [r0].[SemesterId], [r0].[TotalAssignments], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [user_roles] AS [u]
INNER JOIN [roles] AS [r] ON [u].[RoleId] = [r].[Id]
INNER JOIN [users] AS [u0] ON [u].[UserId] = [u0].[Id]
LEFT JOIN [lecturer_skills] AS [l] ON [u0].[Id] = [l].[LecturerId]
LEFT JOIN [reviewer_performance] AS [r0] ON [u0].[Id] = [r0].[ReviewerId]
WHERE [r].[Name] = N'Reviewer'
ORDER BY [u].[UserId], [u].[RoleId], [r].[Id], [u0].[Id], [l].[Id]
2025-10-03 19:17:52.604 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 19:17:52.604 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 4ms reading results.
2025-10-03 19:17:52.604 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:17:52.605 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 19:17:52.606 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:17:52.606 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:17:52.606 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 19:17:52.607 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:17:52.607 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:17:52.607 +07:00 [DBG] Executing DbCommand [Parameters=[@__8__locals2_reviewerIds_0='?' (Size = 4000), @__sid_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId], [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Abbreviation], [t].[CategoryId], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[EN_Title], [t].[IsActive], [t].[IsApproved], [t].[IsLegacy], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[MaxStudents], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[SemesterId], [t].[SupervisorId], [t].[VN_title], [t0].[Id], [t0].[Content], [t0].[Context], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[DocumentUrl], [t0].[EN_Title], [t0].[ExpectedOutcomes], [t0].[IsActive], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[Methodology], [t0].[Objectives], [t0].[PotentialDuplicate], [t0].[Problem], [t0].[Requirements], [t0].[Status], [t0].[SubmittedAt], [t0].[SubmittedBy], [t0].[TopicId], [t0].[VN_title], [t0].[VersionNumber], [t1].[Id], [t1].[Abbreviation], [t1].[CategoryId], [t1].[Content], [t1].[Context], [t1].[CreatedAt], [t1].[CreatedBy], [t1].[DeletedAt], [t1].[Description], [t1].[EN_Title], [t1].[IsActive], [t1].[IsApproved], [t1].[IsLegacy], [t1].[LastModifiedAt], [t1].[LastModifiedBy], [t1].[MaxStudents], [t1].[Objectives], [t1].[PotentialDuplicate], [t1].[Problem], [t1].[SemesterId], [t1].[SupervisorId], [t1].[VN_title]
FROM [reviewer_assignments] AS [r]
INNER JOIN [submissions] AS [s] ON [r].[SubmissionId] = [s].[Id]
LEFT JOIN [topics] AS [t] ON [s].[TopicId] = [t].[Id]
LEFT JOIN [topic_versions] AS [t0] ON [s].[TopicVersionId] = [t0].[Id]
LEFT JOIN [topics] AS [t1] ON [t0].[TopicId] = [t1].[Id]
WHERE [r].[ReviewerId] IN (
    SELECT [8].[value]
    FROM OPENJSON(@__8__locals2_reviewerIds_0) WITH ([value] int '$') AS [8]
) AND (([t].[Id] IS NOT NULL AND [t].[SemesterId] = @__sid_1) OR ([t0].[Id] IS NOT NULL AND [t1].[Id] IS NOT NULL AND [t1].[SemesterId] = @__sid_1))
2025-10-03 19:17:52.665 +07:00 [INF] Executed DbCommand (58ms) [Parameters=[@__8__locals2_reviewerIds_0='?' (Size = 4000), @__sid_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId], [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Abbreviation], [t].[CategoryId], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[EN_Title], [t].[IsActive], [t].[IsApproved], [t].[IsLegacy], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[MaxStudents], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[SemesterId], [t].[SupervisorId], [t].[VN_title], [t0].[Id], [t0].[Content], [t0].[Context], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[DocumentUrl], [t0].[EN_Title], [t0].[ExpectedOutcomes], [t0].[IsActive], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[Methodology], [t0].[Objectives], [t0].[PotentialDuplicate], [t0].[Problem], [t0].[Requirements], [t0].[Status], [t0].[SubmittedAt], [t0].[SubmittedBy], [t0].[TopicId], [t0].[VN_title], [t0].[VersionNumber], [t1].[Id], [t1].[Abbreviation], [t1].[CategoryId], [t1].[Content], [t1].[Context], [t1].[CreatedAt], [t1].[CreatedBy], [t1].[DeletedAt], [t1].[Description], [t1].[EN_Title], [t1].[IsActive], [t1].[IsApproved], [t1].[IsLegacy], [t1].[LastModifiedAt], [t1].[LastModifiedBy], [t1].[MaxStudents], [t1].[Objectives], [t1].[PotentialDuplicate], [t1].[Problem], [t1].[SemesterId], [t1].[SupervisorId], [t1].[VN_title]
FROM [reviewer_assignments] AS [r]
INNER JOIN [submissions] AS [s] ON [r].[SubmissionId] = [s].[Id]
LEFT JOIN [topics] AS [t] ON [s].[TopicId] = [t].[Id]
LEFT JOIN [topic_versions] AS [t0] ON [s].[TopicVersionId] = [t0].[Id]
LEFT JOIN [topics] AS [t1] ON [t0].[TopicId] = [t1].[Id]
WHERE [r].[ReviewerId] IN (
    SELECT [8].[value]
    FROM OPENJSON(@__8__locals2_reviewerIds_0) WITH ([value] int '$') AS [8]
) AND (([t].[Id] IS NOT NULL AND [t].[SemesterId] = @__sid_1) OR ([t0].[Id] IS NOT NULL AND [t1].[Id] IS NOT NULL AND [t1].[SemesterId] = @__sid_1))
2025-10-03 19:17:52.669 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 19:17:52.669 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 4ms reading results.
2025-10-03 19:17:52.669 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:17:52.669 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 19:17:52.671 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:17:52.671 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:17:52.671 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 19:17:52.671 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:17:52.671 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:17:52.671 +07:00 [DBG] Executing DbCommand [Parameters=[@__reviewerIds_0='?' (Size = 4000), @__8__locals1_semesterId_Value_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AverageScoreGiven], [r].[AverageTimeMinutes], [r].[CompletedAssignments], [r].[LastUpdated], [r].[OnTimeRate], [r].[QualityRating], [r].[ReviewerId], [r].[SemesterId], [r].[TotalAssignments]
FROM [reviewer_performance] AS [r]
WHERE [r].[ReviewerId] IN (
    SELECT [r0].[value]
    FROM OPENJSON(@__reviewerIds_0) WITH ([value] int '$') AS [r0]
) AND [r].[SemesterId] = @__8__locals1_semesterId_Value_1
2025-10-03 19:17:52.677 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__reviewerIds_0='?' (Size = 4000), @__8__locals1_semesterId_Value_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AverageScoreGiven], [r].[AverageTimeMinutes], [r].[CompletedAssignments], [r].[LastUpdated], [r].[OnTimeRate], [r].[QualityRating], [r].[ReviewerId], [r].[SemesterId], [r].[TotalAssignments]
FROM [reviewer_performance] AS [r]
WHERE [r].[ReviewerId] IN (
    SELECT [r0].[value]
    FROM OPENJSON(@__reviewerIds_0) WITH ([value] int '$') AS [r0]
) AND [r].[SemesterId] = @__8__locals1_semesterId_Value_1
2025-10-03 19:17:52.678 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 19:17:52.678 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-10-03 19:17:52.678 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:17:52.678 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 19:17:52.679 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-10-03 19:17:52.679 +07:00 [DBG] No information found on request to perform content negotiation.
2025-10-03 19:17:52.679 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-10-03 19:17:52.679 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-10-03 19:17:52.680 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-10-03 19:17:52.680 +07:00 [INF] Executing ObjectResult, writing value of type 'FS.Commons.FSResponse'.
2025-10-03 19:17:52.682 +07:00 [INF] Executed action CapBot.api.Controllers.ReviewerAssignmentController.GetReviewersWorkload (CapBot.api) in 154.8002ms
2025-10-03 19:17:52.683 +07:00 [INF] Executed endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetReviewersWorkload (CapBot.api)'
2025-10-03 19:17:52.684 +07:00 [DBG] Connection id "0HNG2EQOPDV1L" completed keep alive response.
2025-10-03 19:17:52.684 +07:00 [DBG] 'MyDbContext' disposed.
2025-10-03 19:17:52.684 +07:00 [DBG] Disposing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:17:52.685 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-10-03 19:17:52.686 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5207/api/reviewer-assignments/workload?semesterId=1 - 200 null application/json; charset=utf-8 218.5896ms
2025-10-03 19:17:53.521 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5207/api/reviewer-assignments/workload?semesterId=1 - null null
2025-10-03 19:17:53.521 +07:00 [DBG] The request path /api/reviewer-assignments/workload does not match a supported file type
2025-10-03 19:17:53.521 +07:00 [DBG] The request path /api/reviewer-assignments/workload does not match a supported file type
2025-10-03 19:17:53.522 +07:00 [DBG] 1 candidate(s) found for the request path '/api/reviewer-assignments/workload'
2025-10-03 19:17:53.522 +07:00 [DBG] Endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetReviewersWorkload (CapBot.api)' with route pattern 'api/reviewer-assignments/workload' is valid for the request path '/api/reviewer-assignments/workload'
2025-10-03 19:17:53.522 +07:00 [DBG] Request matched endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetReviewersWorkload (CapBot.api)'
2025-10-03 19:17:53.525 +07:00 [DBG] Successfully validated the token.
2025-10-03 19:17:53.525 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-10-03 19:17:53.526 +07:00 [DBG] Authorization was successful.
2025-10-03 19:17:53.527 +07:00 [INF] Executing endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetReviewersWorkload (CapBot.api)'
2025-10-03 19:17:53.527 +07:00 [INF] Route matched with {action = "GetReviewersWorkload", controller = "ReviewerAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetReviewersWorkload(System.Nullable`1[System.Int32]) on controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api).
2025-10-03 19:17:53.527 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-10-03 19:17:53.527 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-10-03 19:17:53.527 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2025-10-03 19:17:53.527 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-10-03 19:17:53.528 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-10-03 19:17:53.528 +07:00 [DBG] Executing controller factory for controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api)
2025-10-03 19:17:53.559 +07:00 [DBG] Executed controller factory for controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api)
2025-10-03 19:17:53.560 +07:00 [DBG] Attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]' ...
2025-10-03 19:17:53.560 +07:00 [DBG] Attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]' using the name 'semesterId' in request data ...
2025-10-03 19:17:53.560 +07:00 [DBG] Done attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]'.
2025-10-03 19:17:53.561 +07:00 [DBG] Done attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]'.
2025-10-03 19:17:53.561 +07:00 [DBG] Attempting to validate the bound parameter 'semesterId' of type 'System.Nullable`1[System.Int32]' ...
2025-10-03 19:17:53.561 +07:00 [DBG] Done attempting to validate the bound parameter 'semesterId' of type 'System.Nullable`1[System.Int32]'.
2025-10-03 19:17:53.562 +07:00 [DBG] Entity Framework Core 8.0.16 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: MigrationsAssembly=App.DAL 
2025-10-03 19:17:53.563 +07:00 [DBG] Creating DbConnection.
2025-10-03 19:17:53.563 +07:00 [DBG] Created DbConnection. (0ms).
2025-10-03 19:17:53.564 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:17:53.564 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:17:53.564 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 19:17:53.564 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:17:53.564 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:17:53.564 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[RoleId], [u0].[Id], [u0].[AccessFailedCount], [u0].[ConcurrencyStamp], [u0].[CreatedAt], [u0].[DeletedAt], [u0].[Email], [u0].[EmailConfirmed], [u0].[LastModifiedAt], [u0].[LastModifiedBy], [u0].[LockoutEnabled], [u0].[LockoutEnd], [u0].[NormalizedEmail], [u0].[NormalizedUserName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[PhoneNumberConfirmed], [u0].[SecurityStamp], [u0].[TwoFactorEnabled], [u0].[UserName], [r].[Id], [l].[Id], [l].[CreatedAt], [l].[CreatedBy], [l].[DeletedAt], [l].[IsActive], [l].[LastModifiedAt], [l].[LastModifiedBy], [l].[LecturerId], [l].[ProficiencyLevel], [l].[SkillTag], [r0].[Id], [r0].[AverageScoreGiven], [r0].[AverageTimeMinutes], [r0].[CompletedAssignments], [r0].[LastUpdated], [r0].[OnTimeRate], [r0].[QualityRating], [r0].[ReviewerId], [r0].[SemesterId], [r0].[TotalAssignments], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [user_roles] AS [u]
INNER JOIN [roles] AS [r] ON [u].[RoleId] = [r].[Id]
INNER JOIN [users] AS [u0] ON [u].[UserId] = [u0].[Id]
LEFT JOIN [lecturer_skills] AS [l] ON [u0].[Id] = [l].[LecturerId]
LEFT JOIN [reviewer_performance] AS [r0] ON [u0].[Id] = [r0].[ReviewerId]
WHERE [r].[Name] = N'Reviewer'
ORDER BY [u].[UserId], [u].[RoleId], [r].[Id], [u0].[Id], [l].[Id]
2025-10-03 19:17:53.568 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[RoleId], [u0].[Id], [u0].[AccessFailedCount], [u0].[ConcurrencyStamp], [u0].[CreatedAt], [u0].[DeletedAt], [u0].[Email], [u0].[EmailConfirmed], [u0].[LastModifiedAt], [u0].[LastModifiedBy], [u0].[LockoutEnabled], [u0].[LockoutEnd], [u0].[NormalizedEmail], [u0].[NormalizedUserName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[PhoneNumberConfirmed], [u0].[SecurityStamp], [u0].[TwoFactorEnabled], [u0].[UserName], [r].[Id], [l].[Id], [l].[CreatedAt], [l].[CreatedBy], [l].[DeletedAt], [l].[IsActive], [l].[LastModifiedAt], [l].[LastModifiedBy], [l].[LecturerId], [l].[ProficiencyLevel], [l].[SkillTag], [r0].[Id], [r0].[AverageScoreGiven], [r0].[AverageTimeMinutes], [r0].[CompletedAssignments], [r0].[LastUpdated], [r0].[OnTimeRate], [r0].[QualityRating], [r0].[ReviewerId], [r0].[SemesterId], [r0].[TotalAssignments], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [user_roles] AS [u]
INNER JOIN [roles] AS [r] ON [u].[RoleId] = [r].[Id]
INNER JOIN [users] AS [u0] ON [u].[UserId] = [u0].[Id]
LEFT JOIN [lecturer_skills] AS [l] ON [u0].[Id] = [l].[LecturerId]
LEFT JOIN [reviewer_performance] AS [r0] ON [u0].[Id] = [r0].[ReviewerId]
WHERE [r].[Name] = N'Reviewer'
ORDER BY [u].[UserId], [u].[RoleId], [r].[Id], [u0].[Id], [l].[Id]
2025-10-03 19:17:53.570 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 19:17:53.570 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 1ms reading results.
2025-10-03 19:17:53.570 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:17:53.570 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 19:17:53.571 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:17:53.571 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:17:53.571 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 19:17:53.571 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:17:53.571 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:17:53.571 +07:00 [DBG] Executing DbCommand [Parameters=[@__8__locals2_reviewerIds_0='?' (Size = 4000), @__sid_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId], [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Abbreviation], [t].[CategoryId], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[EN_Title], [t].[IsActive], [t].[IsApproved], [t].[IsLegacy], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[MaxStudents], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[SemesterId], [t].[SupervisorId], [t].[VN_title], [t0].[Id], [t0].[Content], [t0].[Context], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[DocumentUrl], [t0].[EN_Title], [t0].[ExpectedOutcomes], [t0].[IsActive], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[Methodology], [t0].[Objectives], [t0].[PotentialDuplicate], [t0].[Problem], [t0].[Requirements], [t0].[Status], [t0].[SubmittedAt], [t0].[SubmittedBy], [t0].[TopicId], [t0].[VN_title], [t0].[VersionNumber], [t1].[Id], [t1].[Abbreviation], [t1].[CategoryId], [t1].[Content], [t1].[Context], [t1].[CreatedAt], [t1].[CreatedBy], [t1].[DeletedAt], [t1].[Description], [t1].[EN_Title], [t1].[IsActive], [t1].[IsApproved], [t1].[IsLegacy], [t1].[LastModifiedAt], [t1].[LastModifiedBy], [t1].[MaxStudents], [t1].[Objectives], [t1].[PotentialDuplicate], [t1].[Problem], [t1].[SemesterId], [t1].[SupervisorId], [t1].[VN_title]
FROM [reviewer_assignments] AS [r]
INNER JOIN [submissions] AS [s] ON [r].[SubmissionId] = [s].[Id]
LEFT JOIN [topics] AS [t] ON [s].[TopicId] = [t].[Id]
LEFT JOIN [topic_versions] AS [t0] ON [s].[TopicVersionId] = [t0].[Id]
LEFT JOIN [topics] AS [t1] ON [t0].[TopicId] = [t1].[Id]
WHERE [r].[ReviewerId] IN (
    SELECT [8].[value]
    FROM OPENJSON(@__8__locals2_reviewerIds_0) WITH ([value] int '$') AS [8]
) AND (([t].[Id] IS NOT NULL AND [t].[SemesterId] = @__sid_1) OR ([t0].[Id] IS NOT NULL AND [t1].[Id] IS NOT NULL AND [t1].[SemesterId] = @__sid_1))
2025-10-03 19:17:53.576 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__8__locals2_reviewerIds_0='?' (Size = 4000), @__sid_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId], [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Abbreviation], [t].[CategoryId], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[EN_Title], [t].[IsActive], [t].[IsApproved], [t].[IsLegacy], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[MaxStudents], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[SemesterId], [t].[SupervisorId], [t].[VN_title], [t0].[Id], [t0].[Content], [t0].[Context], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[DocumentUrl], [t0].[EN_Title], [t0].[ExpectedOutcomes], [t0].[IsActive], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[Methodology], [t0].[Objectives], [t0].[PotentialDuplicate], [t0].[Problem], [t0].[Requirements], [t0].[Status], [t0].[SubmittedAt], [t0].[SubmittedBy], [t0].[TopicId], [t0].[VN_title], [t0].[VersionNumber], [t1].[Id], [t1].[Abbreviation], [t1].[CategoryId], [t1].[Content], [t1].[Context], [t1].[CreatedAt], [t1].[CreatedBy], [t1].[DeletedAt], [t1].[Description], [t1].[EN_Title], [t1].[IsActive], [t1].[IsApproved], [t1].[IsLegacy], [t1].[LastModifiedAt], [t1].[LastModifiedBy], [t1].[MaxStudents], [t1].[Objectives], [t1].[PotentialDuplicate], [t1].[Problem], [t1].[SemesterId], [t1].[SupervisorId], [t1].[VN_title]
FROM [reviewer_assignments] AS [r]
INNER JOIN [submissions] AS [s] ON [r].[SubmissionId] = [s].[Id]
LEFT JOIN [topics] AS [t] ON [s].[TopicId] = [t].[Id]
LEFT JOIN [topic_versions] AS [t0] ON [s].[TopicVersionId] = [t0].[Id]
LEFT JOIN [topics] AS [t1] ON [t0].[TopicId] = [t1].[Id]
WHERE [r].[ReviewerId] IN (
    SELECT [8].[value]
    FROM OPENJSON(@__8__locals2_reviewerIds_0) WITH ([value] int '$') AS [8]
) AND (([t].[Id] IS NOT NULL AND [t].[SemesterId] = @__sid_1) OR ([t0].[Id] IS NOT NULL AND [t1].[Id] IS NOT NULL AND [t1].[SemesterId] = @__sid_1))
2025-10-03 19:17:53.578 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 19:17:53.578 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 1ms reading results.
2025-10-03 19:17:53.578 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:17:53.578 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 19:17:53.579 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:17:53.579 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:17:53.580 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 19:17:53.580 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:17:53.580 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:17:53.580 +07:00 [DBG] Executing DbCommand [Parameters=[@__reviewerIds_0='?' (Size = 4000), @__8__locals1_semesterId_Value_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AverageScoreGiven], [r].[AverageTimeMinutes], [r].[CompletedAssignments], [r].[LastUpdated], [r].[OnTimeRate], [r].[QualityRating], [r].[ReviewerId], [r].[SemesterId], [r].[TotalAssignments]
FROM [reviewer_performance] AS [r]
WHERE [r].[ReviewerId] IN (
    SELECT [r0].[value]
    FROM OPENJSON(@__reviewerIds_0) WITH ([value] int '$') AS [r0]
) AND [r].[SemesterId] = @__8__locals1_semesterId_Value_1
2025-10-03 19:17:53.584 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__reviewerIds_0='?' (Size = 4000), @__8__locals1_semesterId_Value_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AverageScoreGiven], [r].[AverageTimeMinutes], [r].[CompletedAssignments], [r].[LastUpdated], [r].[OnTimeRate], [r].[QualityRating], [r].[ReviewerId], [r].[SemesterId], [r].[TotalAssignments]
FROM [reviewer_performance] AS [r]
WHERE [r].[ReviewerId] IN (
    SELECT [r0].[value]
    FROM OPENJSON(@__reviewerIds_0) WITH ([value] int '$') AS [r0]
) AND [r].[SemesterId] = @__8__locals1_semesterId_Value_1
2025-10-03 19:17:53.585 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 19:17:53.585 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-10-03 19:17:53.585 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:17:53.585 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 19:17:53.586 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-10-03 19:17:53.587 +07:00 [DBG] No information found on request to perform content negotiation.
2025-10-03 19:17:53.587 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-10-03 19:17:53.587 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-10-03 19:17:53.587 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-10-03 19:17:53.587 +07:00 [INF] Executing ObjectResult, writing value of type 'FS.Commons.FSResponse'.
2025-10-03 19:17:53.587 +07:00 [INF] Executed action CapBot.api.Controllers.ReviewerAssignmentController.GetReviewersWorkload (CapBot.api) in 59.7ms
2025-10-03 19:17:53.587 +07:00 [INF] Executed endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetReviewersWorkload (CapBot.api)'
2025-10-03 19:17:53.588 +07:00 [DBG] Connection id "0HNG2EQOPDV1L" completed keep alive response.
2025-10-03 19:17:53.588 +07:00 [DBG] 'MyDbContext' disposed.
2025-10-03 19:17:53.588 +07:00 [DBG] Disposing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:17:53.588 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-10-03 19:17:53.588 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5207/api/reviewer-assignments/workload?semesterId=1 - 200 null application/json; charset=utf-8 66.8912ms
2025-10-03 19:17:54.281 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5207/api/reviewer-assignments/workload?semesterId=1 - null null
2025-10-03 19:17:54.281 +07:00 [DBG] The request path /api/reviewer-assignments/workload does not match a supported file type
2025-10-03 19:17:54.282 +07:00 [DBG] The request path /api/reviewer-assignments/workload does not match a supported file type
2025-10-03 19:17:54.282 +07:00 [DBG] 1 candidate(s) found for the request path '/api/reviewer-assignments/workload'
2025-10-03 19:17:54.282 +07:00 [DBG] Endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetReviewersWorkload (CapBot.api)' with route pattern 'api/reviewer-assignments/workload' is valid for the request path '/api/reviewer-assignments/workload'
2025-10-03 19:17:54.282 +07:00 [DBG] Request matched endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetReviewersWorkload (CapBot.api)'
2025-10-03 19:17:54.282 +07:00 [DBG] Successfully validated the token.
2025-10-03 19:17:54.282 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-10-03 19:17:54.283 +07:00 [DBG] Authorization was successful.
2025-10-03 19:17:54.283 +07:00 [INF] Executing endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetReviewersWorkload (CapBot.api)'
2025-10-03 19:17:54.283 +07:00 [INF] Route matched with {action = "GetReviewersWorkload", controller = "ReviewerAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetReviewersWorkload(System.Nullable`1[System.Int32]) on controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api).
2025-10-03 19:17:54.283 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-10-03 19:17:54.283 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-10-03 19:17:54.283 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2025-10-03 19:17:54.284 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-10-03 19:17:54.284 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-10-03 19:17:54.284 +07:00 [DBG] Executing controller factory for controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api)
2025-10-03 19:17:54.284 +07:00 [DBG] Executed controller factory for controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api)
2025-10-03 19:17:54.284 +07:00 [DBG] Attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]' ...
2025-10-03 19:17:54.285 +07:00 [DBG] Attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]' using the name 'semesterId' in request data ...
2025-10-03 19:17:54.285 +07:00 [DBG] Done attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]'.
2025-10-03 19:17:54.285 +07:00 [DBG] Done attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]'.
2025-10-03 19:17:54.285 +07:00 [DBG] Attempting to validate the bound parameter 'semesterId' of type 'System.Nullable`1[System.Int32]' ...
2025-10-03 19:17:54.285 +07:00 [DBG] Done attempting to validate the bound parameter 'semesterId' of type 'System.Nullable`1[System.Int32]'.
2025-10-03 19:17:54.286 +07:00 [DBG] Entity Framework Core 8.0.16 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: MigrationsAssembly=App.DAL 
2025-10-03 19:17:54.286 +07:00 [DBG] Creating DbConnection.
2025-10-03 19:17:54.286 +07:00 [DBG] Created DbConnection. (0ms).
2025-10-03 19:17:54.286 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:17:54.286 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:17:54.287 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 19:17:54.287 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:17:54.287 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:17:54.287 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[RoleId], [u0].[Id], [u0].[AccessFailedCount], [u0].[ConcurrencyStamp], [u0].[CreatedAt], [u0].[DeletedAt], [u0].[Email], [u0].[EmailConfirmed], [u0].[LastModifiedAt], [u0].[LastModifiedBy], [u0].[LockoutEnabled], [u0].[LockoutEnd], [u0].[NormalizedEmail], [u0].[NormalizedUserName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[PhoneNumberConfirmed], [u0].[SecurityStamp], [u0].[TwoFactorEnabled], [u0].[UserName], [r].[Id], [l].[Id], [l].[CreatedAt], [l].[CreatedBy], [l].[DeletedAt], [l].[IsActive], [l].[LastModifiedAt], [l].[LastModifiedBy], [l].[LecturerId], [l].[ProficiencyLevel], [l].[SkillTag], [r0].[Id], [r0].[AverageScoreGiven], [r0].[AverageTimeMinutes], [r0].[CompletedAssignments], [r0].[LastUpdated], [r0].[OnTimeRate], [r0].[QualityRating], [r0].[ReviewerId], [r0].[SemesterId], [r0].[TotalAssignments], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [user_roles] AS [u]
INNER JOIN [roles] AS [r] ON [u].[RoleId] = [r].[Id]
INNER JOIN [users] AS [u0] ON [u].[UserId] = [u0].[Id]
LEFT JOIN [lecturer_skills] AS [l] ON [u0].[Id] = [l].[LecturerId]
LEFT JOIN [reviewer_performance] AS [r0] ON [u0].[Id] = [r0].[ReviewerId]
WHERE [r].[Name] = N'Reviewer'
ORDER BY [u].[UserId], [u].[RoleId], [r].[Id], [u0].[Id], [l].[Id]
2025-10-03 19:17:54.288 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[RoleId], [u0].[Id], [u0].[AccessFailedCount], [u0].[ConcurrencyStamp], [u0].[CreatedAt], [u0].[DeletedAt], [u0].[Email], [u0].[EmailConfirmed], [u0].[LastModifiedAt], [u0].[LastModifiedBy], [u0].[LockoutEnabled], [u0].[LockoutEnd], [u0].[NormalizedEmail], [u0].[NormalizedUserName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[PhoneNumberConfirmed], [u0].[SecurityStamp], [u0].[TwoFactorEnabled], [u0].[UserName], [r].[Id], [l].[Id], [l].[CreatedAt], [l].[CreatedBy], [l].[DeletedAt], [l].[IsActive], [l].[LastModifiedAt], [l].[LastModifiedBy], [l].[LecturerId], [l].[ProficiencyLevel], [l].[SkillTag], [r0].[Id], [r0].[AverageScoreGiven], [r0].[AverageTimeMinutes], [r0].[CompletedAssignments], [r0].[LastUpdated], [r0].[OnTimeRate], [r0].[QualityRating], [r0].[ReviewerId], [r0].[SemesterId], [r0].[TotalAssignments], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [user_roles] AS [u]
INNER JOIN [roles] AS [r] ON [u].[RoleId] = [r].[Id]
INNER JOIN [users] AS [u0] ON [u].[UserId] = [u0].[Id]
LEFT JOIN [lecturer_skills] AS [l] ON [u0].[Id] = [l].[LecturerId]
LEFT JOIN [reviewer_performance] AS [r0] ON [u0].[Id] = [r0].[ReviewerId]
WHERE [r].[Name] = N'Reviewer'
ORDER BY [u].[UserId], [u].[RoleId], [r].[Id], [u0].[Id], [l].[Id]
2025-10-03 19:17:54.290 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 19:17:54.291 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 1ms reading results.
2025-10-03 19:17:54.291 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:17:54.291 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 19:17:54.292 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:17:54.292 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:17:54.293 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 19:17:54.293 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:17:54.293 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:17:54.293 +07:00 [DBG] Executing DbCommand [Parameters=[@__8__locals2_reviewerIds_0='?' (Size = 4000), @__sid_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId], [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Abbreviation], [t].[CategoryId], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[EN_Title], [t].[IsActive], [t].[IsApproved], [t].[IsLegacy], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[MaxStudents], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[SemesterId], [t].[SupervisorId], [t].[VN_title], [t0].[Id], [t0].[Content], [t0].[Context], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[DocumentUrl], [t0].[EN_Title], [t0].[ExpectedOutcomes], [t0].[IsActive], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[Methodology], [t0].[Objectives], [t0].[PotentialDuplicate], [t0].[Problem], [t0].[Requirements], [t0].[Status], [t0].[SubmittedAt], [t0].[SubmittedBy], [t0].[TopicId], [t0].[VN_title], [t0].[VersionNumber], [t1].[Id], [t1].[Abbreviation], [t1].[CategoryId], [t1].[Content], [t1].[Context], [t1].[CreatedAt], [t1].[CreatedBy], [t1].[DeletedAt], [t1].[Description], [t1].[EN_Title], [t1].[IsActive], [t1].[IsApproved], [t1].[IsLegacy], [t1].[LastModifiedAt], [t1].[LastModifiedBy], [t1].[MaxStudents], [t1].[Objectives], [t1].[PotentialDuplicate], [t1].[Problem], [t1].[SemesterId], [t1].[SupervisorId], [t1].[VN_title]
FROM [reviewer_assignments] AS [r]
INNER JOIN [submissions] AS [s] ON [r].[SubmissionId] = [s].[Id]
LEFT JOIN [topics] AS [t] ON [s].[TopicId] = [t].[Id]
LEFT JOIN [topic_versions] AS [t0] ON [s].[TopicVersionId] = [t0].[Id]
LEFT JOIN [topics] AS [t1] ON [t0].[TopicId] = [t1].[Id]
WHERE [r].[ReviewerId] IN (
    SELECT [8].[value]
    FROM OPENJSON(@__8__locals2_reviewerIds_0) WITH ([value] int '$') AS [8]
) AND (([t].[Id] IS NOT NULL AND [t].[SemesterId] = @__sid_1) OR ([t0].[Id] IS NOT NULL AND [t1].[Id] IS NOT NULL AND [t1].[SemesterId] = @__sid_1))
2025-10-03 19:17:54.295 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__8__locals2_reviewerIds_0='?' (Size = 4000), @__sid_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId], [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Abbreviation], [t].[CategoryId], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[EN_Title], [t].[IsActive], [t].[IsApproved], [t].[IsLegacy], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[MaxStudents], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[SemesterId], [t].[SupervisorId], [t].[VN_title], [t0].[Id], [t0].[Content], [t0].[Context], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[DocumentUrl], [t0].[EN_Title], [t0].[ExpectedOutcomes], [t0].[IsActive], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[Methodology], [t0].[Objectives], [t0].[PotentialDuplicate], [t0].[Problem], [t0].[Requirements], [t0].[Status], [t0].[SubmittedAt], [t0].[SubmittedBy], [t0].[TopicId], [t0].[VN_title], [t0].[VersionNumber], [t1].[Id], [t1].[Abbreviation], [t1].[CategoryId], [t1].[Content], [t1].[Context], [t1].[CreatedAt], [t1].[CreatedBy], [t1].[DeletedAt], [t1].[Description], [t1].[EN_Title], [t1].[IsActive], [t1].[IsApproved], [t1].[IsLegacy], [t1].[LastModifiedAt], [t1].[LastModifiedBy], [t1].[MaxStudents], [t1].[Objectives], [t1].[PotentialDuplicate], [t1].[Problem], [t1].[SemesterId], [t1].[SupervisorId], [t1].[VN_title]
FROM [reviewer_assignments] AS [r]
INNER JOIN [submissions] AS [s] ON [r].[SubmissionId] = [s].[Id]
LEFT JOIN [topics] AS [t] ON [s].[TopicId] = [t].[Id]
LEFT JOIN [topic_versions] AS [t0] ON [s].[TopicVersionId] = [t0].[Id]
LEFT JOIN [topics] AS [t1] ON [t0].[TopicId] = [t1].[Id]
WHERE [r].[ReviewerId] IN (
    SELECT [8].[value]
    FROM OPENJSON(@__8__locals2_reviewerIds_0) WITH ([value] int '$') AS [8]
) AND (([t].[Id] IS NOT NULL AND [t].[SemesterId] = @__sid_1) OR ([t0].[Id] IS NOT NULL AND [t1].[Id] IS NOT NULL AND [t1].[SemesterId] = @__sid_1))
2025-10-03 19:17:54.298 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 19:17:54.299 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 3ms reading results.
2025-10-03 19:17:54.299 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:17:54.299 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 19:17:54.301 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:17:54.302 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:17:54.302 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 19:17:54.303 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:17:54.304 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-10-03 19:17:54.304 +07:00 [DBG] Executing DbCommand [Parameters=[@__reviewerIds_0='?' (Size = 4000), @__8__locals1_semesterId_Value_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AverageScoreGiven], [r].[AverageTimeMinutes], [r].[CompletedAssignments], [r].[LastUpdated], [r].[OnTimeRate], [r].[QualityRating], [r].[ReviewerId], [r].[SemesterId], [r].[TotalAssignments]
FROM [reviewer_performance] AS [r]
WHERE [r].[ReviewerId] IN (
    SELECT [r0].[value]
    FROM OPENJSON(@__reviewerIds_0) WITH ([value] int '$') AS [r0]
) AND [r].[SemesterId] = @__8__locals1_semesterId_Value_1
2025-10-03 19:17:54.306 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__reviewerIds_0='?' (Size = 4000), @__8__locals1_semesterId_Value_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AverageScoreGiven], [r].[AverageTimeMinutes], [r].[CompletedAssignments], [r].[LastUpdated], [r].[OnTimeRate], [r].[QualityRating], [r].[ReviewerId], [r].[SemesterId], [r].[TotalAssignments]
FROM [reviewer_performance] AS [r]
WHERE [r].[ReviewerId] IN (
    SELECT [r0].[value]
    FROM OPENJSON(@__reviewerIds_0) WITH ([value] int '$') AS [r0]
) AND [r].[SemesterId] = @__8__locals1_semesterId_Value_1
2025-10-03 19:17:54.306 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 19:17:54.306 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-10-03 19:17:54.306 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:17:54.306 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 19:17:54.307 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-10-03 19:17:54.307 +07:00 [DBG] No information found on request to perform content negotiation.
2025-10-03 19:17:54.307 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-10-03 19:17:54.307 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-10-03 19:17:54.307 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-10-03 19:17:54.307 +07:00 [INF] Executing ObjectResult, writing value of type 'FS.Commons.FSResponse'.
2025-10-03 19:17:54.307 +07:00 [INF] Executed action CapBot.api.Controllers.ReviewerAssignmentController.GetReviewersWorkload (CapBot.api) in 23.5618ms
2025-10-03 19:17:54.307 +07:00 [INF] Executed endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetReviewersWorkload (CapBot.api)'
2025-10-03 19:17:54.308 +07:00 [DBG] Connection id "0HNG2EQOPDV1L" completed keep alive response.
2025-10-03 19:17:54.308 +07:00 [DBG] 'MyDbContext' disposed.
2025-10-03 19:17:54.308 +07:00 [DBG] Disposing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:17:54.308 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-10-03 19:17:54.308 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5207/api/reviewer-assignments/workload?semesterId=1 - 200 null application/json; charset=utf-8 26.9413ms
2025-10-03 19:17:54.793 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5207/api/reviewer-assignments/workload?semesterId=1 - null null
2025-10-03 19:17:54.793 +07:00 [DBG] The request path /api/reviewer-assignments/workload does not match a supported file type
2025-10-03 19:17:54.793 +07:00 [DBG] The request path /api/reviewer-assignments/workload does not match a supported file type
2025-10-03 19:17:54.793 +07:00 [DBG] 1 candidate(s) found for the request path '/api/reviewer-assignments/workload'
2025-10-03 19:17:54.793 +07:00 [DBG] Endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetReviewersWorkload (CapBot.api)' with route pattern 'api/reviewer-assignments/workload' is valid for the request path '/api/reviewer-assignments/workload'
2025-10-03 19:17:54.793 +07:00 [DBG] Request matched endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetReviewersWorkload (CapBot.api)'
2025-10-03 19:17:54.794 +07:00 [DBG] Successfully validated the token.
2025-10-03 19:17:54.794 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-10-03 19:17:54.794 +07:00 [DBG] Authorization was successful.
2025-10-03 19:17:54.795 +07:00 [INF] Executing endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetReviewersWorkload (CapBot.api)'
2025-10-03 19:17:54.795 +07:00 [INF] Route matched with {action = "GetReviewersWorkload", controller = "ReviewerAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetReviewersWorkload(System.Nullable`1[System.Int32]) on controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api).
2025-10-03 19:17:54.795 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-10-03 19:17:54.795 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-10-03 19:17:54.795 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2025-10-03 19:17:54.795 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-10-03 19:17:54.796 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-10-03 19:17:54.796 +07:00 [DBG] Executing controller factory for controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api)
2025-10-03 19:17:54.796 +07:00 [DBG] Executed controller factory for controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api)
2025-10-03 19:17:54.796 +07:00 [DBG] Attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]' ...
2025-10-03 19:17:54.797 +07:00 [DBG] Attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]' using the name 'semesterId' in request data ...
2025-10-03 19:17:54.797 +07:00 [DBG] Done attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]'.
2025-10-03 19:17:54.797 +07:00 [DBG] Done attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]'.
2025-10-03 19:17:54.797 +07:00 [DBG] Attempting to validate the bound parameter 'semesterId' of type 'System.Nullable`1[System.Int32]' ...
2025-10-03 19:17:54.797 +07:00 [DBG] Done attempting to validate the bound parameter 'semesterId' of type 'System.Nullable`1[System.Int32]'.
2025-10-03 19:17:54.798 +07:00 [DBG] Entity Framework Core 8.0.16 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: MigrationsAssembly=App.DAL 
2025-10-03 19:17:54.798 +07:00 [DBG] Creating DbConnection.
2025-10-03 19:17:54.798 +07:00 [DBG] Created DbConnection. (0ms).
2025-10-03 19:17:54.798 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:17:54.799 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:17:54.799 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 19:17:54.799 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:17:54.799 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:17:54.799 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[RoleId], [u0].[Id], [u0].[AccessFailedCount], [u0].[ConcurrencyStamp], [u0].[CreatedAt], [u0].[DeletedAt], [u0].[Email], [u0].[EmailConfirmed], [u0].[LastModifiedAt], [u0].[LastModifiedBy], [u0].[LockoutEnabled], [u0].[LockoutEnd], [u0].[NormalizedEmail], [u0].[NormalizedUserName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[PhoneNumberConfirmed], [u0].[SecurityStamp], [u0].[TwoFactorEnabled], [u0].[UserName], [r].[Id], [l].[Id], [l].[CreatedAt], [l].[CreatedBy], [l].[DeletedAt], [l].[IsActive], [l].[LastModifiedAt], [l].[LastModifiedBy], [l].[LecturerId], [l].[ProficiencyLevel], [l].[SkillTag], [r0].[Id], [r0].[AverageScoreGiven], [r0].[AverageTimeMinutes], [r0].[CompletedAssignments], [r0].[LastUpdated], [r0].[OnTimeRate], [r0].[QualityRating], [r0].[ReviewerId], [r0].[SemesterId], [r0].[TotalAssignments], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [user_roles] AS [u]
INNER JOIN [roles] AS [r] ON [u].[RoleId] = [r].[Id]
INNER JOIN [users] AS [u0] ON [u].[UserId] = [u0].[Id]
LEFT JOIN [lecturer_skills] AS [l] ON [u0].[Id] = [l].[LecturerId]
LEFT JOIN [reviewer_performance] AS [r0] ON [u0].[Id] = [r0].[ReviewerId]
WHERE [r].[Name] = N'Reviewer'
ORDER BY [u].[UserId], [u].[RoleId], [r].[Id], [u0].[Id], [l].[Id]
2025-10-03 19:17:54.801 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[RoleId], [u0].[Id], [u0].[AccessFailedCount], [u0].[ConcurrencyStamp], [u0].[CreatedAt], [u0].[DeletedAt], [u0].[Email], [u0].[EmailConfirmed], [u0].[LastModifiedAt], [u0].[LastModifiedBy], [u0].[LockoutEnabled], [u0].[LockoutEnd], [u0].[NormalizedEmail], [u0].[NormalizedUserName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[PhoneNumberConfirmed], [u0].[SecurityStamp], [u0].[TwoFactorEnabled], [u0].[UserName], [r].[Id], [l].[Id], [l].[CreatedAt], [l].[CreatedBy], [l].[DeletedAt], [l].[IsActive], [l].[LastModifiedAt], [l].[LastModifiedBy], [l].[LecturerId], [l].[ProficiencyLevel], [l].[SkillTag], [r0].[Id], [r0].[AverageScoreGiven], [r0].[AverageTimeMinutes], [r0].[CompletedAssignments], [r0].[LastUpdated], [r0].[OnTimeRate], [r0].[QualityRating], [r0].[ReviewerId], [r0].[SemesterId], [r0].[TotalAssignments], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [user_roles] AS [u]
INNER JOIN [roles] AS [r] ON [u].[RoleId] = [r].[Id]
INNER JOIN [users] AS [u0] ON [u].[UserId] = [u0].[Id]
LEFT JOIN [lecturer_skills] AS [l] ON [u0].[Id] = [l].[LecturerId]
LEFT JOIN [reviewer_performance] AS [r0] ON [u0].[Id] = [r0].[ReviewerId]
WHERE [r].[Name] = N'Reviewer'
ORDER BY [u].[UserId], [u].[RoleId], [r].[Id], [u0].[Id], [l].[Id]
2025-10-03 19:17:54.803 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 19:17:54.803 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 1ms reading results.
2025-10-03 19:17:54.803 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:17:54.803 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 19:17:54.805 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:17:54.805 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:17:54.808 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 19:17:54.809 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:17:54.810 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-10-03 19:17:54.810 +07:00 [DBG] Executing DbCommand [Parameters=[@__8__locals2_reviewerIds_0='?' (Size = 4000), @__sid_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId], [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Abbreviation], [t].[CategoryId], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[EN_Title], [t].[IsActive], [t].[IsApproved], [t].[IsLegacy], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[MaxStudents], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[SemesterId], [t].[SupervisorId], [t].[VN_title], [t0].[Id], [t0].[Content], [t0].[Context], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[DocumentUrl], [t0].[EN_Title], [t0].[ExpectedOutcomes], [t0].[IsActive], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[Methodology], [t0].[Objectives], [t0].[PotentialDuplicate], [t0].[Problem], [t0].[Requirements], [t0].[Status], [t0].[SubmittedAt], [t0].[SubmittedBy], [t0].[TopicId], [t0].[VN_title], [t0].[VersionNumber], [t1].[Id], [t1].[Abbreviation], [t1].[CategoryId], [t1].[Content], [t1].[Context], [t1].[CreatedAt], [t1].[CreatedBy], [t1].[DeletedAt], [t1].[Description], [t1].[EN_Title], [t1].[IsActive], [t1].[IsApproved], [t1].[IsLegacy], [t1].[LastModifiedAt], [t1].[LastModifiedBy], [t1].[MaxStudents], [t1].[Objectives], [t1].[PotentialDuplicate], [t1].[Problem], [t1].[SemesterId], [t1].[SupervisorId], [t1].[VN_title]
FROM [reviewer_assignments] AS [r]
INNER JOIN [submissions] AS [s] ON [r].[SubmissionId] = [s].[Id]
LEFT JOIN [topics] AS [t] ON [s].[TopicId] = [t].[Id]
LEFT JOIN [topic_versions] AS [t0] ON [s].[TopicVersionId] = [t0].[Id]
LEFT JOIN [topics] AS [t1] ON [t0].[TopicId] = [t1].[Id]
WHERE [r].[ReviewerId] IN (
    SELECT [8].[value]
    FROM OPENJSON(@__8__locals2_reviewerIds_0) WITH ([value] int '$') AS [8]
) AND (([t].[Id] IS NOT NULL AND [t].[SemesterId] = @__sid_1) OR ([t0].[Id] IS NOT NULL AND [t1].[Id] IS NOT NULL AND [t1].[SemesterId] = @__sid_1))
2025-10-03 19:17:54.812 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__8__locals2_reviewerIds_0='?' (Size = 4000), @__sid_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId], [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Abbreviation], [t].[CategoryId], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[EN_Title], [t].[IsActive], [t].[IsApproved], [t].[IsLegacy], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[MaxStudents], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[SemesterId], [t].[SupervisorId], [t].[VN_title], [t0].[Id], [t0].[Content], [t0].[Context], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[DocumentUrl], [t0].[EN_Title], [t0].[ExpectedOutcomes], [t0].[IsActive], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[Methodology], [t0].[Objectives], [t0].[PotentialDuplicate], [t0].[Problem], [t0].[Requirements], [t0].[Status], [t0].[SubmittedAt], [t0].[SubmittedBy], [t0].[TopicId], [t0].[VN_title], [t0].[VersionNumber], [t1].[Id], [t1].[Abbreviation], [t1].[CategoryId], [t1].[Content], [t1].[Context], [t1].[CreatedAt], [t1].[CreatedBy], [t1].[DeletedAt], [t1].[Description], [t1].[EN_Title], [t1].[IsActive], [t1].[IsApproved], [t1].[IsLegacy], [t1].[LastModifiedAt], [t1].[LastModifiedBy], [t1].[MaxStudents], [t1].[Objectives], [t1].[PotentialDuplicate], [t1].[Problem], [t1].[SemesterId], [t1].[SupervisorId], [t1].[VN_title]
FROM [reviewer_assignments] AS [r]
INNER JOIN [submissions] AS [s] ON [r].[SubmissionId] = [s].[Id]
LEFT JOIN [topics] AS [t] ON [s].[TopicId] = [t].[Id]
LEFT JOIN [topic_versions] AS [t0] ON [s].[TopicVersionId] = [t0].[Id]
LEFT JOIN [topics] AS [t1] ON [t0].[TopicId] = [t1].[Id]
WHERE [r].[ReviewerId] IN (
    SELECT [8].[value]
    FROM OPENJSON(@__8__locals2_reviewerIds_0) WITH ([value] int '$') AS [8]
) AND (([t].[Id] IS NOT NULL AND [t].[SemesterId] = @__sid_1) OR ([t0].[Id] IS NOT NULL AND [t1].[Id] IS NOT NULL AND [t1].[SemesterId] = @__sid_1))
2025-10-03 19:17:54.817 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 19:17:54.818 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 5ms reading results.
2025-10-03 19:17:54.818 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:17:54.818 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 19:17:54.819 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:17:54.819 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:17:54.819 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 19:17:54.820 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:17:54.820 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:17:54.820 +07:00 [DBG] Executing DbCommand [Parameters=[@__reviewerIds_0='?' (Size = 4000), @__8__locals1_semesterId_Value_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AverageScoreGiven], [r].[AverageTimeMinutes], [r].[CompletedAssignments], [r].[LastUpdated], [r].[OnTimeRate], [r].[QualityRating], [r].[ReviewerId], [r].[SemesterId], [r].[TotalAssignments]
FROM [reviewer_performance] AS [r]
WHERE [r].[ReviewerId] IN (
    SELECT [r0].[value]
    FROM OPENJSON(@__reviewerIds_0) WITH ([value] int '$') AS [r0]
) AND [r].[SemesterId] = @__8__locals1_semesterId_Value_1
2025-10-03 19:17:54.821 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__reviewerIds_0='?' (Size = 4000), @__8__locals1_semesterId_Value_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AverageScoreGiven], [r].[AverageTimeMinutes], [r].[CompletedAssignments], [r].[LastUpdated], [r].[OnTimeRate], [r].[QualityRating], [r].[ReviewerId], [r].[SemesterId], [r].[TotalAssignments]
FROM [reviewer_performance] AS [r]
WHERE [r].[ReviewerId] IN (
    SELECT [r0].[value]
    FROM OPENJSON(@__reviewerIds_0) WITH ([value] int '$') AS [r0]
) AND [r].[SemesterId] = @__8__locals1_semesterId_Value_1
2025-10-03 19:17:54.821 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 19:17:54.821 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-10-03 19:17:54.821 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:17:54.821 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 19:17:54.822 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-10-03 19:17:54.822 +07:00 [DBG] No information found on request to perform content negotiation.
2025-10-03 19:17:54.822 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-10-03 19:17:54.822 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-10-03 19:17:54.822 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-10-03 19:17:54.822 +07:00 [INF] Executing ObjectResult, writing value of type 'FS.Commons.FSResponse'.
2025-10-03 19:17:54.823 +07:00 [INF] Executed action CapBot.api.Controllers.ReviewerAssignmentController.GetReviewersWorkload (CapBot.api) in 27.0373ms
2025-10-03 19:17:54.823 +07:00 [INF] Executed endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetReviewersWorkload (CapBot.api)'
2025-10-03 19:17:54.823 +07:00 [DBG] Connection id "0HNG2EQOPDV1L" completed keep alive response.
2025-10-03 19:17:54.823 +07:00 [DBG] 'MyDbContext' disposed.
2025-10-03 19:17:54.823 +07:00 [DBG] Disposing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:17:54.823 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-10-03 19:17:54.823 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5207/api/reviewer-assignments/workload?semesterId=1 - 200 null application/json; charset=utf-8 30.7061ms
2025-10-03 19:17:54.991 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5207/api/reviewer-assignments/workload?semesterId=1 - null null
2025-10-03 19:17:54.992 +07:00 [DBG] The request path /api/reviewer-assignments/workload does not match a supported file type
2025-10-03 19:17:54.992 +07:00 [DBG] The request path /api/reviewer-assignments/workload does not match a supported file type
2025-10-03 19:17:54.992 +07:00 [DBG] 1 candidate(s) found for the request path '/api/reviewer-assignments/workload'
2025-10-03 19:17:54.992 +07:00 [DBG] Endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetReviewersWorkload (CapBot.api)' with route pattern 'api/reviewer-assignments/workload' is valid for the request path '/api/reviewer-assignments/workload'
2025-10-03 19:17:54.992 +07:00 [DBG] Request matched endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetReviewersWorkload (CapBot.api)'
2025-10-03 19:17:54.993 +07:00 [DBG] Successfully validated the token.
2025-10-03 19:17:54.993 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-10-03 19:17:54.993 +07:00 [DBG] Authorization was successful.
2025-10-03 19:17:54.993 +07:00 [INF] Executing endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetReviewersWorkload (CapBot.api)'
2025-10-03 19:17:54.993 +07:00 [INF] Route matched with {action = "GetReviewersWorkload", controller = "ReviewerAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetReviewersWorkload(System.Nullable`1[System.Int32]) on controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api).
2025-10-03 19:17:54.993 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-10-03 19:17:54.993 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-10-03 19:17:54.993 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2025-10-03 19:17:54.993 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-10-03 19:17:54.994 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-10-03 19:17:54.994 +07:00 [DBG] Executing controller factory for controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api)
2025-10-03 19:17:54.994 +07:00 [DBG] Executed controller factory for controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api)
2025-10-03 19:17:54.994 +07:00 [DBG] Attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]' ...
2025-10-03 19:17:54.994 +07:00 [DBG] Attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]' using the name 'semesterId' in request data ...
2025-10-03 19:17:54.995 +07:00 [DBG] Done attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]'.
2025-10-03 19:17:54.995 +07:00 [DBG] Done attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]'.
2025-10-03 19:17:54.995 +07:00 [DBG] Attempting to validate the bound parameter 'semesterId' of type 'System.Nullable`1[System.Int32]' ...
2025-10-03 19:17:54.995 +07:00 [DBG] Done attempting to validate the bound parameter 'semesterId' of type 'System.Nullable`1[System.Int32]'.
2025-10-03 19:17:54.996 +07:00 [DBG] Entity Framework Core 8.0.16 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: MigrationsAssembly=App.DAL 
2025-10-03 19:17:54.997 +07:00 [DBG] Creating DbConnection.
2025-10-03 19:17:54.997 +07:00 [DBG] Created DbConnection. (0ms).
2025-10-03 19:17:54.998 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:17:54.998 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:17:54.998 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 19:17:54.998 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:17:54.999 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:17:54.999 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[RoleId], [u0].[Id], [u0].[AccessFailedCount], [u0].[ConcurrencyStamp], [u0].[CreatedAt], [u0].[DeletedAt], [u0].[Email], [u0].[EmailConfirmed], [u0].[LastModifiedAt], [u0].[LastModifiedBy], [u0].[LockoutEnabled], [u0].[LockoutEnd], [u0].[NormalizedEmail], [u0].[NormalizedUserName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[PhoneNumberConfirmed], [u0].[SecurityStamp], [u0].[TwoFactorEnabled], [u0].[UserName], [r].[Id], [l].[Id], [l].[CreatedAt], [l].[CreatedBy], [l].[DeletedAt], [l].[IsActive], [l].[LastModifiedAt], [l].[LastModifiedBy], [l].[LecturerId], [l].[ProficiencyLevel], [l].[SkillTag], [r0].[Id], [r0].[AverageScoreGiven], [r0].[AverageTimeMinutes], [r0].[CompletedAssignments], [r0].[LastUpdated], [r0].[OnTimeRate], [r0].[QualityRating], [r0].[ReviewerId], [r0].[SemesterId], [r0].[TotalAssignments], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [user_roles] AS [u]
INNER JOIN [roles] AS [r] ON [u].[RoleId] = [r].[Id]
INNER JOIN [users] AS [u0] ON [u].[UserId] = [u0].[Id]
LEFT JOIN [lecturer_skills] AS [l] ON [u0].[Id] = [l].[LecturerId]
LEFT JOIN [reviewer_performance] AS [r0] ON [u0].[Id] = [r0].[ReviewerId]
WHERE [r].[Name] = N'Reviewer'
ORDER BY [u].[UserId], [u].[RoleId], [r].[Id], [u0].[Id], [l].[Id]
2025-10-03 19:17:55.000 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[RoleId], [u0].[Id], [u0].[AccessFailedCount], [u0].[ConcurrencyStamp], [u0].[CreatedAt], [u0].[DeletedAt], [u0].[Email], [u0].[EmailConfirmed], [u0].[LastModifiedAt], [u0].[LastModifiedBy], [u0].[LockoutEnabled], [u0].[LockoutEnd], [u0].[NormalizedEmail], [u0].[NormalizedUserName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[PhoneNumberConfirmed], [u0].[SecurityStamp], [u0].[TwoFactorEnabled], [u0].[UserName], [r].[Id], [l].[Id], [l].[CreatedAt], [l].[CreatedBy], [l].[DeletedAt], [l].[IsActive], [l].[LastModifiedAt], [l].[LastModifiedBy], [l].[LecturerId], [l].[ProficiencyLevel], [l].[SkillTag], [r0].[Id], [r0].[AverageScoreGiven], [r0].[AverageTimeMinutes], [r0].[CompletedAssignments], [r0].[LastUpdated], [r0].[OnTimeRate], [r0].[QualityRating], [r0].[ReviewerId], [r0].[SemesterId], [r0].[TotalAssignments], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [user_roles] AS [u]
INNER JOIN [roles] AS [r] ON [u].[RoleId] = [r].[Id]
INNER JOIN [users] AS [u0] ON [u].[UserId] = [u0].[Id]
LEFT JOIN [lecturer_skills] AS [l] ON [u0].[Id] = [l].[LecturerId]
LEFT JOIN [reviewer_performance] AS [r0] ON [u0].[Id] = [r0].[ReviewerId]
WHERE [r].[Name] = N'Reviewer'
ORDER BY [u].[UserId], [u].[RoleId], [r].[Id], [u0].[Id], [l].[Id]
2025-10-03 19:17:55.002 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 19:17:55.003 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 1ms reading results.
2025-10-03 19:17:55.003 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:17:55.003 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 19:17:55.004 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:17:55.004 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:17:55.004 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 19:17:55.004 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:17:55.004 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:17:55.005 +07:00 [DBG] Executing DbCommand [Parameters=[@__8__locals2_reviewerIds_0='?' (Size = 4000), @__sid_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId], [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Abbreviation], [t].[CategoryId], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[EN_Title], [t].[IsActive], [t].[IsApproved], [t].[IsLegacy], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[MaxStudents], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[SemesterId], [t].[SupervisorId], [t].[VN_title], [t0].[Id], [t0].[Content], [t0].[Context], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[DocumentUrl], [t0].[EN_Title], [t0].[ExpectedOutcomes], [t0].[IsActive], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[Methodology], [t0].[Objectives], [t0].[PotentialDuplicate], [t0].[Problem], [t0].[Requirements], [t0].[Status], [t0].[SubmittedAt], [t0].[SubmittedBy], [t0].[TopicId], [t0].[VN_title], [t0].[VersionNumber], [t1].[Id], [t1].[Abbreviation], [t1].[CategoryId], [t1].[Content], [t1].[Context], [t1].[CreatedAt], [t1].[CreatedBy], [t1].[DeletedAt], [t1].[Description], [t1].[EN_Title], [t1].[IsActive], [t1].[IsApproved], [t1].[IsLegacy], [t1].[LastModifiedAt], [t1].[LastModifiedBy], [t1].[MaxStudents], [t1].[Objectives], [t1].[PotentialDuplicate], [t1].[Problem], [t1].[SemesterId], [t1].[SupervisorId], [t1].[VN_title]
FROM [reviewer_assignments] AS [r]
INNER JOIN [submissions] AS [s] ON [r].[SubmissionId] = [s].[Id]
LEFT JOIN [topics] AS [t] ON [s].[TopicId] = [t].[Id]
LEFT JOIN [topic_versions] AS [t0] ON [s].[TopicVersionId] = [t0].[Id]
LEFT JOIN [topics] AS [t1] ON [t0].[TopicId] = [t1].[Id]
WHERE [r].[ReviewerId] IN (
    SELECT [8].[value]
    FROM OPENJSON(@__8__locals2_reviewerIds_0) WITH ([value] int '$') AS [8]
) AND (([t].[Id] IS NOT NULL AND [t].[SemesterId] = @__sid_1) OR ([t0].[Id] IS NOT NULL AND [t1].[Id] IS NOT NULL AND [t1].[SemesterId] = @__sid_1))
2025-10-03 19:17:55.007 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__8__locals2_reviewerIds_0='?' (Size = 4000), @__sid_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId], [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Abbreviation], [t].[CategoryId], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[EN_Title], [t].[IsActive], [t].[IsApproved], [t].[IsLegacy], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[MaxStudents], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[SemesterId], [t].[SupervisorId], [t].[VN_title], [t0].[Id], [t0].[Content], [t0].[Context], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[DocumentUrl], [t0].[EN_Title], [t0].[ExpectedOutcomes], [t0].[IsActive], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[Methodology], [t0].[Objectives], [t0].[PotentialDuplicate], [t0].[Problem], [t0].[Requirements], [t0].[Status], [t0].[SubmittedAt], [t0].[SubmittedBy], [t0].[TopicId], [t0].[VN_title], [t0].[VersionNumber], [t1].[Id], [t1].[Abbreviation], [t1].[CategoryId], [t1].[Content], [t1].[Context], [t1].[CreatedAt], [t1].[CreatedBy], [t1].[DeletedAt], [t1].[Description], [t1].[EN_Title], [t1].[IsActive], [t1].[IsApproved], [t1].[IsLegacy], [t1].[LastModifiedAt], [t1].[LastModifiedBy], [t1].[MaxStudents], [t1].[Objectives], [t1].[PotentialDuplicate], [t1].[Problem], [t1].[SemesterId], [t1].[SupervisorId], [t1].[VN_title]
FROM [reviewer_assignments] AS [r]
INNER JOIN [submissions] AS [s] ON [r].[SubmissionId] = [s].[Id]
LEFT JOIN [topics] AS [t] ON [s].[TopicId] = [t].[Id]
LEFT JOIN [topic_versions] AS [t0] ON [s].[TopicVersionId] = [t0].[Id]
LEFT JOIN [topics] AS [t1] ON [t0].[TopicId] = [t1].[Id]
WHERE [r].[ReviewerId] IN (
    SELECT [8].[value]
    FROM OPENJSON(@__8__locals2_reviewerIds_0) WITH ([value] int '$') AS [8]
) AND (([t].[Id] IS NOT NULL AND [t].[SemesterId] = @__sid_1) OR ([t0].[Id] IS NOT NULL AND [t1].[Id] IS NOT NULL AND [t1].[SemesterId] = @__sid_1))
2025-10-03 19:17:55.029 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 19:17:55.029 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 3ms reading results.
2025-10-03 19:17:55.030 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:17:55.032 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (2ms).
2025-10-03 19:17:55.037 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:17:55.038 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:17:55.039 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 19:17:55.039 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:17:55.039 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:17:55.039 +07:00 [DBG] Executing DbCommand [Parameters=[@__reviewerIds_0='?' (Size = 4000), @__8__locals1_semesterId_Value_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AverageScoreGiven], [r].[AverageTimeMinutes], [r].[CompletedAssignments], [r].[LastUpdated], [r].[OnTimeRate], [r].[QualityRating], [r].[ReviewerId], [r].[SemesterId], [r].[TotalAssignments]
FROM [reviewer_performance] AS [r]
WHERE [r].[ReviewerId] IN (
    SELECT [r0].[value]
    FROM OPENJSON(@__reviewerIds_0) WITH ([value] int '$') AS [r0]
) AND [r].[SemesterId] = @__8__locals1_semesterId_Value_1
2025-10-03 19:17:55.045 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__reviewerIds_0='?' (Size = 4000), @__8__locals1_semesterId_Value_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AverageScoreGiven], [r].[AverageTimeMinutes], [r].[CompletedAssignments], [r].[LastUpdated], [r].[OnTimeRate], [r].[QualityRating], [r].[ReviewerId], [r].[SemesterId], [r].[TotalAssignments]
FROM [reviewer_performance] AS [r]
WHERE [r].[ReviewerId] IN (
    SELECT [r0].[value]
    FROM OPENJSON(@__reviewerIds_0) WITH ([value] int '$') AS [r0]
) AND [r].[SemesterId] = @__8__locals1_semesterId_Value_1
2025-10-03 19:17:55.045 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 19:17:55.045 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-10-03 19:17:55.045 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:17:55.047 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (1ms).
2025-10-03 19:17:55.048 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-10-03 19:17:55.049 +07:00 [DBG] No information found on request to perform content negotiation.
2025-10-03 19:17:55.049 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-10-03 19:17:55.049 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-10-03 19:17:55.050 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-10-03 19:17:55.050 +07:00 [INF] Executing ObjectResult, writing value of type 'FS.Commons.FSResponse'.
2025-10-03 19:17:55.051 +07:00 [INF] Executed action CapBot.api.Controllers.ReviewerAssignmentController.GetReviewersWorkload (CapBot.api) in 57.2745ms
2025-10-03 19:17:55.051 +07:00 [INF] Executed endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetReviewersWorkload (CapBot.api)'
2025-10-03 19:17:55.051 +07:00 [DBG] Connection id "0HNG2EQOPDV1L" completed keep alive response.
2025-10-03 19:17:55.051 +07:00 [DBG] 'MyDbContext' disposed.
2025-10-03 19:17:55.051 +07:00 [DBG] Disposing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:17:55.052 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-10-03 19:17:55.052 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5207/api/reviewer-assignments/workload?semesterId=1 - 200 null application/json; charset=utf-8 60.3625ms
2025-10-03 19:17:55.284 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5207/api/reviewer-assignments/workload?semesterId=1 - null null
2025-10-03 19:17:55.285 +07:00 [DBG] The request path /api/reviewer-assignments/workload does not match a supported file type
2025-10-03 19:17:55.285 +07:00 [DBG] The request path /api/reviewer-assignments/workload does not match a supported file type
2025-10-03 19:17:55.285 +07:00 [DBG] 1 candidate(s) found for the request path '/api/reviewer-assignments/workload'
2025-10-03 19:17:55.285 +07:00 [DBG] Endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetReviewersWorkload (CapBot.api)' with route pattern 'api/reviewer-assignments/workload' is valid for the request path '/api/reviewer-assignments/workload'
2025-10-03 19:17:55.285 +07:00 [DBG] Request matched endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetReviewersWorkload (CapBot.api)'
2025-10-03 19:17:55.285 +07:00 [DBG] Successfully validated the token.
2025-10-03 19:17:55.286 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-10-03 19:17:55.286 +07:00 [DBG] Authorization was successful.
2025-10-03 19:17:55.286 +07:00 [INF] Executing endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetReviewersWorkload (CapBot.api)'
2025-10-03 19:17:55.286 +07:00 [INF] Route matched with {action = "GetReviewersWorkload", controller = "ReviewerAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetReviewersWorkload(System.Nullable`1[System.Int32]) on controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api).
2025-10-03 19:17:55.286 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-10-03 19:17:55.286 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-10-03 19:17:55.287 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2025-10-03 19:17:55.287 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-10-03 19:17:55.287 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-10-03 19:17:55.287 +07:00 [DBG] Executing controller factory for controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api)
2025-10-03 19:17:55.287 +07:00 [DBG] Executed controller factory for controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api)
2025-10-03 19:17:55.288 +07:00 [DBG] Attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]' ...
2025-10-03 19:17:55.288 +07:00 [DBG] Attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]' using the name 'semesterId' in request data ...
2025-10-03 19:17:55.288 +07:00 [DBG] Done attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]'.
2025-10-03 19:17:55.288 +07:00 [DBG] Done attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]'.
2025-10-03 19:17:55.288 +07:00 [DBG] Attempting to validate the bound parameter 'semesterId' of type 'System.Nullable`1[System.Int32]' ...
2025-10-03 19:17:55.288 +07:00 [DBG] Done attempting to validate the bound parameter 'semesterId' of type 'System.Nullable`1[System.Int32]'.
2025-10-03 19:17:55.289 +07:00 [DBG] Entity Framework Core 8.0.16 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: MigrationsAssembly=App.DAL 
2025-10-03 19:17:55.289 +07:00 [DBG] Creating DbConnection.
2025-10-03 19:17:55.289 +07:00 [DBG] Created DbConnection. (0ms).
2025-10-03 19:17:55.289 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:17:55.290 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:17:55.290 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 19:17:55.290 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:17:55.290 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:17:55.290 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[RoleId], [u0].[Id], [u0].[AccessFailedCount], [u0].[ConcurrencyStamp], [u0].[CreatedAt], [u0].[DeletedAt], [u0].[Email], [u0].[EmailConfirmed], [u0].[LastModifiedAt], [u0].[LastModifiedBy], [u0].[LockoutEnabled], [u0].[LockoutEnd], [u0].[NormalizedEmail], [u0].[NormalizedUserName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[PhoneNumberConfirmed], [u0].[SecurityStamp], [u0].[TwoFactorEnabled], [u0].[UserName], [r].[Id], [l].[Id], [l].[CreatedAt], [l].[CreatedBy], [l].[DeletedAt], [l].[IsActive], [l].[LastModifiedAt], [l].[LastModifiedBy], [l].[LecturerId], [l].[ProficiencyLevel], [l].[SkillTag], [r0].[Id], [r0].[AverageScoreGiven], [r0].[AverageTimeMinutes], [r0].[CompletedAssignments], [r0].[LastUpdated], [r0].[OnTimeRate], [r0].[QualityRating], [r0].[ReviewerId], [r0].[SemesterId], [r0].[TotalAssignments], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [user_roles] AS [u]
INNER JOIN [roles] AS [r] ON [u].[RoleId] = [r].[Id]
INNER JOIN [users] AS [u0] ON [u].[UserId] = [u0].[Id]
LEFT JOIN [lecturer_skills] AS [l] ON [u0].[Id] = [l].[LecturerId]
LEFT JOIN [reviewer_performance] AS [r0] ON [u0].[Id] = [r0].[ReviewerId]
WHERE [r].[Name] = N'Reviewer'
ORDER BY [u].[UserId], [u].[RoleId], [r].[Id], [u0].[Id], [l].[Id]
2025-10-03 19:17:55.292 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[RoleId], [u0].[Id], [u0].[AccessFailedCount], [u0].[ConcurrencyStamp], [u0].[CreatedAt], [u0].[DeletedAt], [u0].[Email], [u0].[EmailConfirmed], [u0].[LastModifiedAt], [u0].[LastModifiedBy], [u0].[LockoutEnabled], [u0].[LockoutEnd], [u0].[NormalizedEmail], [u0].[NormalizedUserName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[PhoneNumberConfirmed], [u0].[SecurityStamp], [u0].[TwoFactorEnabled], [u0].[UserName], [r].[Id], [l].[Id], [l].[CreatedAt], [l].[CreatedBy], [l].[DeletedAt], [l].[IsActive], [l].[LastModifiedAt], [l].[LastModifiedBy], [l].[LecturerId], [l].[ProficiencyLevel], [l].[SkillTag], [r0].[Id], [r0].[AverageScoreGiven], [r0].[AverageTimeMinutes], [r0].[CompletedAssignments], [r0].[LastUpdated], [r0].[OnTimeRate], [r0].[QualityRating], [r0].[ReviewerId], [r0].[SemesterId], [r0].[TotalAssignments], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [user_roles] AS [u]
INNER JOIN [roles] AS [r] ON [u].[RoleId] = [r].[Id]
INNER JOIN [users] AS [u0] ON [u].[UserId] = [u0].[Id]
LEFT JOIN [lecturer_skills] AS [l] ON [u0].[Id] = [l].[LecturerId]
LEFT JOIN [reviewer_performance] AS [r0] ON [u0].[Id] = [r0].[ReviewerId]
WHERE [r].[Name] = N'Reviewer'
ORDER BY [u].[UserId], [u].[RoleId], [r].[Id], [u0].[Id], [l].[Id]
2025-10-03 19:17:55.294 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 19:17:55.294 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 2ms reading results.
2025-10-03 19:17:55.294 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:17:55.294 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 19:17:55.296 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:17:55.296 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:17:55.296 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 19:17:55.296 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:17:55.297 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:17:55.297 +07:00 [DBG] Executing DbCommand [Parameters=[@__8__locals2_reviewerIds_0='?' (Size = 4000), @__sid_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId], [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Abbreviation], [t].[CategoryId], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[EN_Title], [t].[IsActive], [t].[IsApproved], [t].[IsLegacy], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[MaxStudents], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[SemesterId], [t].[SupervisorId], [t].[VN_title], [t0].[Id], [t0].[Content], [t0].[Context], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[DocumentUrl], [t0].[EN_Title], [t0].[ExpectedOutcomes], [t0].[IsActive], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[Methodology], [t0].[Objectives], [t0].[PotentialDuplicate], [t0].[Problem], [t0].[Requirements], [t0].[Status], [t0].[SubmittedAt], [t0].[SubmittedBy], [t0].[TopicId], [t0].[VN_title], [t0].[VersionNumber], [t1].[Id], [t1].[Abbreviation], [t1].[CategoryId], [t1].[Content], [t1].[Context], [t1].[CreatedAt], [t1].[CreatedBy], [t1].[DeletedAt], [t1].[Description], [t1].[EN_Title], [t1].[IsActive], [t1].[IsApproved], [t1].[IsLegacy], [t1].[LastModifiedAt], [t1].[LastModifiedBy], [t1].[MaxStudents], [t1].[Objectives], [t1].[PotentialDuplicate], [t1].[Problem], [t1].[SemesterId], [t1].[SupervisorId], [t1].[VN_title]
FROM [reviewer_assignments] AS [r]
INNER JOIN [submissions] AS [s] ON [r].[SubmissionId] = [s].[Id]
LEFT JOIN [topics] AS [t] ON [s].[TopicId] = [t].[Id]
LEFT JOIN [topic_versions] AS [t0] ON [s].[TopicVersionId] = [t0].[Id]
LEFT JOIN [topics] AS [t1] ON [t0].[TopicId] = [t1].[Id]
WHERE [r].[ReviewerId] IN (
    SELECT [8].[value]
    FROM OPENJSON(@__8__locals2_reviewerIds_0) WITH ([value] int '$') AS [8]
) AND (([t].[Id] IS NOT NULL AND [t].[SemesterId] = @__sid_1) OR ([t0].[Id] IS NOT NULL AND [t1].[Id] IS NOT NULL AND [t1].[SemesterId] = @__sid_1))
2025-10-03 19:17:55.301 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__8__locals2_reviewerIds_0='?' (Size = 4000), @__sid_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId], [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Abbreviation], [t].[CategoryId], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[EN_Title], [t].[IsActive], [t].[IsApproved], [t].[IsLegacy], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[MaxStudents], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[SemesterId], [t].[SupervisorId], [t].[VN_title], [t0].[Id], [t0].[Content], [t0].[Context], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[DocumentUrl], [t0].[EN_Title], [t0].[ExpectedOutcomes], [t0].[IsActive], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[Methodology], [t0].[Objectives], [t0].[PotentialDuplicate], [t0].[Problem], [t0].[Requirements], [t0].[Status], [t0].[SubmittedAt], [t0].[SubmittedBy], [t0].[TopicId], [t0].[VN_title], [t0].[VersionNumber], [t1].[Id], [t1].[Abbreviation], [t1].[CategoryId], [t1].[Content], [t1].[Context], [t1].[CreatedAt], [t1].[CreatedBy], [t1].[DeletedAt], [t1].[Description], [t1].[EN_Title], [t1].[IsActive], [t1].[IsApproved], [t1].[IsLegacy], [t1].[LastModifiedAt], [t1].[LastModifiedBy], [t1].[MaxStudents], [t1].[Objectives], [t1].[PotentialDuplicate], [t1].[Problem], [t1].[SemesterId], [t1].[SupervisorId], [t1].[VN_title]
FROM [reviewer_assignments] AS [r]
INNER JOIN [submissions] AS [s] ON [r].[SubmissionId] = [s].[Id]
LEFT JOIN [topics] AS [t] ON [s].[TopicId] = [t].[Id]
LEFT JOIN [topic_versions] AS [t0] ON [s].[TopicVersionId] = [t0].[Id]
LEFT JOIN [topics] AS [t1] ON [t0].[TopicId] = [t1].[Id]
WHERE [r].[ReviewerId] IN (
    SELECT [8].[value]
    FROM OPENJSON(@__8__locals2_reviewerIds_0) WITH ([value] int '$') AS [8]
) AND (([t].[Id] IS NOT NULL AND [t].[SemesterId] = @__sid_1) OR ([t0].[Id] IS NOT NULL AND [t1].[Id] IS NOT NULL AND [t1].[SemesterId] = @__sid_1))
2025-10-03 19:17:55.304 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 19:17:55.304 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 2ms reading results.
2025-10-03 19:17:55.304 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:17:55.304 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 19:17:55.305 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:17:55.305 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:17:55.306 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 19:17:55.306 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:17:55.306 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:17:55.306 +07:00 [DBG] Executing DbCommand [Parameters=[@__reviewerIds_0='?' (Size = 4000), @__8__locals1_semesterId_Value_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AverageScoreGiven], [r].[AverageTimeMinutes], [r].[CompletedAssignments], [r].[LastUpdated], [r].[OnTimeRate], [r].[QualityRating], [r].[ReviewerId], [r].[SemesterId], [r].[TotalAssignments]
FROM [reviewer_performance] AS [r]
WHERE [r].[ReviewerId] IN (
    SELECT [r0].[value]
    FROM OPENJSON(@__reviewerIds_0) WITH ([value] int '$') AS [r0]
) AND [r].[SemesterId] = @__8__locals1_semesterId_Value_1
2025-10-03 19:17:55.308 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__reviewerIds_0='?' (Size = 4000), @__8__locals1_semesterId_Value_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AverageScoreGiven], [r].[AverageTimeMinutes], [r].[CompletedAssignments], [r].[LastUpdated], [r].[OnTimeRate], [r].[QualityRating], [r].[ReviewerId], [r].[SemesterId], [r].[TotalAssignments]
FROM [reviewer_performance] AS [r]
WHERE [r].[ReviewerId] IN (
    SELECT [r0].[value]
    FROM OPENJSON(@__reviewerIds_0) WITH ([value] int '$') AS [r0]
) AND [r].[SemesterId] = @__8__locals1_semesterId_Value_1
2025-10-03 19:17:55.308 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 19:17:55.308 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-10-03 19:17:55.308 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:17:55.308 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 19:17:55.309 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-10-03 19:17:55.309 +07:00 [DBG] No information found on request to perform content negotiation.
2025-10-03 19:17:55.309 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-10-03 19:17:55.309 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-10-03 19:17:55.309 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-10-03 19:17:55.309 +07:00 [INF] Executing ObjectResult, writing value of type 'FS.Commons.FSResponse'.
2025-10-03 19:17:55.310 +07:00 [INF] Executed action CapBot.api.Controllers.ReviewerAssignmentController.GetReviewersWorkload (CapBot.api) in 22.8435ms
2025-10-03 19:17:55.310 +07:00 [INF] Executed endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetReviewersWorkload (CapBot.api)'
2025-10-03 19:17:55.310 +07:00 [DBG] Connection id "0HNG2EQOPDV1L" completed keep alive response.
2025-10-03 19:17:55.310 +07:00 [DBG] 'MyDbContext' disposed.
2025-10-03 19:17:55.310 +07:00 [DBG] Disposing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:17:55.310 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-10-03 19:17:55.310 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5207/api/reviewer-assignments/workload?semesterId=1 - 200 null application/json; charset=utf-8 25.6977ms
2025-10-03 19:17:55.485 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5207/api/reviewer-assignments/workload?semesterId=1 - null null
2025-10-03 19:17:55.486 +07:00 [DBG] The request path /api/reviewer-assignments/workload does not match a supported file type
2025-10-03 19:17:55.486 +07:00 [DBG] The request path /api/reviewer-assignments/workload does not match a supported file type
2025-10-03 19:17:55.486 +07:00 [DBG] 1 candidate(s) found for the request path '/api/reviewer-assignments/workload'
2025-10-03 19:17:55.486 +07:00 [DBG] Endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetReviewersWorkload (CapBot.api)' with route pattern 'api/reviewer-assignments/workload' is valid for the request path '/api/reviewer-assignments/workload'
2025-10-03 19:17:55.486 +07:00 [DBG] Request matched endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetReviewersWorkload (CapBot.api)'
2025-10-03 19:17:55.487 +07:00 [DBG] Successfully validated the token.
2025-10-03 19:17:55.487 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-10-03 19:17:55.487 +07:00 [DBG] Authorization was successful.
2025-10-03 19:17:55.487 +07:00 [INF] Executing endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetReviewersWorkload (CapBot.api)'
2025-10-03 19:17:55.487 +07:00 [INF] Route matched with {action = "GetReviewersWorkload", controller = "ReviewerAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetReviewersWorkload(System.Nullable`1[System.Int32]) on controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api).
2025-10-03 19:17:55.487 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-10-03 19:17:55.487 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-10-03 19:17:55.487 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2025-10-03 19:17:55.488 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-10-03 19:17:55.488 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-10-03 19:17:55.488 +07:00 [DBG] Executing controller factory for controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api)
2025-10-03 19:17:55.488 +07:00 [DBG] Executed controller factory for controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api)
2025-10-03 19:17:55.489 +07:00 [DBG] Attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]' ...
2025-10-03 19:17:55.489 +07:00 [DBG] Attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]' using the name 'semesterId' in request data ...
2025-10-03 19:17:55.489 +07:00 [DBG] Done attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]'.
2025-10-03 19:17:55.489 +07:00 [DBG] Done attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]'.
2025-10-03 19:17:55.489 +07:00 [DBG] Attempting to validate the bound parameter 'semesterId' of type 'System.Nullable`1[System.Int32]' ...
2025-10-03 19:17:55.489 +07:00 [DBG] Done attempting to validate the bound parameter 'semesterId' of type 'System.Nullable`1[System.Int32]'.
2025-10-03 19:17:55.490 +07:00 [DBG] Entity Framework Core 8.0.16 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: MigrationsAssembly=App.DAL 
2025-10-03 19:17:55.490 +07:00 [DBG] Creating DbConnection.
2025-10-03 19:17:55.490 +07:00 [DBG] Created DbConnection. (0ms).
2025-10-03 19:17:55.490 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:17:55.490 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:17:55.491 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 19:17:55.491 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:17:55.491 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:17:55.491 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[RoleId], [u0].[Id], [u0].[AccessFailedCount], [u0].[ConcurrencyStamp], [u0].[CreatedAt], [u0].[DeletedAt], [u0].[Email], [u0].[EmailConfirmed], [u0].[LastModifiedAt], [u0].[LastModifiedBy], [u0].[LockoutEnabled], [u0].[LockoutEnd], [u0].[NormalizedEmail], [u0].[NormalizedUserName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[PhoneNumberConfirmed], [u0].[SecurityStamp], [u0].[TwoFactorEnabled], [u0].[UserName], [r].[Id], [l].[Id], [l].[CreatedAt], [l].[CreatedBy], [l].[DeletedAt], [l].[IsActive], [l].[LastModifiedAt], [l].[LastModifiedBy], [l].[LecturerId], [l].[ProficiencyLevel], [l].[SkillTag], [r0].[Id], [r0].[AverageScoreGiven], [r0].[AverageTimeMinutes], [r0].[CompletedAssignments], [r0].[LastUpdated], [r0].[OnTimeRate], [r0].[QualityRating], [r0].[ReviewerId], [r0].[SemesterId], [r0].[TotalAssignments], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [user_roles] AS [u]
INNER JOIN [roles] AS [r] ON [u].[RoleId] = [r].[Id]
INNER JOIN [users] AS [u0] ON [u].[UserId] = [u0].[Id]
LEFT JOIN [lecturer_skills] AS [l] ON [u0].[Id] = [l].[LecturerId]
LEFT JOIN [reviewer_performance] AS [r0] ON [u0].[Id] = [r0].[ReviewerId]
WHERE [r].[Name] = N'Reviewer'
ORDER BY [u].[UserId], [u].[RoleId], [r].[Id], [u0].[Id], [l].[Id]
2025-10-03 19:17:55.493 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[RoleId], [u0].[Id], [u0].[AccessFailedCount], [u0].[ConcurrencyStamp], [u0].[CreatedAt], [u0].[DeletedAt], [u0].[Email], [u0].[EmailConfirmed], [u0].[LastModifiedAt], [u0].[LastModifiedBy], [u0].[LockoutEnabled], [u0].[LockoutEnd], [u0].[NormalizedEmail], [u0].[NormalizedUserName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[PhoneNumberConfirmed], [u0].[SecurityStamp], [u0].[TwoFactorEnabled], [u0].[UserName], [r].[Id], [l].[Id], [l].[CreatedAt], [l].[CreatedBy], [l].[DeletedAt], [l].[IsActive], [l].[LastModifiedAt], [l].[LastModifiedBy], [l].[LecturerId], [l].[ProficiencyLevel], [l].[SkillTag], [r0].[Id], [r0].[AverageScoreGiven], [r0].[AverageTimeMinutes], [r0].[CompletedAssignments], [r0].[LastUpdated], [r0].[OnTimeRate], [r0].[QualityRating], [r0].[ReviewerId], [r0].[SemesterId], [r0].[TotalAssignments], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [user_roles] AS [u]
INNER JOIN [roles] AS [r] ON [u].[RoleId] = [r].[Id]
INNER JOIN [users] AS [u0] ON [u].[UserId] = [u0].[Id]
LEFT JOIN [lecturer_skills] AS [l] ON [u0].[Id] = [l].[LecturerId]
LEFT JOIN [reviewer_performance] AS [r0] ON [u0].[Id] = [r0].[ReviewerId]
WHERE [r].[Name] = N'Reviewer'
ORDER BY [u].[UserId], [u].[RoleId], [r].[Id], [u0].[Id], [l].[Id]
2025-10-03 19:17:55.495 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 19:17:55.495 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 1ms reading results.
2025-10-03 19:17:55.495 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:17:55.496 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 19:17:55.497 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:17:55.497 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:17:55.497 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 19:17:55.497 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:17:55.497 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:17:55.498 +07:00 [DBG] Executing DbCommand [Parameters=[@__8__locals2_reviewerIds_0='?' (Size = 4000), @__sid_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId], [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Abbreviation], [t].[CategoryId], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[EN_Title], [t].[IsActive], [t].[IsApproved], [t].[IsLegacy], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[MaxStudents], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[SemesterId], [t].[SupervisorId], [t].[VN_title], [t0].[Id], [t0].[Content], [t0].[Context], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[DocumentUrl], [t0].[EN_Title], [t0].[ExpectedOutcomes], [t0].[IsActive], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[Methodology], [t0].[Objectives], [t0].[PotentialDuplicate], [t0].[Problem], [t0].[Requirements], [t0].[Status], [t0].[SubmittedAt], [t0].[SubmittedBy], [t0].[TopicId], [t0].[VN_title], [t0].[VersionNumber], [t1].[Id], [t1].[Abbreviation], [t1].[CategoryId], [t1].[Content], [t1].[Context], [t1].[CreatedAt], [t1].[CreatedBy], [t1].[DeletedAt], [t1].[Description], [t1].[EN_Title], [t1].[IsActive], [t1].[IsApproved], [t1].[IsLegacy], [t1].[LastModifiedAt], [t1].[LastModifiedBy], [t1].[MaxStudents], [t1].[Objectives], [t1].[PotentialDuplicate], [t1].[Problem], [t1].[SemesterId], [t1].[SupervisorId], [t1].[VN_title]
FROM [reviewer_assignments] AS [r]
INNER JOIN [submissions] AS [s] ON [r].[SubmissionId] = [s].[Id]
LEFT JOIN [topics] AS [t] ON [s].[TopicId] = [t].[Id]
LEFT JOIN [topic_versions] AS [t0] ON [s].[TopicVersionId] = [t0].[Id]
LEFT JOIN [topics] AS [t1] ON [t0].[TopicId] = [t1].[Id]
WHERE [r].[ReviewerId] IN (
    SELECT [8].[value]
    FROM OPENJSON(@__8__locals2_reviewerIds_0) WITH ([value] int '$') AS [8]
) AND (([t].[Id] IS NOT NULL AND [t].[SemesterId] = @__sid_1) OR ([t0].[Id] IS NOT NULL AND [t1].[Id] IS NOT NULL AND [t1].[SemesterId] = @__sid_1))
2025-10-03 19:17:55.500 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__8__locals2_reviewerIds_0='?' (Size = 4000), @__sid_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId], [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Abbreviation], [t].[CategoryId], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[EN_Title], [t].[IsActive], [t].[IsApproved], [t].[IsLegacy], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[MaxStudents], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[SemesterId], [t].[SupervisorId], [t].[VN_title], [t0].[Id], [t0].[Content], [t0].[Context], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[DocumentUrl], [t0].[EN_Title], [t0].[ExpectedOutcomes], [t0].[IsActive], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[Methodology], [t0].[Objectives], [t0].[PotentialDuplicate], [t0].[Problem], [t0].[Requirements], [t0].[Status], [t0].[SubmittedAt], [t0].[SubmittedBy], [t0].[TopicId], [t0].[VN_title], [t0].[VersionNumber], [t1].[Id], [t1].[Abbreviation], [t1].[CategoryId], [t1].[Content], [t1].[Context], [t1].[CreatedAt], [t1].[CreatedBy], [t1].[DeletedAt], [t1].[Description], [t1].[EN_Title], [t1].[IsActive], [t1].[IsApproved], [t1].[IsLegacy], [t1].[LastModifiedAt], [t1].[LastModifiedBy], [t1].[MaxStudents], [t1].[Objectives], [t1].[PotentialDuplicate], [t1].[Problem], [t1].[SemesterId], [t1].[SupervisorId], [t1].[VN_title]
FROM [reviewer_assignments] AS [r]
INNER JOIN [submissions] AS [s] ON [r].[SubmissionId] = [s].[Id]
LEFT JOIN [topics] AS [t] ON [s].[TopicId] = [t].[Id]
LEFT JOIN [topic_versions] AS [t0] ON [s].[TopicVersionId] = [t0].[Id]
LEFT JOIN [topics] AS [t1] ON [t0].[TopicId] = [t1].[Id]
WHERE [r].[ReviewerId] IN (
    SELECT [8].[value]
    FROM OPENJSON(@__8__locals2_reviewerIds_0) WITH ([value] int '$') AS [8]
) AND (([t].[Id] IS NOT NULL AND [t].[SemesterId] = @__sid_1) OR ([t0].[Id] IS NOT NULL AND [t1].[Id] IS NOT NULL AND [t1].[SemesterId] = @__sid_1))
2025-10-03 19:17:55.504 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 19:17:55.504 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 4ms reading results.
2025-10-03 19:17:55.505 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:17:55.505 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 19:17:55.505 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:17:55.506 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:17:55.506 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 19:17:55.506 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:17:55.506 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:17:55.506 +07:00 [DBG] Executing DbCommand [Parameters=[@__reviewerIds_0='?' (Size = 4000), @__8__locals1_semesterId_Value_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AverageScoreGiven], [r].[AverageTimeMinutes], [r].[CompletedAssignments], [r].[LastUpdated], [r].[OnTimeRate], [r].[QualityRating], [r].[ReviewerId], [r].[SemesterId], [r].[TotalAssignments]
FROM [reviewer_performance] AS [r]
WHERE [r].[ReviewerId] IN (
    SELECT [r0].[value]
    FROM OPENJSON(@__reviewerIds_0) WITH ([value] int '$') AS [r0]
) AND [r].[SemesterId] = @__8__locals1_semesterId_Value_1
2025-10-03 19:17:55.507 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__reviewerIds_0='?' (Size = 4000), @__8__locals1_semesterId_Value_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AverageScoreGiven], [r].[AverageTimeMinutes], [r].[CompletedAssignments], [r].[LastUpdated], [r].[OnTimeRate], [r].[QualityRating], [r].[ReviewerId], [r].[SemesterId], [r].[TotalAssignments]
FROM [reviewer_performance] AS [r]
WHERE [r].[ReviewerId] IN (
    SELECT [r0].[value]
    FROM OPENJSON(@__reviewerIds_0) WITH ([value] int '$') AS [r0]
) AND [r].[SemesterId] = @__8__locals1_semesterId_Value_1
2025-10-03 19:17:55.508 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 19:17:55.508 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-10-03 19:17:55.508 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:17:55.508 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 19:17:55.509 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-10-03 19:17:55.509 +07:00 [DBG] No information found on request to perform content negotiation.
2025-10-03 19:17:55.509 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-10-03 19:17:55.509 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-10-03 19:17:55.509 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-10-03 19:17:55.509 +07:00 [INF] Executing ObjectResult, writing value of type 'FS.Commons.FSResponse'.
2025-10-03 19:17:55.510 +07:00 [INF] Executed action CapBot.api.Controllers.ReviewerAssignmentController.GetReviewersWorkload (CapBot.api) in 22.2105ms
2025-10-03 19:17:55.510 +07:00 [INF] Executed endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetReviewersWorkload (CapBot.api)'
2025-10-03 19:17:55.510 +07:00 [DBG] Connection id "0HNG2EQOPDV1L" completed keep alive response.
2025-10-03 19:17:55.511 +07:00 [DBG] 'MyDbContext' disposed.
2025-10-03 19:17:55.511 +07:00 [DBG] Disposing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:17:55.511 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-10-03 19:17:55.511 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5207/api/reviewer-assignments/workload?semesterId=1 - 200 null application/json; charset=utf-8 25.3903ms
2025-10-03 19:17:55.671 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5207/api/reviewer-assignments/workload?semesterId=1 - null null
2025-10-03 19:17:55.671 +07:00 [DBG] The request path /api/reviewer-assignments/workload does not match a supported file type
2025-10-03 19:17:55.671 +07:00 [DBG] The request path /api/reviewer-assignments/workload does not match a supported file type
2025-10-03 19:17:55.672 +07:00 [DBG] 1 candidate(s) found for the request path '/api/reviewer-assignments/workload'
2025-10-03 19:17:55.672 +07:00 [DBG] Endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetReviewersWorkload (CapBot.api)' with route pattern 'api/reviewer-assignments/workload' is valid for the request path '/api/reviewer-assignments/workload'
2025-10-03 19:17:55.672 +07:00 [DBG] Request matched endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetReviewersWorkload (CapBot.api)'
2025-10-03 19:17:55.672 +07:00 [DBG] Successfully validated the token.
2025-10-03 19:17:55.672 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-10-03 19:17:55.672 +07:00 [DBG] Authorization was successful.
2025-10-03 19:17:55.672 +07:00 [INF] Executing endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetReviewersWorkload (CapBot.api)'
2025-10-03 19:17:55.673 +07:00 [INF] Route matched with {action = "GetReviewersWorkload", controller = "ReviewerAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetReviewersWorkload(System.Nullable`1[System.Int32]) on controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api).
2025-10-03 19:17:55.673 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-10-03 19:17:55.673 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-10-03 19:17:55.673 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2025-10-03 19:17:55.673 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-10-03 19:17:55.673 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-10-03 19:17:55.673 +07:00 [DBG] Executing controller factory for controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api)
2025-10-03 19:17:55.673 +07:00 [DBG] Executed controller factory for controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api)
2025-10-03 19:17:55.674 +07:00 [DBG] Attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]' ...
2025-10-03 19:17:55.674 +07:00 [DBG] Attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]' using the name 'semesterId' in request data ...
2025-10-03 19:17:55.674 +07:00 [DBG] Done attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]'.
2025-10-03 19:17:55.674 +07:00 [DBG] Done attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]'.
2025-10-03 19:17:55.674 +07:00 [DBG] Attempting to validate the bound parameter 'semesterId' of type 'System.Nullable`1[System.Int32]' ...
2025-10-03 19:17:55.674 +07:00 [DBG] Done attempting to validate the bound parameter 'semesterId' of type 'System.Nullable`1[System.Int32]'.
2025-10-03 19:17:55.675 +07:00 [DBG] Entity Framework Core 8.0.16 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: MigrationsAssembly=App.DAL 
2025-10-03 19:17:55.675 +07:00 [DBG] Creating DbConnection.
2025-10-03 19:17:55.676 +07:00 [DBG] Created DbConnection. (0ms).
2025-10-03 19:17:55.676 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:17:55.676 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:17:55.676 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 19:17:55.676 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:17:55.676 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:17:55.676 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[RoleId], [u0].[Id], [u0].[AccessFailedCount], [u0].[ConcurrencyStamp], [u0].[CreatedAt], [u0].[DeletedAt], [u0].[Email], [u0].[EmailConfirmed], [u0].[LastModifiedAt], [u0].[LastModifiedBy], [u0].[LockoutEnabled], [u0].[LockoutEnd], [u0].[NormalizedEmail], [u0].[NormalizedUserName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[PhoneNumberConfirmed], [u0].[SecurityStamp], [u0].[TwoFactorEnabled], [u0].[UserName], [r].[Id], [l].[Id], [l].[CreatedAt], [l].[CreatedBy], [l].[DeletedAt], [l].[IsActive], [l].[LastModifiedAt], [l].[LastModifiedBy], [l].[LecturerId], [l].[ProficiencyLevel], [l].[SkillTag], [r0].[Id], [r0].[AverageScoreGiven], [r0].[AverageTimeMinutes], [r0].[CompletedAssignments], [r0].[LastUpdated], [r0].[OnTimeRate], [r0].[QualityRating], [r0].[ReviewerId], [r0].[SemesterId], [r0].[TotalAssignments], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [user_roles] AS [u]
INNER JOIN [roles] AS [r] ON [u].[RoleId] = [r].[Id]
INNER JOIN [users] AS [u0] ON [u].[UserId] = [u0].[Id]
LEFT JOIN [lecturer_skills] AS [l] ON [u0].[Id] = [l].[LecturerId]
LEFT JOIN [reviewer_performance] AS [r0] ON [u0].[Id] = [r0].[ReviewerId]
WHERE [r].[Name] = N'Reviewer'
ORDER BY [u].[UserId], [u].[RoleId], [r].[Id], [u0].[Id], [l].[Id]
2025-10-03 19:17:55.678 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[RoleId], [u0].[Id], [u0].[AccessFailedCount], [u0].[ConcurrencyStamp], [u0].[CreatedAt], [u0].[DeletedAt], [u0].[Email], [u0].[EmailConfirmed], [u0].[LastModifiedAt], [u0].[LastModifiedBy], [u0].[LockoutEnabled], [u0].[LockoutEnd], [u0].[NormalizedEmail], [u0].[NormalizedUserName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[PhoneNumberConfirmed], [u0].[SecurityStamp], [u0].[TwoFactorEnabled], [u0].[UserName], [r].[Id], [l].[Id], [l].[CreatedAt], [l].[CreatedBy], [l].[DeletedAt], [l].[IsActive], [l].[LastModifiedAt], [l].[LastModifiedBy], [l].[LecturerId], [l].[ProficiencyLevel], [l].[SkillTag], [r0].[Id], [r0].[AverageScoreGiven], [r0].[AverageTimeMinutes], [r0].[CompletedAssignments], [r0].[LastUpdated], [r0].[OnTimeRate], [r0].[QualityRating], [r0].[ReviewerId], [r0].[SemesterId], [r0].[TotalAssignments], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [user_roles] AS [u]
INNER JOIN [roles] AS [r] ON [u].[RoleId] = [r].[Id]
INNER JOIN [users] AS [u0] ON [u].[UserId] = [u0].[Id]
LEFT JOIN [lecturer_skills] AS [l] ON [u0].[Id] = [l].[LecturerId]
LEFT JOIN [reviewer_performance] AS [r0] ON [u0].[Id] = [r0].[ReviewerId]
WHERE [r].[Name] = N'Reviewer'
ORDER BY [u].[UserId], [u].[RoleId], [r].[Id], [u0].[Id], [l].[Id]
2025-10-03 19:17:55.680 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 19:17:55.680 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 1ms reading results.
2025-10-03 19:17:55.681 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:17:55.681 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 19:17:55.682 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:17:55.682 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:17:55.682 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 19:17:55.682 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:17:55.682 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:17:55.682 +07:00 [DBG] Executing DbCommand [Parameters=[@__8__locals2_reviewerIds_0='?' (Size = 4000), @__sid_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId], [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Abbreviation], [t].[CategoryId], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[EN_Title], [t].[IsActive], [t].[IsApproved], [t].[IsLegacy], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[MaxStudents], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[SemesterId], [t].[SupervisorId], [t].[VN_title], [t0].[Id], [t0].[Content], [t0].[Context], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[DocumentUrl], [t0].[EN_Title], [t0].[ExpectedOutcomes], [t0].[IsActive], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[Methodology], [t0].[Objectives], [t0].[PotentialDuplicate], [t0].[Problem], [t0].[Requirements], [t0].[Status], [t0].[SubmittedAt], [t0].[SubmittedBy], [t0].[TopicId], [t0].[VN_title], [t0].[VersionNumber], [t1].[Id], [t1].[Abbreviation], [t1].[CategoryId], [t1].[Content], [t1].[Context], [t1].[CreatedAt], [t1].[CreatedBy], [t1].[DeletedAt], [t1].[Description], [t1].[EN_Title], [t1].[IsActive], [t1].[IsApproved], [t1].[IsLegacy], [t1].[LastModifiedAt], [t1].[LastModifiedBy], [t1].[MaxStudents], [t1].[Objectives], [t1].[PotentialDuplicate], [t1].[Problem], [t1].[SemesterId], [t1].[SupervisorId], [t1].[VN_title]
FROM [reviewer_assignments] AS [r]
INNER JOIN [submissions] AS [s] ON [r].[SubmissionId] = [s].[Id]
LEFT JOIN [topics] AS [t] ON [s].[TopicId] = [t].[Id]
LEFT JOIN [topic_versions] AS [t0] ON [s].[TopicVersionId] = [t0].[Id]
LEFT JOIN [topics] AS [t1] ON [t0].[TopicId] = [t1].[Id]
WHERE [r].[ReviewerId] IN (
    SELECT [8].[value]
    FROM OPENJSON(@__8__locals2_reviewerIds_0) WITH ([value] int '$') AS [8]
) AND (([t].[Id] IS NOT NULL AND [t].[SemesterId] = @__sid_1) OR ([t0].[Id] IS NOT NULL AND [t1].[Id] IS NOT NULL AND [t1].[SemesterId] = @__sid_1))
2025-10-03 19:17:55.686 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__8__locals2_reviewerIds_0='?' (Size = 4000), @__sid_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId], [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Abbreviation], [t].[CategoryId], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[EN_Title], [t].[IsActive], [t].[IsApproved], [t].[IsLegacy], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[MaxStudents], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[SemesterId], [t].[SupervisorId], [t].[VN_title], [t0].[Id], [t0].[Content], [t0].[Context], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[DocumentUrl], [t0].[EN_Title], [t0].[ExpectedOutcomes], [t0].[IsActive], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[Methodology], [t0].[Objectives], [t0].[PotentialDuplicate], [t0].[Problem], [t0].[Requirements], [t0].[Status], [t0].[SubmittedAt], [t0].[SubmittedBy], [t0].[TopicId], [t0].[VN_title], [t0].[VersionNumber], [t1].[Id], [t1].[Abbreviation], [t1].[CategoryId], [t1].[Content], [t1].[Context], [t1].[CreatedAt], [t1].[CreatedBy], [t1].[DeletedAt], [t1].[Description], [t1].[EN_Title], [t1].[IsActive], [t1].[IsApproved], [t1].[IsLegacy], [t1].[LastModifiedAt], [t1].[LastModifiedBy], [t1].[MaxStudents], [t1].[Objectives], [t1].[PotentialDuplicate], [t1].[Problem], [t1].[SemesterId], [t1].[SupervisorId], [t1].[VN_title]
FROM [reviewer_assignments] AS [r]
INNER JOIN [submissions] AS [s] ON [r].[SubmissionId] = [s].[Id]
LEFT JOIN [topics] AS [t] ON [s].[TopicId] = [t].[Id]
LEFT JOIN [topic_versions] AS [t0] ON [s].[TopicVersionId] = [t0].[Id]
LEFT JOIN [topics] AS [t1] ON [t0].[TopicId] = [t1].[Id]
WHERE [r].[ReviewerId] IN (
    SELECT [8].[value]
    FROM OPENJSON(@__8__locals2_reviewerIds_0) WITH ([value] int '$') AS [8]
) AND (([t].[Id] IS NOT NULL AND [t].[SemesterId] = @__sid_1) OR ([t0].[Id] IS NOT NULL AND [t1].[Id] IS NOT NULL AND [t1].[SemesterId] = @__sid_1))
2025-10-03 19:17:55.689 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 19:17:55.689 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 2ms reading results.
2025-10-03 19:17:55.689 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:17:55.689 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 19:17:55.690 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:17:55.690 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:17:55.690 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 19:17:55.690 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:17:55.690 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:17:55.690 +07:00 [DBG] Executing DbCommand [Parameters=[@__reviewerIds_0='?' (Size = 4000), @__8__locals1_semesterId_Value_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AverageScoreGiven], [r].[AverageTimeMinutes], [r].[CompletedAssignments], [r].[LastUpdated], [r].[OnTimeRate], [r].[QualityRating], [r].[ReviewerId], [r].[SemesterId], [r].[TotalAssignments]
FROM [reviewer_performance] AS [r]
WHERE [r].[ReviewerId] IN (
    SELECT [r0].[value]
    FROM OPENJSON(@__reviewerIds_0) WITH ([value] int '$') AS [r0]
) AND [r].[SemesterId] = @__8__locals1_semesterId_Value_1
2025-10-03 19:17:55.692 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__reviewerIds_0='?' (Size = 4000), @__8__locals1_semesterId_Value_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AverageScoreGiven], [r].[AverageTimeMinutes], [r].[CompletedAssignments], [r].[LastUpdated], [r].[OnTimeRate], [r].[QualityRating], [r].[ReviewerId], [r].[SemesterId], [r].[TotalAssignments]
FROM [reviewer_performance] AS [r]
WHERE [r].[ReviewerId] IN (
    SELECT [r0].[value]
    FROM OPENJSON(@__reviewerIds_0) WITH ([value] int '$') AS [r0]
) AND [r].[SemesterId] = @__8__locals1_semesterId_Value_1
2025-10-03 19:17:55.692 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 19:17:55.692 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-10-03 19:17:55.692 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:17:55.693 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 19:17:55.693 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-10-03 19:17:55.693 +07:00 [DBG] No information found on request to perform content negotiation.
2025-10-03 19:17:55.693 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-10-03 19:17:55.693 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-10-03 19:17:55.693 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-10-03 19:17:55.694 +07:00 [INF] Executing ObjectResult, writing value of type 'FS.Commons.FSResponse'.
2025-10-03 19:17:55.694 +07:00 [INF] Executed action CapBot.api.Controllers.ReviewerAssignmentController.GetReviewersWorkload (CapBot.api) in 20.8447ms
2025-10-03 19:17:55.694 +07:00 [INF] Executed endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetReviewersWorkload (CapBot.api)'
2025-10-03 19:17:55.694 +07:00 [DBG] Connection id "0HNG2EQOPDV1L" completed keep alive response.
2025-10-03 19:17:55.694 +07:00 [DBG] 'MyDbContext' disposed.
2025-10-03 19:17:55.694 +07:00 [DBG] Disposing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:17:55.695 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-10-03 19:17:55.695 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5207/api/reviewer-assignments/workload?semesterId=1 - 200 null application/json; charset=utf-8 23.6748ms
2025-10-03 19:17:56.016 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5207/api/reviewer-assignments/workload?semesterId=1 - null null
2025-10-03 19:17:56.016 +07:00 [DBG] The request path /api/reviewer-assignments/workload does not match a supported file type
2025-10-03 19:17:56.016 +07:00 [DBG] The request path /api/reviewer-assignments/workload does not match a supported file type
2025-10-03 19:17:56.016 +07:00 [DBG] 1 candidate(s) found for the request path '/api/reviewer-assignments/workload'
2025-10-03 19:17:56.016 +07:00 [DBG] Endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetReviewersWorkload (CapBot.api)' with route pattern 'api/reviewer-assignments/workload' is valid for the request path '/api/reviewer-assignments/workload'
2025-10-03 19:17:56.016 +07:00 [DBG] Request matched endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetReviewersWorkload (CapBot.api)'
2025-10-03 19:17:56.017 +07:00 [DBG] Successfully validated the token.
2025-10-03 19:17:56.017 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-10-03 19:17:56.017 +07:00 [DBG] Authorization was successful.
2025-10-03 19:17:56.017 +07:00 [INF] Executing endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetReviewersWorkload (CapBot.api)'
2025-10-03 19:17:56.017 +07:00 [INF] Route matched with {action = "GetReviewersWorkload", controller = "ReviewerAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetReviewersWorkload(System.Nullable`1[System.Int32]) on controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api).
2025-10-03 19:17:56.017 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-10-03 19:17:56.017 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-10-03 19:17:56.018 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2025-10-03 19:17:56.018 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-10-03 19:17:56.018 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-10-03 19:17:56.018 +07:00 [DBG] Executing controller factory for controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api)
2025-10-03 19:17:56.018 +07:00 [DBG] Executed controller factory for controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api)
2025-10-03 19:17:56.018 +07:00 [DBG] Attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]' ...
2025-10-03 19:17:56.019 +07:00 [DBG] Attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]' using the name 'semesterId' in request data ...
2025-10-03 19:17:56.019 +07:00 [DBG] Done attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]'.
2025-10-03 19:17:56.019 +07:00 [DBG] Done attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]'.
2025-10-03 19:17:56.019 +07:00 [DBG] Attempting to validate the bound parameter 'semesterId' of type 'System.Nullable`1[System.Int32]' ...
2025-10-03 19:17:56.019 +07:00 [DBG] Done attempting to validate the bound parameter 'semesterId' of type 'System.Nullable`1[System.Int32]'.
2025-10-03 19:17:56.020 +07:00 [DBG] Entity Framework Core 8.0.16 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: MigrationsAssembly=App.DAL 
2025-10-03 19:17:56.020 +07:00 [DBG] Creating DbConnection.
2025-10-03 19:17:56.020 +07:00 [DBG] Created DbConnection. (0ms).
2025-10-03 19:17:56.021 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:17:56.021 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:17:56.021 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 19:17:56.021 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:17:56.021 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:17:56.021 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[RoleId], [u0].[Id], [u0].[AccessFailedCount], [u0].[ConcurrencyStamp], [u0].[CreatedAt], [u0].[DeletedAt], [u0].[Email], [u0].[EmailConfirmed], [u0].[LastModifiedAt], [u0].[LastModifiedBy], [u0].[LockoutEnabled], [u0].[LockoutEnd], [u0].[NormalizedEmail], [u0].[NormalizedUserName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[PhoneNumberConfirmed], [u0].[SecurityStamp], [u0].[TwoFactorEnabled], [u0].[UserName], [r].[Id], [l].[Id], [l].[CreatedAt], [l].[CreatedBy], [l].[DeletedAt], [l].[IsActive], [l].[LastModifiedAt], [l].[LastModifiedBy], [l].[LecturerId], [l].[ProficiencyLevel], [l].[SkillTag], [r0].[Id], [r0].[AverageScoreGiven], [r0].[AverageTimeMinutes], [r0].[CompletedAssignments], [r0].[LastUpdated], [r0].[OnTimeRate], [r0].[QualityRating], [r0].[ReviewerId], [r0].[SemesterId], [r0].[TotalAssignments], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [user_roles] AS [u]
INNER JOIN [roles] AS [r] ON [u].[RoleId] = [r].[Id]
INNER JOIN [users] AS [u0] ON [u].[UserId] = [u0].[Id]
LEFT JOIN [lecturer_skills] AS [l] ON [u0].[Id] = [l].[LecturerId]
LEFT JOIN [reviewer_performance] AS [r0] ON [u0].[Id] = [r0].[ReviewerId]
WHERE [r].[Name] = N'Reviewer'
ORDER BY [u].[UserId], [u].[RoleId], [r].[Id], [u0].[Id], [l].[Id]
2025-10-03 19:17:56.023 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[RoleId], [u0].[Id], [u0].[AccessFailedCount], [u0].[ConcurrencyStamp], [u0].[CreatedAt], [u0].[DeletedAt], [u0].[Email], [u0].[EmailConfirmed], [u0].[LastModifiedAt], [u0].[LastModifiedBy], [u0].[LockoutEnabled], [u0].[LockoutEnd], [u0].[NormalizedEmail], [u0].[NormalizedUserName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[PhoneNumberConfirmed], [u0].[SecurityStamp], [u0].[TwoFactorEnabled], [u0].[UserName], [r].[Id], [l].[Id], [l].[CreatedAt], [l].[CreatedBy], [l].[DeletedAt], [l].[IsActive], [l].[LastModifiedAt], [l].[LastModifiedBy], [l].[LecturerId], [l].[ProficiencyLevel], [l].[SkillTag], [r0].[Id], [r0].[AverageScoreGiven], [r0].[AverageTimeMinutes], [r0].[CompletedAssignments], [r0].[LastUpdated], [r0].[OnTimeRate], [r0].[QualityRating], [r0].[ReviewerId], [r0].[SemesterId], [r0].[TotalAssignments], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [user_roles] AS [u]
INNER JOIN [roles] AS [r] ON [u].[RoleId] = [r].[Id]
INNER JOIN [users] AS [u0] ON [u].[UserId] = [u0].[Id]
LEFT JOIN [lecturer_skills] AS [l] ON [u0].[Id] = [l].[LecturerId]
LEFT JOIN [reviewer_performance] AS [r0] ON [u0].[Id] = [r0].[ReviewerId]
WHERE [r].[Name] = N'Reviewer'
ORDER BY [u].[UserId], [u].[RoleId], [r].[Id], [u0].[Id], [l].[Id]
2025-10-03 19:17:56.024 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 19:17:56.025 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 1ms reading results.
2025-10-03 19:17:56.025 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:17:56.025 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 19:17:56.026 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:17:56.026 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:17:56.026 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 19:17:56.026 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:17:56.026 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:17:56.027 +07:00 [DBG] Executing DbCommand [Parameters=[@__8__locals2_reviewerIds_0='?' (Size = 4000), @__sid_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId], [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Abbreviation], [t].[CategoryId], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[EN_Title], [t].[IsActive], [t].[IsApproved], [t].[IsLegacy], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[MaxStudents], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[SemesterId], [t].[SupervisorId], [t].[VN_title], [t0].[Id], [t0].[Content], [t0].[Context], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[DocumentUrl], [t0].[EN_Title], [t0].[ExpectedOutcomes], [t0].[IsActive], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[Methodology], [t0].[Objectives], [t0].[PotentialDuplicate], [t0].[Problem], [t0].[Requirements], [t0].[Status], [t0].[SubmittedAt], [t0].[SubmittedBy], [t0].[TopicId], [t0].[VN_title], [t0].[VersionNumber], [t1].[Id], [t1].[Abbreviation], [t1].[CategoryId], [t1].[Content], [t1].[Context], [t1].[CreatedAt], [t1].[CreatedBy], [t1].[DeletedAt], [t1].[Description], [t1].[EN_Title], [t1].[IsActive], [t1].[IsApproved], [t1].[IsLegacy], [t1].[LastModifiedAt], [t1].[LastModifiedBy], [t1].[MaxStudents], [t1].[Objectives], [t1].[PotentialDuplicate], [t1].[Problem], [t1].[SemesterId], [t1].[SupervisorId], [t1].[VN_title]
FROM [reviewer_assignments] AS [r]
INNER JOIN [submissions] AS [s] ON [r].[SubmissionId] = [s].[Id]
LEFT JOIN [topics] AS [t] ON [s].[TopicId] = [t].[Id]
LEFT JOIN [topic_versions] AS [t0] ON [s].[TopicVersionId] = [t0].[Id]
LEFT JOIN [topics] AS [t1] ON [t0].[TopicId] = [t1].[Id]
WHERE [r].[ReviewerId] IN (
    SELECT [8].[value]
    FROM OPENJSON(@__8__locals2_reviewerIds_0) WITH ([value] int '$') AS [8]
) AND (([t].[Id] IS NOT NULL AND [t].[SemesterId] = @__sid_1) OR ([t0].[Id] IS NOT NULL AND [t1].[Id] IS NOT NULL AND [t1].[SemesterId] = @__sid_1))
2025-10-03 19:17:56.030 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__8__locals2_reviewerIds_0='?' (Size = 4000), @__sid_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId], [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Abbreviation], [t].[CategoryId], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[EN_Title], [t].[IsActive], [t].[IsApproved], [t].[IsLegacy], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[MaxStudents], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[SemesterId], [t].[SupervisorId], [t].[VN_title], [t0].[Id], [t0].[Content], [t0].[Context], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[DocumentUrl], [t0].[EN_Title], [t0].[ExpectedOutcomes], [t0].[IsActive], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[Methodology], [t0].[Objectives], [t0].[PotentialDuplicate], [t0].[Problem], [t0].[Requirements], [t0].[Status], [t0].[SubmittedAt], [t0].[SubmittedBy], [t0].[TopicId], [t0].[VN_title], [t0].[VersionNumber], [t1].[Id], [t1].[Abbreviation], [t1].[CategoryId], [t1].[Content], [t1].[Context], [t1].[CreatedAt], [t1].[CreatedBy], [t1].[DeletedAt], [t1].[Description], [t1].[EN_Title], [t1].[IsActive], [t1].[IsApproved], [t1].[IsLegacy], [t1].[LastModifiedAt], [t1].[LastModifiedBy], [t1].[MaxStudents], [t1].[Objectives], [t1].[PotentialDuplicate], [t1].[Problem], [t1].[SemesterId], [t1].[SupervisorId], [t1].[VN_title]
FROM [reviewer_assignments] AS [r]
INNER JOIN [submissions] AS [s] ON [r].[SubmissionId] = [s].[Id]
LEFT JOIN [topics] AS [t] ON [s].[TopicId] = [t].[Id]
LEFT JOIN [topic_versions] AS [t0] ON [s].[TopicVersionId] = [t0].[Id]
LEFT JOIN [topics] AS [t1] ON [t0].[TopicId] = [t1].[Id]
WHERE [r].[ReviewerId] IN (
    SELECT [8].[value]
    FROM OPENJSON(@__8__locals2_reviewerIds_0) WITH ([value] int '$') AS [8]
) AND (([t].[Id] IS NOT NULL AND [t].[SemesterId] = @__sid_1) OR ([t0].[Id] IS NOT NULL AND [t1].[Id] IS NOT NULL AND [t1].[SemesterId] = @__sid_1))
2025-10-03 19:17:56.033 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 19:17:56.033 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 2ms reading results.
2025-10-03 19:17:56.033 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:17:56.033 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 19:17:56.034 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:17:56.034 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:17:56.034 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 19:17:56.034 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:17:56.034 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:17:56.035 +07:00 [DBG] Executing DbCommand [Parameters=[@__reviewerIds_0='?' (Size = 4000), @__8__locals1_semesterId_Value_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AverageScoreGiven], [r].[AverageTimeMinutes], [r].[CompletedAssignments], [r].[LastUpdated], [r].[OnTimeRate], [r].[QualityRating], [r].[ReviewerId], [r].[SemesterId], [r].[TotalAssignments]
FROM [reviewer_performance] AS [r]
WHERE [r].[ReviewerId] IN (
    SELECT [r0].[value]
    FROM OPENJSON(@__reviewerIds_0) WITH ([value] int '$') AS [r0]
) AND [r].[SemesterId] = @__8__locals1_semesterId_Value_1
2025-10-03 19:17:56.036 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__reviewerIds_0='?' (Size = 4000), @__8__locals1_semesterId_Value_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AverageScoreGiven], [r].[AverageTimeMinutes], [r].[CompletedAssignments], [r].[LastUpdated], [r].[OnTimeRate], [r].[QualityRating], [r].[ReviewerId], [r].[SemesterId], [r].[TotalAssignments]
FROM [reviewer_performance] AS [r]
WHERE [r].[ReviewerId] IN (
    SELECT [r0].[value]
    FROM OPENJSON(@__reviewerIds_0) WITH ([value] int '$') AS [r0]
) AND [r].[SemesterId] = @__8__locals1_semesterId_Value_1
2025-10-03 19:17:56.036 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 19:17:56.036 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-10-03 19:17:56.037 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:17:56.037 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 19:17:56.037 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-10-03 19:17:56.037 +07:00 [DBG] No information found on request to perform content negotiation.
2025-10-03 19:17:56.037 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-10-03 19:17:56.037 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-10-03 19:17:56.038 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-10-03 19:17:56.038 +07:00 [INF] Executing ObjectResult, writing value of type 'FS.Commons.FSResponse'.
2025-10-03 19:17:56.038 +07:00 [INF] Executed action CapBot.api.Controllers.ReviewerAssignmentController.GetReviewersWorkload (CapBot.api) in 20.4796ms
2025-10-03 19:17:56.039 +07:00 [INF] Executed endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetReviewersWorkload (CapBot.api)'
2025-10-03 19:17:56.039 +07:00 [DBG] Connection id "0HNG2EQOPDV1L" completed keep alive response.
2025-10-03 19:17:56.039 +07:00 [DBG] 'MyDbContext' disposed.
2025-10-03 19:17:56.039 +07:00 [DBG] Disposing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:17:56.040 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-10-03 19:17:56.040 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5207/api/reviewer-assignments/workload?semesterId=1 - 200 null application/json; charset=utf-8 24.4529ms
2025-10-03 19:17:56.353 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5207/api/reviewer-assignments/workload?semesterId=1 - null null
2025-10-03 19:17:56.353 +07:00 [DBG] The request path /api/reviewer-assignments/workload does not match a supported file type
2025-10-03 19:17:56.353 +07:00 [DBG] The request path /api/reviewer-assignments/workload does not match a supported file type
2025-10-03 19:17:56.353 +07:00 [DBG] 1 candidate(s) found for the request path '/api/reviewer-assignments/workload'
2025-10-03 19:17:56.353 +07:00 [DBG] Endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetReviewersWorkload (CapBot.api)' with route pattern 'api/reviewer-assignments/workload' is valid for the request path '/api/reviewer-assignments/workload'
2025-10-03 19:17:56.353 +07:00 [DBG] Request matched endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetReviewersWorkload (CapBot.api)'
2025-10-03 19:17:56.354 +07:00 [DBG] Successfully validated the token.
2025-10-03 19:17:56.354 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-10-03 19:17:56.355 +07:00 [DBG] Authorization was successful.
2025-10-03 19:17:56.355 +07:00 [INF] Executing endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetReviewersWorkload (CapBot.api)'
2025-10-03 19:17:56.355 +07:00 [INF] Route matched with {action = "GetReviewersWorkload", controller = "ReviewerAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetReviewersWorkload(System.Nullable`1[System.Int32]) on controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api).
2025-10-03 19:17:56.355 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-10-03 19:17:56.355 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-10-03 19:17:56.355 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2025-10-03 19:17:56.355 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-10-03 19:17:56.355 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-10-03 19:17:56.355 +07:00 [DBG] Executing controller factory for controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api)
2025-10-03 19:17:56.356 +07:00 [DBG] Executed controller factory for controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api)
2025-10-03 19:17:56.356 +07:00 [DBG] Attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]' ...
2025-10-03 19:17:56.356 +07:00 [DBG] Attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]' using the name 'semesterId' in request data ...
2025-10-03 19:17:56.356 +07:00 [DBG] Done attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]'.
2025-10-03 19:17:56.356 +07:00 [DBG] Done attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]'.
2025-10-03 19:17:56.356 +07:00 [DBG] Attempting to validate the bound parameter 'semesterId' of type 'System.Nullable`1[System.Int32]' ...
2025-10-03 19:17:56.356 +07:00 [DBG] Done attempting to validate the bound parameter 'semesterId' of type 'System.Nullable`1[System.Int32]'.
2025-10-03 19:17:56.357 +07:00 [DBG] Entity Framework Core 8.0.16 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: MigrationsAssembly=App.DAL 
2025-10-03 19:17:56.357 +07:00 [DBG] Creating DbConnection.
2025-10-03 19:17:56.358 +07:00 [DBG] Created DbConnection. (0ms).
2025-10-03 19:17:56.358 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:17:56.358 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:17:56.358 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 19:17:56.358 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:17:56.358 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:17:56.358 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[RoleId], [u0].[Id], [u0].[AccessFailedCount], [u0].[ConcurrencyStamp], [u0].[CreatedAt], [u0].[DeletedAt], [u0].[Email], [u0].[EmailConfirmed], [u0].[LastModifiedAt], [u0].[LastModifiedBy], [u0].[LockoutEnabled], [u0].[LockoutEnd], [u0].[NormalizedEmail], [u0].[NormalizedUserName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[PhoneNumberConfirmed], [u0].[SecurityStamp], [u0].[TwoFactorEnabled], [u0].[UserName], [r].[Id], [l].[Id], [l].[CreatedAt], [l].[CreatedBy], [l].[DeletedAt], [l].[IsActive], [l].[LastModifiedAt], [l].[LastModifiedBy], [l].[LecturerId], [l].[ProficiencyLevel], [l].[SkillTag], [r0].[Id], [r0].[AverageScoreGiven], [r0].[AverageTimeMinutes], [r0].[CompletedAssignments], [r0].[LastUpdated], [r0].[OnTimeRate], [r0].[QualityRating], [r0].[ReviewerId], [r0].[SemesterId], [r0].[TotalAssignments], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [user_roles] AS [u]
INNER JOIN [roles] AS [r] ON [u].[RoleId] = [r].[Id]
INNER JOIN [users] AS [u0] ON [u].[UserId] = [u0].[Id]
LEFT JOIN [lecturer_skills] AS [l] ON [u0].[Id] = [l].[LecturerId]
LEFT JOIN [reviewer_performance] AS [r0] ON [u0].[Id] = [r0].[ReviewerId]
WHERE [r].[Name] = N'Reviewer'
ORDER BY [u].[UserId], [u].[RoleId], [r].[Id], [u0].[Id], [l].[Id]
2025-10-03 19:17:56.360 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[RoleId], [u0].[Id], [u0].[AccessFailedCount], [u0].[ConcurrencyStamp], [u0].[CreatedAt], [u0].[DeletedAt], [u0].[Email], [u0].[EmailConfirmed], [u0].[LastModifiedAt], [u0].[LastModifiedBy], [u0].[LockoutEnabled], [u0].[LockoutEnd], [u0].[NormalizedEmail], [u0].[NormalizedUserName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[PhoneNumberConfirmed], [u0].[SecurityStamp], [u0].[TwoFactorEnabled], [u0].[UserName], [r].[Id], [l].[Id], [l].[CreatedAt], [l].[CreatedBy], [l].[DeletedAt], [l].[IsActive], [l].[LastModifiedAt], [l].[LastModifiedBy], [l].[LecturerId], [l].[ProficiencyLevel], [l].[SkillTag], [r0].[Id], [r0].[AverageScoreGiven], [r0].[AverageTimeMinutes], [r0].[CompletedAssignments], [r0].[LastUpdated], [r0].[OnTimeRate], [r0].[QualityRating], [r0].[ReviewerId], [r0].[SemesterId], [r0].[TotalAssignments], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [user_roles] AS [u]
INNER JOIN [roles] AS [r] ON [u].[RoleId] = [r].[Id]
INNER JOIN [users] AS [u0] ON [u].[UserId] = [u0].[Id]
LEFT JOIN [lecturer_skills] AS [l] ON [u0].[Id] = [l].[LecturerId]
LEFT JOIN [reviewer_performance] AS [r0] ON [u0].[Id] = [r0].[ReviewerId]
WHERE [r].[Name] = N'Reviewer'
ORDER BY [u].[UserId], [u].[RoleId], [r].[Id], [u0].[Id], [l].[Id]
2025-10-03 19:17:56.385 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 19:17:56.385 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 25ms reading results.
2025-10-03 19:17:56.385 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:17:56.385 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 19:17:56.386 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:17:56.386 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:17:56.386 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 19:17:56.386 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:17:56.387 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:17:56.387 +07:00 [DBG] Executing DbCommand [Parameters=[@__8__locals2_reviewerIds_0='?' (Size = 4000), @__sid_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId], [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Abbreviation], [t].[CategoryId], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[EN_Title], [t].[IsActive], [t].[IsApproved], [t].[IsLegacy], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[MaxStudents], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[SemesterId], [t].[SupervisorId], [t].[VN_title], [t0].[Id], [t0].[Content], [t0].[Context], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[DocumentUrl], [t0].[EN_Title], [t0].[ExpectedOutcomes], [t0].[IsActive], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[Methodology], [t0].[Objectives], [t0].[PotentialDuplicate], [t0].[Problem], [t0].[Requirements], [t0].[Status], [t0].[SubmittedAt], [t0].[SubmittedBy], [t0].[TopicId], [t0].[VN_title], [t0].[VersionNumber], [t1].[Id], [t1].[Abbreviation], [t1].[CategoryId], [t1].[Content], [t1].[Context], [t1].[CreatedAt], [t1].[CreatedBy], [t1].[DeletedAt], [t1].[Description], [t1].[EN_Title], [t1].[IsActive], [t1].[IsApproved], [t1].[IsLegacy], [t1].[LastModifiedAt], [t1].[LastModifiedBy], [t1].[MaxStudents], [t1].[Objectives], [t1].[PotentialDuplicate], [t1].[Problem], [t1].[SemesterId], [t1].[SupervisorId], [t1].[VN_title]
FROM [reviewer_assignments] AS [r]
INNER JOIN [submissions] AS [s] ON [r].[SubmissionId] = [s].[Id]
LEFT JOIN [topics] AS [t] ON [s].[TopicId] = [t].[Id]
LEFT JOIN [topic_versions] AS [t0] ON [s].[TopicVersionId] = [t0].[Id]
LEFT JOIN [topics] AS [t1] ON [t0].[TopicId] = [t1].[Id]
WHERE [r].[ReviewerId] IN (
    SELECT [8].[value]
    FROM OPENJSON(@__8__locals2_reviewerIds_0) WITH ([value] int '$') AS [8]
) AND (([t].[Id] IS NOT NULL AND [t].[SemesterId] = @__sid_1) OR ([t0].[Id] IS NOT NULL AND [t1].[Id] IS NOT NULL AND [t1].[SemesterId] = @__sid_1))
2025-10-03 19:17:56.388 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__8__locals2_reviewerIds_0='?' (Size = 4000), @__sid_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId], [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Abbreviation], [t].[CategoryId], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[EN_Title], [t].[IsActive], [t].[IsApproved], [t].[IsLegacy], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[MaxStudents], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[SemesterId], [t].[SupervisorId], [t].[VN_title], [t0].[Id], [t0].[Content], [t0].[Context], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[DocumentUrl], [t0].[EN_Title], [t0].[ExpectedOutcomes], [t0].[IsActive], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[Methodology], [t0].[Objectives], [t0].[PotentialDuplicate], [t0].[Problem], [t0].[Requirements], [t0].[Status], [t0].[SubmittedAt], [t0].[SubmittedBy], [t0].[TopicId], [t0].[VN_title], [t0].[VersionNumber], [t1].[Id], [t1].[Abbreviation], [t1].[CategoryId], [t1].[Content], [t1].[Context], [t1].[CreatedAt], [t1].[CreatedBy], [t1].[DeletedAt], [t1].[Description], [t1].[EN_Title], [t1].[IsActive], [t1].[IsApproved], [t1].[IsLegacy], [t1].[LastModifiedAt], [t1].[LastModifiedBy], [t1].[MaxStudents], [t1].[Objectives], [t1].[PotentialDuplicate], [t1].[Problem], [t1].[SemesterId], [t1].[SupervisorId], [t1].[VN_title]
FROM [reviewer_assignments] AS [r]
INNER JOIN [submissions] AS [s] ON [r].[SubmissionId] = [s].[Id]
LEFT JOIN [topics] AS [t] ON [s].[TopicId] = [t].[Id]
LEFT JOIN [topic_versions] AS [t0] ON [s].[TopicVersionId] = [t0].[Id]
LEFT JOIN [topics] AS [t1] ON [t0].[TopicId] = [t1].[Id]
WHERE [r].[ReviewerId] IN (
    SELECT [8].[value]
    FROM OPENJSON(@__8__locals2_reviewerIds_0) WITH ([value] int '$') AS [8]
) AND (([t].[Id] IS NOT NULL AND [t].[SemesterId] = @__sid_1) OR ([t0].[Id] IS NOT NULL AND [t1].[Id] IS NOT NULL AND [t1].[SemesterId] = @__sid_1))
2025-10-03 19:17:56.390 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 19:17:56.390 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 1ms reading results.
2025-10-03 19:17:56.390 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:17:56.390 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 19:17:56.391 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:17:56.391 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:17:56.391 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 19:17:56.391 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:17:56.391 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:17:56.391 +07:00 [DBG] Executing DbCommand [Parameters=[@__reviewerIds_0='?' (Size = 4000), @__8__locals1_semesterId_Value_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AverageScoreGiven], [r].[AverageTimeMinutes], [r].[CompletedAssignments], [r].[LastUpdated], [r].[OnTimeRate], [r].[QualityRating], [r].[ReviewerId], [r].[SemesterId], [r].[TotalAssignments]
FROM [reviewer_performance] AS [r]
WHERE [r].[ReviewerId] IN (
    SELECT [r0].[value]
    FROM OPENJSON(@__reviewerIds_0) WITH ([value] int '$') AS [r0]
) AND [r].[SemesterId] = @__8__locals1_semesterId_Value_1
2025-10-03 19:17:56.395 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__reviewerIds_0='?' (Size = 4000), @__8__locals1_semesterId_Value_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AverageScoreGiven], [r].[AverageTimeMinutes], [r].[CompletedAssignments], [r].[LastUpdated], [r].[OnTimeRate], [r].[QualityRating], [r].[ReviewerId], [r].[SemesterId], [r].[TotalAssignments]
FROM [reviewer_performance] AS [r]
WHERE [r].[ReviewerId] IN (
    SELECT [r0].[value]
    FROM OPENJSON(@__reviewerIds_0) WITH ([value] int '$') AS [r0]
) AND [r].[SemesterId] = @__8__locals1_semesterId_Value_1
2025-10-03 19:17:56.395 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 19:17:56.395 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-10-03 19:17:56.396 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:17:56.397 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 19:17:56.399 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-10-03 19:17:56.401 +07:00 [DBG] No information found on request to perform content negotiation.
2025-10-03 19:17:56.402 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-10-03 19:17:56.404 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-10-03 19:17:56.404 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-10-03 19:17:56.404 +07:00 [INF] Executing ObjectResult, writing value of type 'FS.Commons.FSResponse'.
2025-10-03 19:17:56.405 +07:00 [INF] Executed action CapBot.api.Controllers.ReviewerAssignmentController.GetReviewersWorkload (CapBot.api) in 50.0984ms
2025-10-03 19:17:56.406 +07:00 [INF] Executed endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetReviewersWorkload (CapBot.api)'
2025-10-03 19:17:56.406 +07:00 [DBG] Connection id "0HNG2EQOPDV1L" completed keep alive response.
2025-10-03 19:17:56.406 +07:00 [DBG] 'MyDbContext' disposed.
2025-10-03 19:17:56.406 +07:00 [DBG] Disposing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:17:56.406 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-10-03 19:17:56.406 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5207/api/reviewer-assignments/workload?semesterId=1 - 200 null application/json; charset=utf-8 53.4118ms
2025-10-03 19:17:56.570 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5207/api/reviewer-assignments/workload?semesterId=1 - null null
2025-10-03 19:17:56.570 +07:00 [DBG] The request path /api/reviewer-assignments/workload does not match a supported file type
2025-10-03 19:17:56.570 +07:00 [DBG] The request path /api/reviewer-assignments/workload does not match a supported file type
2025-10-03 19:17:56.571 +07:00 [DBG] 1 candidate(s) found for the request path '/api/reviewer-assignments/workload'
2025-10-03 19:17:56.571 +07:00 [DBG] Endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetReviewersWorkload (CapBot.api)' with route pattern 'api/reviewer-assignments/workload' is valid for the request path '/api/reviewer-assignments/workload'
2025-10-03 19:17:56.571 +07:00 [DBG] Request matched endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetReviewersWorkload (CapBot.api)'
2025-10-03 19:17:56.571 +07:00 [DBG] Successfully validated the token.
2025-10-03 19:17:56.571 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-10-03 19:17:56.571 +07:00 [DBG] Authorization was successful.
2025-10-03 19:17:56.571 +07:00 [INF] Executing endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetReviewersWorkload (CapBot.api)'
2025-10-03 19:17:56.572 +07:00 [INF] Route matched with {action = "GetReviewersWorkload", controller = "ReviewerAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetReviewersWorkload(System.Nullable`1[System.Int32]) on controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api).
2025-10-03 19:17:56.572 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-10-03 19:17:56.572 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-10-03 19:17:56.572 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2025-10-03 19:17:56.572 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-10-03 19:17:56.572 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-10-03 19:17:56.572 +07:00 [DBG] Executing controller factory for controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api)
2025-10-03 19:17:56.572 +07:00 [DBG] Executed controller factory for controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api)
2025-10-03 19:17:56.573 +07:00 [DBG] Attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]' ...
2025-10-03 19:17:56.573 +07:00 [DBG] Attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]' using the name 'semesterId' in request data ...
2025-10-03 19:17:56.573 +07:00 [DBG] Done attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]'.
2025-10-03 19:17:56.573 +07:00 [DBG] Done attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]'.
2025-10-03 19:17:56.573 +07:00 [DBG] Attempting to validate the bound parameter 'semesterId' of type 'System.Nullable`1[System.Int32]' ...
2025-10-03 19:17:56.573 +07:00 [DBG] Done attempting to validate the bound parameter 'semesterId' of type 'System.Nullable`1[System.Int32]'.
2025-10-03 19:17:56.574 +07:00 [DBG] Entity Framework Core 8.0.16 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: MigrationsAssembly=App.DAL 
2025-10-03 19:17:56.574 +07:00 [DBG] Creating DbConnection.
2025-10-03 19:17:56.575 +07:00 [DBG] Created DbConnection. (0ms).
2025-10-03 19:17:56.575 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:17:56.575 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:17:56.575 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 19:17:56.575 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:17:56.575 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:17:56.575 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[RoleId], [u0].[Id], [u0].[AccessFailedCount], [u0].[ConcurrencyStamp], [u0].[CreatedAt], [u0].[DeletedAt], [u0].[Email], [u0].[EmailConfirmed], [u0].[LastModifiedAt], [u0].[LastModifiedBy], [u0].[LockoutEnabled], [u0].[LockoutEnd], [u0].[NormalizedEmail], [u0].[NormalizedUserName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[PhoneNumberConfirmed], [u0].[SecurityStamp], [u0].[TwoFactorEnabled], [u0].[UserName], [r].[Id], [l].[Id], [l].[CreatedAt], [l].[CreatedBy], [l].[DeletedAt], [l].[IsActive], [l].[LastModifiedAt], [l].[LastModifiedBy], [l].[LecturerId], [l].[ProficiencyLevel], [l].[SkillTag], [r0].[Id], [r0].[AverageScoreGiven], [r0].[AverageTimeMinutes], [r0].[CompletedAssignments], [r0].[LastUpdated], [r0].[OnTimeRate], [r0].[QualityRating], [r0].[ReviewerId], [r0].[SemesterId], [r0].[TotalAssignments], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [user_roles] AS [u]
INNER JOIN [roles] AS [r] ON [u].[RoleId] = [r].[Id]
INNER JOIN [users] AS [u0] ON [u].[UserId] = [u0].[Id]
LEFT JOIN [lecturer_skills] AS [l] ON [u0].[Id] = [l].[LecturerId]
LEFT JOIN [reviewer_performance] AS [r0] ON [u0].[Id] = [r0].[ReviewerId]
WHERE [r].[Name] = N'Reviewer'
ORDER BY [u].[UserId], [u].[RoleId], [r].[Id], [u0].[Id], [l].[Id]
2025-10-03 19:17:56.577 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[RoleId], [u0].[Id], [u0].[AccessFailedCount], [u0].[ConcurrencyStamp], [u0].[CreatedAt], [u0].[DeletedAt], [u0].[Email], [u0].[EmailConfirmed], [u0].[LastModifiedAt], [u0].[LastModifiedBy], [u0].[LockoutEnabled], [u0].[LockoutEnd], [u0].[NormalizedEmail], [u0].[NormalizedUserName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[PhoneNumberConfirmed], [u0].[SecurityStamp], [u0].[TwoFactorEnabled], [u0].[UserName], [r].[Id], [l].[Id], [l].[CreatedAt], [l].[CreatedBy], [l].[DeletedAt], [l].[IsActive], [l].[LastModifiedAt], [l].[LastModifiedBy], [l].[LecturerId], [l].[ProficiencyLevel], [l].[SkillTag], [r0].[Id], [r0].[AverageScoreGiven], [r0].[AverageTimeMinutes], [r0].[CompletedAssignments], [r0].[LastUpdated], [r0].[OnTimeRate], [r0].[QualityRating], [r0].[ReviewerId], [r0].[SemesterId], [r0].[TotalAssignments], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [user_roles] AS [u]
INNER JOIN [roles] AS [r] ON [u].[RoleId] = [r].[Id]
INNER JOIN [users] AS [u0] ON [u].[UserId] = [u0].[Id]
LEFT JOIN [lecturer_skills] AS [l] ON [u0].[Id] = [l].[LecturerId]
LEFT JOIN [reviewer_performance] AS [r0] ON [u0].[Id] = [r0].[ReviewerId]
WHERE [r].[Name] = N'Reviewer'
ORDER BY [u].[UserId], [u].[RoleId], [r].[Id], [u0].[Id], [l].[Id]
2025-10-03 19:17:56.578 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 19:17:56.579 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 2ms reading results.
2025-10-03 19:17:56.579 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:17:56.580 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 19:17:56.582 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:17:56.583 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:17:56.583 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 19:17:56.583 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:17:56.583 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:17:56.583 +07:00 [DBG] Executing DbCommand [Parameters=[@__8__locals2_reviewerIds_0='?' (Size = 4000), @__sid_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId], [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Abbreviation], [t].[CategoryId], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[EN_Title], [t].[IsActive], [t].[IsApproved], [t].[IsLegacy], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[MaxStudents], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[SemesterId], [t].[SupervisorId], [t].[VN_title], [t0].[Id], [t0].[Content], [t0].[Context], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[DocumentUrl], [t0].[EN_Title], [t0].[ExpectedOutcomes], [t0].[IsActive], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[Methodology], [t0].[Objectives], [t0].[PotentialDuplicate], [t0].[Problem], [t0].[Requirements], [t0].[Status], [t0].[SubmittedAt], [t0].[SubmittedBy], [t0].[TopicId], [t0].[VN_title], [t0].[VersionNumber], [t1].[Id], [t1].[Abbreviation], [t1].[CategoryId], [t1].[Content], [t1].[Context], [t1].[CreatedAt], [t1].[CreatedBy], [t1].[DeletedAt], [t1].[Description], [t1].[EN_Title], [t1].[IsActive], [t1].[IsApproved], [t1].[IsLegacy], [t1].[LastModifiedAt], [t1].[LastModifiedBy], [t1].[MaxStudents], [t1].[Objectives], [t1].[PotentialDuplicate], [t1].[Problem], [t1].[SemesterId], [t1].[SupervisorId], [t1].[VN_title]
FROM [reviewer_assignments] AS [r]
INNER JOIN [submissions] AS [s] ON [r].[SubmissionId] = [s].[Id]
LEFT JOIN [topics] AS [t] ON [s].[TopicId] = [t].[Id]
LEFT JOIN [topic_versions] AS [t0] ON [s].[TopicVersionId] = [t0].[Id]
LEFT JOIN [topics] AS [t1] ON [t0].[TopicId] = [t1].[Id]
WHERE [r].[ReviewerId] IN (
    SELECT [8].[value]
    FROM OPENJSON(@__8__locals2_reviewerIds_0) WITH ([value] int '$') AS [8]
) AND (([t].[Id] IS NOT NULL AND [t].[SemesterId] = @__sid_1) OR ([t0].[Id] IS NOT NULL AND [t1].[Id] IS NOT NULL AND [t1].[SemesterId] = @__sid_1))
2025-10-03 19:17:56.585 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__8__locals2_reviewerIds_0='?' (Size = 4000), @__sid_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId], [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Abbreviation], [t].[CategoryId], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[EN_Title], [t].[IsActive], [t].[IsApproved], [t].[IsLegacy], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[MaxStudents], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[SemesterId], [t].[SupervisorId], [t].[VN_title], [t0].[Id], [t0].[Content], [t0].[Context], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[DocumentUrl], [t0].[EN_Title], [t0].[ExpectedOutcomes], [t0].[IsActive], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[Methodology], [t0].[Objectives], [t0].[PotentialDuplicate], [t0].[Problem], [t0].[Requirements], [t0].[Status], [t0].[SubmittedAt], [t0].[SubmittedBy], [t0].[TopicId], [t0].[VN_title], [t0].[VersionNumber], [t1].[Id], [t1].[Abbreviation], [t1].[CategoryId], [t1].[Content], [t1].[Context], [t1].[CreatedAt], [t1].[CreatedBy], [t1].[DeletedAt], [t1].[Description], [t1].[EN_Title], [t1].[IsActive], [t1].[IsApproved], [t1].[IsLegacy], [t1].[LastModifiedAt], [t1].[LastModifiedBy], [t1].[MaxStudents], [t1].[Objectives], [t1].[PotentialDuplicate], [t1].[Problem], [t1].[SemesterId], [t1].[SupervisorId], [t1].[VN_title]
FROM [reviewer_assignments] AS [r]
INNER JOIN [submissions] AS [s] ON [r].[SubmissionId] = [s].[Id]
LEFT JOIN [topics] AS [t] ON [s].[TopicId] = [t].[Id]
LEFT JOIN [topic_versions] AS [t0] ON [s].[TopicVersionId] = [t0].[Id]
LEFT JOIN [topics] AS [t1] ON [t0].[TopicId] = [t1].[Id]
WHERE [r].[ReviewerId] IN (
    SELECT [8].[value]
    FROM OPENJSON(@__8__locals2_reviewerIds_0) WITH ([value] int '$') AS [8]
) AND (([t].[Id] IS NOT NULL AND [t].[SemesterId] = @__sid_1) OR ([t0].[Id] IS NOT NULL AND [t1].[Id] IS NOT NULL AND [t1].[SemesterId] = @__sid_1))
2025-10-03 19:17:56.587 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 19:17:56.587 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 1ms reading results.
2025-10-03 19:17:56.587 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:17:56.587 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 19:17:56.588 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:17:56.588 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:17:56.588 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 19:17:56.588 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:17:56.588 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:17:56.588 +07:00 [DBG] Executing DbCommand [Parameters=[@__reviewerIds_0='?' (Size = 4000), @__8__locals1_semesterId_Value_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AverageScoreGiven], [r].[AverageTimeMinutes], [r].[CompletedAssignments], [r].[LastUpdated], [r].[OnTimeRate], [r].[QualityRating], [r].[ReviewerId], [r].[SemesterId], [r].[TotalAssignments]
FROM [reviewer_performance] AS [r]
WHERE [r].[ReviewerId] IN (
    SELECT [r0].[value]
    FROM OPENJSON(@__reviewerIds_0) WITH ([value] int '$') AS [r0]
) AND [r].[SemesterId] = @__8__locals1_semesterId_Value_1
2025-10-03 19:17:56.590 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__reviewerIds_0='?' (Size = 4000), @__8__locals1_semesterId_Value_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AverageScoreGiven], [r].[AverageTimeMinutes], [r].[CompletedAssignments], [r].[LastUpdated], [r].[OnTimeRate], [r].[QualityRating], [r].[ReviewerId], [r].[SemesterId], [r].[TotalAssignments]
FROM [reviewer_performance] AS [r]
WHERE [r].[ReviewerId] IN (
    SELECT [r0].[value]
    FROM OPENJSON(@__reviewerIds_0) WITH ([value] int '$') AS [r0]
) AND [r].[SemesterId] = @__8__locals1_semesterId_Value_1
2025-10-03 19:17:56.590 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 19:17:56.590 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-10-03 19:17:56.590 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:17:56.590 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 19:17:56.591 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-10-03 19:17:56.591 +07:00 [DBG] No information found on request to perform content negotiation.
2025-10-03 19:17:56.591 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-10-03 19:17:56.591 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-10-03 19:17:56.591 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-10-03 19:17:56.591 +07:00 [INF] Executing ObjectResult, writing value of type 'FS.Commons.FSResponse'.
2025-10-03 19:17:56.592 +07:00 [INF] Executed action CapBot.api.Controllers.ReviewerAssignmentController.GetReviewersWorkload (CapBot.api) in 19.5143ms
2025-10-03 19:17:56.592 +07:00 [INF] Executed endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetReviewersWorkload (CapBot.api)'
2025-10-03 19:17:56.592 +07:00 [DBG] Connection id "0HNG2EQOPDV1L" completed keep alive response.
2025-10-03 19:17:56.592 +07:00 [DBG] 'MyDbContext' disposed.
2025-10-03 19:17:56.592 +07:00 [DBG] Disposing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:17:56.592 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-10-03 19:17:56.593 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5207/api/reviewer-assignments/workload?semesterId=1 - 200 null application/json; charset=utf-8 22.4689ms
2025-10-03 19:17:56.812 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5207/api/reviewer-assignments/workload?semesterId=1 - null null
2025-10-03 19:17:56.812 +07:00 [DBG] The request path /api/reviewer-assignments/workload does not match a supported file type
2025-10-03 19:17:56.812 +07:00 [DBG] The request path /api/reviewer-assignments/workload does not match a supported file type
2025-10-03 19:17:56.813 +07:00 [DBG] 1 candidate(s) found for the request path '/api/reviewer-assignments/workload'
2025-10-03 19:17:56.813 +07:00 [DBG] Endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetReviewersWorkload (CapBot.api)' with route pattern 'api/reviewer-assignments/workload' is valid for the request path '/api/reviewer-assignments/workload'
2025-10-03 19:17:56.813 +07:00 [DBG] Request matched endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetReviewersWorkload (CapBot.api)'
2025-10-03 19:17:56.813 +07:00 [DBG] Successfully validated the token.
2025-10-03 19:17:56.814 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-10-03 19:17:56.814 +07:00 [DBG] Authorization was successful.
2025-10-03 19:17:56.814 +07:00 [INF] Executing endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetReviewersWorkload (CapBot.api)'
2025-10-03 19:17:56.814 +07:00 [INF] Route matched with {action = "GetReviewersWorkload", controller = "ReviewerAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetReviewersWorkload(System.Nullable`1[System.Int32]) on controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api).
2025-10-03 19:17:56.815 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-10-03 19:17:56.815 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-10-03 19:17:56.815 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2025-10-03 19:17:56.815 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-10-03 19:17:56.815 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-10-03 19:17:56.815 +07:00 [DBG] Executing controller factory for controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api)
2025-10-03 19:17:56.816 +07:00 [DBG] Executed controller factory for controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api)
2025-10-03 19:17:56.816 +07:00 [DBG] Attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]' ...
2025-10-03 19:17:56.816 +07:00 [DBG] Attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]' using the name 'semesterId' in request data ...
2025-10-03 19:17:56.816 +07:00 [DBG] Done attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]'.
2025-10-03 19:17:56.816 +07:00 [DBG] Done attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]'.
2025-10-03 19:17:56.816 +07:00 [DBG] Attempting to validate the bound parameter 'semesterId' of type 'System.Nullable`1[System.Int32]' ...
2025-10-03 19:17:56.816 +07:00 [DBG] Done attempting to validate the bound parameter 'semesterId' of type 'System.Nullable`1[System.Int32]'.
2025-10-03 19:17:56.817 +07:00 [DBG] Entity Framework Core 8.0.16 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: MigrationsAssembly=App.DAL 
2025-10-03 19:17:56.818 +07:00 [DBG] Creating DbConnection.
2025-10-03 19:17:56.818 +07:00 [DBG] Created DbConnection. (0ms).
2025-10-03 19:17:56.818 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:17:56.818 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:17:56.818 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 19:17:56.818 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:17:56.818 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:17:56.818 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[RoleId], [u0].[Id], [u0].[AccessFailedCount], [u0].[ConcurrencyStamp], [u0].[CreatedAt], [u0].[DeletedAt], [u0].[Email], [u0].[EmailConfirmed], [u0].[LastModifiedAt], [u0].[LastModifiedBy], [u0].[LockoutEnabled], [u0].[LockoutEnd], [u0].[NormalizedEmail], [u0].[NormalizedUserName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[PhoneNumberConfirmed], [u0].[SecurityStamp], [u0].[TwoFactorEnabled], [u0].[UserName], [r].[Id], [l].[Id], [l].[CreatedAt], [l].[CreatedBy], [l].[DeletedAt], [l].[IsActive], [l].[LastModifiedAt], [l].[LastModifiedBy], [l].[LecturerId], [l].[ProficiencyLevel], [l].[SkillTag], [r0].[Id], [r0].[AverageScoreGiven], [r0].[AverageTimeMinutes], [r0].[CompletedAssignments], [r0].[LastUpdated], [r0].[OnTimeRate], [r0].[QualityRating], [r0].[ReviewerId], [r0].[SemesterId], [r0].[TotalAssignments], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [user_roles] AS [u]
INNER JOIN [roles] AS [r] ON [u].[RoleId] = [r].[Id]
INNER JOIN [users] AS [u0] ON [u].[UserId] = [u0].[Id]
LEFT JOIN [lecturer_skills] AS [l] ON [u0].[Id] = [l].[LecturerId]
LEFT JOIN [reviewer_performance] AS [r0] ON [u0].[Id] = [r0].[ReviewerId]
WHERE [r].[Name] = N'Reviewer'
ORDER BY [u].[UserId], [u].[RoleId], [r].[Id], [u0].[Id], [l].[Id]
2025-10-03 19:17:56.820 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[RoleId], [u0].[Id], [u0].[AccessFailedCount], [u0].[ConcurrencyStamp], [u0].[CreatedAt], [u0].[DeletedAt], [u0].[Email], [u0].[EmailConfirmed], [u0].[LastModifiedAt], [u0].[LastModifiedBy], [u0].[LockoutEnabled], [u0].[LockoutEnd], [u0].[NormalizedEmail], [u0].[NormalizedUserName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[PhoneNumberConfirmed], [u0].[SecurityStamp], [u0].[TwoFactorEnabled], [u0].[UserName], [r].[Id], [l].[Id], [l].[CreatedAt], [l].[CreatedBy], [l].[DeletedAt], [l].[IsActive], [l].[LastModifiedAt], [l].[LastModifiedBy], [l].[LecturerId], [l].[ProficiencyLevel], [l].[SkillTag], [r0].[Id], [r0].[AverageScoreGiven], [r0].[AverageTimeMinutes], [r0].[CompletedAssignments], [r0].[LastUpdated], [r0].[OnTimeRate], [r0].[QualityRating], [r0].[ReviewerId], [r0].[SemesterId], [r0].[TotalAssignments], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [user_roles] AS [u]
INNER JOIN [roles] AS [r] ON [u].[RoleId] = [r].[Id]
INNER JOIN [users] AS [u0] ON [u].[UserId] = [u0].[Id]
LEFT JOIN [lecturer_skills] AS [l] ON [u0].[Id] = [l].[LecturerId]
LEFT JOIN [reviewer_performance] AS [r0] ON [u0].[Id] = [r0].[ReviewerId]
WHERE [r].[Name] = N'Reviewer'
ORDER BY [u].[UserId], [u].[RoleId], [r].[Id], [u0].[Id], [l].[Id]
2025-10-03 19:17:56.821 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 19:17:56.822 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 1ms reading results.
2025-10-03 19:17:56.822 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:17:56.822 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 19:17:56.823 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:17:56.823 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:17:56.823 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 19:17:56.823 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:17:56.824 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:17:56.824 +07:00 [DBG] Executing DbCommand [Parameters=[@__8__locals2_reviewerIds_0='?' (Size = 4000), @__sid_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId], [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Abbreviation], [t].[CategoryId], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[EN_Title], [t].[IsActive], [t].[IsApproved], [t].[IsLegacy], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[MaxStudents], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[SemesterId], [t].[SupervisorId], [t].[VN_title], [t0].[Id], [t0].[Content], [t0].[Context], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[DocumentUrl], [t0].[EN_Title], [t0].[ExpectedOutcomes], [t0].[IsActive], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[Methodology], [t0].[Objectives], [t0].[PotentialDuplicate], [t0].[Problem], [t0].[Requirements], [t0].[Status], [t0].[SubmittedAt], [t0].[SubmittedBy], [t0].[TopicId], [t0].[VN_title], [t0].[VersionNumber], [t1].[Id], [t1].[Abbreviation], [t1].[CategoryId], [t1].[Content], [t1].[Context], [t1].[CreatedAt], [t1].[CreatedBy], [t1].[DeletedAt], [t1].[Description], [t1].[EN_Title], [t1].[IsActive], [t1].[IsApproved], [t1].[IsLegacy], [t1].[LastModifiedAt], [t1].[LastModifiedBy], [t1].[MaxStudents], [t1].[Objectives], [t1].[PotentialDuplicate], [t1].[Problem], [t1].[SemesterId], [t1].[SupervisorId], [t1].[VN_title]
FROM [reviewer_assignments] AS [r]
INNER JOIN [submissions] AS [s] ON [r].[SubmissionId] = [s].[Id]
LEFT JOIN [topics] AS [t] ON [s].[TopicId] = [t].[Id]
LEFT JOIN [topic_versions] AS [t0] ON [s].[TopicVersionId] = [t0].[Id]
LEFT JOIN [topics] AS [t1] ON [t0].[TopicId] = [t1].[Id]
WHERE [r].[ReviewerId] IN (
    SELECT [8].[value]
    FROM OPENJSON(@__8__locals2_reviewerIds_0) WITH ([value] int '$') AS [8]
) AND (([t].[Id] IS NOT NULL AND [t].[SemesterId] = @__sid_1) OR ([t0].[Id] IS NOT NULL AND [t1].[Id] IS NOT NULL AND [t1].[SemesterId] = @__sid_1))
2025-10-03 19:17:56.829 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__8__locals2_reviewerIds_0='?' (Size = 4000), @__sid_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId], [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Abbreviation], [t].[CategoryId], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[EN_Title], [t].[IsActive], [t].[IsApproved], [t].[IsLegacy], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[MaxStudents], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[SemesterId], [t].[SupervisorId], [t].[VN_title], [t0].[Id], [t0].[Content], [t0].[Context], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[DocumentUrl], [t0].[EN_Title], [t0].[ExpectedOutcomes], [t0].[IsActive], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[Methodology], [t0].[Objectives], [t0].[PotentialDuplicate], [t0].[Problem], [t0].[Requirements], [t0].[Status], [t0].[SubmittedAt], [t0].[SubmittedBy], [t0].[TopicId], [t0].[VN_title], [t0].[VersionNumber], [t1].[Id], [t1].[Abbreviation], [t1].[CategoryId], [t1].[Content], [t1].[Context], [t1].[CreatedAt], [t1].[CreatedBy], [t1].[DeletedAt], [t1].[Description], [t1].[EN_Title], [t1].[IsActive], [t1].[IsApproved], [t1].[IsLegacy], [t1].[LastModifiedAt], [t1].[LastModifiedBy], [t1].[MaxStudents], [t1].[Objectives], [t1].[PotentialDuplicate], [t1].[Problem], [t1].[SemesterId], [t1].[SupervisorId], [t1].[VN_title]
FROM [reviewer_assignments] AS [r]
INNER JOIN [submissions] AS [s] ON [r].[SubmissionId] = [s].[Id]
LEFT JOIN [topics] AS [t] ON [s].[TopicId] = [t].[Id]
LEFT JOIN [topic_versions] AS [t0] ON [s].[TopicVersionId] = [t0].[Id]
LEFT JOIN [topics] AS [t1] ON [t0].[TopicId] = [t1].[Id]
WHERE [r].[ReviewerId] IN (
    SELECT [8].[value]
    FROM OPENJSON(@__8__locals2_reviewerIds_0) WITH ([value] int '$') AS [8]
) AND (([t].[Id] IS NOT NULL AND [t].[SemesterId] = @__sid_1) OR ([t0].[Id] IS NOT NULL AND [t1].[Id] IS NOT NULL AND [t1].[SemesterId] = @__sid_1))
2025-10-03 19:17:56.832 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 19:17:56.832 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 3ms reading results.
2025-10-03 19:17:56.833 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:17:56.833 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 19:17:56.834 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:17:56.834 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:17:56.835 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 19:17:56.835 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:17:56.835 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:17:56.835 +07:00 [DBG] Executing DbCommand [Parameters=[@__reviewerIds_0='?' (Size = 4000), @__8__locals1_semesterId_Value_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AverageScoreGiven], [r].[AverageTimeMinutes], [r].[CompletedAssignments], [r].[LastUpdated], [r].[OnTimeRate], [r].[QualityRating], [r].[ReviewerId], [r].[SemesterId], [r].[TotalAssignments]
FROM [reviewer_performance] AS [r]
WHERE [r].[ReviewerId] IN (
    SELECT [r0].[value]
    FROM OPENJSON(@__reviewerIds_0) WITH ([value] int '$') AS [r0]
) AND [r].[SemesterId] = @__8__locals1_semesterId_Value_1
2025-10-03 19:17:56.839 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__reviewerIds_0='?' (Size = 4000), @__8__locals1_semesterId_Value_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AverageScoreGiven], [r].[AverageTimeMinutes], [r].[CompletedAssignments], [r].[LastUpdated], [r].[OnTimeRate], [r].[QualityRating], [r].[ReviewerId], [r].[SemesterId], [r].[TotalAssignments]
FROM [reviewer_performance] AS [r]
WHERE [r].[ReviewerId] IN (
    SELECT [r0].[value]
    FROM OPENJSON(@__reviewerIds_0) WITH ([value] int '$') AS [r0]
) AND [r].[SemesterId] = @__8__locals1_semesterId_Value_1
2025-10-03 19:17:56.839 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 19:17:56.839 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-10-03 19:17:56.839 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:17:56.839 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 19:17:56.840 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-10-03 19:17:56.840 +07:00 [DBG] No information found on request to perform content negotiation.
2025-10-03 19:17:56.840 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-10-03 19:17:56.840 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-10-03 19:17:56.840 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-10-03 19:17:56.840 +07:00 [INF] Executing ObjectResult, writing value of type 'FS.Commons.FSResponse'.
2025-10-03 19:17:56.840 +07:00 [INF] Executed action CapBot.api.Controllers.ReviewerAssignmentController.GetReviewersWorkload (CapBot.api) in 25.1472ms
2025-10-03 19:17:56.840 +07:00 [INF] Executed endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetReviewersWorkload (CapBot.api)'
2025-10-03 19:17:56.841 +07:00 [DBG] Connection id "0HNG2EQOPDV1L" completed keep alive response.
2025-10-03 19:17:56.841 +07:00 [DBG] 'MyDbContext' disposed.
2025-10-03 19:17:56.841 +07:00 [DBG] Disposing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:17:56.841 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-10-03 19:17:56.841 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5207/api/reviewer-assignments/workload?semesterId=1 - 200 null application/json; charset=utf-8 29.3015ms
2025-10-03 19:17:57.035 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5207/api/reviewer-assignments/workload?semesterId=1 - null null
2025-10-03 19:17:57.035 +07:00 [DBG] The request path /api/reviewer-assignments/workload does not match a supported file type
2025-10-03 19:17:57.035 +07:00 [DBG] The request path /api/reviewer-assignments/workload does not match a supported file type
2025-10-03 19:17:57.035 +07:00 [DBG] 1 candidate(s) found for the request path '/api/reviewer-assignments/workload'
2025-10-03 19:17:57.035 +07:00 [DBG] Endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetReviewersWorkload (CapBot.api)' with route pattern 'api/reviewer-assignments/workload' is valid for the request path '/api/reviewer-assignments/workload'
2025-10-03 19:17:57.035 +07:00 [DBG] Request matched endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetReviewersWorkload (CapBot.api)'
2025-10-03 19:17:57.036 +07:00 [DBG] Successfully validated the token.
2025-10-03 19:17:57.036 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-10-03 19:17:57.036 +07:00 [DBG] Authorization was successful.
2025-10-03 19:17:57.036 +07:00 [INF] Executing endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetReviewersWorkload (CapBot.api)'
2025-10-03 19:17:57.036 +07:00 [INF] Route matched with {action = "GetReviewersWorkload", controller = "ReviewerAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetReviewersWorkload(System.Nullable`1[System.Int32]) on controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api).
2025-10-03 19:17:57.036 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-10-03 19:17:57.036 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-10-03 19:17:57.037 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2025-10-03 19:17:57.037 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-10-03 19:17:57.037 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-10-03 19:17:57.037 +07:00 [DBG] Executing controller factory for controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api)
2025-10-03 19:17:57.037 +07:00 [DBG] Executed controller factory for controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api)
2025-10-03 19:17:57.037 +07:00 [DBG] Attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]' ...
2025-10-03 19:17:57.038 +07:00 [DBG] Attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]' using the name 'semesterId' in request data ...
2025-10-03 19:17:57.038 +07:00 [DBG] Done attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]'.
2025-10-03 19:17:57.038 +07:00 [DBG] Done attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]'.
2025-10-03 19:17:57.038 +07:00 [DBG] Attempting to validate the bound parameter 'semesterId' of type 'System.Nullable`1[System.Int32]' ...
2025-10-03 19:17:57.038 +07:00 [DBG] Done attempting to validate the bound parameter 'semesterId' of type 'System.Nullable`1[System.Int32]'.
2025-10-03 19:17:57.039 +07:00 [DBG] Entity Framework Core 8.0.16 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: MigrationsAssembly=App.DAL 
2025-10-03 19:17:57.039 +07:00 [DBG] Creating DbConnection.
2025-10-03 19:17:57.039 +07:00 [DBG] Created DbConnection. (0ms).
2025-10-03 19:17:57.039 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:17:57.039 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:17:57.039 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 19:17:57.040 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:17:57.040 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:17:57.040 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[RoleId], [u0].[Id], [u0].[AccessFailedCount], [u0].[ConcurrencyStamp], [u0].[CreatedAt], [u0].[DeletedAt], [u0].[Email], [u0].[EmailConfirmed], [u0].[LastModifiedAt], [u0].[LastModifiedBy], [u0].[LockoutEnabled], [u0].[LockoutEnd], [u0].[NormalizedEmail], [u0].[NormalizedUserName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[PhoneNumberConfirmed], [u0].[SecurityStamp], [u0].[TwoFactorEnabled], [u0].[UserName], [r].[Id], [l].[Id], [l].[CreatedAt], [l].[CreatedBy], [l].[DeletedAt], [l].[IsActive], [l].[LastModifiedAt], [l].[LastModifiedBy], [l].[LecturerId], [l].[ProficiencyLevel], [l].[SkillTag], [r0].[Id], [r0].[AverageScoreGiven], [r0].[AverageTimeMinutes], [r0].[CompletedAssignments], [r0].[LastUpdated], [r0].[OnTimeRate], [r0].[QualityRating], [r0].[ReviewerId], [r0].[SemesterId], [r0].[TotalAssignments], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [user_roles] AS [u]
INNER JOIN [roles] AS [r] ON [u].[RoleId] = [r].[Id]
INNER JOIN [users] AS [u0] ON [u].[UserId] = [u0].[Id]
LEFT JOIN [lecturer_skills] AS [l] ON [u0].[Id] = [l].[LecturerId]
LEFT JOIN [reviewer_performance] AS [r0] ON [u0].[Id] = [r0].[ReviewerId]
WHERE [r].[Name] = N'Reviewer'
ORDER BY [u].[UserId], [u].[RoleId], [r].[Id], [u0].[Id], [l].[Id]
2025-10-03 19:17:57.041 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[RoleId], [u0].[Id], [u0].[AccessFailedCount], [u0].[ConcurrencyStamp], [u0].[CreatedAt], [u0].[DeletedAt], [u0].[Email], [u0].[EmailConfirmed], [u0].[LastModifiedAt], [u0].[LastModifiedBy], [u0].[LockoutEnabled], [u0].[LockoutEnd], [u0].[NormalizedEmail], [u0].[NormalizedUserName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[PhoneNumberConfirmed], [u0].[SecurityStamp], [u0].[TwoFactorEnabled], [u0].[UserName], [r].[Id], [l].[Id], [l].[CreatedAt], [l].[CreatedBy], [l].[DeletedAt], [l].[IsActive], [l].[LastModifiedAt], [l].[LastModifiedBy], [l].[LecturerId], [l].[ProficiencyLevel], [l].[SkillTag], [r0].[Id], [r0].[AverageScoreGiven], [r0].[AverageTimeMinutes], [r0].[CompletedAssignments], [r0].[LastUpdated], [r0].[OnTimeRate], [r0].[QualityRating], [r0].[ReviewerId], [r0].[SemesterId], [r0].[TotalAssignments], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [user_roles] AS [u]
INNER JOIN [roles] AS [r] ON [u].[RoleId] = [r].[Id]
INNER JOIN [users] AS [u0] ON [u].[UserId] = [u0].[Id]
LEFT JOIN [lecturer_skills] AS [l] ON [u0].[Id] = [l].[LecturerId]
LEFT JOIN [reviewer_performance] AS [r0] ON [u0].[Id] = [r0].[ReviewerId]
WHERE [r].[Name] = N'Reviewer'
ORDER BY [u].[UserId], [u].[RoleId], [r].[Id], [u0].[Id], [l].[Id]
2025-10-03 19:17:57.042 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 19:17:57.043 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 1ms reading results.
2025-10-03 19:17:57.043 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:17:57.043 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 19:17:57.044 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:17:57.044 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:17:57.044 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 19:17:57.044 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:17:57.045 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:17:57.045 +07:00 [DBG] Executing DbCommand [Parameters=[@__8__locals2_reviewerIds_0='?' (Size = 4000), @__sid_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId], [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Abbreviation], [t].[CategoryId], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[EN_Title], [t].[IsActive], [t].[IsApproved], [t].[IsLegacy], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[MaxStudents], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[SemesterId], [t].[SupervisorId], [t].[VN_title], [t0].[Id], [t0].[Content], [t0].[Context], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[DocumentUrl], [t0].[EN_Title], [t0].[ExpectedOutcomes], [t0].[IsActive], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[Methodology], [t0].[Objectives], [t0].[PotentialDuplicate], [t0].[Problem], [t0].[Requirements], [t0].[Status], [t0].[SubmittedAt], [t0].[SubmittedBy], [t0].[TopicId], [t0].[VN_title], [t0].[VersionNumber], [t1].[Id], [t1].[Abbreviation], [t1].[CategoryId], [t1].[Content], [t1].[Context], [t1].[CreatedAt], [t1].[CreatedBy], [t1].[DeletedAt], [t1].[Description], [t1].[EN_Title], [t1].[IsActive], [t1].[IsApproved], [t1].[IsLegacy], [t1].[LastModifiedAt], [t1].[LastModifiedBy], [t1].[MaxStudents], [t1].[Objectives], [t1].[PotentialDuplicate], [t1].[Problem], [t1].[SemesterId], [t1].[SupervisorId], [t1].[VN_title]
FROM [reviewer_assignments] AS [r]
INNER JOIN [submissions] AS [s] ON [r].[SubmissionId] = [s].[Id]
LEFT JOIN [topics] AS [t] ON [s].[TopicId] = [t].[Id]
LEFT JOIN [topic_versions] AS [t0] ON [s].[TopicVersionId] = [t0].[Id]
LEFT JOIN [topics] AS [t1] ON [t0].[TopicId] = [t1].[Id]
WHERE [r].[ReviewerId] IN (
    SELECT [8].[value]
    FROM OPENJSON(@__8__locals2_reviewerIds_0) WITH ([value] int '$') AS [8]
) AND (([t].[Id] IS NOT NULL AND [t].[SemesterId] = @__sid_1) OR ([t0].[Id] IS NOT NULL AND [t1].[Id] IS NOT NULL AND [t1].[SemesterId] = @__sid_1))
2025-10-03 19:17:57.048 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__8__locals2_reviewerIds_0='?' (Size = 4000), @__sid_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId], [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Abbreviation], [t].[CategoryId], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[EN_Title], [t].[IsActive], [t].[IsApproved], [t].[IsLegacy], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[MaxStudents], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[SemesterId], [t].[SupervisorId], [t].[VN_title], [t0].[Id], [t0].[Content], [t0].[Context], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[DocumentUrl], [t0].[EN_Title], [t0].[ExpectedOutcomes], [t0].[IsActive], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[Methodology], [t0].[Objectives], [t0].[PotentialDuplicate], [t0].[Problem], [t0].[Requirements], [t0].[Status], [t0].[SubmittedAt], [t0].[SubmittedBy], [t0].[TopicId], [t0].[VN_title], [t0].[VersionNumber], [t1].[Id], [t1].[Abbreviation], [t1].[CategoryId], [t1].[Content], [t1].[Context], [t1].[CreatedAt], [t1].[CreatedBy], [t1].[DeletedAt], [t1].[Description], [t1].[EN_Title], [t1].[IsActive], [t1].[IsApproved], [t1].[IsLegacy], [t1].[LastModifiedAt], [t1].[LastModifiedBy], [t1].[MaxStudents], [t1].[Objectives], [t1].[PotentialDuplicate], [t1].[Problem], [t1].[SemesterId], [t1].[SupervisorId], [t1].[VN_title]
FROM [reviewer_assignments] AS [r]
INNER JOIN [submissions] AS [s] ON [r].[SubmissionId] = [s].[Id]
LEFT JOIN [topics] AS [t] ON [s].[TopicId] = [t].[Id]
LEFT JOIN [topic_versions] AS [t0] ON [s].[TopicVersionId] = [t0].[Id]
LEFT JOIN [topics] AS [t1] ON [t0].[TopicId] = [t1].[Id]
WHERE [r].[ReviewerId] IN (
    SELECT [8].[value]
    FROM OPENJSON(@__8__locals2_reviewerIds_0) WITH ([value] int '$') AS [8]
) AND (([t].[Id] IS NOT NULL AND [t].[SemesterId] = @__sid_1) OR ([t0].[Id] IS NOT NULL AND [t1].[Id] IS NOT NULL AND [t1].[SemesterId] = @__sid_1))
2025-10-03 19:17:57.050 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 19:17:57.050 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 1ms reading results.
2025-10-03 19:17:57.051 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:17:57.051 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 19:17:57.052 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:17:57.052 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:17:57.052 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 19:17:57.052 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:17:57.052 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 19:17:57.053 +07:00 [DBG] Executing DbCommand [Parameters=[@__reviewerIds_0='?' (Size = 4000), @__8__locals1_semesterId_Value_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AverageScoreGiven], [r].[AverageTimeMinutes], [r].[CompletedAssignments], [r].[LastUpdated], [r].[OnTimeRate], [r].[QualityRating], [r].[ReviewerId], [r].[SemesterId], [r].[TotalAssignments]
FROM [reviewer_performance] AS [r]
WHERE [r].[ReviewerId] IN (
    SELECT [r0].[value]
    FROM OPENJSON(@__reviewerIds_0) WITH ([value] int '$') AS [r0]
) AND [r].[SemesterId] = @__8__locals1_semesterId_Value_1
2025-10-03 19:17:57.055 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__reviewerIds_0='?' (Size = 4000), @__8__locals1_semesterId_Value_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AverageScoreGiven], [r].[AverageTimeMinutes], [r].[CompletedAssignments], [r].[LastUpdated], [r].[OnTimeRate], [r].[QualityRating], [r].[ReviewerId], [r].[SemesterId], [r].[TotalAssignments]
FROM [reviewer_performance] AS [r]
WHERE [r].[ReviewerId] IN (
    SELECT [r0].[value]
    FROM OPENJSON(@__reviewerIds_0) WITH ([value] int '$') AS [r0]
) AND [r].[SemesterId] = @__8__locals1_semesterId_Value_1
2025-10-03 19:17:57.056 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 19:17:57.056 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-10-03 19:17:57.056 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:17:57.056 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 19:17:57.057 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-10-03 19:17:57.057 +07:00 [DBG] No information found on request to perform content negotiation.
2025-10-03 19:17:57.057 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-10-03 19:17:57.057 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-10-03 19:17:57.057 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-10-03 19:17:57.057 +07:00 [INF] Executing ObjectResult, writing value of type 'FS.Commons.FSResponse'.
2025-10-03 19:17:57.057 +07:00 [INF] Executed action CapBot.api.Controllers.ReviewerAssignmentController.GetReviewersWorkload (CapBot.api) in 20.7395ms
2025-10-03 19:17:57.058 +07:00 [INF] Executed endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetReviewersWorkload (CapBot.api)'
2025-10-03 19:17:57.058 +07:00 [DBG] Connection id "0HNG2EQOPDV1L" completed keep alive response.
2025-10-03 19:17:57.058 +07:00 [DBG] 'MyDbContext' disposed.
2025-10-03 19:17:57.058 +07:00 [DBG] Disposing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 19:17:57.058 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-10-03 19:17:57.058 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5207/api/reviewer-assignments/workload?semesterId=1 - 200 null application/json; charset=utf-8 23.6398ms
2025-10-03 19:18:58.495 +07:00 [INF] Application is shutting down...
2025-10-03 19:18:58.496 +07:00 [DBG] Hosting stopping
2025-10-03 19:18:58.501 +07:00 [DBG] Connection id "0HNG2EQOPDV1L" disconnecting.
2025-10-03 19:18:58.501 +07:00 [DBG] Connection id "0HNG2EQOPDV1L" stopped.
2025-10-03 19:18:58.501 +07:00 [DBG] Connection id "0HNG2EQOPDV1L" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-10-03 19:18:58.506 +07:00 [ERR] Lỗi khi kiểm tra deadline notifications
System.Threading.Tasks.TaskCanceledException: A task was canceled.
   at CapBot.api.Services.DeadlineNotificationService.ExecuteAsync(CancellationToken stoppingToken) in C:\Users\acer\Downloads\CBAI_API\capbot.api\Services\DeadlineNotificationService.cs:line 41
2025-10-03 19:18:58.520 +07:00 [DBG] Hosting stopped
2025-10-03 22:26:29.292 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-10-03 22:26:29.405 +07:00 [INF] User profile is available. Using 'C:\Users\acer\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-10-03 22:26:29.700 +07:00 [DBG] No relationship from 'ReviewerAssignment' to 'User' has been configured by convention because there are multiple properties on one entity type - {'AssignedByUser', 'Reviewer'} that could be matched with the properties on the other entity type - {'ReviewerAssignments'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-10-03 22:26:29.726 +07:00 [DBG] No relationship from 'SubmissionWorkflowLog' to 'WorkflowState' has been configured by convention because there are multiple properties on one entity type - {'FromState', 'ToState'} that could be matched with the properties on the other entity type - {'FromStateLogs', 'ToStateLogs'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-10-03 22:26:29.747 +07:00 [DBG] No relationship from 'User' to 'ReviewerAssignment' has been configured by convention because there are multiple properties on one entity type - {'ReviewerAssignments'} that could be matched with the properties on the other entity type - {'AssignedByUser', 'Reviewer'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-10-03 22:26:29.750 +07:00 [DBG] No relationship from 'WorkflowState' to 'SubmissionWorkflowLog' has been configured by convention because there are multiple properties on one entity type - {'FromStateLogs', 'ToStateLogs'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-10-03 22:26:29.750 +07:00 [DBG] No relationship from 'WorkflowState' to 'WorkflowTransition' has been configured by convention because there are multiple properties on one entity type - {'FromTransitions', 'ToTransitions'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-10-03 22:26:29.752 +07:00 [DBG] No relationship from 'WorkflowTransition' to 'WorkflowState' has been configured by convention because there are multiple properties on one entity type - {'FromState', 'ToState'} that could be matched with the properties on the other entity type - {'FromTransitions', 'ToTransitions'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-10-03 22:26:30.050 +07:00 [DBG] No relationship from 'ReviewerAssignment' to 'User' has been configured by convention because there are multiple properties on one entity type - {'AssignedByUser', 'Reviewer'} that could be matched with the properties on the other entity type - {'ReviewerAssignments'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-10-03 22:26:30.051 +07:00 [DBG] No relationship from 'User' to 'ReviewerAssignment' has been configured by convention because there are multiple properties on one entity type - {'ReviewerAssignments'} that could be matched with the properties on the other entity type - {'AssignedByUser', 'Reviewer'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-10-03 22:26:30.077 +07:00 [DBG] No relationship from 'WorkflowTransition' to 'WorkflowState' has been configured by convention because there are multiple properties on one entity type - {'FromState', 'ToState'} that could be matched with the properties on the other entity type - {'FromTransitions', 'ToTransitions'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-10-03 22:26:30.078 +07:00 [DBG] No relationship from 'WorkflowState' to 'SubmissionWorkflowLog' has been configured by convention because there are multiple properties on one entity type - {'FromStateLogs', 'ToStateLogs'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-10-03 22:26:30.078 +07:00 [DBG] No relationship from 'WorkflowState' to 'WorkflowTransition' has been configured by convention because there are multiple properties on one entity type - {'FromTransitions', 'ToTransitions'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-10-03 22:26:30.080 +07:00 [DBG] No relationship from 'WorkflowState' to 'SubmissionWorkflowLog' has been configured by convention because there are multiple properties on one entity type - {'FromStateLogs', 'ToStateLogs'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-10-03 22:26:30.085 +07:00 [DBG] No relationship from 'SubmissionWorkflowLog' to 'WorkflowState' has been configured by convention because there are multiple properties on one entity type - {'FromState', 'ToState'} that could be matched with the properties on the other entity type - {'FromStateLogs', 'ToStateLogs'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-10-03 22:26:30.086 +07:00 [DBG] No relationship from 'WorkflowState' to 'SubmissionWorkflowLog' has been configured by convention because there are multiple properties on one entity type - {'FromStateLogs', 'ToStateLogs'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-10-03 22:26:30.142 +07:00 [DBG] The index {'LecturerId'} was not created on entity type 'LecturerSkill' as the properties are already covered by the index {'LecturerId', 'SkillTag'}.
2025-10-03 22:26:30.142 +07:00 [DBG] The index {'SemesterId'} was not created on entity type 'Phase' as the properties are already covered by the index {'SemesterId', 'PhaseTypeId'}.
2025-10-03 22:26:30.143 +07:00 [DBG] The index {'AssignmentId'} was not created on entity type 'Review' as the properties are already covered by the index {'AssignmentId', 'Status'}.
2025-10-03 22:26:30.143 +07:00 [DBG] The index {'ReviewId'} was not created on entity type 'ReviewComment' as the properties are already covered by the index {'ReviewId', 'SectionName'}.
2025-10-03 22:26:30.143 +07:00 [DBG] The index {'ReviewId'} was not created on entity type 'ReviewCriteriaScore' as the properties are already covered by the index {'ReviewId', 'CriteriaId'}.
2025-10-03 22:26:30.143 +07:00 [DBG] The index {'ReviewerId'} was not created on entity type 'ReviewerAssignment' as the properties are already covered by the index {'ReviewerId', 'Status'}.
2025-10-03 22:26:30.143 +07:00 [DBG] The index {'SubmissionId'} was not created on entity type 'ReviewerAssignment' as the properties are already covered by the index {'SubmissionId', 'ReviewerId'}.
2025-10-03 22:26:30.143 +07:00 [DBG] The index {'ReviewerId'} was not created on entity type 'ReviewerPerformance' as the properties are already covered by the index {'ReviewerId', 'SemesterId'}.
2025-10-03 22:26:30.143 +07:00 [DBG] The index {'PhaseId'} was not created on entity type 'Submission' as the properties are already covered by the index {'PhaseId', 'Status'}.
2025-10-03 22:26:30.144 +07:00 [DBG] The index {'PhaseId'} was not created on entity type 'Submission' as the properties are already covered by the index {'PhaseId', 'Status', 'SubmittedAt'}.
2025-10-03 22:26:30.144 +07:00 [DBG] The index {'TopicId'} was not created on entity type 'Submission' as the properties are already covered by the index {'TopicId', 'PhaseId', 'SubmissionRound'}.
2025-10-03 22:26:30.144 +07:00 [DBG] The index {'SubmissionId'} was not created on entity type 'SubmissionWorkflowLog' as the properties are already covered by the index {'SubmissionId', 'CreatedAt'}.
2025-10-03 22:26:30.144 +07:00 [DBG] The index {'UserId'} was not created on entity type 'SystemNotification' as the properties are already covered by the index {'UserId', 'IsRead', 'CreatedAt'}.
2025-10-03 22:26:30.144 +07:00 [DBG] The index {'SemesterId'} was not created on entity type 'Topic' as the properties are already covered by the index {'SemesterId', 'IsApproved'}.
2025-10-03 22:26:30.144 +07:00 [DBG] The index {'SupervisorId'} was not created on entity type 'Topic' as the properties are already covered by the index {'SupervisorId', 'SemesterId'}.
2025-10-03 22:26:30.145 +07:00 [DBG] The index {'TopicId'} was not created on entity type 'TopicVersion' as the properties are already covered by the index {'TopicId', 'Status'}.
2025-10-03 22:26:30.145 +07:00 [DBG] The index {'TopicId'} was not created on entity type 'TopicVersion' as the properties are already covered by the index {'TopicId', 'VersionNumber'}.
2025-10-03 22:26:30.145 +07:00 [DBG] The index {'UserId'} was not created on entity type 'UserRole' as the properties are already covered by the index {'UserId', 'RoleId'}.
2025-10-03 22:26:30.145 +07:00 [DBG] The index {'UserId'} was not created on entity type 'UserToken' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2025-10-03 22:26:30.318 +07:00 [WRN] The 'ProficiencyLevels' property 'ProficiencyLevel' on entity type 'LecturerSkill' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'ProficiencyLevels' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-10-03 22:26:30.319 +07:00 [WRN] The 'ReviewRecommendations' property 'Recommendation' on entity type 'Review' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'ReviewRecommendations' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-10-03 22:26:30.319 +07:00 [WRN] The 'ReviewStatus' property 'Status' on entity type 'Review' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'ReviewStatus' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-10-03 22:26:30.319 +07:00 [WRN] The 'CommentTypes' property 'CommentType' on entity type 'ReviewComment' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'CommentTypes' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-10-03 22:26:30.319 +07:00 [WRN] The 'PriorityLevels' property 'Priority' on entity type 'ReviewComment' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'PriorityLevels' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-10-03 22:26:30.320 +07:00 [WRN] The 'AssignmentTypes' property 'AssignmentType' on entity type 'ReviewerAssignment' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'AssignmentTypes' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-10-03 22:26:30.320 +07:00 [WRN] The 'AssignmentStatus' property 'Status' on entity type 'ReviewerAssignment' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'AssignmentStatus' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-10-03 22:26:30.320 +07:00 [WRN] The 'AiCheckStatus' property 'AiCheckStatus' on entity type 'Submission' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'AiCheckStatus' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-10-03 22:26:30.320 +07:00 [WRN] The 'SubmissionStatus' property 'Status' on entity type 'Submission' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'SubmissionStatus' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-10-03 22:26:30.321 +07:00 [WRN] The 'NotificationTypes' property 'Type' on entity type 'SystemNotification' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'NotificationTypes' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-10-03 22:26:30.321 +07:00 [WRN] The 'TopicStatus' property 'Status' on entity type 'TopicVersion' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'TopicStatus' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-10-03 22:26:30.513 +07:00 [DBG] Entity Framework Core 8.0.16 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: MigrationsAssembly=App.DAL 
2025-10-03 22:26:30.620 +07:00 [DBG] Compiling query expression: 
'DbSet<Role>()
    .FirstOrDefault(r => r.NormalizedName == __normalizedName_0)'
2025-10-03 22:26:30.813 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Role>(
    asyncEnumerable: new SingleQueryingEnumerable<Role>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Role.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Role.ConcurrencyStamp (string), 1], [Property: Role.IsAdmin (bool) Required, 2], [Property: Role.Name (string), 3], [Property: Role.NormalizedName (string), 4] }
            SELECT TOP(1) r.Id, r.ConcurrencyStamp, r.IsAdmin, r.Name, r.NormalizedName
            FROM roles AS r
            WHERE r.NormalizedName == @__normalizedName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Role>, 
        App.DAL.Context.MyDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-10-03 22:26:30.852 +07:00 [DBG] Creating DbConnection.
2025-10-03 22:26:30.882 +07:00 [DBG] Created DbConnection. (28ms).
2025-10-03 22:26:30.887 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 22:26:31.096 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 22:26:31.099 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 22:26:31.105 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-10-03 22:26:31.115 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (16ms).
2025-10-03 22:26:31.123 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-10-03 22:26:31.178 +07:00 [INF] Executed DbCommand (54ms) [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-10-03 22:26:31.225 +07:00 [DBG] Context 'MyDbContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 22:26:31.248 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 22:26:31.254 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 71ms reading results.
2025-10-03 22:26:31.259 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 22:26:31.264 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (5ms).
2025-10-03 22:26:31.268 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 22:26:31.269 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 22:26:31.269 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 22:26:31.270 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 22:26:31.270 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 22:26:31.271 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-10-03 22:26:31.274 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-10-03 22:26:31.276 +07:00 [DBG] Context 'MyDbContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 22:26:31.276 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 22:26:31.277 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 1ms reading results.
2025-10-03 22:26:31.277 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 22:26:31.277 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 22:26:31.278 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 22:26:31.278 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 22:26:31.278 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 22:26:31.278 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 22:26:31.278 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 22:26:31.278 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-10-03 22:26:31.279 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-10-03 22:26:31.280 +07:00 [DBG] Context 'MyDbContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 22:26:31.280 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 22:26:31.280 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-10-03 22:26:31.280 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 22:26:31.280 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 22:26:31.281 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 22:26:31.281 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 22:26:31.281 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 22:26:31.282 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 22:26:31.282 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 22:26:31.282 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-10-03 22:26:31.283 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-10-03 22:26:31.283 +07:00 [DBG] Context 'MyDbContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 22:26:31.283 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 22:26:31.283 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-10-03 22:26:31.284 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 22:26:31.284 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 22:26:31.294 +07:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .SingleOrDefault(u => u.NormalizedEmail == __normalizedEmail_0)'
2025-10-03 22:26:31.300 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.ConcurrencyStamp (string), 2], [Property: User.CreatedAt (DateTime) Required, 3], [Property: User.DeletedAt (DateTime?), 4], [Property: User.Email (string), 5], [Property: User.EmailConfirmed (bool) Required, 6], [Property: User.LastModifiedAt (DateTime) Required, 7], [Property: User.LastModifiedBy (string), 8], [Property: User.LockoutEnabled (bool) Required, 9], [Property: User.LockoutEnd (DateTimeOffset?), 10], [Property: User.NormalizedEmail (string), 11], [Property: User.NormalizedUserName (string), 12], [Property: User.PasswordHash (string), 13], [Property: User.PhoneNumber (string), 14], [Property: User.PhoneNumberConfirmed (bool) Required, 15], [Property: User.SecurityStamp (string), 16], [Property: User.TwoFactorEnabled (bool) Required, 17], [Property: User.UserName (string), 18] }
            SELECT TOP(2) u.Id, u.AccessFailedCount, u.ConcurrencyStamp, u.CreatedAt, u.DeletedAt, u.Email, u.EmailConfirmed, u.LastModifiedAt, u.LastModifiedBy, u.LockoutEnabled, u.LockoutEnd, u.NormalizedEmail, u.NormalizedUserName, u.PasswordHash, u.PhoneNumber, u.PhoneNumberConfirmed, u.SecurityStamp, u.TwoFactorEnabled, u.UserName
            FROM users AS u
            WHERE u.NormalizedEmail == @__normalizedEmail_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        App.DAL.Context.MyDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-10-03 22:26:31.301 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 22:26:31.301 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 22:26:31.302 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 22:26:31.302 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 22:26:31.302 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 22:26:31.302 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-10-03 22:26:31.312 +07:00 [INF] Executed DbCommand (10ms) [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-10-03 22:26:31.338 +07:00 [DBG] Context 'MyDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 22:26:31.375 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 22:26:31.376 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 63ms reading results.
2025-10-03 22:26:31.377 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 22:26:31.377 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 22:26:31.380 +07:00 [INF] Admin user 'admin.capbot@gmail.com' already exists
2025-10-03 22:26:31.383 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 22:26:31.383 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 22:26:31.383 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 22:26:31.383 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 22:26:31.383 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 22:26:31.383 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-10-03 22:26:31.384 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-10-03 22:26:31.385 +07:00 [DBG] Context 'MyDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 22:26:31.385 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 22:26:31.385 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-10-03 22:26:31.386 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 22:26:31.386 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 22:26:31.386 +07:00 [INF] Sample moderator 'moderator@example.com' already exists
2025-10-03 22:26:31.387 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 22:26:31.388 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 22:26:31.388 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 22:26:31.388 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 22:26:31.388 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 22:26:31.388 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-10-03 22:26:31.389 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-10-03 22:26:31.391 +07:00 [DBG] Context 'MyDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 22:26:31.391 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 22:26:31.391 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 1ms reading results.
2025-10-03 22:26:31.392 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 22:26:31.392 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 22:26:31.392 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 22:26:31.393 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 22:26:31.393 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 22:26:31.393 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 22:26:31.394 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 22:26:31.394 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-10-03 22:26:31.395 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-10-03 22:26:31.395 +07:00 [DBG] Context 'MyDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 22:26:31.395 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 22:26:31.396 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-10-03 22:26:31.396 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 22:26:31.396 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 22:26:31.396 +07:00 [INF] Data seeding completed successfully
2025-10-03 22:26:31.398 +07:00 [DBG] 'MyDbContext' disposed.
2025-10-03 22:26:31.400 +07:00 [DBG] Disposing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 22:26:31.401 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-10-03 22:26:31.432 +07:00 [DBG] Registered SignalR Protocol: json, implemented by Microsoft.AspNetCore.SignalR.Protocol.JsonHubProtocol.
2025-10-03 22:26:31.696 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
2025-10-03 22:26:31.845 +07:00 [DBG] Hosting starting
2025-10-03 22:26:31.859 +07:00 [DBG] Reading data from file 'C:\Users\acer\AppData\Local\ASP.NET\DataProtection-Keys\key-30a711c8-7ddc-4a0d-8c07-4439effde9db.xml'.
2025-10-03 22:26:31.898 +07:00 [DBG] Reading data from file 'C:\Users\acer\AppData\Local\ASP.NET\DataProtection-Keys\key-732ee668-a56c-4fc9-b9d2-4188dc372919.xml'.
2025-10-03 22:26:31.923 +07:00 [DBG] Reading data from file 'C:\Users\acer\AppData\Local\ASP.NET\DataProtection-Keys\key-ad0e504d-5eaf-4fbc-adde-d8f26319af02.xml'.
2025-10-03 22:26:31.953 +07:00 [DBG] Found key {30a711c8-7ddc-4a0d-8c07-4439effde9db}.
2025-10-03 22:26:31.960 +07:00 [DBG] Found key {732ee668-a56c-4fc9-b9d2-4188dc372919}.
2025-10-03 22:26:31.960 +07:00 [DBG] Found key {ad0e504d-5eaf-4fbc-adde-d8f26319af02}.
2025-10-03 22:26:31.967 +07:00 [DBG] Considering key {30a711c8-7ddc-4a0d-8c07-4439effde9db} with expiration date 2025-11-11 18:32:26Z as default key.
2025-10-03 22:26:31.972 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-10-03 22:26:31.973 +07:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-10-03 22:26:31.975 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-10-03 22:26:31.977 +07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-10-03 22:26:31.979 +07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-10-03 22:26:31.982 +07:00 [DBG] Using key {30a711c8-7ddc-4a0d-8c07-4439effde9db} as the default key.
2025-10-03 22:26:31.982 +07:00 [DBG] Key ring with default key {30a711c8-7ddc-4a0d-8c07-4439effde9db} was loaded during application startup.
2025-10-03 22:26:32.069 +07:00 [INF] Now listening on: http://localhost:5207
2025-10-03 22:26:32.069 +07:00 [DBG] Loaded hosting startup assembly CapBot.api
2025-10-03 22:26:32.069 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-10-03 22:26:32.069 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-03 22:26:32.070 +07:00 [INF] Hosting environment: Development
2025-10-03 22:26:32.070 +07:00 [INF] Content root path: C:\Users\acer\Downloads\CBAI_API\capbot.api
2025-10-03 22:26:32.073 +07:00 [DBG] Hosting started
2025-10-03 22:26:32.349 +07:00 [DBG] Connection id "0HNG2I4TMJ802" accepted.
2025-10-03 22:26:32.350 +07:00 [DBG] Connection id "0HNG2I4TMJ802" started.
2025-10-03 22:26:32.811 +07:00 [DBG] Connection id "0HNG2I4TMJ803" accepted.
2025-10-03 22:26:32.814 +07:00 [DBG] Connection id "0HNG2I4TMJ803" started.
2025-10-03 22:26:32.974 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5207/index.html - null null
2025-10-03 22:26:33.010 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-10-03 22:26:33.239 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-10-03 22:26:33.264 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-10-03 22:26:33.265 +07:00 [DBG] Connection id "0HNG2I4TMJ802" completed keep alive response.
2025-10-03 22:26:33.275 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5207/index.html - 200 null text/html;charset=utf-8 304.2973ms
2025-10-03 22:26:33.359 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5207/_framework/aspnetcore-browser-refresh.js - null null
2025-10-03 22:26:33.363 +07:00 [DBG] Connection id "0HNG2I4TMJ802" completed keep alive response.
2025-10-03 22:26:33.364 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5207/_framework/aspnetcore-browser-refresh.js - 200 13732 application/javascript; charset=utf-8 4.3925ms
2025-10-03 22:26:33.547 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5207/swagger/v1/swagger.json - null null
2025-10-03 22:26:34.478 +07:00 [DBG] Connection id "0HNG2I4TMJ802" completed keep alive response.
2025-10-03 22:26:34.478 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5207/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 931.1502ms
2025-10-03 22:26:37.813 +07:00 [DBG] Connection id "0HNG2I4TMJ802" received FIN.
2025-10-03 22:26:37.813 +07:00 [DBG] Connection id "0HNG2I4TMJ803" received FIN.
2025-10-03 22:26:37.817 +07:00 [DBG] Connection id "0HNG2I4TMJ802" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-10-03 22:26:37.817 +07:00 [DBG] Connection id "0HNG2I4TMJ803" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-10-03 22:26:37.818 +07:00 [DBG] Connection id "0HNG2I4TMJ802" disconnecting.
2025-10-03 22:26:37.818 +07:00 [DBG] Connection id "0HNG2I4TMJ803" disconnecting.
2025-10-03 22:26:37.820 +07:00 [DBG] Connection id "0HNG2I4TMJ802" stopped.
2025-10-03 22:26:37.820 +07:00 [DBG] Connection id "0HNG2I4TMJ803" stopped.
2025-10-03 22:26:46.839 +07:00 [DBG] Connection id "0HNG2I4TMJ804" accepted.
2025-10-03 22:26:46.839 +07:00 [DBG] Connection id "0HNG2I4TMJ804" started.
2025-10-03 22:26:46.840 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5207/api/reviewer-assignments/workload?semesterId=1 - null null
2025-10-03 22:26:46.842 +07:00 [DBG] The request path /api/reviewer-assignments/workload does not match a supported file type
2025-10-03 22:26:46.844 +07:00 [WRN] Failed to determine the https port for redirect.
2025-10-03 22:26:46.845 +07:00 [DBG] The request path /api/reviewer-assignments/workload does not match a supported file type
2025-10-03 22:26:46.919 +07:00 [DBG] 1 candidate(s) found for the request path '/api/reviewer-assignments/workload'
2025-10-03 22:26:46.920 +07:00 [DBG] Endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetReviewersWorkload (CapBot.api)' with route pattern 'api/reviewer-assignments/workload' is valid for the request path '/api/reviewer-assignments/workload'
2025-10-03 22:26:46.921 +07:00 [DBG] Request matched endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetReviewersWorkload (CapBot.api)'
2025-10-03 22:26:47.039 +07:00 [DBG] Successfully validated the token.
2025-10-03 22:26:47.040 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-10-03 22:26:47.048 +07:00 [DBG] Authorization was successful.
2025-10-03 22:26:47.056 +07:00 [INF] Executing endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetReviewersWorkload (CapBot.api)'
2025-10-03 22:26:47.082 +07:00 [INF] Route matched with {action = "GetReviewersWorkload", controller = "ReviewerAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetReviewersWorkload(System.Nullable`1[System.Int32]) on controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api).
2025-10-03 22:26:47.084 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-10-03 22:26:47.084 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-10-03 22:26:47.085 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2025-10-03 22:26:47.085 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-10-03 22:26:47.085 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-10-03 22:26:47.087 +07:00 [DBG] Executing controller factory for controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api)
2025-10-03 22:26:47.213 +07:00 [DBG] Executed controller factory for controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api)
2025-10-03 22:26:47.222 +07:00 [DBG] Attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]' ...
2025-10-03 22:26:47.224 +07:00 [DBG] Attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]' using the name 'semesterId' in request data ...
2025-10-03 22:26:47.226 +07:00 [DBG] Done attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]'.
2025-10-03 22:26:47.227 +07:00 [DBG] Done attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]'.
2025-10-03 22:26:47.227 +07:00 [DBG] Attempting to validate the bound parameter 'semesterId' of type 'System.Nullable`1[System.Int32]' ...
2025-10-03 22:26:47.231 +07:00 [DBG] Done attempting to validate the bound parameter 'semesterId' of type 'System.Nullable`1[System.Int32]'.
2025-10-03 22:26:47.303 +07:00 [DBG] Entity Framework Core 8.0.16 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: MigrationsAssembly=App.DAL 
2025-10-03 22:26:47.315 +07:00 [DBG] Compiling query expression: 
'DbSet<UserRole>()
    .AsNoTracking()
    .Include(ur => ur.User)
    .Include(ur => ur.User.LecturerSkills)
    .Include(ur => ur.User.ReviewerPerformances)
    .Include(ur => ur.Role)
    .Where(ur => ur.Role.Name == "Reviewer")'
2025-10-03 22:26:47.332 +07:00 [DBG] Including navigation: 'UserRole.User'.
2025-10-03 22:26:47.333 +07:00 [DBG] Including navigation: 'User.LecturerSkills'.
2025-10-03 22:26:47.334 +07:00 [DBG] Including navigation: 'User.ReviewerPerformances'.
2025-10-03 22:26:47.335 +07:00 [DBG] Including navigation: 'UserRole.Role'.
2025-10-03 22:26:47.423 +07:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-10-03 22:26:47.434 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<UserRole>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: UserRole.UserId (int) Required PK FK AfterSave:Throw, 0], [Property: UserRole.RoleId (int) Required PK FK Index AfterSave:Throw, 1] }
            1 -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 2], [Property: User.AccessFailedCount (int) Required, 3], [Property: User.ConcurrencyStamp (string), 4], [Property: User.CreatedAt (DateTime) Required, 5], [Property: User.DeletedAt (DateTime?), 6], [Property: User.Email (string), 7], [Property: User.EmailConfirmed (bool) Required, 8], [Property: User.LastModifiedAt (DateTime) Required, 9], [Property: User.LastModifiedBy (string), 10], [Property: User.LockoutEnabled (bool) Required, 11], [Property: User.LockoutEnd (DateTimeOffset?), 12], [Property: User.NormalizedEmail (string), 13], [Property: User.NormalizedUserName (string), 14], [Property: User.PasswordHash (string), 15], [Property: User.PhoneNumber (string), 16], [Property: User.PhoneNumberConfirmed (bool) Required, 17], [Property: User.SecurityStamp (string), 18], [Property: User.TwoFactorEnabled (bool) Required, 19], [Property: User.UserName (string), 20] }
            2 -> 0
            3 -> 1
            4 -> 21
            5 -> 2
            6 -> Dictionary<IProperty, int> { [Property: LecturerSkill.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 22], [Property: LecturerSkill.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 23], [Property: LecturerSkill.CreatedBy (string), 24], [Property: LecturerSkill.DeletedAt (DateTime?), 25], [Property: LecturerSkill.IsActive (bool) Required, 26], [Property: LecturerSkill.LastModifiedAt (DateTime?), 27], [Property: LecturerSkill.LastModifiedBy (string), 28], [Property: LecturerSkill.LecturerId (int) Required FK Index, 29], [Property: LecturerSkill.ProficiencyLevel (ProficiencyLevels) Required ValueGenerated.OnAdd, 30], [Property: LecturerSkill.SkillTag (string) Required Index MaxLength(100), 31] }
            7 -> 22
            8 -> Dictionary<IProperty, int> { [Property: ReviewerPerformance.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 32], [Property: ReviewerPerformance.AverageScoreGiven (decimal?), 33], [Property: ReviewerPerformance.AverageTimeMinutes (int) Required ValueGenerated.OnAdd, 34], [Property: ReviewerPerformance.CompletedAssignments (int) Required ValueGenerated.OnAdd, 35], [Property: ReviewerPerformance.LastUpdated (DateTime) Required ValueGenerated.OnAdd, 36], [Property: ReviewerPerformance.OnTimeRate (decimal?), 37], [Property: ReviewerPerformance.QualityRating (decimal?), 38], [Property: ReviewerPerformance.ReviewerId (int) Required FK Index, 39], [Property: ReviewerPerformance.SemesterId (int) Required FK Index, 40], [Property: ReviewerPerformance.TotalAssignments (int) Required ValueGenerated.OnAdd, 41] }
            9 -> 32
            10 -> Dictionary<IProperty, int> { [Property: Role.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 21], [Property: Role.ConcurrencyStamp (string), 42], [Property: Role.IsAdmin (bool) Required, 43], [Property: Role.Name (string), 44], [Property: Role.NormalizedName (string), 45] }
        SELECT u.UserId, u.RoleId, u0.Id, u0.AccessFailedCount, u0.ConcurrencyStamp, u0.CreatedAt, u0.DeletedAt, u0.Email, u0.EmailConfirmed, u0.LastModifiedAt, u0.LastModifiedBy, u0.LockoutEnabled, u0.LockoutEnd, u0.NormalizedEmail, u0.NormalizedUserName, u0.PasswordHash, u0.PhoneNumber, u0.PhoneNumberConfirmed, u0.SecurityStamp, u0.TwoFactorEnabled, u0.UserName, r.Id, l.Id, l.CreatedAt, l.CreatedBy, l.DeletedAt, l.IsActive, l.LastModifiedAt, l.LastModifiedBy, l.LecturerId, l.ProficiencyLevel, l.SkillTag, r0.Id, r0.AverageScoreGiven, r0.AverageTimeMinutes, r0.CompletedAssignments, r0.LastUpdated, r0.OnTimeRate, r0.QualityRating, r0.ReviewerId, r0.SemesterId, r0.TotalAssignments, r.ConcurrencyStamp, r.IsAdmin, r.Name, r.NormalizedName
        FROM user_roles AS u
        INNER JOIN roles AS r ON u.RoleId == r.Id
        INNER JOIN users AS u0 ON u.UserId == u0.Id
        LEFT JOIN lecturer_skills AS l ON u0.Id == l.LecturerId
        LEFT JOIN reviewer_performance AS r0 ON u0.Id == r0.ReviewerId
        WHERE r.Name == N'Reviewer'
        ORDER BY u.UserId ASC, u.RoleId ASC, r.Id ASC, u0.Id ASC, l.Id ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, UserRole>, 
    App.DAL.Context.MyDbContext, 
    False, 
    False, 
    True
)'
2025-10-03 22:26:47.438 +07:00 [DBG] Creating DbConnection.
2025-10-03 22:26:47.439 +07:00 [DBG] Created DbConnection. (0ms).
2025-10-03 22:26:47.439 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 22:26:47.439 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 22:26:47.439 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 22:26:47.440 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 22:26:47.440 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 22:26:47.440 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[RoleId], [u0].[Id], [u0].[AccessFailedCount], [u0].[ConcurrencyStamp], [u0].[CreatedAt], [u0].[DeletedAt], [u0].[Email], [u0].[EmailConfirmed], [u0].[LastModifiedAt], [u0].[LastModifiedBy], [u0].[LockoutEnabled], [u0].[LockoutEnd], [u0].[NormalizedEmail], [u0].[NormalizedUserName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[PhoneNumberConfirmed], [u0].[SecurityStamp], [u0].[TwoFactorEnabled], [u0].[UserName], [r].[Id], [l].[Id], [l].[CreatedAt], [l].[CreatedBy], [l].[DeletedAt], [l].[IsActive], [l].[LastModifiedAt], [l].[LastModifiedBy], [l].[LecturerId], [l].[ProficiencyLevel], [l].[SkillTag], [r0].[Id], [r0].[AverageScoreGiven], [r0].[AverageTimeMinutes], [r0].[CompletedAssignments], [r0].[LastUpdated], [r0].[OnTimeRate], [r0].[QualityRating], [r0].[ReviewerId], [r0].[SemesterId], [r0].[TotalAssignments], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [user_roles] AS [u]
INNER JOIN [roles] AS [r] ON [u].[RoleId] = [r].[Id]
INNER JOIN [users] AS [u0] ON [u].[UserId] = [u0].[Id]
LEFT JOIN [lecturer_skills] AS [l] ON [u0].[Id] = [l].[LecturerId]
LEFT JOIN [reviewer_performance] AS [r0] ON [u0].[Id] = [r0].[ReviewerId]
WHERE [r].[Name] = N'Reviewer'
ORDER BY [u].[UserId], [u].[RoleId], [r].[Id], [u0].[Id], [l].[Id]
2025-10-03 22:26:47.492 +07:00 [INF] Executed DbCommand (52ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[RoleId], [u0].[Id], [u0].[AccessFailedCount], [u0].[ConcurrencyStamp], [u0].[CreatedAt], [u0].[DeletedAt], [u0].[Email], [u0].[EmailConfirmed], [u0].[LastModifiedAt], [u0].[LastModifiedBy], [u0].[LockoutEnabled], [u0].[LockoutEnd], [u0].[NormalizedEmail], [u0].[NormalizedUserName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[PhoneNumberConfirmed], [u0].[SecurityStamp], [u0].[TwoFactorEnabled], [u0].[UserName], [r].[Id], [l].[Id], [l].[CreatedAt], [l].[CreatedBy], [l].[DeletedAt], [l].[IsActive], [l].[LastModifiedAt], [l].[LastModifiedBy], [l].[LecturerId], [l].[ProficiencyLevel], [l].[SkillTag], [r0].[Id], [r0].[AverageScoreGiven], [r0].[AverageTimeMinutes], [r0].[CompletedAssignments], [r0].[LastUpdated], [r0].[OnTimeRate], [r0].[QualityRating], [r0].[ReviewerId], [r0].[SemesterId], [r0].[TotalAssignments], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [user_roles] AS [u]
INNER JOIN [roles] AS [r] ON [u].[RoleId] = [r].[Id]
INNER JOIN [users] AS [u0] ON [u].[UserId] = [u0].[Id]
LEFT JOIN [lecturer_skills] AS [l] ON [u0].[Id] = [l].[LecturerId]
LEFT JOIN [reviewer_performance] AS [r0] ON [u0].[Id] = [r0].[ReviewerId]
WHERE [r].[Name] = N'Reviewer'
ORDER BY [u].[UserId], [u].[RoleId], [r].[Id], [u0].[Id], [l].[Id]
2025-10-03 22:26:47.506 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 22:26:47.506 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 13ms reading results.
2025-10-03 22:26:47.506 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 22:26:47.506 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 22:26:47.514 +07:00 [DBG] Compiling query expression: 
'DbSet<ReviewerAssignment>()
    .AsNoTracking()
    .Include(ra => ra.Submission)
    .Include(ra => ra.Submission.Topic)
    .Include(ra => ra.Submission.TopicVersion)
    .Include(ra => ra.Submission.TopicVersion.Topic)
    .Where(ra => __8__locals2_reviewerIds_0.Contains(ra.ReviewerId) && ra.Submission != null && ra.Submission.Topic != null && ra.Submission.Topic.SemesterId == __sid_1 || ra.Submission != null && ra.Submission.TopicVersion != null && ra.Submission.TopicVersion.Topic != null && ra.Submission.TopicVersion.Topic.SemesterId == __sid_1)'
2025-10-03 22:26:47.520 +07:00 [DBG] Including navigation: 'ReviewerAssignment.Submission'.
2025-10-03 22:26:47.520 +07:00 [DBG] Including navigation: 'Submission.Topic'.
2025-10-03 22:26:47.520 +07:00 [DBG] Including navigation: 'Submission.TopicVersion'.
2025-10-03 22:26:47.521 +07:00 [DBG] Including navigation: 'TopicVersion.Topic'.
2025-10-03 22:26:47.594 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<ReviewerAssignment>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: ReviewerAssignment.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ReviewerAssignment.AssignedAt (DateTime) Required ValueGenerated.OnAdd, 1], [Property: ReviewerAssignment.AssignedBy (int) Required FK Index, 2], [Property: ReviewerAssignment.AssignmentType (AssignmentTypes) Required ValueGenerated.OnAdd, 3], [Property: ReviewerAssignment.CompletedAt (DateTime?), 4], [Property: ReviewerAssignment.Deadline (DateTime?) Index, 5], [Property: ReviewerAssignment.ReviewerId (int) Required FK Index, 6], [Property: ReviewerAssignment.SkillMatchScore (decimal?), 7], [Property: ReviewerAssignment.StartedAt (DateTime?), 8], [Property: ReviewerAssignment.Status (AssignmentStatus) Required Index ValueGenerated.OnAdd, 9], [Property: ReviewerAssignment.SubmissionId (int) Required FK Index, 10] }
            1 -> Dictionary<IProperty, int> { [Property: Submission.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 11], [Property: Submission.AdditionalNotes (string), 12], [Property: Submission.AiCheckDetails (string), 13], [Property: Submission.AiCheckScore (decimal?), 14], [Property: Submission.AiCheckStatus (AiCheckStatus) Required ValueGenerated.OnAdd, 15], [Property: Submission.CreatedAt (DateTime) Required, 16], [Property: Submission.CreatedBy (string), 17], [Property: Submission.DeletedAt (DateTime?), 18], [Property: Submission.DocumentUrl (string) MaxLength(500), 19], [Property: Submission.IsActive (bool) Required, 20], [Property: Submission.LastModifiedAt (DateTime?), 21], [Property: Submission.LastModifiedBy (string), 22], [Property: Submission.PhaseId (int) Required FK Index, 23], [Property: Submission.Status (SubmissionStatus) Required Index ValueGenerated.OnAdd, 24], [Property: Submission.SubmissionRound (int) Required Index ValueGenerated.OnAdd, 25], [Property: Submission.SubmittedAt (DateTime?) Index ValueGenerated.OnAdd, 26], [Property: Submission.SubmittedBy (int) Required FK Index, 27], [Property: Submission.TopicId (int) Required FK Index, 28], [Property: Submission.TopicVersionId (int?) FK Index, 29] }
            2 -> Dictionary<IProperty, int> { [Property: Topic.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 30], [Property: Topic.Abbreviation (string), 31], [Property: Topic.CategoryId (int?) FK Index, 32], [Property: Topic.Content (string), 33], [Property: Topic.Context (string), 34], [Property: Topic.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 35], [Property: Topic.CreatedBy (string), 36], [Property: Topic.DeletedAt (DateTime?), 37], [Property: Topic.Description (string), 38], [Property: Topic.EN_Title (string) Required MaxLength(500), 39], [Property: Topic.IsActive (bool) Required, 40], [Property: Topic.IsApproved (bool) Required Index Sentinel:True ValueGenerated.OnAdd, 41], [Property: Topic.IsLegacy (bool) Required Index ValueGenerated.OnAdd, 42], [Property: Topic.LastModifiedAt (DateTime?), 43], [Property: Topic.LastModifiedBy (string), 44], [Property: Topic.MaxStudents (int) Required ValueGenerated.OnAdd, 45], [Property: Topic.Objectives (string), 46], [Property: Topic.PotentialDuplicate (string), 47], [Property: Topic.Problem (string), 48], [Property: Topic.SemesterId (int) Required FK Index, 49], [Property: Topic.SupervisorId (int) Required FK Index, 50], [Property: Topic.VN_title (string), 51] }
            3 -> Dictionary<IProperty, int> { [Property: TopicVersion.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 52], [Property: TopicVersion.Content (string), 53], [Property: TopicVersion.Context (string), 54], [Property: TopicVersion.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 55], [Property: TopicVersion.CreatedBy (string), 56], [Property: TopicVersion.DeletedAt (DateTime?), 57], [Property: TopicVersion.Description (string), 58], [Property: TopicVersion.DocumentUrl (string) MaxLength(500), 59], [Property: TopicVersion.EN_Title (string) Required MaxLength(500), 60], [Property: TopicVersion.ExpectedOutcomes (string), 61], [Property: TopicVersion.IsActive (bool) Required, 62], [Property: TopicVersion.LastModifiedAt (DateTime?), 63], [Property: TopicVersion.LastModifiedBy (string), 64], [Property: TopicVersion.Methodology (string), 65], [Property: TopicVersion.Objectives (string), 66], [Property: TopicVersion.PotentialDuplicate (string), 67], [Property: TopicVersion.Problem (string), 68], [Property: TopicVersion.Requirements (string), 69], [Property: TopicVersion.Status (TopicStatus) Required Index ValueGenerated.OnAdd, 70], [Property: TopicVersion.SubmittedAt (DateTime?), 71], [Property: TopicVersion.SubmittedBy (int?) FK Index, 72], [Property: TopicVersion.TopicId (int) Required FK Index, 73], [Property: TopicVersion.VN_title (string), 74], [Property: TopicVersion.VersionNumber (int) Required Index, 75] }
            4 -> Dictionary<IProperty, int> { [Property: Topic.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 76], [Property: Topic.Abbreviation (string), 77], [Property: Topic.CategoryId (int?) FK Index, 78], [Property: Topic.Content (string), 79], [Property: Topic.Context (string), 80], [Property: Topic.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 81], [Property: Topic.CreatedBy (string), 82], [Property: Topic.DeletedAt (DateTime?), 83], [Property: Topic.Description (string), 84], [Property: Topic.EN_Title (string) Required MaxLength(500), 85], [Property: Topic.IsActive (bool) Required, 86], [Property: Topic.IsApproved (bool) Required Index Sentinel:True ValueGenerated.OnAdd, 87], [Property: Topic.IsLegacy (bool) Required Index ValueGenerated.OnAdd, 88], [Property: Topic.LastModifiedAt (DateTime?), 89], [Property: Topic.LastModifiedBy (string), 90], [Property: Topic.MaxStudents (int) Required ValueGenerated.OnAdd, 91], [Property: Topic.Objectives (string), 92], [Property: Topic.PotentialDuplicate (string), 93], [Property: Topic.Problem (string), 94], [Property: Topic.SemesterId (int) Required FK Index, 95], [Property: Topic.SupervisorId (int) Required FK Index, 96], [Property: Topic.VN_title (string), 97] }
        SELECT r.Id, r.AssignedAt, r.AssignedBy, r.AssignmentType, r.CompletedAt, r.Deadline, r.ReviewerId, r.SkillMatchScore, r.StartedAt, r.Status, r.SubmissionId, s.Id, s.AdditionalNotes, s.AiCheckDetails, s.AiCheckScore, s.AiCheckStatus, s.CreatedAt, s.CreatedBy, s.DeletedAt, s.DocumentUrl, s.IsActive, s.LastModifiedAt, s.LastModifiedBy, s.PhaseId, s.Status, s.SubmissionRound, s.SubmittedAt, s.SubmittedBy, s.TopicId, s.TopicVersionId, t.Id, t.Abbreviation, t.CategoryId, t.Content, t.Context, t.CreatedAt, t.CreatedBy, t.DeletedAt, t.Description, t.EN_Title, t.IsActive, t.IsApproved, t.IsLegacy, t.LastModifiedAt, t.LastModifiedBy, t.MaxStudents, t.Objectives, t.PotentialDuplicate, t.Problem, t.SemesterId, t.SupervisorId, t.VN_title, t0.Id, t0.Content, t0.Context, t0.CreatedAt, t0.CreatedBy, t0.DeletedAt, t0.Description, t0.DocumentUrl, t0.EN_Title, t0.ExpectedOutcomes, t0.IsActive, t0.LastModifiedAt, t0.LastModifiedBy, t0.Methodology, t0.Objectives, t0.PotentialDuplicate, t0.Problem, t0.Requirements, t0.Status, t0.SubmittedAt, t0.SubmittedBy, t0.TopicId, t0.VN_title, t0.VersionNumber, t1.Id, t1.Abbreviation, t1.CategoryId, t1.Content, t1.Context, t1.CreatedAt, t1.CreatedBy, t1.DeletedAt, t1.Description, t1.EN_Title, t1.IsActive, t1.IsApproved, t1.IsLegacy, t1.LastModifiedAt, t1.LastModifiedBy, t1.MaxStudents, t1.Objectives, t1.PotentialDuplicate, t1.Problem, t1.SemesterId, t1.SupervisorId, t1.VN_title
        FROM reviewer_assignments AS r
        INNER JOIN submissions AS s ON r.SubmissionId == s.Id
        LEFT JOIN topics AS t ON s.TopicId == t.Id
        LEFT JOIN topic_versions AS t0 ON s.TopicVersionId == t0.Id
        LEFT JOIN topics AS t1 ON t0.TopicId == t1.Id
        WHERE r.ReviewerId IN (
            SELECT 8.value
            FROM OPENJSON(@__8__locals2_reviewerIds_0) WITH (value int '') AS 8) && (((Not(s.Id == NULL) && Not(t.Id == NULL)) && (t.SemesterId == @__sid_1)) || (((Not(s.Id == NULL) && Not(t0.Id == NULL)) && Not(t1.Id == NULL)) && (t1.SemesterId == @__sid_1)))), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ReviewerAssignment>, 
    App.DAL.Context.MyDbContext, 
    False, 
    False, 
    True
)'
2025-10-03 22:26:47.613 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 22:26:47.613 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 22:26:47.614 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 22:26:47.614 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 22:26:47.620 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2025-10-03 22:26:47.621 +07:00 [DBG] Executing DbCommand [Parameters=[@__8__locals2_reviewerIds_0='?' (Size = 4000), @__sid_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId], [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Abbreviation], [t].[CategoryId], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[EN_Title], [t].[IsActive], [t].[IsApproved], [t].[IsLegacy], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[MaxStudents], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[SemesterId], [t].[SupervisorId], [t].[VN_title], [t0].[Id], [t0].[Content], [t0].[Context], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[DocumentUrl], [t0].[EN_Title], [t0].[ExpectedOutcomes], [t0].[IsActive], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[Methodology], [t0].[Objectives], [t0].[PotentialDuplicate], [t0].[Problem], [t0].[Requirements], [t0].[Status], [t0].[SubmittedAt], [t0].[SubmittedBy], [t0].[TopicId], [t0].[VN_title], [t0].[VersionNumber], [t1].[Id], [t1].[Abbreviation], [t1].[CategoryId], [t1].[Content], [t1].[Context], [t1].[CreatedAt], [t1].[CreatedBy], [t1].[DeletedAt], [t1].[Description], [t1].[EN_Title], [t1].[IsActive], [t1].[IsApproved], [t1].[IsLegacy], [t1].[LastModifiedAt], [t1].[LastModifiedBy], [t1].[MaxStudents], [t1].[Objectives], [t1].[PotentialDuplicate], [t1].[Problem], [t1].[SemesterId], [t1].[SupervisorId], [t1].[VN_title]
FROM [reviewer_assignments] AS [r]
INNER JOIN [submissions] AS [s] ON [r].[SubmissionId] = [s].[Id]
LEFT JOIN [topics] AS [t] ON [s].[TopicId] = [t].[Id]
LEFT JOIN [topic_versions] AS [t0] ON [s].[TopicVersionId] = [t0].[Id]
LEFT JOIN [topics] AS [t1] ON [t0].[TopicId] = [t1].[Id]
WHERE [r].[ReviewerId] IN (
    SELECT [8].[value]
    FROM OPENJSON(@__8__locals2_reviewerIds_0) WITH ([value] int '$') AS [8]
) AND (([t].[Id] IS NOT NULL AND [t].[SemesterId] = @__sid_1) OR ([t0].[Id] IS NOT NULL AND [t1].[Id] IS NOT NULL AND [t1].[SemesterId] = @__sid_1))
2025-10-03 22:26:47.703 +07:00 [INF] Executed DbCommand (82ms) [Parameters=[@__8__locals2_reviewerIds_0='?' (Size = 4000), @__sid_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId], [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Abbreviation], [t].[CategoryId], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[EN_Title], [t].[IsActive], [t].[IsApproved], [t].[IsLegacy], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[MaxStudents], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[SemesterId], [t].[SupervisorId], [t].[VN_title], [t0].[Id], [t0].[Content], [t0].[Context], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[DocumentUrl], [t0].[EN_Title], [t0].[ExpectedOutcomes], [t0].[IsActive], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[Methodology], [t0].[Objectives], [t0].[PotentialDuplicate], [t0].[Problem], [t0].[Requirements], [t0].[Status], [t0].[SubmittedAt], [t0].[SubmittedBy], [t0].[TopicId], [t0].[VN_title], [t0].[VersionNumber], [t1].[Id], [t1].[Abbreviation], [t1].[CategoryId], [t1].[Content], [t1].[Context], [t1].[CreatedAt], [t1].[CreatedBy], [t1].[DeletedAt], [t1].[Description], [t1].[EN_Title], [t1].[IsActive], [t1].[IsApproved], [t1].[IsLegacy], [t1].[LastModifiedAt], [t1].[LastModifiedBy], [t1].[MaxStudents], [t1].[Objectives], [t1].[PotentialDuplicate], [t1].[Problem], [t1].[SemesterId], [t1].[SupervisorId], [t1].[VN_title]
FROM [reviewer_assignments] AS [r]
INNER JOIN [submissions] AS [s] ON [r].[SubmissionId] = [s].[Id]
LEFT JOIN [topics] AS [t] ON [s].[TopicId] = [t].[Id]
LEFT JOIN [topic_versions] AS [t0] ON [s].[TopicVersionId] = [t0].[Id]
LEFT JOIN [topics] AS [t1] ON [t0].[TopicId] = [t1].[Id]
WHERE [r].[ReviewerId] IN (
    SELECT [8].[value]
    FROM OPENJSON(@__8__locals2_reviewerIds_0) WITH ([value] int '$') AS [8]
) AND (([t].[Id] IS NOT NULL AND [t].[SemesterId] = @__sid_1) OR ([t0].[Id] IS NOT NULL AND [t1].[Id] IS NOT NULL AND [t1].[SemesterId] = @__sid_1))
2025-10-03 22:26:47.707 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 22:26:47.707 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 4ms reading results.
2025-10-03 22:26:47.707 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 22:26:47.708 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 22:26:47.723 +07:00 [DBG] Compiling query expression: 
'DbSet<ReviewerPerformance>()
    .AsNoTracking()
    .Where(rp => __reviewerIds_0.Contains(rp.ReviewerId) && False || rp.SemesterId == __8__locals1_semesterId_Value_1)'
2025-10-03 22:26:47.732 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<ReviewerPerformance>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ReviewerPerformance.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ReviewerPerformance.AverageScoreGiven (decimal?), 1], [Property: ReviewerPerformance.AverageTimeMinutes (int) Required ValueGenerated.OnAdd, 2], [Property: ReviewerPerformance.CompletedAssignments (int) Required ValueGenerated.OnAdd, 3], [Property: ReviewerPerformance.LastUpdated (DateTime) Required ValueGenerated.OnAdd, 4], [Property: ReviewerPerformance.OnTimeRate (decimal?), 5], [Property: ReviewerPerformance.QualityRating (decimal?), 6], [Property: ReviewerPerformance.ReviewerId (int) Required FK Index, 7], [Property: ReviewerPerformance.SemesterId (int) Required FK Index, 8], [Property: ReviewerPerformance.TotalAssignments (int) Required ValueGenerated.OnAdd, 9] }
        SELECT r.Id, r.AverageScoreGiven, r.AverageTimeMinutes, r.CompletedAssignments, r.LastUpdated, r.OnTimeRate, r.QualityRating, r.ReviewerId, r.SemesterId, r.TotalAssignments
        FROM reviewer_performance AS r
        WHERE r.ReviewerId IN (
            SELECT r0.value
            FROM OPENJSON(@__reviewerIds_0) WITH (value int '') AS r0) && (CAST(0 AS bit) || (r.SemesterId == @__8__locals1_semesterId_Value_1))), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ReviewerPerformance>, 
    App.DAL.Context.MyDbContext, 
    False, 
    False, 
    True
)'
2025-10-03 22:26:47.734 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 22:26:47.734 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 22:26:47.735 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 22:26:47.735 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 22:26:47.735 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 22:26:47.735 +07:00 [DBG] Executing DbCommand [Parameters=[@__reviewerIds_0='?' (Size = 4000), @__8__locals1_semesterId_Value_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AverageScoreGiven], [r].[AverageTimeMinutes], [r].[CompletedAssignments], [r].[LastUpdated], [r].[OnTimeRate], [r].[QualityRating], [r].[ReviewerId], [r].[SemesterId], [r].[TotalAssignments]
FROM [reviewer_performance] AS [r]
WHERE [r].[ReviewerId] IN (
    SELECT [r0].[value]
    FROM OPENJSON(@__reviewerIds_0) WITH ([value] int '$') AS [r0]
) AND [r].[SemesterId] = @__8__locals1_semesterId_Value_1
2025-10-03 22:26:47.746 +07:00 [INF] Executed DbCommand (11ms) [Parameters=[@__reviewerIds_0='?' (Size = 4000), @__8__locals1_semesterId_Value_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AverageScoreGiven], [r].[AverageTimeMinutes], [r].[CompletedAssignments], [r].[LastUpdated], [r].[OnTimeRate], [r].[QualityRating], [r].[ReviewerId], [r].[SemesterId], [r].[TotalAssignments]
FROM [reviewer_performance] AS [r]
WHERE [r].[ReviewerId] IN (
    SELECT [r0].[value]
    FROM OPENJSON(@__reviewerIds_0) WITH ([value] int '$') AS [r0]
) AND [r].[SemesterId] = @__8__locals1_semesterId_Value_1
2025-10-03 22:26:47.751 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 22:26:47.752 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 2ms reading results.
2025-10-03 22:26:47.752 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 22:26:47.753 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 22:26:47.790 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-10-03 22:26:47.794 +07:00 [DBG] No information found on request to perform content negotiation.
2025-10-03 22:26:47.795 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-10-03 22:26:47.796 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-10-03 22:26:47.806 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-10-03 22:26:47.807 +07:00 [INF] Executing ObjectResult, writing value of type 'FS.Commons.FSResponse'.
2025-10-03 22:26:47.921 +07:00 [INF] Executed action CapBot.api.Controllers.ReviewerAssignmentController.GetReviewersWorkload (CapBot.api) in 833.3088ms
2025-10-03 22:26:47.922 +07:00 [INF] Executed endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetReviewersWorkload (CapBot.api)'
2025-10-03 22:26:47.925 +07:00 [DBG] Connection id "0HNG2I4TMJ804" completed keep alive response.
2025-10-03 22:26:47.925 +07:00 [DBG] 'MyDbContext' disposed.
2025-10-03 22:26:47.926 +07:00 [DBG] Disposing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 22:26:47.928 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-10-03 22:26:47.934 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5207/api/reviewer-assignments/workload?semesterId=1 - 200 null application/json; charset=utf-8 1094.1837ms
2025-10-03 22:26:50.359 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5207/api/reviewer-assignments/workload?semesterId=1 - null null
2025-10-03 22:26:50.359 +07:00 [DBG] The request path /api/reviewer-assignments/workload does not match a supported file type
2025-10-03 22:26:50.359 +07:00 [DBG] The request path /api/reviewer-assignments/workload does not match a supported file type
2025-10-03 22:26:50.377 +07:00 [DBG] 1 candidate(s) found for the request path '/api/reviewer-assignments/workload'
2025-10-03 22:26:50.378 +07:00 [DBG] Endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetReviewersWorkload (CapBot.api)' with route pattern 'api/reviewer-assignments/workload' is valid for the request path '/api/reviewer-assignments/workload'
2025-10-03 22:26:50.378 +07:00 [DBG] Request matched endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetReviewersWorkload (CapBot.api)'
2025-10-03 22:26:50.385 +07:00 [DBG] Successfully validated the token.
2025-10-03 22:26:50.385 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-10-03 22:26:50.389 +07:00 [DBG] Authorization was successful.
2025-10-03 22:26:50.392 +07:00 [INF] Executing endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetReviewersWorkload (CapBot.api)'
2025-10-03 22:26:50.394 +07:00 [INF] Route matched with {action = "GetReviewersWorkload", controller = "ReviewerAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetReviewersWorkload(System.Nullable`1[System.Int32]) on controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api).
2025-10-03 22:26:50.398 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-10-03 22:26:50.400 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-10-03 22:26:50.401 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2025-10-03 22:26:50.401 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-10-03 22:26:50.402 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-10-03 22:26:50.403 +07:00 [DBG] Executing controller factory for controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api)
2025-10-03 22:26:50.410 +07:00 [DBG] Executed controller factory for controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api)
2025-10-03 22:26:50.412 +07:00 [DBG] Attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]' ...
2025-10-03 22:26:50.413 +07:00 [DBG] Attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]' using the name 'semesterId' in request data ...
2025-10-03 22:26:50.413 +07:00 [DBG] Done attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]'.
2025-10-03 22:26:50.413 +07:00 [DBG] Done attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]'.
2025-10-03 22:26:50.413 +07:00 [DBG] Attempting to validate the bound parameter 'semesterId' of type 'System.Nullable`1[System.Int32]' ...
2025-10-03 22:26:50.413 +07:00 [DBG] Done attempting to validate the bound parameter 'semesterId' of type 'System.Nullable`1[System.Int32]'.
2025-10-03 22:26:50.423 +07:00 [DBG] Entity Framework Core 8.0.16 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: MigrationsAssembly=App.DAL 
2025-10-03 22:26:50.425 +07:00 [DBG] Creating DbConnection.
2025-10-03 22:26:50.425 +07:00 [DBG] Created DbConnection. (0ms).
2025-10-03 22:26:50.426 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 22:26:50.426 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 22:26:50.427 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 22:26:50.428 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 22:26:50.428 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 22:26:50.429 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[RoleId], [u0].[Id], [u0].[AccessFailedCount], [u0].[ConcurrencyStamp], [u0].[CreatedAt], [u0].[DeletedAt], [u0].[Email], [u0].[EmailConfirmed], [u0].[LastModifiedAt], [u0].[LastModifiedBy], [u0].[LockoutEnabled], [u0].[LockoutEnd], [u0].[NormalizedEmail], [u0].[NormalizedUserName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[PhoneNumberConfirmed], [u0].[SecurityStamp], [u0].[TwoFactorEnabled], [u0].[UserName], [r].[Id], [l].[Id], [l].[CreatedAt], [l].[CreatedBy], [l].[DeletedAt], [l].[IsActive], [l].[LastModifiedAt], [l].[LastModifiedBy], [l].[LecturerId], [l].[ProficiencyLevel], [l].[SkillTag], [r0].[Id], [r0].[AverageScoreGiven], [r0].[AverageTimeMinutes], [r0].[CompletedAssignments], [r0].[LastUpdated], [r0].[OnTimeRate], [r0].[QualityRating], [r0].[ReviewerId], [r0].[SemesterId], [r0].[TotalAssignments], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [user_roles] AS [u]
INNER JOIN [roles] AS [r] ON [u].[RoleId] = [r].[Id]
INNER JOIN [users] AS [u0] ON [u].[UserId] = [u0].[Id]
LEFT JOIN [lecturer_skills] AS [l] ON [u0].[Id] = [l].[LecturerId]
LEFT JOIN [reviewer_performance] AS [r0] ON [u0].[Id] = [r0].[ReviewerId]
WHERE [r].[Name] = N'Reviewer'
ORDER BY [u].[UserId], [u].[RoleId], [r].[Id], [u0].[Id], [l].[Id]
2025-10-03 22:26:50.460 +07:00 [INF] Executed DbCommand (32ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[RoleId], [u0].[Id], [u0].[AccessFailedCount], [u0].[ConcurrencyStamp], [u0].[CreatedAt], [u0].[DeletedAt], [u0].[Email], [u0].[EmailConfirmed], [u0].[LastModifiedAt], [u0].[LastModifiedBy], [u0].[LockoutEnabled], [u0].[LockoutEnd], [u0].[NormalizedEmail], [u0].[NormalizedUserName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[PhoneNumberConfirmed], [u0].[SecurityStamp], [u0].[TwoFactorEnabled], [u0].[UserName], [r].[Id], [l].[Id], [l].[CreatedAt], [l].[CreatedBy], [l].[DeletedAt], [l].[IsActive], [l].[LastModifiedAt], [l].[LastModifiedBy], [l].[LecturerId], [l].[ProficiencyLevel], [l].[SkillTag], [r0].[Id], [r0].[AverageScoreGiven], [r0].[AverageTimeMinutes], [r0].[CompletedAssignments], [r0].[LastUpdated], [r0].[OnTimeRate], [r0].[QualityRating], [r0].[ReviewerId], [r0].[SemesterId], [r0].[TotalAssignments], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [user_roles] AS [u]
INNER JOIN [roles] AS [r] ON [u].[RoleId] = [r].[Id]
INNER JOIN [users] AS [u0] ON [u].[UserId] = [u0].[Id]
LEFT JOIN [lecturer_skills] AS [l] ON [u0].[Id] = [l].[LecturerId]
LEFT JOIN [reviewer_performance] AS [r0] ON [u0].[Id] = [r0].[ReviewerId]
WHERE [r].[Name] = N'Reviewer'
ORDER BY [u].[UserId], [u].[RoleId], [r].[Id], [u0].[Id], [l].[Id]
2025-10-03 22:26:50.466 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 22:26:50.466 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 5ms reading results.
2025-10-03 22:26:50.466 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 22:26:50.466 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 22:26:50.467 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 22:26:50.468 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 22:26:50.468 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 22:26:50.468 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 22:26:50.468 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 22:26:50.468 +07:00 [DBG] Executing DbCommand [Parameters=[@__8__locals2_reviewerIds_0='?' (Size = 4000), @__sid_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId], [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Abbreviation], [t].[CategoryId], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[EN_Title], [t].[IsActive], [t].[IsApproved], [t].[IsLegacy], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[MaxStudents], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[SemesterId], [t].[SupervisorId], [t].[VN_title], [t0].[Id], [t0].[Content], [t0].[Context], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[DocumentUrl], [t0].[EN_Title], [t0].[ExpectedOutcomes], [t0].[IsActive], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[Methodology], [t0].[Objectives], [t0].[PotentialDuplicate], [t0].[Problem], [t0].[Requirements], [t0].[Status], [t0].[SubmittedAt], [t0].[SubmittedBy], [t0].[TopicId], [t0].[VN_title], [t0].[VersionNumber], [t1].[Id], [t1].[Abbreviation], [t1].[CategoryId], [t1].[Content], [t1].[Context], [t1].[CreatedAt], [t1].[CreatedBy], [t1].[DeletedAt], [t1].[Description], [t1].[EN_Title], [t1].[IsActive], [t1].[IsApproved], [t1].[IsLegacy], [t1].[LastModifiedAt], [t1].[LastModifiedBy], [t1].[MaxStudents], [t1].[Objectives], [t1].[PotentialDuplicate], [t1].[Problem], [t1].[SemesterId], [t1].[SupervisorId], [t1].[VN_title]
FROM [reviewer_assignments] AS [r]
INNER JOIN [submissions] AS [s] ON [r].[SubmissionId] = [s].[Id]
LEFT JOIN [topics] AS [t] ON [s].[TopicId] = [t].[Id]
LEFT JOIN [topic_versions] AS [t0] ON [s].[TopicVersionId] = [t0].[Id]
LEFT JOIN [topics] AS [t1] ON [t0].[TopicId] = [t1].[Id]
WHERE [r].[ReviewerId] IN (
    SELECT [8].[value]
    FROM OPENJSON(@__8__locals2_reviewerIds_0) WITH ([value] int '$') AS [8]
) AND (([t].[Id] IS NOT NULL AND [t].[SemesterId] = @__sid_1) OR ([t0].[Id] IS NOT NULL AND [t1].[Id] IS NOT NULL AND [t1].[SemesterId] = @__sid_1))
2025-10-03 22:26:50.492 +07:00 [INF] Executed DbCommand (23ms) [Parameters=[@__8__locals2_reviewerIds_0='?' (Size = 4000), @__sid_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId], [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Abbreviation], [t].[CategoryId], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[EN_Title], [t].[IsActive], [t].[IsApproved], [t].[IsLegacy], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[MaxStudents], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[SemesterId], [t].[SupervisorId], [t].[VN_title], [t0].[Id], [t0].[Content], [t0].[Context], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[DocumentUrl], [t0].[EN_Title], [t0].[ExpectedOutcomes], [t0].[IsActive], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[Methodology], [t0].[Objectives], [t0].[PotentialDuplicate], [t0].[Problem], [t0].[Requirements], [t0].[Status], [t0].[SubmittedAt], [t0].[SubmittedBy], [t0].[TopicId], [t0].[VN_title], [t0].[VersionNumber], [t1].[Id], [t1].[Abbreviation], [t1].[CategoryId], [t1].[Content], [t1].[Context], [t1].[CreatedAt], [t1].[CreatedBy], [t1].[DeletedAt], [t1].[Description], [t1].[EN_Title], [t1].[IsActive], [t1].[IsApproved], [t1].[IsLegacy], [t1].[LastModifiedAt], [t1].[LastModifiedBy], [t1].[MaxStudents], [t1].[Objectives], [t1].[PotentialDuplicate], [t1].[Problem], [t1].[SemesterId], [t1].[SupervisorId], [t1].[VN_title]
FROM [reviewer_assignments] AS [r]
INNER JOIN [submissions] AS [s] ON [r].[SubmissionId] = [s].[Id]
LEFT JOIN [topics] AS [t] ON [s].[TopicId] = [t].[Id]
LEFT JOIN [topic_versions] AS [t0] ON [s].[TopicVersionId] = [t0].[Id]
LEFT JOIN [topics] AS [t1] ON [t0].[TopicId] = [t1].[Id]
WHERE [r].[ReviewerId] IN (
    SELECT [8].[value]
    FROM OPENJSON(@__8__locals2_reviewerIds_0) WITH ([value] int '$') AS [8]
) AND (([t].[Id] IS NOT NULL AND [t].[SemesterId] = @__sid_1) OR ([t0].[Id] IS NOT NULL AND [t1].[Id] IS NOT NULL AND [t1].[SemesterId] = @__sid_1))
2025-10-03 22:26:50.497 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 22:26:50.497 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 4ms reading results.
2025-10-03 22:26:50.497 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 22:26:50.498 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 22:26:50.499 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 22:26:50.499 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 22:26:50.499 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 22:26:50.499 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 22:26:50.499 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 22:26:50.499 +07:00 [DBG] Executing DbCommand [Parameters=[@__reviewerIds_0='?' (Size = 4000), @__8__locals1_semesterId_Value_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AverageScoreGiven], [r].[AverageTimeMinutes], [r].[CompletedAssignments], [r].[LastUpdated], [r].[OnTimeRate], [r].[QualityRating], [r].[ReviewerId], [r].[SemesterId], [r].[TotalAssignments]
FROM [reviewer_performance] AS [r]
WHERE [r].[ReviewerId] IN (
    SELECT [r0].[value]
    FROM OPENJSON(@__reviewerIds_0) WITH ([value] int '$') AS [r0]
) AND [r].[SemesterId] = @__8__locals1_semesterId_Value_1
2025-10-03 22:26:50.504 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__reviewerIds_0='?' (Size = 4000), @__8__locals1_semesterId_Value_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AverageScoreGiven], [r].[AverageTimeMinutes], [r].[CompletedAssignments], [r].[LastUpdated], [r].[OnTimeRate], [r].[QualityRating], [r].[ReviewerId], [r].[SemesterId], [r].[TotalAssignments]
FROM [reviewer_performance] AS [r]
WHERE [r].[ReviewerId] IN (
    SELECT [r0].[value]
    FROM OPENJSON(@__reviewerIds_0) WITH ([value] int '$') AS [r0]
) AND [r].[SemesterId] = @__8__locals1_semesterId_Value_1
2025-10-03 22:26:50.504 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 22:26:50.505 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-10-03 22:26:50.505 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 22:26:50.505 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 22:26:50.505 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-10-03 22:26:50.506 +07:00 [DBG] No information found on request to perform content negotiation.
2025-10-03 22:26:50.506 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-10-03 22:26:50.506 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-10-03 22:26:50.506 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-10-03 22:26:50.506 +07:00 [INF] Executing ObjectResult, writing value of type 'FS.Commons.FSResponse'.
2025-10-03 22:26:50.507 +07:00 [INF] Executed action CapBot.api.Controllers.ReviewerAssignmentController.GetReviewersWorkload (CapBot.api) in 103.5051ms
2025-10-03 22:26:50.507 +07:00 [INF] Executed endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetReviewersWorkload (CapBot.api)'
2025-10-03 22:26:50.508 +07:00 [DBG] Connection id "0HNG2I4TMJ804" completed keep alive response.
2025-10-03 22:26:50.509 +07:00 [DBG] 'MyDbContext' disposed.
2025-10-03 22:26:50.510 +07:00 [DBG] Disposing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 22:26:50.511 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-10-03 22:26:50.511 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5207/api/reviewer-assignments/workload?semesterId=1 - 200 null application/json; charset=utf-8 152.4468ms
2025-10-03 22:26:51.384 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5207/api/reviewer-assignments/workload?semesterId=1 - null null
2025-10-03 22:26:51.384 +07:00 [DBG] The request path /api/reviewer-assignments/workload does not match a supported file type
2025-10-03 22:26:51.384 +07:00 [DBG] The request path /api/reviewer-assignments/workload does not match a supported file type
2025-10-03 22:26:51.385 +07:00 [DBG] 1 candidate(s) found for the request path '/api/reviewer-assignments/workload'
2025-10-03 22:26:51.385 +07:00 [DBG] Endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetReviewersWorkload (CapBot.api)' with route pattern 'api/reviewer-assignments/workload' is valid for the request path '/api/reviewer-assignments/workload'
2025-10-03 22:26:51.385 +07:00 [DBG] Request matched endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetReviewersWorkload (CapBot.api)'
2025-10-03 22:26:51.387 +07:00 [DBG] Successfully validated the token.
2025-10-03 22:26:51.387 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-10-03 22:26:51.389 +07:00 [DBG] Authorization was successful.
2025-10-03 22:26:51.389 +07:00 [INF] Executing endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetReviewersWorkload (CapBot.api)'
2025-10-03 22:26:51.389 +07:00 [INF] Route matched with {action = "GetReviewersWorkload", controller = "ReviewerAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetReviewersWorkload(System.Nullable`1[System.Int32]) on controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api).
2025-10-03 22:26:51.390 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-10-03 22:26:51.390 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-10-03 22:26:51.390 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2025-10-03 22:26:51.390 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-10-03 22:26:51.390 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-10-03 22:26:51.390 +07:00 [DBG] Executing controller factory for controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api)
2025-10-03 22:26:51.401 +07:00 [DBG] Executed controller factory for controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api)
2025-10-03 22:26:51.401 +07:00 [DBG] Attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]' ...
2025-10-03 22:26:51.401 +07:00 [DBG] Attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]' using the name 'semesterId' in request data ...
2025-10-03 22:26:51.402 +07:00 [DBG] Done attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]'.
2025-10-03 22:26:51.402 +07:00 [DBG] Done attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]'.
2025-10-03 22:26:51.402 +07:00 [DBG] Attempting to validate the bound parameter 'semesterId' of type 'System.Nullable`1[System.Int32]' ...
2025-10-03 22:26:51.402 +07:00 [DBG] Done attempting to validate the bound parameter 'semesterId' of type 'System.Nullable`1[System.Int32]'.
2025-10-03 22:26:51.405 +07:00 [DBG] Entity Framework Core 8.0.16 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: MigrationsAssembly=App.DAL 
2025-10-03 22:26:51.406 +07:00 [DBG] Creating DbConnection.
2025-10-03 22:26:51.406 +07:00 [DBG] Created DbConnection. (0ms).
2025-10-03 22:26:51.406 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 22:26:51.406 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 22:26:51.406 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 22:26:51.406 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 22:26:51.406 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 22:26:51.407 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[RoleId], [u0].[Id], [u0].[AccessFailedCount], [u0].[ConcurrencyStamp], [u0].[CreatedAt], [u0].[DeletedAt], [u0].[Email], [u0].[EmailConfirmed], [u0].[LastModifiedAt], [u0].[LastModifiedBy], [u0].[LockoutEnabled], [u0].[LockoutEnd], [u0].[NormalizedEmail], [u0].[NormalizedUserName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[PhoneNumberConfirmed], [u0].[SecurityStamp], [u0].[TwoFactorEnabled], [u0].[UserName], [r].[Id], [l].[Id], [l].[CreatedAt], [l].[CreatedBy], [l].[DeletedAt], [l].[IsActive], [l].[LastModifiedAt], [l].[LastModifiedBy], [l].[LecturerId], [l].[ProficiencyLevel], [l].[SkillTag], [r0].[Id], [r0].[AverageScoreGiven], [r0].[AverageTimeMinutes], [r0].[CompletedAssignments], [r0].[LastUpdated], [r0].[OnTimeRate], [r0].[QualityRating], [r0].[ReviewerId], [r0].[SemesterId], [r0].[TotalAssignments], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [user_roles] AS [u]
INNER JOIN [roles] AS [r] ON [u].[RoleId] = [r].[Id]
INNER JOIN [users] AS [u0] ON [u].[UserId] = [u0].[Id]
LEFT JOIN [lecturer_skills] AS [l] ON [u0].[Id] = [l].[LecturerId]
LEFT JOIN [reviewer_performance] AS [r0] ON [u0].[Id] = [r0].[ReviewerId]
WHERE [r].[Name] = N'Reviewer'
ORDER BY [u].[UserId], [u].[RoleId], [r].[Id], [u0].[Id], [l].[Id]
2025-10-03 22:26:51.413 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[RoleId], [u0].[Id], [u0].[AccessFailedCount], [u0].[ConcurrencyStamp], [u0].[CreatedAt], [u0].[DeletedAt], [u0].[Email], [u0].[EmailConfirmed], [u0].[LastModifiedAt], [u0].[LastModifiedBy], [u0].[LockoutEnabled], [u0].[LockoutEnd], [u0].[NormalizedEmail], [u0].[NormalizedUserName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[PhoneNumberConfirmed], [u0].[SecurityStamp], [u0].[TwoFactorEnabled], [u0].[UserName], [r].[Id], [l].[Id], [l].[CreatedAt], [l].[CreatedBy], [l].[DeletedAt], [l].[IsActive], [l].[LastModifiedAt], [l].[LastModifiedBy], [l].[LecturerId], [l].[ProficiencyLevel], [l].[SkillTag], [r0].[Id], [r0].[AverageScoreGiven], [r0].[AverageTimeMinutes], [r0].[CompletedAssignments], [r0].[LastUpdated], [r0].[OnTimeRate], [r0].[QualityRating], [r0].[ReviewerId], [r0].[SemesterId], [r0].[TotalAssignments], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [user_roles] AS [u]
INNER JOIN [roles] AS [r] ON [u].[RoleId] = [r].[Id]
INNER JOIN [users] AS [u0] ON [u].[UserId] = [u0].[Id]
LEFT JOIN [lecturer_skills] AS [l] ON [u0].[Id] = [l].[LecturerId]
LEFT JOIN [reviewer_performance] AS [r0] ON [u0].[Id] = [r0].[ReviewerId]
WHERE [r].[Name] = N'Reviewer'
ORDER BY [u].[UserId], [u].[RoleId], [r].[Id], [u0].[Id], [l].[Id]
2025-10-03 22:26:51.418 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 22:26:51.419 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 3ms reading results.
2025-10-03 22:26:51.419 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 22:26:51.419 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 22:26:51.420 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 22:26:51.420 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 22:26:51.420 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 22:26:51.420 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 22:26:51.421 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 22:26:51.421 +07:00 [DBG] Executing DbCommand [Parameters=[@__8__locals2_reviewerIds_0='?' (Size = 4000), @__sid_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId], [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Abbreviation], [t].[CategoryId], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[EN_Title], [t].[IsActive], [t].[IsApproved], [t].[IsLegacy], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[MaxStudents], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[SemesterId], [t].[SupervisorId], [t].[VN_title], [t0].[Id], [t0].[Content], [t0].[Context], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[DocumentUrl], [t0].[EN_Title], [t0].[ExpectedOutcomes], [t0].[IsActive], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[Methodology], [t0].[Objectives], [t0].[PotentialDuplicate], [t0].[Problem], [t0].[Requirements], [t0].[Status], [t0].[SubmittedAt], [t0].[SubmittedBy], [t0].[TopicId], [t0].[VN_title], [t0].[VersionNumber], [t1].[Id], [t1].[Abbreviation], [t1].[CategoryId], [t1].[Content], [t1].[Context], [t1].[CreatedAt], [t1].[CreatedBy], [t1].[DeletedAt], [t1].[Description], [t1].[EN_Title], [t1].[IsActive], [t1].[IsApproved], [t1].[IsLegacy], [t1].[LastModifiedAt], [t1].[LastModifiedBy], [t1].[MaxStudents], [t1].[Objectives], [t1].[PotentialDuplicate], [t1].[Problem], [t1].[SemesterId], [t1].[SupervisorId], [t1].[VN_title]
FROM [reviewer_assignments] AS [r]
INNER JOIN [submissions] AS [s] ON [r].[SubmissionId] = [s].[Id]
LEFT JOIN [topics] AS [t] ON [s].[TopicId] = [t].[Id]
LEFT JOIN [topic_versions] AS [t0] ON [s].[TopicVersionId] = [t0].[Id]
LEFT JOIN [topics] AS [t1] ON [t0].[TopicId] = [t1].[Id]
WHERE [r].[ReviewerId] IN (
    SELECT [8].[value]
    FROM OPENJSON(@__8__locals2_reviewerIds_0) WITH ([value] int '$') AS [8]
) AND (([t].[Id] IS NOT NULL AND [t].[SemesterId] = @__sid_1) OR ([t0].[Id] IS NOT NULL AND [t1].[Id] IS NOT NULL AND [t1].[SemesterId] = @__sid_1))
2025-10-03 22:26:51.427 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__8__locals2_reviewerIds_0='?' (Size = 4000), @__sid_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId], [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Abbreviation], [t].[CategoryId], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[EN_Title], [t].[IsActive], [t].[IsApproved], [t].[IsLegacy], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[MaxStudents], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[SemesterId], [t].[SupervisorId], [t].[VN_title], [t0].[Id], [t0].[Content], [t0].[Context], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[DocumentUrl], [t0].[EN_Title], [t0].[ExpectedOutcomes], [t0].[IsActive], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[Methodology], [t0].[Objectives], [t0].[PotentialDuplicate], [t0].[Problem], [t0].[Requirements], [t0].[Status], [t0].[SubmittedAt], [t0].[SubmittedBy], [t0].[TopicId], [t0].[VN_title], [t0].[VersionNumber], [t1].[Id], [t1].[Abbreviation], [t1].[CategoryId], [t1].[Content], [t1].[Context], [t1].[CreatedAt], [t1].[CreatedBy], [t1].[DeletedAt], [t1].[Description], [t1].[EN_Title], [t1].[IsActive], [t1].[IsApproved], [t1].[IsLegacy], [t1].[LastModifiedAt], [t1].[LastModifiedBy], [t1].[MaxStudents], [t1].[Objectives], [t1].[PotentialDuplicate], [t1].[Problem], [t1].[SemesterId], [t1].[SupervisorId], [t1].[VN_title]
FROM [reviewer_assignments] AS [r]
INNER JOIN [submissions] AS [s] ON [r].[SubmissionId] = [s].[Id]
LEFT JOIN [topics] AS [t] ON [s].[TopicId] = [t].[Id]
LEFT JOIN [topic_versions] AS [t0] ON [s].[TopicVersionId] = [t0].[Id]
LEFT JOIN [topics] AS [t1] ON [t0].[TopicId] = [t1].[Id]
WHERE [r].[ReviewerId] IN (
    SELECT [8].[value]
    FROM OPENJSON(@__8__locals2_reviewerIds_0) WITH ([value] int '$') AS [8]
) AND (([t].[Id] IS NOT NULL AND [t].[SemesterId] = @__sid_1) OR ([t0].[Id] IS NOT NULL AND [t1].[Id] IS NOT NULL AND [t1].[SemesterId] = @__sid_1))
2025-10-03 22:26:51.430 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 22:26:51.430 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 2ms reading results.
2025-10-03 22:26:51.430 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 22:26:51.430 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 22:26:51.431 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 22:26:51.432 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 22:26:51.432 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 22:26:51.432 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 22:26:51.432 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 22:26:51.432 +07:00 [DBG] Executing DbCommand [Parameters=[@__reviewerIds_0='?' (Size = 4000), @__8__locals1_semesterId_Value_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AverageScoreGiven], [r].[AverageTimeMinutes], [r].[CompletedAssignments], [r].[LastUpdated], [r].[OnTimeRate], [r].[QualityRating], [r].[ReviewerId], [r].[SemesterId], [r].[TotalAssignments]
FROM [reviewer_performance] AS [r]
WHERE [r].[ReviewerId] IN (
    SELECT [r0].[value]
    FROM OPENJSON(@__reviewerIds_0) WITH ([value] int '$') AS [r0]
) AND [r].[SemesterId] = @__8__locals1_semesterId_Value_1
2025-10-03 22:26:51.433 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__reviewerIds_0='?' (Size = 4000), @__8__locals1_semesterId_Value_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AverageScoreGiven], [r].[AverageTimeMinutes], [r].[CompletedAssignments], [r].[LastUpdated], [r].[OnTimeRate], [r].[QualityRating], [r].[ReviewerId], [r].[SemesterId], [r].[TotalAssignments]
FROM [reviewer_performance] AS [r]
WHERE [r].[ReviewerId] IN (
    SELECT [r0].[value]
    FROM OPENJSON(@__reviewerIds_0) WITH ([value] int '$') AS [r0]
) AND [r].[SemesterId] = @__8__locals1_semesterId_Value_1
2025-10-03 22:26:51.434 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 22:26:51.434 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-10-03 22:26:51.434 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 22:26:51.434 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 22:26:51.435 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-10-03 22:26:51.435 +07:00 [DBG] No information found on request to perform content negotiation.
2025-10-03 22:26:51.435 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-10-03 22:26:51.435 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-10-03 22:26:51.435 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-10-03 22:26:51.435 +07:00 [INF] Executing ObjectResult, writing value of type 'FS.Commons.FSResponse'.
2025-10-03 22:26:51.435 +07:00 [INF] Executed action CapBot.api.Controllers.ReviewerAssignmentController.GetReviewersWorkload (CapBot.api) in 44.964ms
2025-10-03 22:26:51.435 +07:00 [INF] Executed endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetReviewersWorkload (CapBot.api)'
2025-10-03 22:26:51.435 +07:00 [DBG] Connection id "0HNG2I4TMJ804" completed keep alive response.
2025-10-03 22:26:51.436 +07:00 [DBG] 'MyDbContext' disposed.
2025-10-03 22:26:51.436 +07:00 [DBG] Disposing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 22:26:51.436 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-10-03 22:26:51.436 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5207/api/reviewer-assignments/workload?semesterId=1 - 200 null application/json; charset=utf-8 51.9172ms
2025-10-03 22:26:52.005 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5207/api/reviewer-assignments/workload?semesterId=1 - null null
2025-10-03 22:26:52.005 +07:00 [DBG] The request path /api/reviewer-assignments/workload does not match a supported file type
2025-10-03 22:26:52.005 +07:00 [DBG] The request path /api/reviewer-assignments/workload does not match a supported file type
2025-10-03 22:26:52.005 +07:00 [DBG] 1 candidate(s) found for the request path '/api/reviewer-assignments/workload'
2025-10-03 22:26:52.005 +07:00 [DBG] Endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetReviewersWorkload (CapBot.api)' with route pattern 'api/reviewer-assignments/workload' is valid for the request path '/api/reviewer-assignments/workload'
2025-10-03 22:26:52.009 +07:00 [DBG] Request matched endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetReviewersWorkload (CapBot.api)'
2025-10-03 22:26:52.010 +07:00 [DBG] Successfully validated the token.
2025-10-03 22:26:52.010 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-10-03 22:26:52.010 +07:00 [DBG] Authorization was successful.
2025-10-03 22:26:52.010 +07:00 [INF] Executing endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetReviewersWorkload (CapBot.api)'
2025-10-03 22:26:52.011 +07:00 [INF] Route matched with {action = "GetReviewersWorkload", controller = "ReviewerAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetReviewersWorkload(System.Nullable`1[System.Int32]) on controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api).
2025-10-03 22:26:52.011 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-10-03 22:26:52.011 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-10-03 22:26:52.011 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2025-10-03 22:26:52.011 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-10-03 22:26:52.011 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-10-03 22:26:52.011 +07:00 [DBG] Executing controller factory for controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api)
2025-10-03 22:26:52.012 +07:00 [DBG] Executed controller factory for controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api)
2025-10-03 22:26:52.012 +07:00 [DBG] Attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]' ...
2025-10-03 22:26:52.014 +07:00 [DBG] Attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]' using the name 'semesterId' in request data ...
2025-10-03 22:26:52.015 +07:00 [DBG] Done attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]'.
2025-10-03 22:26:52.015 +07:00 [DBG] Done attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]'.
2025-10-03 22:26:52.015 +07:00 [DBG] Attempting to validate the bound parameter 'semesterId' of type 'System.Nullable`1[System.Int32]' ...
2025-10-03 22:26:52.015 +07:00 [DBG] Done attempting to validate the bound parameter 'semesterId' of type 'System.Nullable`1[System.Int32]'.
2025-10-03 22:26:52.018 +07:00 [DBG] Entity Framework Core 8.0.16 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: MigrationsAssembly=App.DAL 
2025-10-03 22:26:52.019 +07:00 [DBG] Creating DbConnection.
2025-10-03 22:26:52.019 +07:00 [DBG] Created DbConnection. (0ms).
2025-10-03 22:26:52.019 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 22:26:52.020 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 22:26:52.020 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 22:26:52.020 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 22:26:52.020 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 22:26:52.020 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[RoleId], [u0].[Id], [u0].[AccessFailedCount], [u0].[ConcurrencyStamp], [u0].[CreatedAt], [u0].[DeletedAt], [u0].[Email], [u0].[EmailConfirmed], [u0].[LastModifiedAt], [u0].[LastModifiedBy], [u0].[LockoutEnabled], [u0].[LockoutEnd], [u0].[NormalizedEmail], [u0].[NormalizedUserName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[PhoneNumberConfirmed], [u0].[SecurityStamp], [u0].[TwoFactorEnabled], [u0].[UserName], [r].[Id], [l].[Id], [l].[CreatedAt], [l].[CreatedBy], [l].[DeletedAt], [l].[IsActive], [l].[LastModifiedAt], [l].[LastModifiedBy], [l].[LecturerId], [l].[ProficiencyLevel], [l].[SkillTag], [r0].[Id], [r0].[AverageScoreGiven], [r0].[AverageTimeMinutes], [r0].[CompletedAssignments], [r0].[LastUpdated], [r0].[OnTimeRate], [r0].[QualityRating], [r0].[ReviewerId], [r0].[SemesterId], [r0].[TotalAssignments], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [user_roles] AS [u]
INNER JOIN [roles] AS [r] ON [u].[RoleId] = [r].[Id]
INNER JOIN [users] AS [u0] ON [u].[UserId] = [u0].[Id]
LEFT JOIN [lecturer_skills] AS [l] ON [u0].[Id] = [l].[LecturerId]
LEFT JOIN [reviewer_performance] AS [r0] ON [u0].[Id] = [r0].[ReviewerId]
WHERE [r].[Name] = N'Reviewer'
ORDER BY [u].[UserId], [u].[RoleId], [r].[Id], [u0].[Id], [l].[Id]
2025-10-03 22:26:52.022 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[RoleId], [u0].[Id], [u0].[AccessFailedCount], [u0].[ConcurrencyStamp], [u0].[CreatedAt], [u0].[DeletedAt], [u0].[Email], [u0].[EmailConfirmed], [u0].[LastModifiedAt], [u0].[LastModifiedBy], [u0].[LockoutEnabled], [u0].[LockoutEnd], [u0].[NormalizedEmail], [u0].[NormalizedUserName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[PhoneNumberConfirmed], [u0].[SecurityStamp], [u0].[TwoFactorEnabled], [u0].[UserName], [r].[Id], [l].[Id], [l].[CreatedAt], [l].[CreatedBy], [l].[DeletedAt], [l].[IsActive], [l].[LastModifiedAt], [l].[LastModifiedBy], [l].[LecturerId], [l].[ProficiencyLevel], [l].[SkillTag], [r0].[Id], [r0].[AverageScoreGiven], [r0].[AverageTimeMinutes], [r0].[CompletedAssignments], [r0].[LastUpdated], [r0].[OnTimeRate], [r0].[QualityRating], [r0].[ReviewerId], [r0].[SemesterId], [r0].[TotalAssignments], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [user_roles] AS [u]
INNER JOIN [roles] AS [r] ON [u].[RoleId] = [r].[Id]
INNER JOIN [users] AS [u0] ON [u].[UserId] = [u0].[Id]
LEFT JOIN [lecturer_skills] AS [l] ON [u0].[Id] = [l].[LecturerId]
LEFT JOIN [reviewer_performance] AS [r0] ON [u0].[Id] = [r0].[ReviewerId]
WHERE [r].[Name] = N'Reviewer'
ORDER BY [u].[UserId], [u].[RoleId], [r].[Id], [u0].[Id], [l].[Id]
2025-10-03 22:26:52.025 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 22:26:52.025 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 2ms reading results.
2025-10-03 22:26:52.026 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 22:26:52.026 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 22:26:52.032 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 22:26:52.032 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 22:26:52.032 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 22:26:52.032 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 22:26:52.033 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 22:26:52.033 +07:00 [DBG] Executing DbCommand [Parameters=[@__8__locals2_reviewerIds_0='?' (Size = 4000), @__sid_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId], [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Abbreviation], [t].[CategoryId], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[EN_Title], [t].[IsActive], [t].[IsApproved], [t].[IsLegacy], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[MaxStudents], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[SemesterId], [t].[SupervisorId], [t].[VN_title], [t0].[Id], [t0].[Content], [t0].[Context], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[DocumentUrl], [t0].[EN_Title], [t0].[ExpectedOutcomes], [t0].[IsActive], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[Methodology], [t0].[Objectives], [t0].[PotentialDuplicate], [t0].[Problem], [t0].[Requirements], [t0].[Status], [t0].[SubmittedAt], [t0].[SubmittedBy], [t0].[TopicId], [t0].[VN_title], [t0].[VersionNumber], [t1].[Id], [t1].[Abbreviation], [t1].[CategoryId], [t1].[Content], [t1].[Context], [t1].[CreatedAt], [t1].[CreatedBy], [t1].[DeletedAt], [t1].[Description], [t1].[EN_Title], [t1].[IsActive], [t1].[IsApproved], [t1].[IsLegacy], [t1].[LastModifiedAt], [t1].[LastModifiedBy], [t1].[MaxStudents], [t1].[Objectives], [t1].[PotentialDuplicate], [t1].[Problem], [t1].[SemesterId], [t1].[SupervisorId], [t1].[VN_title]
FROM [reviewer_assignments] AS [r]
INNER JOIN [submissions] AS [s] ON [r].[SubmissionId] = [s].[Id]
LEFT JOIN [topics] AS [t] ON [s].[TopicId] = [t].[Id]
LEFT JOIN [topic_versions] AS [t0] ON [s].[TopicVersionId] = [t0].[Id]
LEFT JOIN [topics] AS [t1] ON [t0].[TopicId] = [t1].[Id]
WHERE [r].[ReviewerId] IN (
    SELECT [8].[value]
    FROM OPENJSON(@__8__locals2_reviewerIds_0) WITH ([value] int '$') AS [8]
) AND (([t].[Id] IS NOT NULL AND [t].[SemesterId] = @__sid_1) OR ([t0].[Id] IS NOT NULL AND [t1].[Id] IS NOT NULL AND [t1].[SemesterId] = @__sid_1))
2025-10-03 22:26:52.034 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__8__locals2_reviewerIds_0='?' (Size = 4000), @__sid_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId], [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Abbreviation], [t].[CategoryId], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[EN_Title], [t].[IsActive], [t].[IsApproved], [t].[IsLegacy], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[MaxStudents], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[SemesterId], [t].[SupervisorId], [t].[VN_title], [t0].[Id], [t0].[Content], [t0].[Context], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[DocumentUrl], [t0].[EN_Title], [t0].[ExpectedOutcomes], [t0].[IsActive], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[Methodology], [t0].[Objectives], [t0].[PotentialDuplicate], [t0].[Problem], [t0].[Requirements], [t0].[Status], [t0].[SubmittedAt], [t0].[SubmittedBy], [t0].[TopicId], [t0].[VN_title], [t0].[VersionNumber], [t1].[Id], [t1].[Abbreviation], [t1].[CategoryId], [t1].[Content], [t1].[Context], [t1].[CreatedAt], [t1].[CreatedBy], [t1].[DeletedAt], [t1].[Description], [t1].[EN_Title], [t1].[IsActive], [t1].[IsApproved], [t1].[IsLegacy], [t1].[LastModifiedAt], [t1].[LastModifiedBy], [t1].[MaxStudents], [t1].[Objectives], [t1].[PotentialDuplicate], [t1].[Problem], [t1].[SemesterId], [t1].[SupervisorId], [t1].[VN_title]
FROM [reviewer_assignments] AS [r]
INNER JOIN [submissions] AS [s] ON [r].[SubmissionId] = [s].[Id]
LEFT JOIN [topics] AS [t] ON [s].[TopicId] = [t].[Id]
LEFT JOIN [topic_versions] AS [t0] ON [s].[TopicVersionId] = [t0].[Id]
LEFT JOIN [topics] AS [t1] ON [t0].[TopicId] = [t1].[Id]
WHERE [r].[ReviewerId] IN (
    SELECT [8].[value]
    FROM OPENJSON(@__8__locals2_reviewerIds_0) WITH ([value] int '$') AS [8]
) AND (([t].[Id] IS NOT NULL AND [t].[SemesterId] = @__sid_1) OR ([t0].[Id] IS NOT NULL AND [t1].[Id] IS NOT NULL AND [t1].[SemesterId] = @__sid_1))
2025-10-03 22:26:52.043 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 22:26:52.043 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 8ms reading results.
2025-10-03 22:26:52.044 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 22:26:52.046 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (1ms).
2025-10-03 22:26:52.050 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 22:26:52.050 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 22:26:52.050 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 22:26:52.050 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 22:26:52.050 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 22:26:52.050 +07:00 [DBG] Executing DbCommand [Parameters=[@__reviewerIds_0='?' (Size = 4000), @__8__locals1_semesterId_Value_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AverageScoreGiven], [r].[AverageTimeMinutes], [r].[CompletedAssignments], [r].[LastUpdated], [r].[OnTimeRate], [r].[QualityRating], [r].[ReviewerId], [r].[SemesterId], [r].[TotalAssignments]
FROM [reviewer_performance] AS [r]
WHERE [r].[ReviewerId] IN (
    SELECT [r0].[value]
    FROM OPENJSON(@__reviewerIds_0) WITH ([value] int '$') AS [r0]
) AND [r].[SemesterId] = @__8__locals1_semesterId_Value_1
2025-10-03 22:26:52.052 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__reviewerIds_0='?' (Size = 4000), @__8__locals1_semesterId_Value_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AverageScoreGiven], [r].[AverageTimeMinutes], [r].[CompletedAssignments], [r].[LastUpdated], [r].[OnTimeRate], [r].[QualityRating], [r].[ReviewerId], [r].[SemesterId], [r].[TotalAssignments]
FROM [reviewer_performance] AS [r]
WHERE [r].[ReviewerId] IN (
    SELECT [r0].[value]
    FROM OPENJSON(@__reviewerIds_0) WITH ([value] int '$') AS [r0]
) AND [r].[SemesterId] = @__8__locals1_semesterId_Value_1
2025-10-03 22:26:52.052 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 22:26:52.052 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-10-03 22:26:52.052 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 22:26:52.052 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 22:26:52.053 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-10-03 22:26:52.053 +07:00 [DBG] No information found on request to perform content negotiation.
2025-10-03 22:26:52.053 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-10-03 22:26:52.053 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-10-03 22:26:52.053 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-10-03 22:26:52.053 +07:00 [INF] Executing ObjectResult, writing value of type 'FS.Commons.FSResponse'.
2025-10-03 22:26:52.055 +07:00 [INF] Executed action CapBot.api.Controllers.ReviewerAssignmentController.GetReviewersWorkload (CapBot.api) in 42.9513ms
2025-10-03 22:26:52.055 +07:00 [INF] Executed endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetReviewersWorkload (CapBot.api)'
2025-10-03 22:26:52.058 +07:00 [DBG] Connection id "0HNG2I4TMJ804" completed keep alive response.
2025-10-03 22:26:52.058 +07:00 [DBG] 'MyDbContext' disposed.
2025-10-03 22:26:52.058 +07:00 [DBG] Disposing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 22:26:52.058 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-10-03 22:26:52.059 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5207/api/reviewer-assignments/workload?semesterId=1 - 200 null application/json; charset=utf-8 54.0401ms
2025-10-03 22:28:39.712 +07:00 [INF] Application is shutting down...
2025-10-03 22:28:39.713 +07:00 [DBG] Hosting stopping
2025-10-03 22:28:39.718 +07:00 [DBG] Connection id "0HNG2I4TMJ804" disconnecting.
2025-10-03 22:28:39.718 +07:00 [DBG] Connection id "0HNG2I4TMJ804" stopped.
2025-10-03 22:28:39.718 +07:00 [DBG] Connection id "0HNG2I4TMJ804" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-10-03 22:28:39.724 +07:00 [ERR] Lỗi khi kiểm tra deadline notifications
System.Threading.Tasks.TaskCanceledException: A task was canceled.
   at CapBot.api.Services.DeadlineNotificationService.ExecuteAsync(CancellationToken stoppingToken) in C:\Users\acer\Downloads\CBAI_API\capbot.api\Services\DeadlineNotificationService.cs:line 41
2025-10-03 22:28:39.748 +07:00 [DBG] Hosting stopped
2025-10-03 22:31:01.266 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-10-03 22:31:01.373 +07:00 [INF] User profile is available. Using 'C:\Users\acer\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-10-03 22:31:01.637 +07:00 [DBG] No relationship from 'ReviewerAssignment' to 'User' has been configured by convention because there are multiple properties on one entity type - {'AssignedByUser', 'Reviewer'} that could be matched with the properties on the other entity type - {'ReviewerAssignments'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-10-03 22:31:01.669 +07:00 [DBG] No relationship from 'SubmissionWorkflowLog' to 'WorkflowState' has been configured by convention because there are multiple properties on one entity type - {'FromState', 'ToState'} that could be matched with the properties on the other entity type - {'FromStateLogs', 'ToStateLogs'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-10-03 22:31:01.690 +07:00 [DBG] No relationship from 'User' to 'ReviewerAssignment' has been configured by convention because there are multiple properties on one entity type - {'ReviewerAssignments'} that could be matched with the properties on the other entity type - {'AssignedByUser', 'Reviewer'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-10-03 22:31:01.693 +07:00 [DBG] No relationship from 'WorkflowState' to 'SubmissionWorkflowLog' has been configured by convention because there are multiple properties on one entity type - {'FromStateLogs', 'ToStateLogs'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-10-03 22:31:01.694 +07:00 [DBG] No relationship from 'WorkflowState' to 'WorkflowTransition' has been configured by convention because there are multiple properties on one entity type - {'FromTransitions', 'ToTransitions'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-10-03 22:31:01.695 +07:00 [DBG] No relationship from 'WorkflowTransition' to 'WorkflowState' has been configured by convention because there are multiple properties on one entity type - {'FromState', 'ToState'} that could be matched with the properties on the other entity type - {'FromTransitions', 'ToTransitions'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-10-03 22:31:02.047 +07:00 [DBG] No relationship from 'ReviewerAssignment' to 'User' has been configured by convention because there are multiple properties on one entity type - {'AssignedByUser', 'Reviewer'} that could be matched with the properties on the other entity type - {'ReviewerAssignments'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-10-03 22:31:02.048 +07:00 [DBG] No relationship from 'User' to 'ReviewerAssignment' has been configured by convention because there are multiple properties on one entity type - {'ReviewerAssignments'} that could be matched with the properties on the other entity type - {'AssignedByUser', 'Reviewer'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-10-03 22:31:02.103 +07:00 [DBG] No relationship from 'WorkflowTransition' to 'WorkflowState' has been configured by convention because there are multiple properties on one entity type - {'FromState', 'ToState'} that could be matched with the properties on the other entity type - {'FromTransitions', 'ToTransitions'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-10-03 22:31:02.104 +07:00 [DBG] No relationship from 'WorkflowState' to 'SubmissionWorkflowLog' has been configured by convention because there are multiple properties on one entity type - {'FromStateLogs', 'ToStateLogs'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-10-03 22:31:02.105 +07:00 [DBG] No relationship from 'WorkflowState' to 'WorkflowTransition' has been configured by convention because there are multiple properties on one entity type - {'FromTransitions', 'ToTransitions'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-10-03 22:31:02.114 +07:00 [DBG] No relationship from 'WorkflowState' to 'SubmissionWorkflowLog' has been configured by convention because there are multiple properties on one entity type - {'FromStateLogs', 'ToStateLogs'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-10-03 22:31:02.132 +07:00 [DBG] No relationship from 'SubmissionWorkflowLog' to 'WorkflowState' has been configured by convention because there are multiple properties on one entity type - {'FromState', 'ToState'} that could be matched with the properties on the other entity type - {'FromStateLogs', 'ToStateLogs'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-10-03 22:31:02.132 +07:00 [DBG] No relationship from 'WorkflowState' to 'SubmissionWorkflowLog' has been configured by convention because there are multiple properties on one entity type - {'FromStateLogs', 'ToStateLogs'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-10-03 22:31:02.216 +07:00 [DBG] The index {'LecturerId'} was not created on entity type 'LecturerSkill' as the properties are already covered by the index {'LecturerId', 'SkillTag'}.
2025-10-03 22:31:02.217 +07:00 [DBG] The index {'SemesterId'} was not created on entity type 'Phase' as the properties are already covered by the index {'SemesterId', 'PhaseTypeId'}.
2025-10-03 22:31:02.217 +07:00 [DBG] The index {'AssignmentId'} was not created on entity type 'Review' as the properties are already covered by the index {'AssignmentId', 'Status'}.
2025-10-03 22:31:02.217 +07:00 [DBG] The index {'ReviewId'} was not created on entity type 'ReviewComment' as the properties are already covered by the index {'ReviewId', 'SectionName'}.
2025-10-03 22:31:02.217 +07:00 [DBG] The index {'ReviewId'} was not created on entity type 'ReviewCriteriaScore' as the properties are already covered by the index {'ReviewId', 'CriteriaId'}.
2025-10-03 22:31:02.218 +07:00 [DBG] The index {'ReviewerId'} was not created on entity type 'ReviewerAssignment' as the properties are already covered by the index {'ReviewerId', 'Status'}.
2025-10-03 22:31:02.218 +07:00 [DBG] The index {'SubmissionId'} was not created on entity type 'ReviewerAssignment' as the properties are already covered by the index {'SubmissionId', 'ReviewerId'}.
2025-10-03 22:31:02.218 +07:00 [DBG] The index {'ReviewerId'} was not created on entity type 'ReviewerPerformance' as the properties are already covered by the index {'ReviewerId', 'SemesterId'}.
2025-10-03 22:31:02.218 +07:00 [DBG] The index {'PhaseId'} was not created on entity type 'Submission' as the properties are already covered by the index {'PhaseId', 'Status'}.
2025-10-03 22:31:02.218 +07:00 [DBG] The index {'PhaseId'} was not created on entity type 'Submission' as the properties are already covered by the index {'PhaseId', 'Status', 'SubmittedAt'}.
2025-10-03 22:31:02.219 +07:00 [DBG] The index {'TopicId'} was not created on entity type 'Submission' as the properties are already covered by the index {'TopicId', 'PhaseId', 'SubmissionRound'}.
2025-10-03 22:31:02.219 +07:00 [DBG] The index {'SubmissionId'} was not created on entity type 'SubmissionWorkflowLog' as the properties are already covered by the index {'SubmissionId', 'CreatedAt'}.
2025-10-03 22:31:02.219 +07:00 [DBG] The index {'UserId'} was not created on entity type 'SystemNotification' as the properties are already covered by the index {'UserId', 'IsRead', 'CreatedAt'}.
2025-10-03 22:31:02.219 +07:00 [DBG] The index {'SemesterId'} was not created on entity type 'Topic' as the properties are already covered by the index {'SemesterId', 'IsApproved'}.
2025-10-03 22:31:02.219 +07:00 [DBG] The index {'SupervisorId'} was not created on entity type 'Topic' as the properties are already covered by the index {'SupervisorId', 'SemesterId'}.
2025-10-03 22:31:02.220 +07:00 [DBG] The index {'TopicId'} was not created on entity type 'TopicVersion' as the properties are already covered by the index {'TopicId', 'Status'}.
2025-10-03 22:31:02.220 +07:00 [DBG] The index {'TopicId'} was not created on entity type 'TopicVersion' as the properties are already covered by the index {'TopicId', 'VersionNumber'}.
2025-10-03 22:31:02.220 +07:00 [DBG] The index {'UserId'} was not created on entity type 'UserRole' as the properties are already covered by the index {'UserId', 'RoleId'}.
2025-10-03 22:31:02.221 +07:00 [DBG] The index {'UserId'} was not created on entity type 'UserToken' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2025-10-03 22:31:02.467 +07:00 [WRN] The 'ProficiencyLevels' property 'ProficiencyLevel' on entity type 'LecturerSkill' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'ProficiencyLevels' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-10-03 22:31:02.467 +07:00 [WRN] The 'ReviewRecommendations' property 'Recommendation' on entity type 'Review' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'ReviewRecommendations' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-10-03 22:31:02.467 +07:00 [WRN] The 'ReviewStatus' property 'Status' on entity type 'Review' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'ReviewStatus' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-10-03 22:31:02.468 +07:00 [WRN] The 'CommentTypes' property 'CommentType' on entity type 'ReviewComment' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'CommentTypes' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-10-03 22:31:02.468 +07:00 [WRN] The 'PriorityLevels' property 'Priority' on entity type 'ReviewComment' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'PriorityLevels' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-10-03 22:31:02.468 +07:00 [WRN] The 'AssignmentTypes' property 'AssignmentType' on entity type 'ReviewerAssignment' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'AssignmentTypes' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-10-03 22:31:02.469 +07:00 [WRN] The 'AssignmentStatus' property 'Status' on entity type 'ReviewerAssignment' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'AssignmentStatus' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-10-03 22:31:02.469 +07:00 [WRN] The 'AiCheckStatus' property 'AiCheckStatus' on entity type 'Submission' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'AiCheckStatus' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-10-03 22:31:02.469 +07:00 [WRN] The 'SubmissionStatus' property 'Status' on entity type 'Submission' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'SubmissionStatus' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-10-03 22:31:02.470 +07:00 [WRN] The 'NotificationTypes' property 'Type' on entity type 'SystemNotification' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'NotificationTypes' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-10-03 22:31:02.470 +07:00 [WRN] The 'TopicStatus' property 'Status' on entity type 'TopicVersion' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'TopicStatus' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-10-03 22:31:02.701 +07:00 [DBG] Entity Framework Core 8.0.16 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: MigrationsAssembly=App.DAL 
2025-10-03 22:31:02.778 +07:00 [DBG] Compiling query expression: 
'DbSet<Role>()
    .FirstOrDefault(r => r.NormalizedName == __normalizedName_0)'
2025-10-03 22:31:02.978 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Role>(
    asyncEnumerable: new SingleQueryingEnumerable<Role>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Role.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Role.ConcurrencyStamp (string), 1], [Property: Role.IsAdmin (bool) Required, 2], [Property: Role.Name (string), 3], [Property: Role.NormalizedName (string), 4] }
            SELECT TOP(1) r.Id, r.ConcurrencyStamp, r.IsAdmin, r.Name, r.NormalizedName
            FROM roles AS r
            WHERE r.NormalizedName == @__normalizedName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Role>, 
        App.DAL.Context.MyDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-10-03 22:31:03.023 +07:00 [DBG] Creating DbConnection.
2025-10-03 22:31:03.041 +07:00 [DBG] Created DbConnection. (13ms).
2025-10-03 22:31:03.045 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 22:31:03.182 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 22:31:03.185 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 22:31:03.191 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-10-03 22:31:03.199 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (14ms).
2025-10-03 22:31:03.208 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-10-03 22:31:03.263 +07:00 [INF] Executed DbCommand (54ms) [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-10-03 22:31:03.315 +07:00 [DBG] Context 'MyDbContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 22:31:03.338 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 22:31:03.346 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 79ms reading results.
2025-10-03 22:31:03.349 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 22:31:03.353 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (4ms).
2025-10-03 22:31:03.357 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 22:31:03.358 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 22:31:03.359 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 22:31:03.359 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 22:31:03.359 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 22:31:03.360 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-10-03 22:31:03.364 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-10-03 22:31:03.365 +07:00 [DBG] Context 'MyDbContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 22:31:03.365 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 22:31:03.365 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-10-03 22:31:03.365 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 22:31:03.365 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 22:31:03.366 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 22:31:03.366 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 22:31:03.366 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 22:31:03.366 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 22:31:03.366 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 22:31:03.366 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-10-03 22:31:03.367 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-10-03 22:31:03.368 +07:00 [DBG] Context 'MyDbContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 22:31:03.368 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 22:31:03.368 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-10-03 22:31:03.368 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 22:31:03.368 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 22:31:03.368 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 22:31:03.368 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 22:31:03.369 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 22:31:03.369 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 22:31:03.369 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 22:31:03.369 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-10-03 22:31:03.370 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-10-03 22:31:03.370 +07:00 [DBG] Context 'MyDbContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 22:31:03.370 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 22:31:03.370 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-10-03 22:31:03.371 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 22:31:03.371 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 22:31:03.380 +07:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .SingleOrDefault(u => u.NormalizedEmail == __normalizedEmail_0)'
2025-10-03 22:31:03.386 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.ConcurrencyStamp (string), 2], [Property: User.CreatedAt (DateTime) Required, 3], [Property: User.DeletedAt (DateTime?), 4], [Property: User.Email (string), 5], [Property: User.EmailConfirmed (bool) Required, 6], [Property: User.LastModifiedAt (DateTime) Required, 7], [Property: User.LastModifiedBy (string), 8], [Property: User.LockoutEnabled (bool) Required, 9], [Property: User.LockoutEnd (DateTimeOffset?), 10], [Property: User.NormalizedEmail (string), 11], [Property: User.NormalizedUserName (string), 12], [Property: User.PasswordHash (string), 13], [Property: User.PhoneNumber (string), 14], [Property: User.PhoneNumberConfirmed (bool) Required, 15], [Property: User.SecurityStamp (string), 16], [Property: User.TwoFactorEnabled (bool) Required, 17], [Property: User.UserName (string), 18] }
            SELECT TOP(2) u.Id, u.AccessFailedCount, u.ConcurrencyStamp, u.CreatedAt, u.DeletedAt, u.Email, u.EmailConfirmed, u.LastModifiedAt, u.LastModifiedBy, u.LockoutEnabled, u.LockoutEnd, u.NormalizedEmail, u.NormalizedUserName, u.PasswordHash, u.PhoneNumber, u.PhoneNumberConfirmed, u.SecurityStamp, u.TwoFactorEnabled, u.UserName
            FROM users AS u
            WHERE u.NormalizedEmail == @__normalizedEmail_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        App.DAL.Context.MyDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-10-03 22:31:03.388 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 22:31:03.388 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 22:31:03.388 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 22:31:03.388 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 22:31:03.389 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 22:31:03.389 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-10-03 22:31:03.392 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-10-03 22:31:03.416 +07:00 [DBG] Context 'MyDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 22:31:03.449 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 22:31:03.449 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 56ms reading results.
2025-10-03 22:31:03.449 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 22:31:03.449 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 22:31:03.452 +07:00 [INF] Admin user 'admin.capbot@gmail.com' already exists
2025-10-03 22:31:03.457 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 22:31:03.459 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 22:31:03.459 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 22:31:03.459 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 22:31:03.460 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 22:31:03.460 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-10-03 22:31:03.464 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-10-03 22:31:03.464 +07:00 [DBG] Context 'MyDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 22:31:03.464 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 22:31:03.464 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-10-03 22:31:03.465 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 22:31:03.465 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 22:31:03.465 +07:00 [INF] Sample moderator 'moderator@example.com' already exists
2025-10-03 22:31:03.466 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 22:31:03.466 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 22:31:03.466 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 22:31:03.467 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 22:31:03.467 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 22:31:03.467 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-10-03 22:31:03.470 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-10-03 22:31:03.471 +07:00 [DBG] Context 'MyDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 22:31:03.471 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 22:31:03.472 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-10-03 22:31:03.472 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 22:31:03.472 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 22:31:03.472 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 22:31:03.473 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 22:31:03.473 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 22:31:03.474 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 22:31:03.474 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-10-03 22:31:03.474 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-10-03 22:31:03.479 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-10-03 22:31:03.479 +07:00 [DBG] Context 'MyDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 22:31:03.480 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 22:31:03.480 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-10-03 22:31:03.480 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 22:31:03.480 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 22:31:03.480 +07:00 [INF] Data seeding completed successfully
2025-10-03 22:31:03.483 +07:00 [DBG] 'MyDbContext' disposed.
2025-10-03 22:31:03.486 +07:00 [DBG] Disposing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 22:31:03.488 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-10-03 22:31:03.535 +07:00 [DBG] Registered SignalR Protocol: json, implemented by Microsoft.AspNetCore.SignalR.Protocol.JsonHubProtocol.
2025-10-03 22:31:03.869 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
2025-10-03 22:31:04.223 +07:00 [DBG] Hosting starting
2025-10-03 22:31:04.233 +07:00 [DBG] Reading data from file 'C:\Users\acer\AppData\Local\ASP.NET\DataProtection-Keys\key-30a711c8-7ddc-4a0d-8c07-4439effde9db.xml'.
2025-10-03 22:31:04.235 +07:00 [DBG] Reading data from file 'C:\Users\acer\AppData\Local\ASP.NET\DataProtection-Keys\key-732ee668-a56c-4fc9-b9d2-4188dc372919.xml'.
2025-10-03 22:31:04.236 +07:00 [DBG] Reading data from file 'C:\Users\acer\AppData\Local\ASP.NET\DataProtection-Keys\key-ad0e504d-5eaf-4fbc-adde-d8f26319af02.xml'.
2025-10-03 22:31:04.246 +07:00 [DBG] Found key {30a711c8-7ddc-4a0d-8c07-4439effde9db}.
2025-10-03 22:31:04.250 +07:00 [DBG] Found key {732ee668-a56c-4fc9-b9d2-4188dc372919}.
2025-10-03 22:31:04.251 +07:00 [DBG] Found key {ad0e504d-5eaf-4fbc-adde-d8f26319af02}.
2025-10-03 22:31:04.258 +07:00 [DBG] Considering key {30a711c8-7ddc-4a0d-8c07-4439effde9db} with expiration date 2025-11-11 18:32:26Z as default key.
2025-10-03 22:31:04.262 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-10-03 22:31:04.263 +07:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-10-03 22:31:04.265 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-10-03 22:31:04.266 +07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-10-03 22:31:04.268 +07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-10-03 22:31:04.273 +07:00 [DBG] Using key {30a711c8-7ddc-4a0d-8c07-4439effde9db} as the default key.
2025-10-03 22:31:04.275 +07:00 [DBG] Key ring with default key {30a711c8-7ddc-4a0d-8c07-4439effde9db} was loaded during application startup.
2025-10-03 22:31:04.343 +07:00 [INF] Now listening on: http://localhost:5207
2025-10-03 22:31:04.344 +07:00 [DBG] Loaded hosting startup assembly CapBot.api
2025-10-03 22:31:04.344 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-10-03 22:31:04.344 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-03 22:31:04.344 +07:00 [INF] Hosting environment: Development
2025-10-03 22:31:04.344 +07:00 [INF] Content root path: C:\Users\acer\Downloads\CBAI_API\capbot.api
2025-10-03 22:31:04.346 +07:00 [DBG] Hosting started
2025-10-03 22:31:04.499 +07:00 [DBG] Connection id "0HNG2I7EQ10PS" accepted.
2025-10-03 22:31:04.501 +07:00 [DBG] Connection id "0HNG2I7EQ10PS" started.
2025-10-03 22:31:04.530 +07:00 [DBG] Connection id "0HNG2I7EQ10PT" accepted.
2025-10-03 22:31:04.532 +07:00 [DBG] Connection id "0HNG2I7EQ10PT" started.
2025-10-03 22:31:04.572 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5207/index.html - null null
2025-10-03 22:31:04.586 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-10-03 22:31:04.870 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-10-03 22:31:04.883 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-10-03 22:31:04.883 +07:00 [DBG] Connection id "0HNG2I7EQ10PS" completed keep alive response.
2025-10-03 22:31:04.897 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5207/index.html - 200 null text/html;charset=utf-8 317.3915ms
2025-10-03 22:31:04.912 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5207/_framework/aspnetcore-browser-refresh.js - null null
2025-10-03 22:31:04.915 +07:00 [DBG] Connection id "0HNG2I7EQ10PS" completed keep alive response.
2025-10-03 22:31:04.916 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5207/_framework/aspnetcore-browser-refresh.js - 200 13732 application/javascript; charset=utf-8 4.148ms
2025-10-03 22:31:05.015 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5207/swagger/v1/swagger.json - null null
2025-10-03 22:31:05.349 +07:00 [DBG] Connection id "0HNG2I7EQ10PS" completed keep alive response.
2025-10-03 22:31:05.350 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5207/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 334.1128ms
2025-10-03 22:33:16.163 +07:00 [DBG] Connection id "0HNG2I7EQ10PT" disconnecting.
2025-10-03 22:33:16.164 +07:00 [DBG] Connection id "0HNG2I7EQ10PT" stopped.
2025-10-03 22:33:16.166 +07:00 [DBG] Connection id "0HNG2I7EQ10PT" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-10-03 22:33:17.178 +07:00 [DBG] Connection id "0HNG2I7EQ10PS" disconnecting.
2025-10-03 22:33:17.178 +07:00 [DBG] Connection id "0HNG2I7EQ10PS" stopped.
2025-10-03 22:33:17.178 +07:00 [DBG] Connection id "0HNG2I7EQ10PS" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-10-03 22:35:10.694 +07:00 [DBG] Connection id "0HNG2I7EQ10PU" accepted.
2025-10-03 22:35:10.694 +07:00 [DBG] Connection id "0HNG2I7EQ10PU" started.
2025-10-03 22:35:10.695 +07:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:5207/api/lecturer-skills/13 - null null
2025-10-03 22:35:10.697 +07:00 [DBG] DELETE requests are not supported
2025-10-03 22:35:10.698 +07:00 [WRN] Failed to determine the https port for redirect.
2025-10-03 22:35:10.699 +07:00 [DBG] DELETE requests are not supported
2025-10-03 22:35:10.699 +07:00 [DBG] The request has an origin header: 'http://localhost:5207'.
2025-10-03 22:35:10.700 +07:00 [INF] CORS policy execution successful.
2025-10-03 22:35:10.773 +07:00 [DBG] 1 candidate(s) found for the request path '/api/lecturer-skills/13'
2025-10-03 22:35:10.775 +07:00 [DBG] Endpoint 'CapBot.api.Controllers.LecturerSkillController.Delete (CapBot.api)' with route pattern 'api/lecturer-skills/{id}' is valid for the request path '/api/lecturer-skills/13'
2025-10-03 22:35:10.775 +07:00 [DBG] Request matched endpoint 'CapBot.api.Controllers.LecturerSkillController.Delete (CapBot.api)'
2025-10-03 22:35:10.859 +07:00 [DBG] Successfully validated the token.
2025-10-03 22:35:10.860 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-10-03 22:35:10.864 +07:00 [DBG] Authorization was successful.
2025-10-03 22:35:10.875 +07:00 [INF] Executing endpoint 'CapBot.api.Controllers.LecturerSkillController.Delete (CapBot.api)'
2025-10-03 22:35:10.897 +07:00 [INF] Route matched with {action = "Delete", controller = "LecturerSkill"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Delete(Int32) on controller CapBot.api.Controllers.LecturerSkillController (CapBot.api).
2025-10-03 22:35:10.898 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-10-03 22:35:10.898 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-10-03 22:35:10.899 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2025-10-03 22:35:10.899 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-10-03 22:35:10.899 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-10-03 22:35:10.901 +07:00 [DBG] Executing controller factory for controller CapBot.api.Controllers.LecturerSkillController (CapBot.api)
2025-10-03 22:35:11.029 +07:00 [DBG] Executed controller factory for controller CapBot.api.Controllers.LecturerSkillController (CapBot.api)
2025-10-03 22:35:11.032 +07:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2025-10-03 22:35:11.033 +07:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2025-10-03 22:35:11.034 +07:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-10-03 22:35:11.034 +07:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-10-03 22:35:11.034 +07:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2025-10-03 22:35:11.038 +07:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2025-10-03 22:35:11.107 +07:00 [DBG] Entity Framework Core 8.0.16 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: MigrationsAssembly=App.DAL 
2025-10-03 22:35:11.118 +07:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(e => EF.Property<int>(e, "Id") == __p_0)'
2025-10-03 22:35:11.143 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.ConcurrencyStamp (string), 2], [Property: User.CreatedAt (DateTime) Required, 3], [Property: User.DeletedAt (DateTime?), 4], [Property: User.Email (string), 5], [Property: User.EmailConfirmed (bool) Required, 6], [Property: User.LastModifiedAt (DateTime) Required, 7], [Property: User.LastModifiedBy (string), 8], [Property: User.LockoutEnabled (bool) Required, 9], [Property: User.LockoutEnd (DateTimeOffset?), 10], [Property: User.NormalizedEmail (string), 11], [Property: User.NormalizedUserName (string), 12], [Property: User.PasswordHash (string), 13], [Property: User.PhoneNumber (string), 14], [Property: User.PhoneNumberConfirmed (bool) Required, 15], [Property: User.SecurityStamp (string), 16], [Property: User.TwoFactorEnabled (bool) Required, 17], [Property: User.UserName (string), 18] }
            SELECT TOP(1) u.Id, u.AccessFailedCount, u.ConcurrencyStamp, u.CreatedAt, u.DeletedAt, u.Email, u.EmailConfirmed, u.LastModifiedAt, u.LastModifiedBy, u.LockoutEnabled, u.LockoutEnd, u.NormalizedEmail, u.NormalizedUserName, u.PasswordHash, u.PhoneNumber, u.PhoneNumberConfirmed, u.SecurityStamp, u.TwoFactorEnabled, u.UserName
            FROM users AS u
            WHERE u.Id == @__p_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        App.DAL.Context.MyDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-10-03 22:35:11.144 +07:00 [DBG] Creating DbConnection.
2025-10-03 22:35:11.145 +07:00 [DBG] Created DbConnection. (0ms).
2025-10-03 22:35:11.145 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 22:35:11.145 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 22:35:11.145 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 22:35:11.145 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 22:35:11.146 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 22:35:11.146 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[Id] = @__p_0
2025-10-03 22:35:11.150 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[Id] = @__p_0
2025-10-03 22:35:11.150 +07:00 [DBG] Context 'MyDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 22:35:11.151 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 22:35:11.151 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 1ms reading results.
2025-10-03 22:35:11.152 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 22:35:11.152 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 22:35:11.163 +07:00 [DBG] Compiling query expression: 
'DbSet<LecturerSkill>()
    .AsNoTracking()
    .Where(x => x.Id == __id_0 && x.IsActive && x.DeletedAt == null)
    .FirstOrDefault()'
2025-10-03 22:35:11.172 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<LecturerSkill>(
    asyncEnumerable: new SingleQueryingEnumerable<LecturerSkill>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: LecturerSkill.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: LecturerSkill.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 1], [Property: LecturerSkill.CreatedBy (string), 2], [Property: LecturerSkill.DeletedAt (DateTime?), 3], [Property: LecturerSkill.IsActive (bool) Required, 4], [Property: LecturerSkill.LastModifiedAt (DateTime?), 5], [Property: LecturerSkill.LastModifiedBy (string), 6], [Property: LecturerSkill.LecturerId (int) Required FK Index, 7], [Property: LecturerSkill.ProficiencyLevel (ProficiencyLevels) Required ValueGenerated.OnAdd, 8], [Property: LecturerSkill.SkillTag (string) Required Index MaxLength(100), 9] }
            SELECT TOP(1) l.Id, l.CreatedAt, l.CreatedBy, l.DeletedAt, l.IsActive, l.LastModifiedAt, l.LastModifiedBy, l.LecturerId, l.ProficiencyLevel, l.SkillTag
            FROM lecturer_skills AS l
            WHERE ((l.Id == @__id_0) && l.IsActive) && (l.DeletedAt == NULL)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, LecturerSkill>, 
        App.DAL.Context.MyDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-10-03 22:35:11.177 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 22:35:11.177 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 22:35:11.177 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 22:35:11.177 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 22:35:11.177 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 22:35:11.177 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[CreatedAt], [l].[CreatedBy], [l].[DeletedAt], [l].[IsActive], [l].[LastModifiedAt], [l].[LastModifiedBy], [l].[LecturerId], [l].[ProficiencyLevel], [l].[SkillTag]
FROM [lecturer_skills] AS [l]
WHERE [l].[Id] = @__id_0 AND [l].[IsActive] = CAST(1 AS bit) AND [l].[DeletedAt] IS NULL
2025-10-03 22:35:11.187 +07:00 [INF] Executed DbCommand (9ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[CreatedAt], [l].[CreatedBy], [l].[DeletedAt], [l].[IsActive], [l].[LastModifiedAt], [l].[LastModifiedBy], [l].[LecturerId], [l].[ProficiencyLevel], [l].[SkillTag]
FROM [lecturer_skills] AS [l]
WHERE [l].[Id] = @__id_0 AND [l].[IsActive] = CAST(1 AS bit) AND [l].[DeletedAt] IS NULL
2025-10-03 22:35:11.188 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 22:35:11.189 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 1ms reading results.
2025-10-03 22:35:11.189 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 22:35:11.189 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 22:35:11.197 +07:00 [DBG] Compiling query expression: 
'DbSet<LecturerSkill>()
    .FirstOrDefault(e => EF.Property<int>(e, "Id") == __p_0)'
2025-10-03 22:35:11.201 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<LecturerSkill>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: LecturerSkill.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: LecturerSkill.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 1], [Property: LecturerSkill.CreatedBy (string), 2], [Property: LecturerSkill.DeletedAt (DateTime?), 3], [Property: LecturerSkill.IsActive (bool) Required, 4], [Property: LecturerSkill.LastModifiedAt (DateTime?), 5], [Property: LecturerSkill.LastModifiedBy (string), 6], [Property: LecturerSkill.LecturerId (int) Required FK Index, 7], [Property: LecturerSkill.ProficiencyLevel (ProficiencyLevels) Required ValueGenerated.OnAdd, 8], [Property: LecturerSkill.SkillTag (string) Required Index MaxLength(100), 9] }
        SELECT TOP(1) l.Id, l.CreatedAt, l.CreatedBy, l.DeletedAt, l.IsActive, l.LastModifiedAt, l.LastModifiedBy, l.LecturerId, l.ProficiencyLevel, l.SkillTag
        FROM lecturer_skills AS l
        WHERE l.Id == @__p_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, LecturerSkill>, 
    App.DAL.Context.MyDbContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2025-10-03 22:35:11.207 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 22:35:11.209 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 22:35:11.209 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 22:35:11.209 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 22:35:11.209 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 22:35:11.210 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[CreatedAt], [l].[CreatedBy], [l].[DeletedAt], [l].[IsActive], [l].[LastModifiedAt], [l].[LastModifiedBy], [l].[LecturerId], [l].[ProficiencyLevel], [l].[SkillTag]
FROM [lecturer_skills] AS [l]
WHERE [l].[Id] = @__p_0
2025-10-03 22:35:11.212 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[CreatedAt], [l].[CreatedBy], [l].[DeletedAt], [l].[IsActive], [l].[LastModifiedAt], [l].[LastModifiedBy], [l].[LecturerId], [l].[ProficiencyLevel], [l].[SkillTag]
FROM [lecturer_skills] AS [l]
WHERE [l].[Id] = @__p_0
2025-10-03 22:35:11.216 +07:00 [DBG] Context 'MyDbContext' started tracking 'LecturerSkill' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 22:35:11.234 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 22:35:11.234 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 21ms reading results.
2025-10-03 22:35:11.235 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 22:35:11.237 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (1ms).
2025-10-03 22:35:11.271 +07:00 [DBG] An entity of type 'LecturerSkill' tracked by 'MyDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 22:35:11.277 +07:00 [DBG] SaveChanges starting for 'MyDbContext'.
2025-10-03 22:35:11.280 +07:00 [DBG] DetectChanges starting for 'MyDbContext'.
2025-10-03 22:35:11.304 +07:00 [DBG] DetectChanges completed for 'MyDbContext'.
2025-10-03 22:35:11.363 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 22:35:11.364 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 22:35:11.366 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 22:35:11.366 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 22:35:11.366 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 22:35:11.366 +07:00 [DBG] Executing DbCommand [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = Boolean), @p2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [lecturer_skills] SET [DeletedAt] = @p0, [IsActive] = @p1, [LastModifiedBy] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2025-10-03 22:35:11.387 +07:00 [INF] Executed DbCommand (20ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = Boolean), @p2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [lecturer_skills] SET [DeletedAt] = @p0, [IsActive] = @p1, [LastModifiedBy] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2025-10-03 22:35:11.392 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 22:35:11.393 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 5ms reading results.
2025-10-03 22:35:11.394 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 22:35:11.394 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 22:35:11.399 +07:00 [DBG] An entity of type 'LecturerSkill' tracked by 'MyDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 22:35:11.401 +07:00 [DBG] SaveChanges completed for 'MyDbContext' with 1 entities written to the database.
2025-10-03 22:35:11.408 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-10-03 22:35:11.409 +07:00 [DBG] No information found on request to perform content negotiation.
2025-10-03 22:35:11.410 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-10-03 22:35:11.410 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-10-03 22:35:11.412 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-10-03 22:35:11.412 +07:00 [INF] Executing ObjectResult, writing value of type 'FS.Commons.FSResponse'.
2025-10-03 22:35:11.441 +07:00 [INF] Executed action CapBot.api.Controllers.LecturerSkillController.Delete (CapBot.api) in 538.5314ms
2025-10-03 22:35:11.442 +07:00 [INF] Executed endpoint 'CapBot.api.Controllers.LecturerSkillController.Delete (CapBot.api)'
2025-10-03 22:35:11.445 +07:00 [DBG] Connection id "0HNG2I7EQ10PU" completed keep alive response.
2025-10-03 22:35:11.445 +07:00 [DBG] 'MyDbContext' disposed.
2025-10-03 22:35:11.446 +07:00 [DBG] Disposing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 22:35:11.446 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-10-03 22:35:11.447 +07:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:5207/api/lecturer-skills/13 - 200 null application/json; charset=utf-8 751.9049ms
2025-10-03 22:36:26.789 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5207/api/lecturer-skills - application/json;odata.metadata=minimal;odata.streaming=true 160
2025-10-03 22:36:26.790 +07:00 [DBG] POST requests are not supported
2025-10-03 22:36:26.790 +07:00 [DBG] POST requests are not supported
2025-10-03 22:36:26.791 +07:00 [DBG] The request has an origin header: 'http://localhost:5207'.
2025-10-03 22:36:26.791 +07:00 [INF] CORS policy execution successful.
2025-10-03 22:36:26.795 +07:00 [DBG] 1 candidate(s) found for the request path '/api/lecturer-skills'
2025-10-03 22:36:26.795 +07:00 [DBG] Endpoint 'CapBot.api.Controllers.LecturerSkillController.Create (CapBot.api)' with route pattern 'api/lecturer-skills' is valid for the request path '/api/lecturer-skills'
2025-10-03 22:36:26.796 +07:00 [DBG] Request matched endpoint 'CapBot.api.Controllers.LecturerSkillController.Create (CapBot.api)'
2025-10-03 22:36:26.801 +07:00 [DBG] Successfully validated the token.
2025-10-03 22:36:26.801 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-10-03 22:36:26.803 +07:00 [DBG] Authorization was successful.
2025-10-03 22:36:26.804 +07:00 [INF] Executing endpoint 'CapBot.api.Controllers.LecturerSkillController.Create (CapBot.api)'
2025-10-03 22:36:26.814 +07:00 [INF] Route matched with {action = "Create", controller = "LecturerSkill"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(App.Entities.DTOs.LecturerSkills.CreateLecturerSkillDTO) on controller CapBot.api.Controllers.LecturerSkillController (CapBot.api).
2025-10-03 22:36:26.814 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-10-03 22:36:26.814 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-10-03 22:36:26.814 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2025-10-03 22:36:26.814 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-10-03 22:36:26.814 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-10-03 22:36:26.815 +07:00 [DBG] Executing controller factory for controller CapBot.api.Controllers.LecturerSkillController (CapBot.api)
2025-10-03 22:36:26.819 +07:00 [DBG] Executed controller factory for controller CapBot.api.Controllers.LecturerSkillController (CapBot.api)
2025-10-03 22:36:26.820 +07:00 [DBG] Attempting to bind parameter 'dto' of type 'App.Entities.DTOs.LecturerSkills.CreateLecturerSkillDTO' ...
2025-10-03 22:36:26.821 +07:00 [DBG] Attempting to bind parameter 'dto' of type 'App.Entities.DTOs.LecturerSkills.CreateLecturerSkillDTO' using the name '' in request data ...
2025-10-03 22:36:26.821 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.OData.Formatter.ODataInputFormatter' for content type 'application/json;odata.metadata=minimal;odata.streaming=true'.
2025-10-03 22:36:26.822 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.OData.Formatter.ODataInputFormatter' for content type 'application/json;odata.metadata=minimal;odata.streaming=true'.
2025-10-03 22:36:26.822 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.OData.Formatter.ODataInputFormatter' for content type 'application/json;odata.metadata=minimal;odata.streaming=true'.
2025-10-03 22:36:26.822 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json;odata.metadata=minimal;odata.streaming=true'.
2025-10-03 22:36:26.840 +07:00 [DBG] Connection id "0HNG2I7EQ10PU", Request id "0HNG2I7EQ10PU:00000002": started reading request body.
2025-10-03 22:36:26.840 +07:00 [DBG] Connection id "0HNG2I7EQ10PU", Request id "0HNG2I7EQ10PU:00000002": done reading request body.
2025-10-03 22:36:26.851 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'App.Entities.DTOs.LecturerSkills.CreateLecturerSkillDTO'
2025-10-03 22:36:26.851 +07:00 [DBG] Done attempting to bind parameter 'dto' of type 'App.Entities.DTOs.LecturerSkills.CreateLecturerSkillDTO'.
2025-10-03 22:36:26.852 +07:00 [DBG] Done attempting to bind parameter 'dto' of type 'App.Entities.DTOs.LecturerSkills.CreateLecturerSkillDTO'.
2025-10-03 22:36:26.852 +07:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'App.Entities.DTOs.LecturerSkills.CreateLecturerSkillDTO' ...
2025-10-03 22:36:26.864 +07:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'App.Entities.DTOs.LecturerSkills.CreateLecturerSkillDTO'.
2025-10-03 22:36:26.879 +07:00 [DBG] Entity Framework Core 8.0.16 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: MigrationsAssembly=App.DAL 
2025-10-03 22:36:26.881 +07:00 [DBG] Creating DbConnection.
2025-10-03 22:36:26.881 +07:00 [DBG] Created DbConnection. (0ms).
2025-10-03 22:36:26.881 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 22:36:26.881 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 22:36:26.881 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 22:36:26.881 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 22:36:26.881 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 22:36:26.881 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[Id] = @__p_0
2025-10-03 22:36:26.884 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[Id] = @__p_0
2025-10-03 22:36:26.885 +07:00 [DBG] Context 'MyDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 22:36:26.885 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 22:36:26.885 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-10-03 22:36:26.885 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 22:36:26.885 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 22:36:26.886 +07:00 [INF] UserId: 1
2025-10-03 22:36:26.886 +07:00 [INF] Target lecturerId: 26 - isAdmin: True
2025-10-03 22:36:26.890 +07:00 [DBG] Compiling query expression: 
'DbSet<LecturerSkill>()
    .AsNoTracking()
    .Where(x => x.IsActive && x.LecturerId == __targetLecturerId_0 && x.SkillTag.ToLower() == __ToLower_1)
    .FirstOrDefault()'
2025-10-03 22:36:26.913 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<LecturerSkill>(
    asyncEnumerable: new SingleQueryingEnumerable<LecturerSkill>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: LecturerSkill.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: LecturerSkill.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 1], [Property: LecturerSkill.CreatedBy (string), 2], [Property: LecturerSkill.DeletedAt (DateTime?), 3], [Property: LecturerSkill.IsActive (bool) Required, 4], [Property: LecturerSkill.LastModifiedAt (DateTime?), 5], [Property: LecturerSkill.LastModifiedBy (string), 6], [Property: LecturerSkill.LecturerId (int) Required FK Index, 7], [Property: LecturerSkill.ProficiencyLevel (ProficiencyLevels) Required ValueGenerated.OnAdd, 8], [Property: LecturerSkill.SkillTag (string) Required Index MaxLength(100), 9] }
            SELECT TOP(1) l.Id, l.CreatedAt, l.CreatedBy, l.DeletedAt, l.IsActive, l.LastModifiedAt, l.LastModifiedBy, l.LecturerId, l.ProficiencyLevel, l.SkillTag
            FROM lecturer_skills AS l
            WHERE (l.IsActive && (l.LecturerId == @__targetLecturerId_0)) && (LOWER(l.SkillTag) == @__ToLower_1)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, LecturerSkill>, 
        App.DAL.Context.MyDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-10-03 22:36:26.916 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 22:36:26.917 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 22:36:26.917 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 22:36:26.917 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 22:36:26.917 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 22:36:26.917 +07:00 [DBG] Executing DbCommand [Parameters=[@__targetLecturerId_0='?' (DbType = Int32), @__ToLower_1='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[CreatedAt], [l].[CreatedBy], [l].[DeletedAt], [l].[IsActive], [l].[LastModifiedAt], [l].[LastModifiedBy], [l].[LecturerId], [l].[ProficiencyLevel], [l].[SkillTag]
FROM [lecturer_skills] AS [l]
WHERE [l].[IsActive] = CAST(1 AS bit) AND [l].[LecturerId] = @__targetLecturerId_0 AND LOWER([l].[SkillTag]) = @__ToLower_1
2025-10-03 22:36:26.925 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[@__targetLecturerId_0='?' (DbType = Int32), @__ToLower_1='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[CreatedAt], [l].[CreatedBy], [l].[DeletedAt], [l].[IsActive], [l].[LastModifiedAt], [l].[LastModifiedBy], [l].[LecturerId], [l].[ProficiencyLevel], [l].[SkillTag]
FROM [lecturer_skills] AS [l]
WHERE [l].[IsActive] = CAST(1 AS bit) AND [l].[LecturerId] = @__targetLecturerId_0 AND LOWER([l].[SkillTag]) = @__ToLower_1
2025-10-03 22:36:26.926 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 22:36:26.927 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-10-03 22:36:26.927 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 22:36:26.927 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 22:36:26.948 +07:00 [DBG] 'MyDbContext' generated a temporary value for the property 'LecturerSkill.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 22:36:26.952 +07:00 [DBG] Context 'MyDbContext' started tracking 'LecturerSkill' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 22:36:26.952 +07:00 [DBG] SaveChanges starting for 'MyDbContext'.
2025-10-03 22:36:26.952 +07:00 [DBG] DetectChanges starting for 'MyDbContext'.
2025-10-03 22:36:26.953 +07:00 [DBG] DetectChanges completed for 'MyDbContext'.
2025-10-03 22:36:26.970 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 22:36:26.970 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 22:36:26.970 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 22:36:26.970 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 22:36:26.971 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-10-03 22:36:26.971 +07:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [lecturer_skills] ([CreatedAt], [CreatedBy], [DeletedAt], [IsActive], [LastModifiedAt], [LastModifiedBy], [LecturerId], [ProficiencyLevel], [SkillTag])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-10-03 22:36:27.017 +07:00 [INF] Executed DbCommand (45ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [lecturer_skills] ([CreatedAt], [CreatedBy], [DeletedAt], [IsActive], [LastModifiedAt], [LastModifiedBy], [LecturerId], [ProficiencyLevel], [SkillTag])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-10-03 22:36:27.021 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 22:36:27.021 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 4ms reading results.
2025-10-03 22:36:27.022 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 22:36:27.022 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 22:36:27.043 +07:00 [ERR] An exception occurred in the database while saving changes for context type 'App.DAL.Context.MyDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.lecturer_skills' with unique index 'IX_lecturer_skills_LecturerId_SkillTag'. The duplicate key value is (26, Ứng dụng công nghệ xanh và bền vững trong sản xuất và đô thị thông minh).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:72d48f28-df70-4b52-a4f6-0dfdfe6dddce
Error Number:2601,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.lecturer_skills' with unique index 'IX_lecturer_skills_LecturerId_SkillTag'. The duplicate key value is (26, Ứng dụng công nghệ xanh và bền vững trong sản xuất và đô thị thông minh).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:72d48f28-df70-4b52-a4f6-0dfdfe6dddce
Error Number:2601,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-10-03 22:36:27.050 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-10-03 22:36:27.050 +07:00 [DBG] No information found on request to perform content negotiation.
2025-10-03 22:36:27.050 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-10-03 22:36:27.050 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-10-03 22:36:27.050 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-10-03 22:36:27.050 +07:00 [INF] Executing ObjectResult, writing value of type 'FS.Commons.FSResponse'.
2025-10-03 22:36:27.051 +07:00 [INF] Executed action CapBot.api.Controllers.LecturerSkillController.Create (CapBot.api) in 236.3957ms
2025-10-03 22:36:27.051 +07:00 [INF] Executed endpoint 'CapBot.api.Controllers.LecturerSkillController.Create (CapBot.api)'
2025-10-03 22:36:27.052 +07:00 [DBG] Connection id "0HNG2I7EQ10PU" completed keep alive response.
2025-10-03 22:36:27.052 +07:00 [DBG] 'MyDbContext' disposed.
2025-10-03 22:36:27.052 +07:00 [DBG] Disposing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 22:36:27.052 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-10-03 22:36:27.052 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5207/api/lecturer-skills - 500 null application/json; charset=utf-8 262.9462ms
2025-10-03 22:38:38.604 +07:00 [DBG] Connection id "0HNG2I7EQ10PU" disconnecting.
2025-10-03 22:38:38.604 +07:00 [DBG] Connection id "0HNG2I7EQ10PU" stopped.
2025-10-03 22:38:38.604 +07:00 [DBG] Connection id "0HNG2I7EQ10PU" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-10-03 23:01:39.857 +07:00 [INF] Application is shutting down...
2025-10-03 23:01:39.859 +07:00 [DBG] Hosting stopping
2025-10-03 23:01:39.868 +07:00 [ERR] Lỗi khi kiểm tra deadline notifications
System.Threading.Tasks.TaskCanceledException: A task was canceled.
   at CapBot.api.Services.DeadlineNotificationService.ExecuteAsync(CancellationToken stoppingToken) in C:\Users\acer\Downloads\CBAI_API\capbot.api\Services\DeadlineNotificationService.cs:line 41
2025-10-03 23:01:39.883 +07:00 [DBG] Hosting stopped
2025-10-03 23:45:58.971 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-10-03 23:45:59.079 +07:00 [INF] User profile is available. Using 'C:\Users\acer\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-10-03 23:45:59.391 +07:00 [DBG] No relationship from 'ReviewerAssignment' to 'User' has been configured by convention because there are multiple properties on one entity type - {'AssignedByUser', 'Reviewer'} that could be matched with the properties on the other entity type - {'ReviewerAssignments'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-10-03 23:45:59.418 +07:00 [DBG] No relationship from 'SubmissionWorkflowLog' to 'WorkflowState' has been configured by convention because there are multiple properties on one entity type - {'FromState', 'ToState'} that could be matched with the properties on the other entity type - {'FromStateLogs', 'ToStateLogs'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-10-03 23:45:59.440 +07:00 [DBG] No relationship from 'User' to 'ReviewerAssignment' has been configured by convention because there are multiple properties on one entity type - {'ReviewerAssignments'} that could be matched with the properties on the other entity type - {'AssignedByUser', 'Reviewer'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-10-03 23:45:59.445 +07:00 [DBG] No relationship from 'WorkflowState' to 'SubmissionWorkflowLog' has been configured by convention because there are multiple properties on one entity type - {'FromStateLogs', 'ToStateLogs'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-10-03 23:45:59.445 +07:00 [DBG] No relationship from 'WorkflowState' to 'WorkflowTransition' has been configured by convention because there are multiple properties on one entity type - {'FromTransitions', 'ToTransitions'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-10-03 23:45:59.447 +07:00 [DBG] No relationship from 'WorkflowTransition' to 'WorkflowState' has been configured by convention because there are multiple properties on one entity type - {'FromState', 'ToState'} that could be matched with the properties on the other entity type - {'FromTransitions', 'ToTransitions'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-10-03 23:45:59.708 +07:00 [DBG] No relationship from 'ReviewerAssignment' to 'User' has been configured by convention because there are multiple properties on one entity type - {'AssignedByUser', 'Reviewer'} that could be matched with the properties on the other entity type - {'ReviewerAssignments'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-10-03 23:45:59.709 +07:00 [DBG] No relationship from 'User' to 'ReviewerAssignment' has been configured by convention because there are multiple properties on one entity type - {'ReviewerAssignments'} that could be matched with the properties on the other entity type - {'AssignedByUser', 'Reviewer'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-10-03 23:45:59.733 +07:00 [DBG] No relationship from 'WorkflowTransition' to 'WorkflowState' has been configured by convention because there are multiple properties on one entity type - {'FromState', 'ToState'} that could be matched with the properties on the other entity type - {'FromTransitions', 'ToTransitions'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-10-03 23:45:59.734 +07:00 [DBG] No relationship from 'WorkflowState' to 'SubmissionWorkflowLog' has been configured by convention because there are multiple properties on one entity type - {'FromStateLogs', 'ToStateLogs'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-10-03 23:45:59.735 +07:00 [DBG] No relationship from 'WorkflowState' to 'WorkflowTransition' has been configured by convention because there are multiple properties on one entity type - {'FromTransitions', 'ToTransitions'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-10-03 23:45:59.736 +07:00 [DBG] No relationship from 'WorkflowState' to 'SubmissionWorkflowLog' has been configured by convention because there are multiple properties on one entity type - {'FromStateLogs', 'ToStateLogs'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-10-03 23:45:59.742 +07:00 [DBG] No relationship from 'SubmissionWorkflowLog' to 'WorkflowState' has been configured by convention because there are multiple properties on one entity type - {'FromState', 'ToState'} that could be matched with the properties on the other entity type - {'FromStateLogs', 'ToStateLogs'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-10-03 23:45:59.743 +07:00 [DBG] No relationship from 'WorkflowState' to 'SubmissionWorkflowLog' has been configured by convention because there are multiple properties on one entity type - {'FromStateLogs', 'ToStateLogs'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-10-03 23:45:59.796 +07:00 [DBG] The index {'LecturerId'} was not created on entity type 'LecturerSkill' as the properties are already covered by the index {'LecturerId', 'SkillTag'}.
2025-10-03 23:45:59.796 +07:00 [DBG] The index {'SemesterId'} was not created on entity type 'Phase' as the properties are already covered by the index {'SemesterId', 'PhaseTypeId'}.
2025-10-03 23:45:59.796 +07:00 [DBG] The index {'AssignmentId'} was not created on entity type 'Review' as the properties are already covered by the index {'AssignmentId', 'Status'}.
2025-10-03 23:45:59.796 +07:00 [DBG] The index {'ReviewId'} was not created on entity type 'ReviewComment' as the properties are already covered by the index {'ReviewId', 'SectionName'}.
2025-10-03 23:45:59.796 +07:00 [DBG] The index {'ReviewId'} was not created on entity type 'ReviewCriteriaScore' as the properties are already covered by the index {'ReviewId', 'CriteriaId'}.
2025-10-03 23:45:59.797 +07:00 [DBG] The index {'ReviewerId'} was not created on entity type 'ReviewerAssignment' as the properties are already covered by the index {'ReviewerId', 'Status'}.
2025-10-03 23:45:59.797 +07:00 [DBG] The index {'SubmissionId'} was not created on entity type 'ReviewerAssignment' as the properties are already covered by the index {'SubmissionId', 'ReviewerId'}.
2025-10-03 23:45:59.797 +07:00 [DBG] The index {'ReviewerId'} was not created on entity type 'ReviewerPerformance' as the properties are already covered by the index {'ReviewerId', 'SemesterId'}.
2025-10-03 23:45:59.797 +07:00 [DBG] The index {'PhaseId'} was not created on entity type 'Submission' as the properties are already covered by the index {'PhaseId', 'Status'}.
2025-10-03 23:45:59.797 +07:00 [DBG] The index {'PhaseId'} was not created on entity type 'Submission' as the properties are already covered by the index {'PhaseId', 'Status', 'SubmittedAt'}.
2025-10-03 23:45:59.797 +07:00 [DBG] The index {'TopicId'} was not created on entity type 'Submission' as the properties are already covered by the index {'TopicId', 'PhaseId', 'SubmissionRound'}.
2025-10-03 23:45:59.798 +07:00 [DBG] The index {'SubmissionId'} was not created on entity type 'SubmissionWorkflowLog' as the properties are already covered by the index {'SubmissionId', 'CreatedAt'}.
2025-10-03 23:45:59.798 +07:00 [DBG] The index {'UserId'} was not created on entity type 'SystemNotification' as the properties are already covered by the index {'UserId', 'IsRead', 'CreatedAt'}.
2025-10-03 23:45:59.798 +07:00 [DBG] The index {'SemesterId'} was not created on entity type 'Topic' as the properties are already covered by the index {'SemesterId', 'IsApproved'}.
2025-10-03 23:45:59.799 +07:00 [DBG] The index {'SupervisorId'} was not created on entity type 'Topic' as the properties are already covered by the index {'SupervisorId', 'SemesterId'}.
2025-10-03 23:45:59.799 +07:00 [DBG] The index {'TopicId'} was not created on entity type 'TopicVersion' as the properties are already covered by the index {'TopicId', 'Status'}.
2025-10-03 23:45:59.799 +07:00 [DBG] The index {'TopicId'} was not created on entity type 'TopicVersion' as the properties are already covered by the index {'TopicId', 'VersionNumber'}.
2025-10-03 23:45:59.800 +07:00 [DBG] The index {'UserId'} was not created on entity type 'UserRole' as the properties are already covered by the index {'UserId', 'RoleId'}.
2025-10-03 23:45:59.800 +07:00 [DBG] The index {'UserId'} was not created on entity type 'UserToken' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2025-10-03 23:45:59.983 +07:00 [WRN] The 'ProficiencyLevels' property 'ProficiencyLevel' on entity type 'LecturerSkill' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'ProficiencyLevels' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-10-03 23:45:59.984 +07:00 [WRN] The 'ReviewRecommendations' property 'Recommendation' on entity type 'Review' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'ReviewRecommendations' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-10-03 23:45:59.984 +07:00 [WRN] The 'ReviewStatus' property 'Status' on entity type 'Review' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'ReviewStatus' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-10-03 23:45:59.984 +07:00 [WRN] The 'CommentTypes' property 'CommentType' on entity type 'ReviewComment' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'CommentTypes' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-10-03 23:45:59.985 +07:00 [WRN] The 'PriorityLevels' property 'Priority' on entity type 'ReviewComment' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'PriorityLevels' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-10-03 23:45:59.985 +07:00 [WRN] The 'AssignmentTypes' property 'AssignmentType' on entity type 'ReviewerAssignment' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'AssignmentTypes' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-10-03 23:45:59.985 +07:00 [WRN] The 'AssignmentStatus' property 'Status' on entity type 'ReviewerAssignment' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'AssignmentStatus' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-10-03 23:45:59.985 +07:00 [WRN] The 'AiCheckStatus' property 'AiCheckStatus' on entity type 'Submission' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'AiCheckStatus' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-10-03 23:45:59.985 +07:00 [WRN] The 'SubmissionStatus' property 'Status' on entity type 'Submission' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'SubmissionStatus' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-10-03 23:45:59.986 +07:00 [WRN] The 'NotificationTypes' property 'Type' on entity type 'SystemNotification' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'NotificationTypes' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-10-03 23:45:59.986 +07:00 [WRN] The 'TopicStatus' property 'Status' on entity type 'TopicVersion' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'TopicStatus' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-10-03 23:46:00.187 +07:00 [DBG] Entity Framework Core 8.0.16 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: MigrationsAssembly=App.DAL 
2025-10-03 23:46:00.295 +07:00 [DBG] Compiling query expression: 
'DbSet<Role>()
    .FirstOrDefault(r => r.NormalizedName == __normalizedName_0)'
2025-10-03 23:46:00.502 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Role>(
    asyncEnumerable: new SingleQueryingEnumerable<Role>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Role.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Role.ConcurrencyStamp (string), 1], [Property: Role.IsAdmin (bool) Required, 2], [Property: Role.Name (string), 3], [Property: Role.NormalizedName (string), 4] }
            SELECT TOP(1) r.Id, r.ConcurrencyStamp, r.IsAdmin, r.Name, r.NormalizedName
            FROM roles AS r
            WHERE r.NormalizedName == @__normalizedName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Role>, 
        App.DAL.Context.MyDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-10-03 23:46:00.543 +07:00 [DBG] Creating DbConnection.
2025-10-03 23:46:00.573 +07:00 [DBG] Created DbConnection. (28ms).
2025-10-03 23:46:00.577 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 23:46:00.794 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 23:46:00.798 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 23:46:00.804 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2025-10-03 23:46:00.813 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (16ms).
2025-10-03 23:46:00.821 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-10-03 23:46:00.919 +07:00 [INF] Executed DbCommand (98ms) [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-10-03 23:46:00.978 +07:00 [DBG] Context 'MyDbContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 23:46:01.007 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 23:46:01.014 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 89ms reading results.
2025-10-03 23:46:01.018 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 23:46:01.025 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (5ms).
2025-10-03 23:46:01.032 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 23:46:01.034 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 23:46:01.034 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 23:46:01.034 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 23:46:01.035 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 23:46:01.035 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-10-03 23:46:01.042 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-10-03 23:46:01.043 +07:00 [DBG] Context 'MyDbContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 23:46:01.044 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 23:46:01.044 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 1ms reading results.
2025-10-03 23:46:01.044 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 23:46:01.044 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 23:46:01.045 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 23:46:01.045 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 23:46:01.045 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 23:46:01.045 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 23:46:01.046 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 23:46:01.046 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-10-03 23:46:01.047 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-10-03 23:46:01.048 +07:00 [DBG] Context 'MyDbContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 23:46:01.048 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 23:46:01.048 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-10-03 23:46:01.049 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 23:46:01.050 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (1ms).
2025-10-03 23:46:01.051 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 23:46:01.051 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 23:46:01.052 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 23:46:01.052 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 23:46:01.052 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 23:46:01.052 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-10-03 23:46:01.053 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-10-03 23:46:01.054 +07:00 [DBG] Context 'MyDbContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 23:46:01.054 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 23:46:01.054 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-10-03 23:46:01.054 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 23:46:01.054 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 23:46:01.063 +07:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .SingleOrDefault(u => u.NormalizedEmail == __normalizedEmail_0)'
2025-10-03 23:46:01.073 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.ConcurrencyStamp (string), 2], [Property: User.CreatedAt (DateTime) Required, 3], [Property: User.DeletedAt (DateTime?), 4], [Property: User.Email (string), 5], [Property: User.EmailConfirmed (bool) Required, 6], [Property: User.LastModifiedAt (DateTime) Required, 7], [Property: User.LastModifiedBy (string), 8], [Property: User.LockoutEnabled (bool) Required, 9], [Property: User.LockoutEnd (DateTimeOffset?), 10], [Property: User.NormalizedEmail (string), 11], [Property: User.NormalizedUserName (string), 12], [Property: User.PasswordHash (string), 13], [Property: User.PhoneNumber (string), 14], [Property: User.PhoneNumberConfirmed (bool) Required, 15], [Property: User.SecurityStamp (string), 16], [Property: User.TwoFactorEnabled (bool) Required, 17], [Property: User.UserName (string), 18] }
            SELECT TOP(2) u.Id, u.AccessFailedCount, u.ConcurrencyStamp, u.CreatedAt, u.DeletedAt, u.Email, u.EmailConfirmed, u.LastModifiedAt, u.LastModifiedBy, u.LockoutEnabled, u.LockoutEnd, u.NormalizedEmail, u.NormalizedUserName, u.PasswordHash, u.PhoneNumber, u.PhoneNumberConfirmed, u.SecurityStamp, u.TwoFactorEnabled, u.UserName
            FROM users AS u
            WHERE u.NormalizedEmail == @__normalizedEmail_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        App.DAL.Context.MyDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-10-03 23:46:01.074 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 23:46:01.075 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 23:46:01.075 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 23:46:01.075 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 23:46:01.075 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 23:46:01.075 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-10-03 23:46:01.089 +07:00 [INF] Executed DbCommand (13ms) [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-10-03 23:46:01.126 +07:00 [DBG] Context 'MyDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 23:46:01.176 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 23:46:01.176 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 87ms reading results.
2025-10-03 23:46:01.176 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 23:46:01.176 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 23:46:01.179 +07:00 [INF] Admin user 'admin.capbot@gmail.com' already exists
2025-10-03 23:46:01.183 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 23:46:01.183 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 23:46:01.183 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 23:46:01.184 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 23:46:01.184 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 23:46:01.184 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-10-03 23:46:01.190 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-10-03 23:46:01.190 +07:00 [DBG] Context 'MyDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 23:46:01.190 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 23:46:01.191 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-10-03 23:46:01.191 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 23:46:01.191 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 23:46:01.192 +07:00 [INF] Sample moderator 'moderator@example.com' already exists
2025-10-03 23:46:01.192 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 23:46:01.192 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 23:46:01.193 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 23:46:01.193 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 23:46:01.193 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 23:46:01.193 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-10-03 23:46:01.196 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-10-03 23:46:01.197 +07:00 [DBG] Context 'MyDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 23:46:01.197 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 23:46:01.197 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 1ms reading results.
2025-10-03 23:46:01.198 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 23:46:01.198 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 23:46:01.199 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 23:46:01.199 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 23:46:01.199 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 23:46:01.200 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 23:46:01.200 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 23:46:01.200 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-10-03 23:46:01.202 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-10-03 23:46:01.203 +07:00 [DBG] Context 'MyDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 23:46:01.203 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 23:46:01.204 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 1ms reading results.
2025-10-03 23:46:01.204 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 23:46:01.204 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 23:46:01.204 +07:00 [INF] Data seeding completed successfully
2025-10-03 23:46:01.207 +07:00 [DBG] 'MyDbContext' disposed.
2025-10-03 23:46:01.210 +07:00 [DBG] Disposing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 23:46:01.211 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-10-03 23:46:01.247 +07:00 [DBG] Registered SignalR Protocol: json, implemented by Microsoft.AspNetCore.SignalR.Protocol.JsonHubProtocol.
2025-10-03 23:46:01.524 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
2025-10-03 23:46:01.671 +07:00 [DBG] Hosting starting
2025-10-03 23:46:01.684 +07:00 [DBG] Reading data from file 'C:\Users\acer\AppData\Local\ASP.NET\DataProtection-Keys\key-30a711c8-7ddc-4a0d-8c07-4439effde9db.xml'.
2025-10-03 23:46:01.688 +07:00 [DBG] Reading data from file 'C:\Users\acer\AppData\Local\ASP.NET\DataProtection-Keys\key-732ee668-a56c-4fc9-b9d2-4188dc372919.xml'.
2025-10-03 23:46:01.690 +07:00 [DBG] Reading data from file 'C:\Users\acer\AppData\Local\ASP.NET\DataProtection-Keys\key-ad0e504d-5eaf-4fbc-adde-d8f26319af02.xml'.
2025-10-03 23:46:01.701 +07:00 [DBG] Found key {30a711c8-7ddc-4a0d-8c07-4439effde9db}.
2025-10-03 23:46:01.706 +07:00 [DBG] Found key {732ee668-a56c-4fc9-b9d2-4188dc372919}.
2025-10-03 23:46:01.707 +07:00 [DBG] Found key {ad0e504d-5eaf-4fbc-adde-d8f26319af02}.
2025-10-03 23:46:01.711 +07:00 [DBG] Considering key {30a711c8-7ddc-4a0d-8c07-4439effde9db} with expiration date 2025-11-11 18:32:26Z as default key.
2025-10-03 23:46:01.715 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-10-03 23:46:01.716 +07:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-10-03 23:46:01.718 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-10-03 23:46:01.720 +07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-10-03 23:46:01.723 +07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-10-03 23:46:01.726 +07:00 [DBG] Using key {30a711c8-7ddc-4a0d-8c07-4439effde9db} as the default key.
2025-10-03 23:46:01.726 +07:00 [DBG] Key ring with default key {30a711c8-7ddc-4a0d-8c07-4439effde9db} was loaded during application startup.
2025-10-03 23:46:01.809 +07:00 [INF] Now listening on: http://localhost:5207
2025-10-03 23:46:01.809 +07:00 [DBG] Loaded hosting startup assembly CapBot.api
2025-10-03 23:46:01.809 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-10-03 23:46:01.809 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-03 23:46:01.809 +07:00 [INF] Hosting environment: Development
2025-10-03 23:46:01.809 +07:00 [INF] Content root path: C:\Users\acer\Downloads\CBAI_API\capbot.api
2025-10-03 23:46:01.811 +07:00 [DBG] Hosting started
2025-10-03 23:46:02.562 +07:00 [DBG] Connection id "0HNG2JHBASNBL" accepted.
2025-10-03 23:46:02.565 +07:00 [DBG] Connection id "0HNG2JHBASNBL" started.
2025-10-03 23:46:02.718 +07:00 [DBG] Connection id "0HNG2JHBASNBM" accepted.
2025-10-03 23:46:02.719 +07:00 [DBG] Connection id "0HNG2JHBASNBM" started.
2025-10-03 23:46:02.719 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5207/index.html - null null
2025-10-03 23:46:02.741 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-10-03 23:46:03.027 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-10-03 23:46:03.054 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-10-03 23:46:03.056 +07:00 [DBG] Connection id "0HNG2JHBASNBL" completed keep alive response.
2025-10-03 23:46:03.063 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5207/index.html - 200 null text/html;charset=utf-8 364.9523ms
2025-10-03 23:46:03.128 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5207/_framework/aspnetcore-browser-refresh.js - null null
2025-10-03 23:46:03.156 +07:00 [DBG] Connection id "0HNG2JHBASNBL" completed keep alive response.
2025-10-03 23:46:03.158 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5207/_framework/aspnetcore-browser-refresh.js - 200 13732 application/javascript; charset=utf-8 28.6732ms
2025-10-03 23:46:03.455 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5207/swagger/v1/swagger.json - null null
2025-10-03 23:46:04.440 +07:00 [DBG] Connection id "0HNG2JHBASNBL" completed keep alive response.
2025-10-03 23:46:04.440 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5207/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 985.7347ms
2025-10-03 23:46:05.496 +07:00 [DBG] Connection id "0HNG2JHBASNBL" received FIN.
2025-10-03 23:46:05.496 +07:00 [DBG] Connection id "0HNG2JHBASNBM" received FIN.
2025-10-03 23:46:05.498 +07:00 [DBG] Connection id "0HNG2JHBASNBL" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-10-03 23:46:05.498 +07:00 [DBG] Connection id "0HNG2JHBASNBM" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-10-03 23:46:05.499 +07:00 [DBG] Connection id "0HNG2JHBASNBM" disconnecting.
2025-10-03 23:46:05.499 +07:00 [DBG] Connection id "0HNG2JHBASNBL" disconnecting.
2025-10-03 23:46:05.501 +07:00 [DBG] Connection id "0HNG2JHBASNBL" stopped.
2025-10-03 23:46:05.501 +07:00 [DBG] Connection id "0HNG2JHBASNBM" stopped.
2025-10-03 23:49:08.044 +07:00 [DBG] Connection id "0HNG2JHBASNBN" accepted.
2025-10-03 23:49:08.045 +07:00 [DBG] Connection id "0HNG2JHBASNBN" started.
2025-10-03 23:49:08.048 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5207/api/reviewer-assignments - application/json;odata.metadata=minimal;odata.streaming=true 162
2025-10-03 23:49:08.051 +07:00 [DBG] POST requests are not supported
2025-10-03 23:49:08.053 +07:00 [WRN] Failed to determine the https port for redirect.
2025-10-03 23:49:08.054 +07:00 [DBG] POST requests are not supported
2025-10-03 23:49:08.056 +07:00 [DBG] The request has an origin header: 'http://localhost:5207'.
2025-10-03 23:49:08.057 +07:00 [INF] CORS policy execution successful.
2025-10-03 23:49:08.122 +07:00 [DBG] 1 candidate(s) found for the request path '/api/reviewer-assignments'
2025-10-03 23:49:08.123 +07:00 [DBG] Endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.AssignReviewer (CapBot.api)' with route pattern 'api/reviewer-assignments' is valid for the request path '/api/reviewer-assignments'
2025-10-03 23:49:08.124 +07:00 [DBG] Request matched endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.AssignReviewer (CapBot.api)'
2025-10-03 23:49:08.231 +07:00 [DBG] Successfully validated the token.
2025-10-03 23:49:08.232 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-10-03 23:49:08.239 +07:00 [DBG] Authorization was successful.
2025-10-03 23:49:08.250 +07:00 [INF] Executing endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.AssignReviewer (CapBot.api)'
2025-10-03 23:49:08.276 +07:00 [INF] Route matched with {action = "AssignReviewer", controller = "ReviewerAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AssignReviewer(App.Entities.DTOs.ReviewerAssignment.AssignReviewerDTO) on controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api).
2025-10-03 23:49:08.279 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-10-03 23:49:08.279 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-10-03 23:49:08.280 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2025-10-03 23:49:08.280 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-10-03 23:49:08.280 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-10-03 23:49:08.282 +07:00 [DBG] Executing controller factory for controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api)
2025-10-03 23:49:08.412 +07:00 [DBG] Executed controller factory for controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api)
2025-10-03 23:49:08.418 +07:00 [DBG] Attempting to bind parameter 'dto' of type 'App.Entities.DTOs.ReviewerAssignment.AssignReviewerDTO' ...
2025-10-03 23:49:08.420 +07:00 [DBG] Attempting to bind parameter 'dto' of type 'App.Entities.DTOs.ReviewerAssignment.AssignReviewerDTO' using the name '' in request data ...
2025-10-03 23:49:08.422 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.OData.Formatter.ODataInputFormatter' for content type 'application/json;odata.metadata=minimal;odata.streaming=true'.
2025-10-03 23:49:08.423 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.OData.Formatter.ODataInputFormatter' for content type 'application/json;odata.metadata=minimal;odata.streaming=true'.
2025-10-03 23:49:08.423 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.OData.Formatter.ODataInputFormatter' for content type 'application/json;odata.metadata=minimal;odata.streaming=true'.
2025-10-03 23:49:08.423 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json;odata.metadata=minimal;odata.streaming=true'.
2025-10-03 23:49:08.439 +07:00 [DBG] Connection id "0HNG2JHBASNBN", Request id "0HNG2JHBASNBN:00000001": started reading request body.
2025-10-03 23:49:08.439 +07:00 [DBG] Connection id "0HNG2JHBASNBN", Request id "0HNG2JHBASNBN:00000001": done reading request body.
2025-10-03 23:49:08.449 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'App.Entities.DTOs.ReviewerAssignment.AssignReviewerDTO'
2025-10-03 23:49:08.450 +07:00 [DBG] Done attempting to bind parameter 'dto' of type 'App.Entities.DTOs.ReviewerAssignment.AssignReviewerDTO'.
2025-10-03 23:49:08.451 +07:00 [DBG] Done attempting to bind parameter 'dto' of type 'App.Entities.DTOs.ReviewerAssignment.AssignReviewerDTO'.
2025-10-03 23:49:08.451 +07:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'App.Entities.DTOs.ReviewerAssignment.AssignReviewerDTO' ...
2025-10-03 23:49:08.460 +07:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'App.Entities.DTOs.ReviewerAssignment.AssignReviewerDTO'.
2025-10-03 23:49:08.539 +07:00 [DBG] Entity Framework Core 8.0.16 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: MigrationsAssembly=App.DAL 
2025-10-03 23:49:08.552 +07:00 [DBG] Compiling query expression: 
'DbSet<Submission>()
    .AsNoTracking()
    .Where(s => s.Id == __dto_SubmissionId_0)
    .FirstOrDefault()'
2025-10-03 23:49:08.565 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Submission>(
    asyncEnumerable: new SingleQueryingEnumerable<Submission>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Submission.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Submission.AdditionalNotes (string), 1], [Property: Submission.AiCheckDetails (string), 2], [Property: Submission.AiCheckScore (decimal?), 3], [Property: Submission.AiCheckStatus (AiCheckStatus) Required ValueGenerated.OnAdd, 4], [Property: Submission.CreatedAt (DateTime) Required, 5], [Property: Submission.CreatedBy (string), 6], [Property: Submission.DeletedAt (DateTime?), 7], [Property: Submission.DocumentUrl (string) MaxLength(500), 8], [Property: Submission.IsActive (bool) Required, 9], [Property: Submission.LastModifiedAt (DateTime?), 10], [Property: Submission.LastModifiedBy (string), 11], [Property: Submission.PhaseId (int) Required FK Index, 12], [Property: Submission.Status (SubmissionStatus) Required Index ValueGenerated.OnAdd, 13], [Property: Submission.SubmissionRound (int) Required Index ValueGenerated.OnAdd, 14], [Property: Submission.SubmittedAt (DateTime?) Index ValueGenerated.OnAdd, 15], [Property: Submission.SubmittedBy (int) Required FK Index, 16], [Property: Submission.TopicId (int) Required FK Index, 17], [Property: Submission.TopicVersionId (int?) FK Index, 18] }
            SELECT TOP(1) s.Id, s.AdditionalNotes, s.AiCheckDetails, s.AiCheckScore, s.AiCheckStatus, s.CreatedAt, s.CreatedBy, s.DeletedAt, s.DocumentUrl, s.IsActive, s.LastModifiedAt, s.LastModifiedBy, s.PhaseId, s.Status, s.SubmissionRound, s.SubmittedAt, s.SubmittedBy, s.TopicId, s.TopicVersionId
            FROM submissions AS s
            WHERE s.Id == @__dto_SubmissionId_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Submission>, 
        App.DAL.Context.MyDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-10-03 23:49:08.569 +07:00 [DBG] Creating DbConnection.
2025-10-03 23:49:08.570 +07:00 [DBG] Created DbConnection. (1ms).
2025-10-03 23:49:08.570 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 23:49:08.571 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 23:49:08.571 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 23:49:08.571 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 23:49:08.571 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 23:49:08.572 +07:00 [DBG] Executing DbCommand [Parameters=[@__dto_SubmissionId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId]
FROM [submissions] AS [s]
WHERE [s].[Id] = @__dto_SubmissionId_0
2025-10-03 23:49:08.576 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__dto_SubmissionId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId]
FROM [submissions] AS [s]
WHERE [s].[Id] = @__dto_SubmissionId_0
2025-10-03 23:49:08.577 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 23:49:08.578 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 1ms reading results.
2025-10-03 23:49:08.578 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 23:49:08.578 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 23:49:08.580 +07:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .AsNoTracking()
    .Include(u => u.UserRoles)
    .Where(u => u.Id == __dto_ReviewerId_0)
    .FirstOrDefault()'
2025-10-03 23:49:08.591 +07:00 [DBG] Including navigation: 'User.UserRoles'.
2025-10-03 23:49:08.671 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.ConcurrencyStamp (string), 2], [Property: User.CreatedAt (DateTime) Required, 3], [Property: User.DeletedAt (DateTime?), 4], [Property: User.Email (string), 5], [Property: User.EmailConfirmed (bool) Required, 6], [Property: User.LastModifiedAt (DateTime) Required, 7], [Property: User.LastModifiedBy (string), 8], [Property: User.LockoutEnabled (bool) Required, 9], [Property: User.LockoutEnd (DateTimeOffset?), 10], [Property: User.NormalizedEmail (string), 11], [Property: User.NormalizedUserName (string), 12], [Property: User.PasswordHash (string), 13], [Property: User.PhoneNumber (string), 14], [Property: User.PhoneNumberConfirmed (bool) Required, 15], [Property: User.SecurityStamp (string), 16], [Property: User.TwoFactorEnabled (bool) Required, 17], [Property: User.UserName (string), 18] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: UserRole.UserId (int) Required PK FK AfterSave:Throw, 19], [Property: UserRole.RoleId (int) Required PK FK Index AfterSave:Throw, 20] }
                3 -> 19
                4 -> 20
            SELECT t.Id, t.AccessFailedCount, t.ConcurrencyStamp, t.CreatedAt, t.DeletedAt, t.Email, t.EmailConfirmed, t.LastModifiedAt, t.LastModifiedBy, t.LockoutEnabled, t.LockoutEnd, t.NormalizedEmail, t.NormalizedUserName, t.PasswordHash, t.PhoneNumber, t.PhoneNumberConfirmed, t.SecurityStamp, t.TwoFactorEnabled, t.UserName, u0.UserId, u0.RoleId
            FROM 
            (
                SELECT TOP(1) u.Id, u.AccessFailedCount, u.ConcurrencyStamp, u.CreatedAt, u.DeletedAt, u.Email, u.EmailConfirmed, u.LastModifiedAt, u.LastModifiedBy, u.LockoutEnabled, u.LockoutEnd, u.NormalizedEmail, u.NormalizedUserName, u.PasswordHash, u.PhoneNumber, u.PhoneNumberConfirmed, u.SecurityStamp, u.TwoFactorEnabled, u.UserName
                FROM users AS u
                WHERE u.Id == @__dto_ReviewerId_0
            ) AS t
            LEFT JOIN user_roles AS u0 ON t.Id == u0.UserId
            ORDER BY t.Id ASC, u0.UserId ASC), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        App.DAL.Context.MyDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-10-03 23:49:08.673 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 23:49:08.673 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 23:49:08.673 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 23:49:08.674 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 23:49:08.674 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 23:49:08.674 +07:00 [DBG] Executing DbCommand [Parameters=[@__dto_ReviewerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[AccessFailedCount], [t].[ConcurrencyStamp], [t].[CreatedAt], [t].[DeletedAt], [t].[Email], [t].[EmailConfirmed], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[LockoutEnabled], [t].[LockoutEnd], [t].[NormalizedEmail], [t].[NormalizedUserName], [t].[PasswordHash], [t].[PhoneNumber], [t].[PhoneNumberConfirmed], [t].[SecurityStamp], [t].[TwoFactorEnabled], [t].[UserName], [u0].[UserId], [u0].[RoleId]
FROM (
    SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
    FROM [users] AS [u]
    WHERE [u].[Id] = @__dto_ReviewerId_0
) AS [t]
LEFT JOIN [user_roles] AS [u0] ON [t].[Id] = [u0].[UserId]
ORDER BY [t].[Id], [u0].[UserId]
2025-10-03 23:49:08.684 +07:00 [INF] Executed DbCommand (10ms) [Parameters=[@__dto_ReviewerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[AccessFailedCount], [t].[ConcurrencyStamp], [t].[CreatedAt], [t].[DeletedAt], [t].[Email], [t].[EmailConfirmed], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[LockoutEnabled], [t].[LockoutEnd], [t].[NormalizedEmail], [t].[NormalizedUserName], [t].[PasswordHash], [t].[PhoneNumber], [t].[PhoneNumberConfirmed], [t].[SecurityStamp], [t].[TwoFactorEnabled], [t].[UserName], [u0].[UserId], [u0].[RoleId]
FROM (
    SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
    FROM [users] AS [u]
    WHERE [u].[Id] = @__dto_ReviewerId_0
) AS [t]
LEFT JOIN [user_roles] AS [u0] ON [t].[Id] = [u0].[UserId]
ORDER BY [t].[Id], [u0].[UserId]
2025-10-03 23:49:08.691 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 23:49:08.691 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 6ms reading results.
2025-10-03 23:49:08.691 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 23:49:08.692 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 23:49:08.696 +07:00 [DBG] Compiling query expression: 
'DbSet<UserRole>()
    .AsNoTracking()
    .Include(ur => ur.Role)
    .Where(ur => ur.UserId == __dto_ReviewerId_0)'
2025-10-03 23:49:08.701 +07:00 [DBG] Including navigation: 'UserRole.Role'.
2025-10-03 23:49:08.712 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<UserRole>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: UserRole.UserId (int) Required PK FK AfterSave:Throw, 0], [Property: UserRole.RoleId (int) Required PK FK Index AfterSave:Throw, 1] }
            1 -> Dictionary<IProperty, int> { [Property: Role.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 2], [Property: Role.ConcurrencyStamp (string), 3], [Property: Role.IsAdmin (bool) Required, 4], [Property: Role.Name (string), 5], [Property: Role.NormalizedName (string), 6] }
        SELECT u.UserId, u.RoleId, r.Id, r.ConcurrencyStamp, r.IsAdmin, r.Name, r.NormalizedName
        FROM user_roles AS u
        INNER JOIN roles AS r ON u.RoleId == r.Id
        WHERE u.UserId == @__dto_ReviewerId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, UserRole>, 
    App.DAL.Context.MyDbContext, 
    False, 
    False, 
    True
)'
2025-10-03 23:49:08.714 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 23:49:08.714 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 23:49:08.714 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 23:49:08.714 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 23:49:08.714 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 23:49:08.715 +07:00 [DBG] Executing DbCommand [Parameters=[@__dto_ReviewerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[RoleId], [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [user_roles] AS [u]
INNER JOIN [roles] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE [u].[UserId] = @__dto_ReviewerId_0
2025-10-03 23:49:08.723 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[@__dto_ReviewerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[RoleId], [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [user_roles] AS [u]
INNER JOIN [roles] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE [u].[UserId] = @__dto_ReviewerId_0
2025-10-03 23:49:08.724 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 23:49:08.724 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 1ms reading results.
2025-10-03 23:49:08.724 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 23:49:08.725 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 23:49:08.727 +07:00 [DBG] Compiling query expression: 
'DbSet<ReviewerAssignment>()
    .AsNoTracking()
    .Where(ra => ra.SubmissionId == __dto_SubmissionId_0 && ra.ReviewerId == __dto_ReviewerId_1)
    .FirstOrDefault()'
2025-10-03 23:49:08.732 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<ReviewerAssignment>(
    asyncEnumerable: new SingleQueryingEnumerable<ReviewerAssignment>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ReviewerAssignment.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ReviewerAssignment.AssignedAt (DateTime) Required ValueGenerated.OnAdd, 1], [Property: ReviewerAssignment.AssignedBy (int) Required FK Index, 2], [Property: ReviewerAssignment.AssignmentType (AssignmentTypes) Required ValueGenerated.OnAdd, 3], [Property: ReviewerAssignment.CompletedAt (DateTime?), 4], [Property: ReviewerAssignment.Deadline (DateTime?) Index, 5], [Property: ReviewerAssignment.ReviewerId (int) Required FK Index, 6], [Property: ReviewerAssignment.SkillMatchScore (decimal?), 7], [Property: ReviewerAssignment.StartedAt (DateTime?), 8], [Property: ReviewerAssignment.Status (AssignmentStatus) Required Index ValueGenerated.OnAdd, 9], [Property: ReviewerAssignment.SubmissionId (int) Required FK Index, 10] }
            SELECT TOP(1) r.Id, r.AssignedAt, r.AssignedBy, r.AssignmentType, r.CompletedAt, r.Deadline, r.ReviewerId, r.SkillMatchScore, r.StartedAt, r.Status, r.SubmissionId
            FROM reviewer_assignments AS r
            WHERE (r.SubmissionId == @__dto_SubmissionId_0) && (r.ReviewerId == @__dto_ReviewerId_1)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ReviewerAssignment>, 
        App.DAL.Context.MyDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-10-03 23:49:08.737 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 23:49:08.738 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 23:49:08.738 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 23:49:08.738 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 23:49:08.738 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 23:49:08.738 +07:00 [DBG] Executing DbCommand [Parameters=[@__dto_SubmissionId_0='?' (DbType = Int32), @__dto_ReviewerId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId]
FROM [reviewer_assignments] AS [r]
WHERE [r].[SubmissionId] = @__dto_SubmissionId_0 AND [r].[ReviewerId] = @__dto_ReviewerId_1
2025-10-03 23:49:08.741 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__dto_SubmissionId_0='?' (DbType = Int32), @__dto_ReviewerId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId]
FROM [reviewer_assignments] AS [r]
WHERE [r].[SubmissionId] = @__dto_SubmissionId_0 AND [r].[ReviewerId] = @__dto_ReviewerId_1
2025-10-03 23:49:08.741 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 23:49:08.741 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-10-03 23:49:08.742 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 23:49:08.742 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 23:49:08.743 +07:00 [DBG] Compiling query expression: 
'DbSet<ReviewerAssignment>()
    .AsNoTracking()
    .Where(ra => ra.SubmissionId == __dto_SubmissionId_0)'
2025-10-03 23:49:08.747 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<ReviewerAssignment>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ReviewerAssignment.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ReviewerAssignment.AssignedAt (DateTime) Required ValueGenerated.OnAdd, 1], [Property: ReviewerAssignment.AssignedBy (int) Required FK Index, 2], [Property: ReviewerAssignment.AssignmentType (AssignmentTypes) Required ValueGenerated.OnAdd, 3], [Property: ReviewerAssignment.CompletedAt (DateTime?), 4], [Property: ReviewerAssignment.Deadline (DateTime?) Index, 5], [Property: ReviewerAssignment.ReviewerId (int) Required FK Index, 6], [Property: ReviewerAssignment.SkillMatchScore (decimal?), 7], [Property: ReviewerAssignment.StartedAt (DateTime?), 8], [Property: ReviewerAssignment.Status (AssignmentStatus) Required Index ValueGenerated.OnAdd, 9], [Property: ReviewerAssignment.SubmissionId (int) Required FK Index, 10] }
        SELECT r.Id, r.AssignedAt, r.AssignedBy, r.AssignmentType, r.CompletedAt, r.Deadline, r.ReviewerId, r.SkillMatchScore, r.StartedAt, r.Status, r.SubmissionId
        FROM reviewer_assignments AS r
        WHERE r.SubmissionId == @__dto_SubmissionId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ReviewerAssignment>, 
    App.DAL.Context.MyDbContext, 
    False, 
    False, 
    True
)'
2025-10-03 23:49:08.747 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 23:49:08.747 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 23:49:08.748 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 23:49:08.748 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 23:49:08.748 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 23:49:08.748 +07:00 [DBG] Executing DbCommand [Parameters=[@__dto_SubmissionId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId]
FROM [reviewer_assignments] AS [r]
WHERE [r].[SubmissionId] = @__dto_SubmissionId_0
2025-10-03 23:49:08.752 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__dto_SubmissionId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId]
FROM [reviewer_assignments] AS [r]
WHERE [r].[SubmissionId] = @__dto_SubmissionId_0
2025-10-03 23:49:08.753 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 23:49:08.753 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-10-03 23:49:08.754 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 23:49:08.754 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 23:49:08.756 +07:00 [DBG] Compiling query expression: 
'DbSet<ReviewerAssignment>()
    .AsNoTracking()
    .Where(ra => ra.ReviewerId == __dto_ReviewerId_0 && (int)ra.Status == 1 || (int)ra.Status == 2)'
2025-10-03 23:49:08.767 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<ReviewerAssignment>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ReviewerAssignment.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ReviewerAssignment.AssignedAt (DateTime) Required ValueGenerated.OnAdd, 1], [Property: ReviewerAssignment.AssignedBy (int) Required FK Index, 2], [Property: ReviewerAssignment.AssignmentType (AssignmentTypes) Required ValueGenerated.OnAdd, 3], [Property: ReviewerAssignment.CompletedAt (DateTime?), 4], [Property: ReviewerAssignment.Deadline (DateTime?) Index, 5], [Property: ReviewerAssignment.ReviewerId (int) Required FK Index, 6], [Property: ReviewerAssignment.SkillMatchScore (decimal?), 7], [Property: ReviewerAssignment.StartedAt (DateTime?), 8], [Property: ReviewerAssignment.Status (AssignmentStatus) Required Index ValueGenerated.OnAdd, 9], [Property: ReviewerAssignment.SubmissionId (int) Required FK Index, 10] }
        SELECT r.Id, r.AssignedAt, r.AssignedBy, r.AssignmentType, r.CompletedAt, r.Deadline, r.ReviewerId, r.SkillMatchScore, r.StartedAt, r.Status, r.SubmissionId
        FROM reviewer_assignments AS r
        WHERE (r.ReviewerId == @__dto_ReviewerId_0) && r.Status IN (1, 2)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ReviewerAssignment>, 
    App.DAL.Context.MyDbContext, 
    False, 
    False, 
    True
)'
2025-10-03 23:49:08.773 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 23:49:08.773 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 23:49:08.773 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 23:49:08.773 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 23:49:08.773 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 23:49:08.774 +07:00 [DBG] Executing DbCommand [Parameters=[@__dto_ReviewerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId]
FROM [reviewer_assignments] AS [r]
WHERE [r].[ReviewerId] = @__dto_ReviewerId_0 AND [r].[Status] IN (1, 2)
2025-10-03 23:49:08.777 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__dto_ReviewerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId]
FROM [reviewer_assignments] AS [r]
WHERE [r].[ReviewerId] = @__dto_ReviewerId_0 AND [r].[Status] IN (1, 2)
2025-10-03 23:49:08.777 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 23:49:08.777 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-10-03 23:49:08.777 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 23:49:08.777 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 23:49:08.807 +07:00 [DBG] 'MyDbContext' generated a temporary value for the property 'ReviewerAssignment.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 23:49:08.846 +07:00 [DBG] Context 'MyDbContext' started tracking 'ReviewerAssignment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 23:49:08.851 +07:00 [DBG] SaveChanges starting for 'MyDbContext'.
2025-10-03 23:49:08.855 +07:00 [DBG] DetectChanges starting for 'MyDbContext'.
2025-10-03 23:49:08.875 +07:00 [DBG] DetectChanges completed for 'MyDbContext'.
2025-10-03 23:49:08.948 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 23:49:08.948 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 23:49:08.951 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 23:49:08.952 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 23:49:08.953 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-10-03 23:49:08.954 +07:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (DbType = Int32), @p6='?' (Precision = 3) (Scale = 2) (DbType = Decimal), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [reviewer_assignments] ([AssignedAt], [AssignedBy], [AssignmentType], [CompletedAt], [Deadline], [ReviewerId], [SkillMatchScore], [StartedAt], [Status], [SubmissionId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2025-10-03 23:49:08.973 +07:00 [INF] Executed DbCommand (20ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (DbType = Int32), @p6='?' (Precision = 3) (Scale = 2) (DbType = Decimal), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [reviewer_assignments] ([AssignedAt], [AssignedBy], [AssignmentType], [CompletedAt], [Deadline], [ReviewerId], [SkillMatchScore], [StartedAt], [Status], [SubmissionId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2025-10-03 23:49:08.984 +07:00 [DBG] The foreign key property 'ReviewerAssignment.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-10-03 23:49:08.991 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 23:49:08.991 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 17ms reading results.
2025-10-03 23:49:08.992 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 23:49:08.992 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 23:49:09.005 +07:00 [DBG] An entity of type 'ReviewerAssignment' tracked by 'MyDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 23:49:09.008 +07:00 [DBG] SaveChanges completed for 'MyDbContext' with 1 entities written to the database.
2025-10-03 23:49:09.009 +07:00 [DBG] Compiling query expression: 
'DbSet<ReviewerAssignment>()
    .AsNoTracking()
    .Include(ra => ra.Reviewer)
    .Include(ra => ra.AssignedByUser)
    .Include(ra => ra.Submission)
    .Include(ra => ra.Submission.Topic)
    .Include(ra => ra.Submission.TopicVersion)
    .Include(ra => ra.Submission.TopicVersion.Topic)
    .Where(ra => ra.Id == __assignment_Id_0)
    .FirstOrDefault()'
2025-10-03 23:49:09.010 +07:00 [DBG] Including navigation: 'ReviewerAssignment.Reviewer'.
2025-10-03 23:49:09.011 +07:00 [DBG] Including navigation: 'ReviewerAssignment.AssignedByUser'.
2025-10-03 23:49:09.012 +07:00 [DBG] Including navigation: 'ReviewerAssignment.Submission'.
2025-10-03 23:49:09.013 +07:00 [DBG] Including navigation: 'Submission.Topic'.
2025-10-03 23:49:09.015 +07:00 [DBG] Including navigation: 'Submission.TopicVersion'.
2025-10-03 23:49:09.017 +07:00 [DBG] Including navigation: 'TopicVersion.Topic'.
2025-10-03 23:49:09.058 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<ReviewerAssignment>(
    asyncEnumerable: new SingleQueryingEnumerable<ReviewerAssignment>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: ReviewerAssignment.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ReviewerAssignment.AssignedAt (DateTime) Required ValueGenerated.OnAdd, 1], [Property: ReviewerAssignment.AssignedBy (int) Required FK Index, 2], [Property: ReviewerAssignment.AssignmentType (AssignmentTypes) Required ValueGenerated.OnAdd, 3], [Property: ReviewerAssignment.CompletedAt (DateTime?), 4], [Property: ReviewerAssignment.Deadline (DateTime?) Index, 5], [Property: ReviewerAssignment.ReviewerId (int) Required FK Index, 6], [Property: ReviewerAssignment.SkillMatchScore (decimal?), 7], [Property: ReviewerAssignment.StartedAt (DateTime?), 8], [Property: ReviewerAssignment.Status (AssignmentStatus) Required Index ValueGenerated.OnAdd, 9], [Property: ReviewerAssignment.SubmissionId (int) Required FK Index, 10] }
                1 -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 11], [Property: User.AccessFailedCount (int) Required, 12], [Property: User.ConcurrencyStamp (string), 13], [Property: User.CreatedAt (DateTime) Required, 14], [Property: User.DeletedAt (DateTime?), 15], [Property: User.Email (string), 16], [Property: User.EmailConfirmed (bool) Required, 17], [Property: User.LastModifiedAt (DateTime) Required, 18], [Property: User.LastModifiedBy (string), 19], [Property: User.LockoutEnabled (bool) Required, 20], [Property: User.LockoutEnd (DateTimeOffset?), 21], [Property: User.NormalizedEmail (string), 22], [Property: User.NormalizedUserName (string), 23], [Property: User.PasswordHash (string), 24], [Property: User.PhoneNumber (string), 25], [Property: User.PhoneNumberConfirmed (bool) Required, 26], [Property: User.SecurityStamp (string), 27], [Property: User.TwoFactorEnabled (bool) Required, 28], [Property: User.UserName (string), 29] }
                2 -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 30], [Property: User.AccessFailedCount (int) Required, 31], [Property: User.ConcurrencyStamp (string), 32], [Property: User.CreatedAt (DateTime) Required, 33], [Property: User.DeletedAt (DateTime?), 34], [Property: User.Email (string), 35], [Property: User.EmailConfirmed (bool) Required, 36], [Property: User.LastModifiedAt (DateTime) Required, 37], [Property: User.LastModifiedBy (string), 38], [Property: User.LockoutEnabled (bool) Required, 39], [Property: User.LockoutEnd (DateTimeOffset?), 40], [Property: User.NormalizedEmail (string), 41], [Property: User.NormalizedUserName (string), 42], [Property: User.PasswordHash (string), 43], [Property: User.PhoneNumber (string), 44], [Property: User.PhoneNumberConfirmed (bool) Required, 45], [Property: User.SecurityStamp (string), 46], [Property: User.TwoFactorEnabled (bool) Required, 47], [Property: User.UserName (string), 48] }
                3 -> Dictionary<IProperty, int> { [Property: Submission.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 49], [Property: Submission.AdditionalNotes (string), 50], [Property: Submission.AiCheckDetails (string), 51], [Property: Submission.AiCheckScore (decimal?), 52], [Property: Submission.AiCheckStatus (AiCheckStatus) Required ValueGenerated.OnAdd, 53], [Property: Submission.CreatedAt (DateTime) Required, 54], [Property: Submission.CreatedBy (string), 55], [Property: Submission.DeletedAt (DateTime?), 56], [Property: Submission.DocumentUrl (string) MaxLength(500), 57], [Property: Submission.IsActive (bool) Required, 58], [Property: Submission.LastModifiedAt (DateTime?), 59], [Property: Submission.LastModifiedBy (string), 60], [Property: Submission.PhaseId (int) Required FK Index, 61], [Property: Submission.Status (SubmissionStatus) Required Index ValueGenerated.OnAdd, 62], [Property: Submission.SubmissionRound (int) Required Index ValueGenerated.OnAdd, 63], [Property: Submission.SubmittedAt (DateTime?) Index ValueGenerated.OnAdd, 64], [Property: Submission.SubmittedBy (int) Required FK Index, 65], [Property: Submission.TopicId (int) Required FK Index, 66], [Property: Submission.TopicVersionId (int?) FK Index, 67] }
                4 -> Dictionary<IProperty, int> { [Property: Topic.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 68], [Property: Topic.Abbreviation (string), 69], [Property: Topic.CategoryId (int?) FK Index, 70], [Property: Topic.Content (string), 71], [Property: Topic.Context (string), 72], [Property: Topic.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 73], [Property: Topic.CreatedBy (string), 74], [Property: Topic.DeletedAt (DateTime?), 75], [Property: Topic.Description (string), 76], [Property: Topic.EN_Title (string) Required MaxLength(500), 77], [Property: Topic.IsActive (bool) Required, 78], [Property: Topic.IsApproved (bool) Required Index Sentinel:True ValueGenerated.OnAdd, 79], [Property: Topic.IsLegacy (bool) Required Index ValueGenerated.OnAdd, 80], [Property: Topic.LastModifiedAt (DateTime?), 81], [Property: Topic.LastModifiedBy (string), 82], [Property: Topic.MaxStudents (int) Required ValueGenerated.OnAdd, 83], [Property: Topic.Objectives (string), 84], [Property: Topic.PotentialDuplicate (string), 85], [Property: Topic.Problem (string), 86], [Property: Topic.SemesterId (int) Required FK Index, 87], [Property: Topic.SupervisorId (int) Required FK Index, 88], [Property: Topic.VN_title (string), 89] }
                5 -> Dictionary<IProperty, int> { [Property: TopicVersion.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 90], [Property: TopicVersion.Content (string), 91], [Property: TopicVersion.Context (string), 92], [Property: TopicVersion.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 93], [Property: TopicVersion.CreatedBy (string), 94], [Property: TopicVersion.DeletedAt (DateTime?), 95], [Property: TopicVersion.Description (string), 96], [Property: TopicVersion.DocumentUrl (string) MaxLength(500), 97], [Property: TopicVersion.EN_Title (string) Required MaxLength(500), 98], [Property: TopicVersion.ExpectedOutcomes (string), 99], [Property: TopicVersion.IsActive (bool) Required, 100], [Property: TopicVersion.LastModifiedAt (DateTime?), 101], [Property: TopicVersion.LastModifiedBy (string), 102], [Property: TopicVersion.Methodology (string), 103], [Property: TopicVersion.Objectives (string), 104], [Property: TopicVersion.PotentialDuplicate (string), 105], [Property: TopicVersion.Problem (string), 106], [Property: TopicVersion.Requirements (string), 107], [Property: TopicVersion.Status (TopicStatus) Required Index ValueGenerated.OnAdd, 108], [Property: TopicVersion.SubmittedAt (DateTime?), 109], [Property: TopicVersion.SubmittedBy (int?) FK Index, 110], [Property: TopicVersion.TopicId (int) Required FK Index, 111], [Property: TopicVersion.VN_title (string), 112], [Property: TopicVersion.VersionNumber (int) Required Index, 113] }
                6 -> Dictionary<IProperty, int> { [Property: Topic.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 114], [Property: Topic.Abbreviation (string), 115], [Property: Topic.CategoryId (int?) FK Index, 116], [Property: Topic.Content (string), 117], [Property: Topic.Context (string), 118], [Property: Topic.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 119], [Property: Topic.CreatedBy (string), 120], [Property: Topic.DeletedAt (DateTime?), 121], [Property: Topic.Description (string), 122], [Property: Topic.EN_Title (string) Required MaxLength(500), 123], [Property: Topic.IsActive (bool) Required, 124], [Property: Topic.IsApproved (bool) Required Index Sentinel:True ValueGenerated.OnAdd, 125], [Property: Topic.IsLegacy (bool) Required Index ValueGenerated.OnAdd, 126], [Property: Topic.LastModifiedAt (DateTime?), 127], [Property: Topic.LastModifiedBy (string), 128], [Property: Topic.MaxStudents (int) Required ValueGenerated.OnAdd, 129], [Property: Topic.Objectives (string), 130], [Property: Topic.PotentialDuplicate (string), 131], [Property: Topic.Problem (string), 132], [Property: Topic.SemesterId (int) Required FK Index, 133], [Property: Topic.SupervisorId (int) Required FK Index, 134], [Property: Topic.VN_title (string), 135] }
            SELECT TOP(1) r.Id, r.AssignedAt, r.AssignedBy, r.AssignmentType, r.CompletedAt, r.Deadline, r.ReviewerId, r.SkillMatchScore, r.StartedAt, r.Status, r.SubmissionId, u.Id, u.AccessFailedCount, u.ConcurrencyStamp, u.CreatedAt, u.DeletedAt, u.Email, u.EmailConfirmed, u.LastModifiedAt, u.LastModifiedBy, u.LockoutEnabled, u.LockoutEnd, u.NormalizedEmail, u.NormalizedUserName, u.PasswordHash, u.PhoneNumber, u.PhoneNumberConfirmed, u.SecurityStamp, u.TwoFactorEnabled, u.UserName, u0.Id, u0.AccessFailedCount, u0.ConcurrencyStamp, u0.CreatedAt, u0.DeletedAt, u0.Email, u0.EmailConfirmed, u0.LastModifiedAt, u0.LastModifiedBy, u0.LockoutEnabled, u0.LockoutEnd, u0.NormalizedEmail, u0.NormalizedUserName, u0.PasswordHash, u0.PhoneNumber, u0.PhoneNumberConfirmed, u0.SecurityStamp, u0.TwoFactorEnabled, u0.UserName, s.Id, s.AdditionalNotes, s.AiCheckDetails, s.AiCheckScore, s.AiCheckStatus, s.CreatedAt, s.CreatedBy, s.DeletedAt, s.DocumentUrl, s.IsActive, s.LastModifiedAt, s.LastModifiedBy, s.PhaseId, s.Status, s.SubmissionRound, s.SubmittedAt, s.SubmittedBy, s.TopicId, s.TopicVersionId, t.Id, t.Abbreviation, t.CategoryId, t.Content, t.Context, t.CreatedAt, t.CreatedBy, t.DeletedAt, t.Description, t.EN_Title, t.IsActive, t.IsApproved, t.IsLegacy, t.LastModifiedAt, t.LastModifiedBy, t.MaxStudents, t.Objectives, t.PotentialDuplicate, t.Problem, t.SemesterId, t.SupervisorId, t.VN_title, t0.Id, t0.Content, t0.Context, t0.CreatedAt, t0.CreatedBy, t0.DeletedAt, t0.Description, t0.DocumentUrl, t0.EN_Title, t0.ExpectedOutcomes, t0.IsActive, t0.LastModifiedAt, t0.LastModifiedBy, t0.Methodology, t0.Objectives, t0.PotentialDuplicate, t0.Problem, t0.Requirements, t0.Status, t0.SubmittedAt, t0.SubmittedBy, t0.TopicId, t0.VN_title, t0.VersionNumber, t1.Id, t1.Abbreviation, t1.CategoryId, t1.Content, t1.Context, t1.CreatedAt, t1.CreatedBy, t1.DeletedAt, t1.Description, t1.EN_Title, t1.IsActive, t1.IsApproved, t1.IsLegacy, t1.LastModifiedAt, t1.LastModifiedBy, t1.MaxStudents, t1.Objectives, t1.PotentialDuplicate, t1.Problem, t1.SemesterId, t1.SupervisorId, t1.VN_title
            FROM reviewer_assignments AS r
            INNER JOIN users AS u ON r.ReviewerId == u.Id
            INNER JOIN users AS u0 ON r.AssignedBy == u0.Id
            INNER JOIN submissions AS s ON r.SubmissionId == s.Id
            LEFT JOIN topics AS t ON s.TopicId == t.Id
            LEFT JOIN topic_versions AS t0 ON s.TopicVersionId == t0.Id
            LEFT JOIN topics AS t1 ON t0.TopicId == t1.Id
            WHERE r.Id == @__assignment_Id_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ReviewerAssignment>, 
        App.DAL.Context.MyDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-10-03 23:49:09.062 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 23:49:09.062 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 23:49:09.063 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 23:49:09.063 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 23:49:09.063 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 23:49:09.063 +07:00 [DBG] Executing DbCommand [Parameters=[@__assignment_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [u0].[Id], [u0].[AccessFailedCount], [u0].[ConcurrencyStamp], [u0].[CreatedAt], [u0].[DeletedAt], [u0].[Email], [u0].[EmailConfirmed], [u0].[LastModifiedAt], [u0].[LastModifiedBy], [u0].[LockoutEnabled], [u0].[LockoutEnd], [u0].[NormalizedEmail], [u0].[NormalizedUserName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[PhoneNumberConfirmed], [u0].[SecurityStamp], [u0].[TwoFactorEnabled], [u0].[UserName], [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Abbreviation], [t].[CategoryId], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[EN_Title], [t].[IsActive], [t].[IsApproved], [t].[IsLegacy], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[MaxStudents], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[SemesterId], [t].[SupervisorId], [t].[VN_title], [t0].[Id], [t0].[Content], [t0].[Context], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[DocumentUrl], [t0].[EN_Title], [t0].[ExpectedOutcomes], [t0].[IsActive], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[Methodology], [t0].[Objectives], [t0].[PotentialDuplicate], [t0].[Problem], [t0].[Requirements], [t0].[Status], [t0].[SubmittedAt], [t0].[SubmittedBy], [t0].[TopicId], [t0].[VN_title], [t0].[VersionNumber], [t1].[Id], [t1].[Abbreviation], [t1].[CategoryId], [t1].[Content], [t1].[Context], [t1].[CreatedAt], [t1].[CreatedBy], [t1].[DeletedAt], [t1].[Description], [t1].[EN_Title], [t1].[IsActive], [t1].[IsApproved], [t1].[IsLegacy], [t1].[LastModifiedAt], [t1].[LastModifiedBy], [t1].[MaxStudents], [t1].[Objectives], [t1].[PotentialDuplicate], [t1].[Problem], [t1].[SemesterId], [t1].[SupervisorId], [t1].[VN_title]
FROM [reviewer_assignments] AS [r]
INNER JOIN [users] AS [u] ON [r].[ReviewerId] = [u].[Id]
INNER JOIN [users] AS [u0] ON [r].[AssignedBy] = [u0].[Id]
INNER JOIN [submissions] AS [s] ON [r].[SubmissionId] = [s].[Id]
LEFT JOIN [topics] AS [t] ON [s].[TopicId] = [t].[Id]
LEFT JOIN [topic_versions] AS [t0] ON [s].[TopicVersionId] = [t0].[Id]
LEFT JOIN [topics] AS [t1] ON [t0].[TopicId] = [t1].[Id]
WHERE [r].[Id] = @__assignment_Id_0
2025-10-03 23:49:09.091 +07:00 [INF] Executed DbCommand (28ms) [Parameters=[@__assignment_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [u0].[Id], [u0].[AccessFailedCount], [u0].[ConcurrencyStamp], [u0].[CreatedAt], [u0].[DeletedAt], [u0].[Email], [u0].[EmailConfirmed], [u0].[LastModifiedAt], [u0].[LastModifiedBy], [u0].[LockoutEnabled], [u0].[LockoutEnd], [u0].[NormalizedEmail], [u0].[NormalizedUserName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[PhoneNumberConfirmed], [u0].[SecurityStamp], [u0].[TwoFactorEnabled], [u0].[UserName], [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Abbreviation], [t].[CategoryId], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[EN_Title], [t].[IsActive], [t].[IsApproved], [t].[IsLegacy], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[MaxStudents], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[SemesterId], [t].[SupervisorId], [t].[VN_title], [t0].[Id], [t0].[Content], [t0].[Context], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[DocumentUrl], [t0].[EN_Title], [t0].[ExpectedOutcomes], [t0].[IsActive], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[Methodology], [t0].[Objectives], [t0].[PotentialDuplicate], [t0].[Problem], [t0].[Requirements], [t0].[Status], [t0].[SubmittedAt], [t0].[SubmittedBy], [t0].[TopicId], [t0].[VN_title], [t0].[VersionNumber], [t1].[Id], [t1].[Abbreviation], [t1].[CategoryId], [t1].[Content], [t1].[Context], [t1].[CreatedAt], [t1].[CreatedBy], [t1].[DeletedAt], [t1].[Description], [t1].[EN_Title], [t1].[IsActive], [t1].[IsApproved], [t1].[IsLegacy], [t1].[LastModifiedAt], [t1].[LastModifiedBy], [t1].[MaxStudents], [t1].[Objectives], [t1].[PotentialDuplicate], [t1].[Problem], [t1].[SemesterId], [t1].[SupervisorId], [t1].[VN_title]
FROM [reviewer_assignments] AS [r]
INNER JOIN [users] AS [u] ON [r].[ReviewerId] = [u].[Id]
INNER JOIN [users] AS [u0] ON [r].[AssignedBy] = [u0].[Id]
INNER JOIN [submissions] AS [s] ON [r].[SubmissionId] = [s].[Id]
LEFT JOIN [topics] AS [t] ON [s].[TopicId] = [t].[Id]
LEFT JOIN [topic_versions] AS [t0] ON [s].[TopicVersionId] = [t0].[Id]
LEFT JOIN [topics] AS [t1] ON [t0].[TopicId] = [t1].[Id]
WHERE [r].[Id] = @__assignment_Id_0
2025-10-03 23:49:09.094 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 23:49:09.094 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 2ms reading results.
2025-10-03 23:49:09.094 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 23:49:09.094 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 23:49:09.129 +07:00 [DBG] 'MyDbContext' generated a temporary value for the property 'SystemNotification.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 23:49:09.149 +07:00 [DBG] Context 'MyDbContext' started tracking 'SystemNotification' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 23:49:09.152 +07:00 [DBG] SaveChanges starting for 'MyDbContext'.
2025-10-03 23:49:09.153 +07:00 [DBG] DetectChanges starting for 'MyDbContext'.
2025-10-03 23:49:09.165 +07:00 [DBG] DetectChanges completed for 'MyDbContext'.
2025-10-03 23:49:09.170 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 23:49:09.170 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 23:49:09.171 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 23:49:09.171 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 23:49:09.172 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-10-03 23:49:09.172 +07:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (Size = 50), @p5='?' (Size = 255), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [system_notifications] ([CreatedAt], [Message], [ReadAt], [RelatedEntityId], [RelatedEntityType], [Title], [Type], [UserId])
OUTPUT INSERTED.[Id], INSERTED.[IsRead]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-10-03 23:49:09.185 +07:00 [INF] Executed DbCommand (12ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (Size = 50), @p5='?' (Size = 255), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [system_notifications] ([CreatedAt], [Message], [ReadAt], [RelatedEntityId], [RelatedEntityType], [Title], [Type], [UserId])
OUTPUT INSERTED.[Id], INSERTED.[IsRead]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-10-03 23:49:09.187 +07:00 [DBG] The foreign key property 'SystemNotification.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-10-03 23:49:09.189 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 23:49:09.189 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 3ms reading results.
2025-10-03 23:49:09.190 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 23:49:09.190 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 23:49:09.193 +07:00 [DBG] An entity of type 'SystemNotification' tracked by 'MyDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 23:49:09.193 +07:00 [DBG] SaveChanges completed for 'MyDbContext' with 1 entities written to the database.
2025-10-03 23:49:09.196 +07:00 [DBG] Compiling query expression: 
'DbSet<SystemNotification>()
    .AsNoTracking()
    .Where(x => x.UserId == __entity_UserId_0 && !(x.IsRead))
    .Count()'
2025-10-03 23:49:09.222 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<int>(
    asyncEnumerable: new SingleQueryingEnumerable<int>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM system_notifications AS s
            WHERE (s.UserId == @__entity_UserId_0) && Not(s.IsRead)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, int>, 
        App.DAL.Context.MyDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-10-03 23:49:09.228 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 23:49:09.228 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 23:49:09.228 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 23:49:09.228 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 23:49:09.229 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 23:49:09.229 +07:00 [DBG] Executing DbCommand [Parameters=[@__entity_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [system_notifications] AS [s]
WHERE [s].[UserId] = @__entity_UserId_0 AND [s].[IsRead] = CAST(0 AS bit)
2025-10-03 23:49:09.236 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@__entity_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [system_notifications] AS [s]
WHERE [s].[UserId] = @__entity_UserId_0 AND [s].[IsRead] = CAST(0 AS bit)
2025-10-03 23:49:09.238 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 23:49:09.238 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 2ms reading results.
2025-10-03 23:49:09.239 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 23:49:09.239 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 23:49:12.516 +07:00 [DBG] Compiling query expression: 
'DbSet<ReviewerPerformance>()
    .AsNoTracking()
    .Where(rp => rp.ReviewerId == __8__locals1_createdAssignment_ReviewerId_0 && rp.SemesterId == __semesterId_1)
    .FirstOrDefault()'
2025-10-03 23:49:12.521 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<ReviewerPerformance>(
    asyncEnumerable: new SingleQueryingEnumerable<ReviewerPerformance>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ReviewerPerformance.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ReviewerPerformance.AverageScoreGiven (decimal?), 1], [Property: ReviewerPerformance.AverageTimeMinutes (int) Required ValueGenerated.OnAdd, 2], [Property: ReviewerPerformance.CompletedAssignments (int) Required ValueGenerated.OnAdd, 3], [Property: ReviewerPerformance.LastUpdated (DateTime) Required ValueGenerated.OnAdd, 4], [Property: ReviewerPerformance.OnTimeRate (decimal?), 5], [Property: ReviewerPerformance.QualityRating (decimal?), 6], [Property: ReviewerPerformance.ReviewerId (int) Required FK Index, 7], [Property: ReviewerPerformance.SemesterId (int) Required FK Index, 8], [Property: ReviewerPerformance.TotalAssignments (int) Required ValueGenerated.OnAdd, 9] }
            SELECT TOP(1) r.Id, r.AverageScoreGiven, r.AverageTimeMinutes, r.CompletedAssignments, r.LastUpdated, r.OnTimeRate, r.QualityRating, r.ReviewerId, r.SemesterId, r.TotalAssignments
            FROM reviewer_performance AS r
            WHERE (r.ReviewerId == @__8__locals1_createdAssignment_ReviewerId_0) && (r.SemesterId == @__semesterId_1)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ReviewerPerformance>, 
        App.DAL.Context.MyDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-10-03 23:49:12.522 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 23:49:12.523 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 23:49:12.523 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 23:49:12.523 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 23:49:12.523 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 23:49:12.523 +07:00 [DBG] Executing DbCommand [Parameters=[@__8__locals1_createdAssignment_ReviewerId_0='?' (DbType = Int32), @__semesterId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[AverageScoreGiven], [r].[AverageTimeMinutes], [r].[CompletedAssignments], [r].[LastUpdated], [r].[OnTimeRate], [r].[QualityRating], [r].[ReviewerId], [r].[SemesterId], [r].[TotalAssignments]
FROM [reviewer_performance] AS [r]
WHERE [r].[ReviewerId] = @__8__locals1_createdAssignment_ReviewerId_0 AND [r].[SemesterId] = @__semesterId_1
2025-10-03 23:49:12.531 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[@__8__locals1_createdAssignment_ReviewerId_0='?' (DbType = Int32), @__semesterId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[AverageScoreGiven], [r].[AverageTimeMinutes], [r].[CompletedAssignments], [r].[LastUpdated], [r].[OnTimeRate], [r].[QualityRating], [r].[ReviewerId], [r].[SemesterId], [r].[TotalAssignments]
FROM [reviewer_performance] AS [r]
WHERE [r].[ReviewerId] = @__8__locals1_createdAssignment_ReviewerId_0 AND [r].[SemesterId] = @__semesterId_1
2025-10-03 23:49:12.533 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 23:49:12.533 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 1ms reading results.
2025-10-03 23:49:12.534 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 23:49:12.534 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 23:49:12.551 +07:00 [DBG] Compiling query expression: 
'DbSet<ReviewerPerformance>()
    .FirstOrDefault(e => EF.Property<int>(e, "Id") == __p_0)'
2025-10-03 23:49:12.556 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<ReviewerPerformance>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ReviewerPerformance.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ReviewerPerformance.AverageScoreGiven (decimal?), 1], [Property: ReviewerPerformance.AverageTimeMinutes (int) Required ValueGenerated.OnAdd, 2], [Property: ReviewerPerformance.CompletedAssignments (int) Required ValueGenerated.OnAdd, 3], [Property: ReviewerPerformance.LastUpdated (DateTime) Required ValueGenerated.OnAdd, 4], [Property: ReviewerPerformance.OnTimeRate (decimal?), 5], [Property: ReviewerPerformance.QualityRating (decimal?), 6], [Property: ReviewerPerformance.ReviewerId (int) Required FK Index, 7], [Property: ReviewerPerformance.SemesterId (int) Required FK Index, 8], [Property: ReviewerPerformance.TotalAssignments (int) Required ValueGenerated.OnAdd, 9] }
        SELECT TOP(1) r.Id, r.AverageScoreGiven, r.AverageTimeMinutes, r.CompletedAssignments, r.LastUpdated, r.OnTimeRate, r.QualityRating, r.ReviewerId, r.SemesterId, r.TotalAssignments
        FROM reviewer_performance AS r
        WHERE r.Id == @__p_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ReviewerPerformance>, 
    App.DAL.Context.MyDbContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2025-10-03 23:49:12.561 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 23:49:12.562 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 23:49:12.562 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 23:49:12.562 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 23:49:12.563 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 23:49:12.564 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[AverageScoreGiven], [r].[AverageTimeMinutes], [r].[CompletedAssignments], [r].[LastUpdated], [r].[OnTimeRate], [r].[QualityRating], [r].[ReviewerId], [r].[SemesterId], [r].[TotalAssignments]
FROM [reviewer_performance] AS [r]
WHERE [r].[Id] = @__p_0
2025-10-03 23:49:12.569 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[AverageScoreGiven], [r].[AverageTimeMinutes], [r].[CompletedAssignments], [r].[LastUpdated], [r].[OnTimeRate], [r].[QualityRating], [r].[ReviewerId], [r].[SemesterId], [r].[TotalAssignments]
FROM [reviewer_performance] AS [r]
WHERE [r].[Id] = @__p_0
2025-10-03 23:49:12.572 +07:00 [DBG] Context 'MyDbContext' started tracking 'ReviewerPerformance' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 23:49:12.591 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 23:49:12.591 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 21ms reading results.
2025-10-03 23:49:12.592 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 23:49:12.593 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 23:49:12.606 +07:00 [DBG] An entity of type 'ReviewerPerformance' tracked by 'MyDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 23:49:12.607 +07:00 [DBG] SaveChanges starting for 'MyDbContext'.
2025-10-03 23:49:12.607 +07:00 [DBG] DetectChanges starting for 'MyDbContext'.
2025-10-03 23:49:12.608 +07:00 [DBG] DetectChanges completed for 'MyDbContext'.
2025-10-03 23:49:12.611 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 23:49:12.611 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 23:49:12.611 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 23:49:12.611 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 23:49:12.611 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 23:49:12.612 +07:00 [DBG] Executing DbCommand [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [reviewer_performance] SET [LastUpdated] = @p0, [TotalAssignments] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2025-10-03 23:49:12.618 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [reviewer_performance] SET [LastUpdated] = @p0, [TotalAssignments] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2025-10-03 23:49:12.620 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 23:49:12.620 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 1ms reading results.
2025-10-03 23:49:12.620 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 23:49:12.620 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 23:49:12.622 +07:00 [DBG] An entity of type 'ReviewerPerformance' tracked by 'MyDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 23:49:12.622 +07:00 [DBG] SaveChanges completed for 'MyDbContext' with 1 entities written to the database.
2025-10-03 23:49:12.625 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-10-03 23:49:12.627 +07:00 [DBG] No information found on request to perform content negotiation.
2025-10-03 23:49:12.627 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-10-03 23:49:12.627 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-10-03 23:49:12.629 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-10-03 23:49:12.630 +07:00 [INF] Executing ObjectResult, writing value of type 'FS.Commons.FSResponse'.
2025-10-03 23:49:12.722 +07:00 [INF] Executed action CapBot.api.Controllers.ReviewerAssignmentController.AssignReviewer (CapBot.api) in 4439.0801ms
2025-10-03 23:49:12.722 +07:00 [INF] Executed endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.AssignReviewer (CapBot.api)'
2025-10-03 23:49:12.725 +07:00 [DBG] Connection id "0HNG2JHBASNBN" completed keep alive response.
2025-10-03 23:49:12.725 +07:00 [DBG] 'MyDbContext' disposed.
2025-10-03 23:49:12.725 +07:00 [DBG] Disposing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 23:49:12.726 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-10-03 23:49:12.727 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5207/api/reviewer-assignments - 201 null application/json; charset=utf-8 4679.0903ms
2025-10-03 23:49:35.824 +07:00 [DBG] Connection id "0HNG2JHBASNBN" received FIN.
2025-10-03 23:49:35.825 +07:00 [DBG] Connection id "0HNG2JHBASNBN" disconnecting.
2025-10-03 23:49:35.825 +07:00 [DBG] Connection id "0HNG2JHBASNBN" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-10-03 23:49:35.825 +07:00 [DBG] Connection id "0HNG2JHBASNBN" stopped.
2025-10-03 23:51:22.708 +07:00 [INF] Application is shutting down...
2025-10-03 23:51:22.709 +07:00 [DBG] Hosting stopping
2025-10-03 23:51:22.719 +07:00 [ERR] Lỗi khi kiểm tra deadline notifications
System.Threading.Tasks.TaskCanceledException: A task was canceled.
   at CapBot.api.Services.DeadlineNotificationService.ExecuteAsync(CancellationToken stoppingToken) in C:\Users\acer\Downloads\CBAI_API\capbot.api\Services\DeadlineNotificationService.cs:line 41
2025-10-03 23:51:22.991 +07:00 [DBG] Hosting stopped
2025-10-03 23:58:48.492 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-10-03 23:58:48.708 +07:00 [INF] User profile is available. Using 'C:\Users\acer\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-10-03 23:58:49.180 +07:00 [DBG] No relationship from 'ReviewerAssignment' to 'User' has been configured by convention because there are multiple properties on one entity type - {'AssignedByUser', 'Reviewer'} that could be matched with the properties on the other entity type - {'ReviewerAssignments'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-10-03 23:58:49.221 +07:00 [DBG] No relationship from 'SubmissionWorkflowLog' to 'WorkflowState' has been configured by convention because there are multiple properties on one entity type - {'FromState', 'ToState'} that could be matched with the properties on the other entity type - {'FromStateLogs', 'ToStateLogs'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-10-03 23:58:49.252 +07:00 [DBG] No relationship from 'User' to 'ReviewerAssignment' has been configured by convention because there are multiple properties on one entity type - {'ReviewerAssignments'} that could be matched with the properties on the other entity type - {'AssignedByUser', 'Reviewer'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-10-03 23:58:49.254 +07:00 [DBG] No relationship from 'WorkflowState' to 'SubmissionWorkflowLog' has been configured by convention because there are multiple properties on one entity type - {'FromStateLogs', 'ToStateLogs'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-10-03 23:58:49.255 +07:00 [DBG] No relationship from 'WorkflowState' to 'WorkflowTransition' has been configured by convention because there are multiple properties on one entity type - {'FromTransitions', 'ToTransitions'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-10-03 23:58:49.258 +07:00 [DBG] No relationship from 'WorkflowTransition' to 'WorkflowState' has been configured by convention because there are multiple properties on one entity type - {'FromState', 'ToState'} that could be matched with the properties on the other entity type - {'FromTransitions', 'ToTransitions'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-10-03 23:58:49.685 +07:00 [DBG] No relationship from 'ReviewerAssignment' to 'User' has been configured by convention because there are multiple properties on one entity type - {'AssignedByUser', 'Reviewer'} that could be matched with the properties on the other entity type - {'ReviewerAssignments'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-10-03 23:58:49.686 +07:00 [DBG] No relationship from 'User' to 'ReviewerAssignment' has been configured by convention because there are multiple properties on one entity type - {'ReviewerAssignments'} that could be matched with the properties on the other entity type - {'AssignedByUser', 'Reviewer'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-10-03 23:58:49.725 +07:00 [DBG] No relationship from 'WorkflowTransition' to 'WorkflowState' has been configured by convention because there are multiple properties on one entity type - {'FromState', 'ToState'} that could be matched with the properties on the other entity type - {'FromTransitions', 'ToTransitions'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-10-03 23:58:49.726 +07:00 [DBG] No relationship from 'WorkflowState' to 'SubmissionWorkflowLog' has been configured by convention because there are multiple properties on one entity type - {'FromStateLogs', 'ToStateLogs'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-10-03 23:58:49.726 +07:00 [DBG] No relationship from 'WorkflowState' to 'WorkflowTransition' has been configured by convention because there are multiple properties on one entity type - {'FromTransitions', 'ToTransitions'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-10-03 23:58:49.728 +07:00 [DBG] No relationship from 'WorkflowState' to 'SubmissionWorkflowLog' has been configured by convention because there are multiple properties on one entity type - {'FromStateLogs', 'ToStateLogs'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-10-03 23:58:49.737 +07:00 [DBG] No relationship from 'SubmissionWorkflowLog' to 'WorkflowState' has been configured by convention because there are multiple properties on one entity type - {'FromState', 'ToState'} that could be matched with the properties on the other entity type - {'FromStateLogs', 'ToStateLogs'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-10-03 23:58:49.738 +07:00 [DBG] No relationship from 'WorkflowState' to 'SubmissionWorkflowLog' has been configured by convention because there are multiple properties on one entity type - {'FromStateLogs', 'ToStateLogs'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-10-03 23:58:49.815 +07:00 [DBG] The index {'LecturerId'} was not created on entity type 'LecturerSkill' as the properties are already covered by the index {'LecturerId', 'SkillTag'}.
2025-10-03 23:58:49.816 +07:00 [DBG] The index {'SemesterId'} was not created on entity type 'Phase' as the properties are already covered by the index {'SemesterId', 'PhaseTypeId'}.
2025-10-03 23:58:49.816 +07:00 [DBG] The index {'AssignmentId'} was not created on entity type 'Review' as the properties are already covered by the index {'AssignmentId', 'Status'}.
2025-10-03 23:58:49.816 +07:00 [DBG] The index {'ReviewId'} was not created on entity type 'ReviewComment' as the properties are already covered by the index {'ReviewId', 'SectionName'}.
2025-10-03 23:58:49.816 +07:00 [DBG] The index {'ReviewId'} was not created on entity type 'ReviewCriteriaScore' as the properties are already covered by the index {'ReviewId', 'CriteriaId'}.
2025-10-03 23:58:49.816 +07:00 [DBG] The index {'ReviewerId'} was not created on entity type 'ReviewerAssignment' as the properties are already covered by the index {'ReviewerId', 'Status'}.
2025-10-03 23:58:49.817 +07:00 [DBG] The index {'SubmissionId'} was not created on entity type 'ReviewerAssignment' as the properties are already covered by the index {'SubmissionId', 'ReviewerId'}.
2025-10-03 23:58:49.817 +07:00 [DBG] The index {'ReviewerId'} was not created on entity type 'ReviewerPerformance' as the properties are already covered by the index {'ReviewerId', 'SemesterId'}.
2025-10-03 23:58:49.817 +07:00 [DBG] The index {'PhaseId'} was not created on entity type 'Submission' as the properties are already covered by the index {'PhaseId', 'Status'}.
2025-10-03 23:58:49.817 +07:00 [DBG] The index {'PhaseId'} was not created on entity type 'Submission' as the properties are already covered by the index {'PhaseId', 'Status', 'SubmittedAt'}.
2025-10-03 23:58:49.817 +07:00 [DBG] The index {'TopicId'} was not created on entity type 'Submission' as the properties are already covered by the index {'TopicId', 'PhaseId', 'SubmissionRound'}.
2025-10-03 23:58:49.817 +07:00 [DBG] The index {'SubmissionId'} was not created on entity type 'SubmissionWorkflowLog' as the properties are already covered by the index {'SubmissionId', 'CreatedAt'}.
2025-10-03 23:58:49.818 +07:00 [DBG] The index {'UserId'} was not created on entity type 'SystemNotification' as the properties are already covered by the index {'UserId', 'IsRead', 'CreatedAt'}.
2025-10-03 23:58:49.818 +07:00 [DBG] The index {'SemesterId'} was not created on entity type 'Topic' as the properties are already covered by the index {'SemesterId', 'IsApproved'}.
2025-10-03 23:58:49.818 +07:00 [DBG] The index {'SupervisorId'} was not created on entity type 'Topic' as the properties are already covered by the index {'SupervisorId', 'SemesterId'}.
2025-10-03 23:58:49.818 +07:00 [DBG] The index {'TopicId'} was not created on entity type 'TopicVersion' as the properties are already covered by the index {'TopicId', 'Status'}.
2025-10-03 23:58:49.818 +07:00 [DBG] The index {'TopicId'} was not created on entity type 'TopicVersion' as the properties are already covered by the index {'TopicId', 'VersionNumber'}.
2025-10-03 23:58:49.819 +07:00 [DBG] The index {'UserId'} was not created on entity type 'UserRole' as the properties are already covered by the index {'UserId', 'RoleId'}.
2025-10-03 23:58:49.819 +07:00 [DBG] The index {'UserId'} was not created on entity type 'UserToken' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2025-10-03 23:58:50.104 +07:00 [WRN] The 'ProficiencyLevels' property 'ProficiencyLevel' on entity type 'LecturerSkill' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'ProficiencyLevels' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-10-03 23:58:50.104 +07:00 [WRN] The 'ReviewRecommendations' property 'Recommendation' on entity type 'Review' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'ReviewRecommendations' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-10-03 23:58:50.105 +07:00 [WRN] The 'ReviewStatus' property 'Status' on entity type 'Review' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'ReviewStatus' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-10-03 23:58:50.105 +07:00 [WRN] The 'CommentTypes' property 'CommentType' on entity type 'ReviewComment' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'CommentTypes' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-10-03 23:58:50.105 +07:00 [WRN] The 'PriorityLevels' property 'Priority' on entity type 'ReviewComment' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'PriorityLevels' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-10-03 23:58:50.106 +07:00 [WRN] The 'AssignmentTypes' property 'AssignmentType' on entity type 'ReviewerAssignment' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'AssignmentTypes' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-10-03 23:58:50.106 +07:00 [WRN] The 'AssignmentStatus' property 'Status' on entity type 'ReviewerAssignment' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'AssignmentStatus' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-10-03 23:58:50.106 +07:00 [WRN] The 'AiCheckStatus' property 'AiCheckStatus' on entity type 'Submission' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'AiCheckStatus' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-10-03 23:58:50.106 +07:00 [WRN] The 'SubmissionStatus' property 'Status' on entity type 'Submission' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'SubmissionStatus' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-10-03 23:58:50.107 +07:00 [WRN] The 'NotificationTypes' property 'Type' on entity type 'SystemNotification' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'NotificationTypes' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-10-03 23:58:50.107 +07:00 [WRN] The 'TopicStatus' property 'Status' on entity type 'TopicVersion' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'TopicStatus' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-10-03 23:58:50.403 +07:00 [DBG] Entity Framework Core 8.0.16 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: MigrationsAssembly=App.DAL 
2025-10-03 23:58:50.538 +07:00 [DBG] Compiling query expression: 
'DbSet<Role>()
    .FirstOrDefault(r => r.NormalizedName == __normalizedName_0)'
2025-10-03 23:58:50.793 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Role>(
    asyncEnumerable: new SingleQueryingEnumerable<Role>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Role.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Role.ConcurrencyStamp (string), 1], [Property: Role.IsAdmin (bool) Required, 2], [Property: Role.Name (string), 3], [Property: Role.NormalizedName (string), 4] }
            SELECT TOP(1) r.Id, r.ConcurrencyStamp, r.IsAdmin, r.Name, r.NormalizedName
            FROM roles AS r
            WHERE r.NormalizedName == @__normalizedName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Role>, 
        App.DAL.Context.MyDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-10-03 23:58:50.856 +07:00 [DBG] Creating DbConnection.
2025-10-03 23:58:50.887 +07:00 [DBG] Created DbConnection. (28ms).
2025-10-03 23:58:50.893 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 23:58:51.140 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 23:58:51.144 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 23:58:51.155 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (7ms).
2025-10-03 23:58:51.166 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (23ms).
2025-10-03 23:58:51.175 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-10-03 23:58:51.257 +07:00 [INF] Executed DbCommand (81ms) [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-10-03 23:58:51.309 +07:00 [DBG] Context 'MyDbContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 23:58:51.339 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 23:58:51.348 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 83ms reading results.
2025-10-03 23:58:51.350 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 23:58:51.355 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (4ms).
2025-10-03 23:58:51.359 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 23:58:51.360 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 23:58:51.360 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 23:58:51.360 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 23:58:51.361 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 23:58:51.361 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-10-03 23:58:51.368 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-10-03 23:58:51.369 +07:00 [DBG] Context 'MyDbContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 23:58:51.369 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 23:58:51.369 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-10-03 23:58:51.370 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 23:58:51.370 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 23:58:51.370 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 23:58:51.370 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 23:58:51.370 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 23:58:51.370 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 23:58:51.370 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 23:58:51.371 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-10-03 23:58:51.371 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-10-03 23:58:51.372 +07:00 [DBG] Context 'MyDbContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 23:58:51.372 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 23:58:51.372 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-10-03 23:58:51.372 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 23:58:51.372 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 23:58:51.373 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 23:58:51.373 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 23:58:51.373 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 23:58:51.373 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 23:58:51.373 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 23:58:51.373 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-10-03 23:58:51.374 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-10-03 23:58:51.374 +07:00 [DBG] Context 'MyDbContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 23:58:51.375 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 23:58:51.375 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-10-03 23:58:51.375 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 23:58:51.375 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 23:58:51.387 +07:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .SingleOrDefault(u => u.NormalizedEmail == __normalizedEmail_0)'
2025-10-03 23:58:51.399 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.ConcurrencyStamp (string), 2], [Property: User.CreatedAt (DateTime) Required, 3], [Property: User.DeletedAt (DateTime?), 4], [Property: User.Email (string), 5], [Property: User.EmailConfirmed (bool) Required, 6], [Property: User.LastModifiedAt (DateTime) Required, 7], [Property: User.LastModifiedBy (string), 8], [Property: User.LockoutEnabled (bool) Required, 9], [Property: User.LockoutEnd (DateTimeOffset?), 10], [Property: User.NormalizedEmail (string), 11], [Property: User.NormalizedUserName (string), 12], [Property: User.PasswordHash (string), 13], [Property: User.PhoneNumber (string), 14], [Property: User.PhoneNumberConfirmed (bool) Required, 15], [Property: User.SecurityStamp (string), 16], [Property: User.TwoFactorEnabled (bool) Required, 17], [Property: User.UserName (string), 18] }
            SELECT TOP(2) u.Id, u.AccessFailedCount, u.ConcurrencyStamp, u.CreatedAt, u.DeletedAt, u.Email, u.EmailConfirmed, u.LastModifiedAt, u.LastModifiedBy, u.LockoutEnabled, u.LockoutEnd, u.NormalizedEmail, u.NormalizedUserName, u.PasswordHash, u.PhoneNumber, u.PhoneNumberConfirmed, u.SecurityStamp, u.TwoFactorEnabled, u.UserName
            FROM users AS u
            WHERE u.NormalizedEmail == @__normalizedEmail_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        App.DAL.Context.MyDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-10-03 23:58:51.401 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 23:58:51.401 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 23:58:51.401 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 23:58:51.401 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 23:58:51.401 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 23:58:51.401 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-10-03 23:58:51.412 +07:00 [INF] Executed DbCommand (10ms) [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-10-03 23:58:51.448 +07:00 [DBG] Context 'MyDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 23:58:51.489 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 23:58:51.489 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 76ms reading results.
2025-10-03 23:58:51.489 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 23:58:51.490 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 23:58:51.493 +07:00 [INF] Admin user 'admin.capbot@gmail.com' already exists
2025-10-03 23:58:51.500 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 23:58:51.500 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 23:58:51.500 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 23:58:51.500 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 23:58:51.500 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 23:58:51.501 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-10-03 23:58:51.504 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-10-03 23:58:51.504 +07:00 [DBG] Context 'MyDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 23:58:51.504 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 23:58:51.504 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-10-03 23:58:51.504 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 23:58:51.505 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 23:58:51.505 +07:00 [INF] Sample moderator 'moderator@example.com' already exists
2025-10-03 23:58:51.505 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 23:58:51.506 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 23:58:51.506 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 23:58:51.506 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 23:58:51.506 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 23:58:51.506 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-10-03 23:58:51.509 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-10-03 23:58:51.509 +07:00 [DBG] Context 'MyDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 23:58:51.509 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 23:58:51.509 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-10-03 23:58:51.510 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 23:58:51.510 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 23:58:51.511 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-10-03 23:58:51.511 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-10-03 23:58:51.511 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-03 23:58:51.512 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-03 23:58:51.512 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-10-03 23:58:51.512 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-10-03 23:58:51.515 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-10-03 23:58:51.516 +07:00 [DBG] Context 'MyDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-03 23:58:51.516 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-10-03 23:58:51.516 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-10-03 23:58:51.516 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 23:58:51.517 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-10-03 23:58:51.517 +07:00 [INF] Data seeding completed successfully
2025-10-03 23:58:51.520 +07:00 [DBG] 'MyDbContext' disposed.
2025-10-03 23:58:51.523 +07:00 [DBG] Disposing connection to database 'capbot_db' on server 'localhost'.
2025-10-03 23:58:51.523 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-10-03 23:58:51.558 +07:00 [DBG] Registered SignalR Protocol: json, implemented by Microsoft.AspNetCore.SignalR.Protocol.JsonHubProtocol.
2025-10-03 23:58:51.836 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
2025-10-03 23:58:51.993 +07:00 [DBG] Hosting starting
2025-10-03 23:58:52.006 +07:00 [DBG] Reading data from file 'C:\Users\acer\AppData\Local\ASP.NET\DataProtection-Keys\key-30a711c8-7ddc-4a0d-8c07-4439effde9db.xml'.
2025-10-03 23:58:52.008 +07:00 [DBG] Reading data from file 'C:\Users\acer\AppData\Local\ASP.NET\DataProtection-Keys\key-732ee668-a56c-4fc9-b9d2-4188dc372919.xml'.
2025-10-03 23:58:52.009 +07:00 [DBG] Reading data from file 'C:\Users\acer\AppData\Local\ASP.NET\DataProtection-Keys\key-ad0e504d-5eaf-4fbc-adde-d8f26319af02.xml'.
2025-10-03 23:58:52.020 +07:00 [DBG] Found key {30a711c8-7ddc-4a0d-8c07-4439effde9db}.
2025-10-03 23:58:52.024 +07:00 [DBG] Found key {732ee668-a56c-4fc9-b9d2-4188dc372919}.
2025-10-03 23:58:52.024 +07:00 [DBG] Found key {ad0e504d-5eaf-4fbc-adde-d8f26319af02}.
2025-10-03 23:58:52.034 +07:00 [DBG] Considering key {30a711c8-7ddc-4a0d-8c07-4439effde9db} with expiration date 2025-11-11 18:32:26Z as default key.
2025-10-03 23:58:52.037 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-10-03 23:58:52.037 +07:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-10-03 23:58:52.039 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-10-03 23:58:52.041 +07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-10-03 23:58:52.044 +07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-10-03 23:58:52.050 +07:00 [DBG] Using key {30a711c8-7ddc-4a0d-8c07-4439effde9db} as the default key.
2025-10-03 23:58:52.051 +07:00 [DBG] Key ring with default key {30a711c8-7ddc-4a0d-8c07-4439effde9db} was loaded during application startup.
2025-10-03 23:58:52.135 +07:00 [INF] Now listening on: http://localhost:5207
2025-10-03 23:58:52.135 +07:00 [DBG] Loaded hosting startup assembly CapBot.api
2025-10-03 23:58:52.135 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-10-03 23:58:52.135 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-03 23:58:52.135 +07:00 [INF] Hosting environment: Development
2025-10-03 23:58:52.135 +07:00 [INF] Content root path: c:\Users\acer\Downloads\CBAI_API\CapBot.api
2025-10-03 23:58:52.137 +07:00 [DBG] Hosting started
2025-10-03 23:58:52.456 +07:00 [DBG] Connection id "0HNG2JOGP5UC6" accepted.
2025-10-03 23:58:52.457 +07:00 [DBG] Connection id "0HNG2JOGP5UC6" started.
2025-10-03 23:58:52.887 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5207/index.html - null null
2025-10-03 23:58:53.056 +07:00 [DBG] Connection id "0HNG2JOGP5UC7" accepted.
2025-10-03 23:58:53.070 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-10-03 23:58:53.072 +07:00 [DBG] Connection id "0HNG2JOGP5UC7" started.
2025-10-03 23:58:53.480 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-10-03 23:58:53.516 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-10-03 23:58:53.516 +07:00 [DBG] Connection id "0HNG2JOGP5UC6" completed keep alive response.
2025-10-03 23:58:53.523 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5207/index.html - 200 null text/html;charset=utf-8 644.8954ms
2025-10-03 23:58:53.702 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5207/_framework/aspnetcore-browser-refresh.js - null null
2025-10-03 23:58:53.714 +07:00 [DBG] Connection id "0HNG2JOGP5UC6" completed keep alive response.
2025-10-03 23:58:53.717 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5207/_framework/aspnetcore-browser-refresh.js - 200 13732 application/javascript; charset=utf-8 23.3657ms
2025-10-03 23:58:53.991 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5207/swagger/v1/swagger.json - null null
2025-10-03 23:58:55.068 +07:00 [DBG] Connection id "0HNG2JOGP5UC6" completed keep alive response.
2025-10-03 23:58:55.069 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5207/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 1078.2552ms
2025-10-03 23:58:56.687 +07:00 [DBG] Connection id "0HNG2JOGP5UC7" received FIN.
2025-10-03 23:58:56.687 +07:00 [DBG] Connection id "0HNG2JOGP5UC6" received FIN.
2025-10-03 23:58:56.689 +07:00 [DBG] Connection id "0HNG2JOGP5UC7" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-10-03 23:58:56.689 +07:00 [DBG] Connection id "0HNG2JOGP5UC6" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-10-03 23:58:56.690 +07:00 [DBG] Connection id "0HNG2JOGP5UC6" disconnecting.
2025-10-03 23:58:56.690 +07:00 [DBG] Connection id "0HNG2JOGP5UC7" disconnecting.
2025-10-03 23:58:56.692 +07:00 [DBG] Connection id "0HNG2JOGP5UC6" stopped.
2025-10-03 23:58:56.692 +07:00 [DBG] Connection id "0HNG2JOGP5UC7" stopped.
